<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Django éƒ¨ç½²äºŒä¸‰äº‹</title>
    <url>/2020/12/12/django-bu-shu-er-san-shi/</url>
    <content><![CDATA[<h1 id="Django-éƒ¨ç½²è®°å½•"><a href="#Django-éƒ¨ç½²è®°å½•" class="headerlink" title="Django éƒ¨ç½²è®°å½•"></a>Django éƒ¨ç½²è®°å½•</h1><p>å¤§æ¦‚å­¦ç€å†™å®Œäº† Django ç®€å•çš„é¡¹ç›®åï¼Œè¯•ç€çœ‹çœ‹èƒ½ä¸èƒ½éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚</p>
<p>æŠ˜è…¾äº†åŠå¤©æ‰éƒ¨ç½²å¥½ã€‚</p>
<p>ç‰¹æ­¤è®°å½•ä¸€ä¸‹ã€‚</p>
<a id="more"></a>

<p>é¦–å…ˆåˆ—ä¸€ä¸‹æœ€ç»ˆè®©æˆ‘èŒ…å¡é¡¿å¼€çš„è¿™ç¯‡ <a href="https://www.zhihu.com/question/348410145/answer/857812199" target="_blank" rel="noopener">Django éƒ¨ç½²å›ç­”</a>ã€‚</p>
<p>è¿™ç¯‡å›ç­”è®²è§£äº†æœåŠ¡éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šæ—¶å¦‚ä½•å“åº”è¯·æ±‚, <code>uwsgi</code> ä¸ <code>Nginx</code> çš„å…³ç³»ä»¥åŠ <code>Nginx</code> å¦‚ä½•ç›´æ¥ä»£ç†é™æ€èµ„æºçš„è·å–åˆå¦‚ä½•æŠŠè¯·æ±‚è½¬å‘ç»™ <code>uwsgi</code> ã€‚</p>
<p>ç®€è¿°ä¸€ä¸‹æˆ‘çš„è¸©å‘è¿‡ç¨‹ã€‚</p>
<p>å› ä¸ºæˆ‘çš„åœŸè±†æœºè£…äº†å®å¡”ï¼Œæˆ‘å¯»æ€ç€ç”¨å®å¡”å›¾å½¢åŒ–éƒ¨ç½²ä¼šæ›´æ–¹ä¾¿ã€‚äºæ˜¯åœ¨å®Œå…¨ä¸æ‡‚åŸç†çš„æƒ…å†µä¸‹å¼€å§‹å­¦ç€éƒ¨ç½²ï¼Œç„¶åä¸æˆåŠŸã€‚</p>
<p>äºæ˜¯æˆ‘åˆå°è¯•æŠ›å¼ƒå›¾å½¢åŒ–ç•Œé¢ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œéƒ¨ç½²ã€‚ç»“æœå¤­æŠ˜åœ¨äº†ç¬¬ä¸€æ­¥ï¼Œä¸‹è½½ <code>uwsgi</code> â€¦â€¦</p>
<p>windows ä¸‹è½½ä¸äº†è¿™ä¸ªå°±æš‚ä¸”ä¸æäº†ã€‚åœ¨åœŸè±†æœºä¸Šç”¨ <code>anaconda</code> è£…çš„ç¯å¢ƒä¸‹è½½ä¸äº†ï¼Œé€€å‡ºè™šæ‹Ÿç¯å¢ƒåæœ¬æœºçš„ <code>python</code> åˆå¯ä»¥è£…ã€‚ç„¶åæˆ‘å°±è¿·ç³Šç€ï¼Œåˆå›åˆ°äº†å›¾å½¢åŒ–éƒ¨ç½²ã€‚</p>
<p>å½“æ—¶å°±ä¸€ç›´è¿·æƒ‘ï¼Œç”¨ <code>uwsgi</code> è¿è¡Œç¨‹åºçš„è¯ï¼Œé‚£ä¸ºä»€ä¹ˆè¦å¯åŠ¨ä¸€ä¸ªç½‘é¡µå‘¢ï¼Ÿ</p>
<p>è€Œå½“æ—¶æˆ‘å°è¯•è®¿é—® 80 ç«¯å£ï¼Œä¸€ç›´è¢«æ‹’ç»ã€‚æˆ‘å°±æŸ¥çœ‹äº†ä¸€ä¸‹æˆ‘çš„ <code>Nginx</code> ç¯å¢ƒï¼Œå‘ç°æ˜¯æˆ‘ä¹‹å‰ç»™å…³äº†ã€‚</p>
<p>å¯åŠ¨åï¼Œå°±æˆåŠŸéƒ¨ç½²äº†ã€‚</p>
<p><a href="https://www.django.cn/article/show-30.html" target="_blank" rel="noopener">å›¾å½¢åŒ–å¿«é€Ÿéƒ¨ç½²ä¼ é€é—¨</a>ã€‚</p>
<p><a href="https://blog.dyboy.cn/program/144.html" target="_blank" rel="noopener">è¡¥å……é“¾æ¥</a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘å‘ç°æˆ‘çš„å¾ˆå¤§é—®é¢˜è¿˜æ˜¯åœ¨æ²¡æœ‰ç³»ç»ŸåŒ–çš„å­¦ä¹ ä¸€äº›çŸ¥è¯†ï¼Œè€Œæ˜¯å¿™ç€è‡ªå·±åœ¨æœç´¢å¼•æ“æ‰¾ä¸€äº›ä¸é‚£ä¹ˆå®˜æ–¹çš„æ–‡ç« æ¥çœ‹ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title>Django è¸©å‘</title>
    <url>/2020/12/11/django-cai-keng/</url>
    <content><![CDATA[<h1 id="Django-è¸©å‘è®°å½•"><a href="#Django-è¸©å‘è®°å½•" class="headerlink" title="Django è¸©å‘è®°å½•"></a>Django è¸©å‘è®°å½•</h1><p>å› ä¸ºåœ¨å­¦ Python çš„å…³ç³»ï¼Œå­¦ä¹ äº†ä¸€ä¸‹ Django å¼€å‘ Webã€‚</p>
<p>Python ä¸æ„§æ˜¯ä¸€é—¨å¥”æ”¾ä¸”å¥‡ç‰¹çš„è¯­è¨€ï¼Œæ¡†æ¶ä¹Ÿè¿™ä¹ˆä¸åŒå¯»å¸¸ã€‚</p>
<a id="more"></a>

<p>Django çš„é¡¹ç›®ç›®å½•ç»“æ„å°±å¾ˆè®©æˆ‘è¿·æƒ‘ï¼Œè€Œä¸”ç›®å½•ä¸­ä¸åŒ…å«é™æ€ html ç­‰æ–‡ä»¶ï¼Œå´èƒ½å¯åŠ¨æœåŠ¡æ‰“å¼€ç½‘é¡µâ€¦â€¦</p>
<blockquote>
<p>å½“ç„¶ï¼Œåªè¦ä»”ç»†æŸ¥ä¸€ä¸‹å°±ä¼šå‘ç°è¿™äº›éƒ½æ˜¯æ¥è‡ª django åŒ…å†…ã€‚</p>
</blockquote>
<p>æ­¤å¤„è®°å½•ä¸€ä¸ªè®©æˆ‘æŠ˜è…¾äº†å¾ˆä¹…çš„å‘ã€‚</p>
<p>ä¸Šåˆè¯¾å†…æ‘¸é±¼å†™çš„æ—¶å€™ç¢°åˆ°çš„é—®é¢˜ã€‚åœ¨å†™ç™»å½•ç™»å‡ºçš„æ—¶å€™ï¼Œè‡ªå®šä¹‰çš„ logged_out.html æ— æ³•è¦†ç›–é»˜è®¤çš„ç™»å‡ºé¡µé¢ã€‚</p>
<p>è¯•äº†å¾ˆå¤šæ¬¡ï¼Œéƒ½æ˜¯è·³è½¬åˆ°äº† <code>admin</code> çš„ç™»å‡ºé¡µé¢ã€‚ä¸ç”¨æƒ³ä¹ŸçŸ¥é“ï¼Œè¿™é‡Œè‚¯å®šæ˜¯ django å†…è‡ªå¸¦çš„é¡µé¢è¢«è°ƒç”¨äº†ï¼Œè€Œæˆ‘ç¼–å†™çš„ä¸ºä»€ä¹ˆæ²¡æœ‰è¢«è°ƒç”¨å‘¢ï¼ŸæŒ‰ç†è¯´ï¼Œä¸€èˆ¬ç”¨æˆ·æ–°å»ºçš„ä¸œè¥¿ä¼˜å…ˆçº§åº”è¯¥è¦é«˜äºé»˜è®¤è‡ªå¸¦ã€‚</p>
<p>ç„¶åæˆ‘æ£€æŸ¥äº† django æºç ï¼Œæ²¡çœ‹å‡ºä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹ã€‚åªèƒ½è¯´æ— æ³•ç†è§£ï¼Œä¸ºä»€ä¹ˆè°ƒç”¨ <code>registration/logged_out.html</code> æ— æ³•è·å–åˆ°æˆ‘å†™çš„æ–‡ä»¶ã€‚<code>login.html</code> å·²ç»è¢«æ­£å¸¸è°ƒç”¨äº†ã€‚</p>
<p>äºæ˜¯åœ¨å„æœç´¢å¼•æ“æœç´¢ï¼Œç¿»æ¥è¦†å»ï¼Œæ‰¾ä¸åˆ°ã€‚</p>
<p>åœ¨ MDN çš„ django æ•™å­¦çœ‹åˆ°äº†è¿™ç§æƒ…å†µçš„æè¿°ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>äºæ˜¯æˆ‘åªèƒ½ç”¨è‹±æ–‡æœç´¢ï¼Œäºæ˜¯æˆåŠŸåœ¨ <code>stackoverflow</code> æŸ¥åˆ°äº†<a href="https://stackoverflow.com/questions/35153108/why-is-logged-out-html-not-overriding-in-django-registration" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>ã€‚</p>
<p>ä¸€åˆ‡æºè‡ªäºæˆ‘åœ¨ <code>settings.py</code> ä¸­å†™å…¥è‡ªå»ºçš„ app æ—¶ï¼Œæˆ‘å†™çš„åœ¨ django è‡ªå¸¦çš„ <code>admin</code> æ¨¡å—ä¹‹ä¸‹ï¼Œè¿™ä¸ªæ¨¡å—æ°å¥½è‡ªå¸¦äº† <code>logged_out.html</code> ã€‚</p>
<p>çœ‹å®Œä¹‹åçœŸçš„å¾ˆæ— è¯­ã€‚çœ‹äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªé—®é¢˜çš„æå‡ºæ˜¯åœ¨ 2016 å¹´ã€‚2020 å¹´äº†ï¼Œè¿™ä¸ªé—®é¢˜å±…ç„¶è¿˜åœ¨ã€‚ç²—ç•¥çš„ç¿»é˜…æ–‡æ¡£ä¹Ÿæ²¡æœ‰çœ‹åˆ°è¿™æ–¹é¢çš„ä¸œè¥¿ã€‚ğŸ‘</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title>ç°ä»£ JavaScript æ•™ç¨‹ä»»åŠ¡é¢˜è§£</title>
    <url>/2020/11/29/xian-dai-javascript-jiao-cheng-ren-wu-ti-jie/</url>
    <content><![CDATA[<h1 id="ç°ä»£-JavaScript-æ•™ç¨‹ä»»åŠ¡é¢˜è§£"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹ä»»åŠ¡é¢˜è§£" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹ä»»åŠ¡é¢˜è§£"></a>ç°ä»£ JavaScript æ•™ç¨‹ä»»åŠ¡é¢˜è§£</h1><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>é¦–å­—æ¯å¤§å†™</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>ucFirst(str)</code>ï¼Œå¹¶è¿”å›é¦–å­—æ¯å¤§å†™çš„å­—ç¬¦ä¸² <code>str</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">ucFirst</span><span class="token punctuation">(</span><span class="token string">"john"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"John"</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ucFirst</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span> str<span class="token punctuation">;</span>
  <span class="token keyword">return</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ£€æŸ¥ spam</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>checkSpam(str)</code>ï¼Œå¦‚æœ <code>str</code> åŒ…å« <code>viagra</code> æˆ– <code>XXX</code> å°±è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p>å‡½æ•°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">'buy ViAgRA now'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span>
<span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">'free xxxxx'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span>
<span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">"innocent rabbit"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">checkSpam</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'viagra'</span><span class="token punctuation">)</span> <span class="token operator">||</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'XXX'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æˆªæ–­æ–‡æœ¬</p>
<p>åˆ›å»ºå‡½æ•° <code>truncate(str, maxlength)</code> æ¥æ£€æŸ¥ <code>str</code> çš„é•¿åº¦ï¼Œå¦‚æœè¶…è¿‡ <code>maxlength</code> â€”â€” åº”ä½¿ç”¨ <code>"â€¦"</code> æ¥ä»£æ›¿ <code>str</code> çš„ç»“å°¾éƒ¨åˆ†ï¼Œé•¿åº¦ä»ç„¶ç­‰äº <code>maxlength</code>ã€‚</p>
<p>å‡½æ•°çš„ç»“æœåº”è¯¥æ˜¯æˆªæ–­åçš„æ–‡æœ¬ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token string">"What I'd like to tell on this topic is:"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"What I'd like to teâ€¦"</span>

<span class="token function">truncate</span><span class="token punctuation">(</span><span class="token string">"Hi everyone!"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"Hi everyone!"</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">truncate</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> maxlength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">></span> maxlength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> maxlength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'â€¦'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æå–è´§å¸</p>
<p>æˆ‘ä»¬æœ‰ä»¥ <code>"$120"</code> è¿™æ ·çš„æ ¼å¼è¡¨ç¤ºçš„èŠ±é”€ã€‚æ„å‘³ç€ï¼šå…ˆæ˜¯ç¾å…ƒç¬¦å·ï¼Œç„¶åæ‰æ˜¯æ•°å€¼ã€‚</p>
<p>åˆ›å»ºå‡½æ•° <code>extractCurrencyValue(str)</code> ä»å­—ç¬¦ä¸²ä¸­æå–æ•°å€¼å¹¶è¿”å›ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">extractCurrencyValue</span><span class="token punctuation">(</span><span class="token string">'$120'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">120</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extractCurrencyValue</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">+</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="ä»»åŠ¡-1"><a href="#ä»»åŠ¡-1" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>æ•°ç»„è¢«æ‹·è´äº†å—ï¼Ÿ</p>
<p>ä¸‹é¢çš„ä»£ç å°†ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Apples"</span><span class="token punctuation">,</span> <span class="token string">"Pear"</span><span class="token punctuation">,</span> <span class="token string">"Orange"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// åœ¨â€œå‰¯æœ¬â€é‡Œ push äº†ä¸€ä¸ªæ–°çš„å€¼</span>
<span class="token keyword">let</span> shoppingCart <span class="token operator">=</span> fruits<span class="token punctuation">;</span>
shoppingCart<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"Banana"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// fruits é‡Œé¢æ˜¯ä»€ä¹ˆï¼Ÿ</span>
<span class="token function">alert</span><span class="token punctuation">(</span> fruits<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>æ•°ç»„çš„èµ‹å€¼æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯ 4 ã€‚</p>
</li>
<li><p>æ•°ç»„æ“ä½œ</p>
<p>æˆ‘ä»¬è¯•è¯•ä¸‹é¢çš„ 5 ä¸ªæ•°ç»„æ“ä½œã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ•°ç»„ <code>styles</code>ï¼Œé‡Œé¢å­˜å‚¨æœ‰ â€œJazzâ€ å’Œ â€œBluesâ€ã€‚</li>
<li>å°† â€œRock-n-Rollâ€ ä»æ•°ç»„æœ«ç«¯æ·»åŠ è¿›å»ã€‚</li>
<li>ç”¨ â€œClassicsâ€ æ›¿æ¢æ‰æ•°ç»„æœ€ä¸­é—´çš„å…ƒç´ ã€‚æŸ¥æ‰¾æ•°ç»„æœ€ä¸­é—´çš„å…ƒç´ çš„ä»£ç åº”è¯¥é€‚ç”¨äºä»»ä½•å¥‡æ•°é•¿åº¦çš„æ•°ç»„ã€‚</li>
<li>å»æ‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼å¹¶æ˜¾ç¤ºå®ƒã€‚</li>
<li>åœ¨æ•°ç»„å‰é¢æ·»åŠ  <code>Rap</code> å’Œ <code>Reggae</code>ã€‚</li>
</ol>
<p>è¿‡ç¨‹ä¸­çš„æ•°ç»„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">Jazz<span class="token punctuation">,</span> Blues
Jazz<span class="token punctuation">,</span> Bues<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Jazz<span class="token punctuation">,</span> Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Rap<span class="token punctuation">,</span> Reggae<span class="token punctuation">,</span> Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Rollã€‚</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jazz'</span><span class="token punctuation">,</span> <span class="token string">'Blues'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
styles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Rock-n-Roll'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
styles<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Classics'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
styles<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'Rap'</span><span class="token punctuation">,</span> <span class="token string">'Reggae'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>åœ¨æ•°ç»„ä¸Šä¸‹æ–‡è°ƒç”¨</p>
<p>ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>æ•°ç»„å¯¹è±¡ã€‚è·å–è¯¥å‡½æ•°çš„å½¢å¼ç±»ä¼¼äºå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ï¼Œç„¶åè°ƒç”¨æ–¹æ³•ã€‚</p>
</li>
<li><p>è¾“å…¥æ•°å­—æ±‚å’Œ</p>
<p>å†™å‡ºå‡½æ•° <code>sumInput()</code>ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>prompt</code> å‘ç”¨æˆ·ç´¢è¦å€¼ï¼Œå¹¶å­˜åœ¨æ•°ç»„ä¸­ã€‚</li>
<li>å½“ç”¨æˆ·è¾“å…¥äº†éæ•°å­—ã€ç©ºå­—ç¬¦ä¸²æˆ–è€…ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’®çš„æ—¶å€™ï¼Œé—®è¯¢ç»“æŸã€‚</li>
<li>è®¡ç®—å¹¶è¿”å›æ•°ç»„æ‰€æœ‰é¡¹ä¹‹å’Œã€‚</li>
</ul>
<p>P.S. <code>0</code> æ˜¯æœ‰æ•ˆçš„æ•°å­—ï¼Œä¸è¦å› ä¸ºæ˜¯ 0 å°±åœæ­¢é—®è¯¢ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sumInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"A number please?"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// åº”è¯¥ç»“æŸäº†å—ï¼Ÿ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">""</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> number <span class="token keyword">of</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+</span><span class="token operator">=</span> number<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">sumInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æœ€å¤§å­æ•°ç»„</p>
<p>è¾“å…¥æ˜¯ä»¥æ•°å­—ç»„æˆçš„æ•°ç»„ï¼Œä¾‹å¦‚ <code>arr = [1, -2, 3, 4, -9, 6]</code>.</p>
<p>ä»»åŠ¡æ˜¯ï¼šæ‰¾å‡ºæ‰€æœ‰é¡¹çš„å’Œæœ€å¤§çš„ <code>arr</code> æ•°ç»„çš„è¿ç»­å­æ•°ç»„ã€‚</p>
<p>å†™å‡ºå‡½æ•° <code>getMaxSubSum(arr)</code>ï¼Œç”¨å…¶æ‰¾å‡ºå¹¶è¿”å›æœ€å¤§å’Œã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">5</span>ï¼ˆé«˜äº®é¡¹çš„åŠ å’Œï¼‰
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">11</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">100</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>ï¼ˆæ‰€æœ‰é¡¹çš„å’Œï¼‰</code></pre>
<p>å¦‚æœæ‰€æœ‰é¡¹éƒ½æ˜¯è´Ÿæ•°ï¼Œé‚£å°±ä¸€ä¸ªé¡¹ä¹Ÿä¸å–ï¼ˆå­æ•°ç»„æ˜¯ç©ºçš„ï¼‰ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯ 0ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre>
<p>è¯·å°è¯•æƒ³å‡ºä¸€ä¸ªå¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆï¼šå¤æ‚åº¦å¯ä»¥æ˜¯ <a href="https://en.wikipedia.org/wiki/Big_O_notation" target="_blank" rel="noopener">O(n2)</a>ï¼Œæœ‰èƒ½åŠ›è¾¾åˆ° O(n) åˆ™æ›´å¥½ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getMaxSubSum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> sum <span class="token operator">=</span> tmp<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> prev<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> prev <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">></span> result<span class="token punctuation">)</span> result <span class="token operator">=</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getMaxSubSum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tmp <span class="token operator">+</span><span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">></span> result<span class="token punctuation">)</span> result <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h2><h3 id="ä»»åŠ¡-2"><a href="#ä»»åŠ¡-2" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>å°† border-left-width è½¬æ¢æˆ borderLeftWidth</p>
<p>ç¼–å†™å‡½æ•° <code>camelize(str)</code> å°†è¯¸å¦‚ â€œmy-short-stringâ€ ä¹‹ç±»çš„ç”±çŸ­åˆ’çº¿åˆ†éš”çš„å•è¯å˜æˆéª†é©¼å¼çš„ â€œmyShortStringâ€ã€‚</p>
<p>å³ï¼šåˆ é™¤æ‰€æœ‰çŸ­æ¨ªçº¿ï¼Œå¹¶å°†çŸ­æ¨ªçº¿åçš„æ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å˜ä¸ºå¤§å†™ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"background-color"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'backgroundColor'</span><span class="token punctuation">;</span>
<span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"list-style-image"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'listStyleImage'</span><span class="token punctuation">;</span>
<span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"-webkit-transition"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'WebkitTransition'</span><span class="token punctuation">;</span></code></pre>
<p>æç¤ºï¼šä½¿ç”¨ <code>split</code> å°†å­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ï¼Œå¯¹å…¶è¿›è¡Œè½¬æ¢ä¹‹åå† <code>join</code> å›æ¥ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">camelize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¿‡æ»¤èŒƒå›´</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>filterRange(arr, a, b)</code>ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªæ•°ç»„ <code>arr</code>ï¼Œåœ¨å…¶ä¸­æŸ¥æ‰¾æ•°å€¼å¤§å°åœ¨ <code>a</code> å’Œ <code>b</code> ä¹‹é—´çš„å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ã€‚</p>
<p>è¯¥å‡½æ•°ä¸åº”è¯¥ä¿®æ”¹åŸæ•°ç»„ã€‚å®ƒåº”è¯¥è¿”å›æ–°çš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> filtered <span class="token operator">=</span> <span class="token function">filterRange</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> filtered <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3,1ï¼ˆåŒ¹é…å€¼ï¼‰</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5,3,8,1ï¼ˆæœªä¿®æ”¹ï¼‰</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">filterRange</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">&lt;=</span> b <span class="token operator">&amp;&amp;</span> item <span class="token operator">>=</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åŸä½ ( in place ) è¿‡æ»¤èŒƒå›´</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>filterRangeInPlace(arr, a, b)</code>ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªæ•°ç»„ <code>arr</code>ï¼Œå¹¶åˆ é™¤å…¶ä¸­ä»‹äº <code>a</code> å’Œ <code>b</code> åŒºé—´ä»¥å¤–çš„æ‰€æœ‰å€¼ã€‚æ£€æŸ¥ï¼š<code>a â‰¤ arr[i] â‰¤ b</code>ã€‚</p>
<p>è¯¥å‡½æ•°åº”è¯¥åªä¿®æ”¹æ•°ç»„ã€‚å®ƒä¸åº”è¯¥è¿”å›ä»»ä½•ä¸œè¥¿ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">filterRangeInPlace</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ é™¤äº†èŒƒå›´åœ¨ 1 åˆ° 4 ä¹‹å¤–çš„æ‰€æœ‰å€¼</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3, 1]</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">filterRangeInPlace</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">></span> b <span class="token operator">||</span> item <span class="token operator">&lt;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>é™åºæ’åˆ—</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// â€¦â€¦ä½ çš„ä»£ç ä»¥é™åºå¯¹å…¶è¿›è¡Œæ’åº</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8, 5, 2, 1, -10</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8, 5, 2, 1, -10</span></code></pre>
</li>
<li><p>å¤åˆ¶å’Œæ’åºæ•°ç»„</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ <code>arr</code>ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªæ’åºè¿‡çš„å‰¯æœ¬ï¼Œä½†ä¿æŒ <code>arr</code> ä¸å˜ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>copySorted(arr)</code> è¿”å›è¿™æ ·ä¸€ä¸ªå‰¯æœ¬ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"HTML"</span><span class="token punctuation">,</span> <span class="token string">"JavaScript"</span><span class="token punctuation">,</span> <span class="token string">"CSS"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> sorted <span class="token operator">=</span> <span class="token function">copySorted</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> sorted <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// CSS, HTML, JavaScript</span>
<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// HTML, JavaScript, CSS (no changes)</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">copySorted</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªå¯æ‰©å±•çš„ calculator</p>
<p>åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•° <code>Calculator</code>ï¼Œä»¥åˆ›å»ºâ€œå¯æ‰©å±•â€çš„ calculator å¯¹è±¡ã€‚</p>
<p>è¯¥ä»»åŠ¡ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚</p>
<ol>
<li><p>é¦–å…ˆï¼Œå®ç° <code>calculate(str)</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—åƒ <code>"1 + 2"</code> è¿™æ ·æ ¼å¼ä¸ºâ€œæ•°å­— è¿ç®—ç¬¦ æ•°å­—â€ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚è¯¥æ–¹æ³•éœ€è¦èƒ½å¤Ÿç†è§£åŠ å· <code>+</code> å’Œå‡å· <code>-</code>ã€‚</p>
<p>ç”¨æ³•ç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> calc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> calc<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token string">"3 + 7"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10</span></code></pre>
</li>
<li><p>ç„¶åæ·»åŠ æ–¹æ³• <code>addMethod(name, func)</code>ï¼Œè¯¥æ–¹æ³•æ•™ calculator è¿›è¡Œæ–°æ“ä½œã€‚å®ƒéœ€è¦è¿ç®—ç¬¦ <code>name</code> å’Œå®ç°å®ƒçš„åŒå‚æ•°å‡½æ•° <code>func(a,b)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ·»åŠ ä¹˜æ³• <code>*</code>ï¼Œé™¤æ³• <code>/</code> å’Œæ±‚å¹‚ <code>**</code>ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> powerCalc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"**"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">**</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> powerCalc<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token string">"2 ** 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> result <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span></code></pre>
</li>
</ol>
<ul>
<li>æ­¤ä»»åŠ¡ä¸­æ²¡æœ‰æ‹¬å·æˆ–å¤æ‚çš„è¡¨è¾¾å¼ã€‚</li>
<li>æ•°å­—å’Œè¿ç®—ç¬¦ä¹‹é—´åªæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</li>
<li>ä½ å¯ä»¥è‡ªè¡Œé€‰æ‹©æ˜¯å¦æ·»åŠ é”™è¯¯å¤„ç†åŠŸèƒ½ã€‚</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'+'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b<span class="token punctuation">,</span>
    <span class="token string">'-'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>calculate <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> op <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>method<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>addMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>method<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> func<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‚è€ƒè§£å†³æ–¹æ¡ˆ</span>
<span class="token keyword">function</span> <span class="token function">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>methods <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"-"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b<span class="token punctuation">,</span>
    <span class="token string">"+"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>calculate <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> split <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      a <span class="token operator">=</span> <span class="token operator">+</span>split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      op <span class="token operator">=</span> split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      b <span class="token operator">=</span> <span class="token operator">+</span>split<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>op<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>addMethod <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> func<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ˜ å°„åˆ° names</p>
<p>ä½ æœ‰ä¸€ä¸ª <code>user</code> å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>user.name</code>ã€‚ç¼–å†™å°†å…¶è½¬æ¢ä¸º names æ•°ç»„çš„ä»£ç ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token comment" spellcheck="true">/* ... your code */</span>

<span class="token function">alert</span><span class="token punctuation">(</span> names <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// John, Pete, Mary</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> names <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ˜ å°„åˆ°å¯¹è±¡</p>
<p>ä½ æœ‰ä¸€ä¸ª <code>user</code> å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>name</code>ï¼Œ<code>surname</code> å’Œ <code>id</code>ã€‚</p>
<p>ç¼–å†™ä»£ç ä»¥è¯¥æ•°ç»„ä¸ºåŸºç¡€ï¼Œåˆ›å»ºå¦ä¸€ä¸ªå…·æœ‰ <code>id</code> å’Œ <code>fullName</code> çš„å¯¹è±¡æ•°ç»„ï¼Œå…¶ä¸­ <code>fullName</code> ç”± <code>name</code> å’Œ <code>surname</code> ç”Ÿæˆã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Smith"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Hunt"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Key"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> usersMapped <span class="token operator">=</span> <span class="token comment" spellcheck="true">/* ... your code ... */</span>

<span class="token comment" spellcheck="true">/*
usersMapped = [
  { fullName: "John Smith", id: 1 },
  { fullName: "Pete Hunt", id: 2 },
  { fullName: "Mary Key", id: 3 }
]
*/</span>

<span class="token function">alert</span><span class="token punctuation">(</span> usersMapped<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>
<span class="token function">alert</span><span class="token punctuation">(</span> usersMapped<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fullName <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// John Smith</span></code></pre>
<p>æ‰€ä»¥ï¼Œå®é™…ä¸Šä½ éœ€è¦å°†ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ˜ å°„åˆ°å¦ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚åœ¨è¿™å„¿å°è¯•ä½¿ç”¨ç®­å¤´å‡½æ•° <code>=&gt;</code> æ¥ç¼–å†™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> usersMapped <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
  fullName<span class="token punctuation">:</span> item<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>surname
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æŒ‰å¹´é¾„å¯¹ç”¨æˆ·æ’åº</p>
<p>ç¼–å†™å‡½æ•° <code>sortByAge(users)</code> è·å¾—å¯¹è±¡æ•°ç»„çš„ <code>age</code> å±æ€§ï¼Œå¹¶æ ¹æ® <code>age</code> å¯¹è¿™äº›å¯¹è±¡æ•°ç»„è¿›è¡Œæ’åºã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> pete<span class="token punctuation">,</span> john<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">sortByAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// now: [john, mary, pete]</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// John</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Mary</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Pete</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sortByAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>éšæœºæ’åˆ—æ•°ç»„</p>
<p>ç¼–å†™å‡½æ•° <code>shuffle(array)</code> æ¥éšæœºæ’åˆ—æ•°ç»„çš„å…ƒç´ ã€‚</p>
<p>å¤šæ¬¡è¿è¡Œ <code>shuffle</code> å¯èƒ½å¯¼è‡´å…ƒç´ é¡ºåºçš„ä¸åŒã€‚ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [3, 2, 1]</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [2, 1, 3]</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [3, 1, 2]</span>
<span class="token comment" spellcheck="true">// ...</span></code></pre>
<p>æ‰€æœ‰å…ƒç´ é¡ºåºåº”è¯¥å…·æœ‰ç›¸ç­‰çš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°† <code>[1,2,3]</code> é‡æ–°æ’åºä¸º <code>[1,2,3]</code> æˆ– <code>[1,3,2]</code> æˆ– <code>[3,1,2]</code> ç­‰ï¼Œæ¯ç§æƒ…å†µçš„æ¦‚ç‡ç›¸ç­‰ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è·å–å¹³å‡å¹´é¾„</p>
<p>ç¼–å†™ <code>getAverageAge(users)</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªå…·æœ‰ <code>age</code> å±æ€§çš„å¯¹è±¡æ•°ç»„ï¼Œå¹¶è¿”å›å¹³å‡å¹´é¾„ã€‚</p>
<p>å¹³å‡å€¼çš„è®¡ç®—å…¬å¼æ˜¯ <code>(age1 + age2 + ... + ageN) / N</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">29</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getAverageAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// (25 + 30 + 29) / 3 = 28</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getAverageAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> prev <span class="token operator">+</span> item<span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ•°ç»„å»é‡</p>
<p><code>arr</code> æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>unique(arr)</code>ï¼Œè¿”å›å»é™¤é‡å¤å…ƒç´ åçš„æ•°ç»„ <code>arr</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* your code */</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span>
  <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">":-O"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">unique</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hare, Krishna, :-O</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>ä»æ•°ç»„åˆ›å»ºé”® ( å€¼ ) å¯¹è±¡</p>
<p>å‡è®¾æˆ‘ä»¬æ”¶åˆ°äº†ä¸€ä¸ªç”¨æˆ·æ•°ç»„ï¼Œå½¢å¼ä¸ºï¼š<code>{id:..., name:..., age... }</code>ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>groupById(arr)</code> ä»è¯¥æ•°ç»„åˆ›å»ºå¯¹è±¡ï¼Œä»¥ <code>id</code> ä¸ºé”®ï¼ˆkeyï¼‰ï¼Œæ•°ç»„é¡¹ä¸ºå€¼ã€‚</p>
<p>ä¾‹å¦‚:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'john'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"John Smith"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'ann'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Ann Smith"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'pete'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Pete Peterson"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> usersById <span class="token operator">=</span> <span class="token function">groupById</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
// è°ƒç”¨å‡½æ•°åï¼Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°ï¼š

usersById = {
  john: {id: 'john', name: "John Smith", age: 20},
  ann: {id: 'ann', name: "Ann Smith", age: 24},
  pete: {id: 'pete', name: "Pete Peterson", age: 31},
}
*/</span></code></pre>
<p>å¤„ç†æœåŠ¡ç«¯æ•°æ®æ—¶ï¼Œè¿™ä¸ªå‡½æ•°å¾ˆæœ‰ç”¨ã€‚</p>
<p>åœ¨è¿™ä¸ªä»»åŠ¡é‡Œæˆ‘ä»¬å‡è®¾ <code>id</code> æ˜¯å”¯ä¸€çš„ã€‚æ²¡æœ‰ä¸¤ä¸ªå…·æœ‰ç›¸åŒ <code>id</code> çš„æ•°ç»„é¡¹ã€‚</p>
<p>è¯·åœ¨è§£å†³æ–¹æ¡ˆä¸­ä½¿ç”¨æ•°ç»„çš„ <code>.reduce</code> æ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">groupById</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> users<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="ç±»ç»§æ‰¿"><a href="#ç±»ç»§æ‰¿" class="headerlink" title="ç±»ç»§æ‰¿"></a>ç±»ç»§æ‰¿</h2><h3 id="ä»»åŠ¡-3"><a href="#ä»»åŠ¡-3" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>åˆ›å»ºå®ä¾‹æ—¶å‡ºé”™</p>
<p>è¿™é‡Œæœ‰ä¸€ä»½ <code>Rabbit</code> æ‰©å±• <code>Animal</code> çš„ä»£ç ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œ<code>Rabbit</code> å¯¹è±¡æ— æ³•è¢«åˆ›å»ºã€‚æ˜¯å“ªé‡Œå‡ºé”™äº†å‘¢ï¼Ÿè¯·è§£å†³å®ƒã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>created <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">"White Rabbit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Error: this is not defined</span>
<span class="token function">alert</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ²¡æœ‰è°ƒç”¨ <code>super</code> ã€‚</p>
</li>
<li><p>æ‰©å±• clock</p>
<p>æˆ‘ä»¬è·å¾—äº†ä¸€ä¸ª <code>Clock</code> ç±»ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒæ¯ç§’éƒ½ä¼šæ‰“å°ä¸€æ¬¡æ—¶é—´ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>template <span class="token operator">=</span> template<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> hours <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hours <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> hours <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> hours<span class="token punctuation">;</span>

    <span class="token keyword">let</span> mins <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mins <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> mins <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> mins<span class="token punctuation">;</span>

    <span class="token keyword">let</span> secs <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>secs <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> secs <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> secs<span class="token punctuation">;</span>

    <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'h'</span><span class="token punctuation">,</span> hours<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">,</span> mins<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">,</span> secs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª <code>Clock</code> çš„æ–°çš„ç±» <code>ExtendedClock</code>ï¼Œå¹¶æ·»åŠ å‚æ•° <code>precision</code> â€” æ¯æ¬¡ â€œticksâ€ ä¹‹é—´é—´éš”çš„æ¯«ç§’æ•°ï¼Œé»˜è®¤æ˜¯ <code>1000</code>ï¼ˆ1 ç§’ï¼‰ã€‚</p>
<ul>
<li>ä½ çš„ä»£ç åº”è¯¥åœ¨ <code>extended-clock.js</code> æ–‡ä»¶é‡Œã€‚</li>
<li>ä¸è¦ä¿®æ”¹åŸæœ‰çš„ <code>clock.js</code>ã€‚è¯·æ‰©å±•å®ƒã€‚</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ExtendedClock</span> <span class="token keyword">extends</span> <span class="token class-name">Clock</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template<span class="token punctuation">,</span> precision<span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>precision <span class="token operator">=</span> precision<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>precision<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 28</title>
    <url>/2020/11/28/xue-xi-bi-ji-2020-11-28/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-28"><a href="#å­¦ä¹ ç¬”è®°-2020-11-28" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-28"></a>å­¦ä¹ ç¬”è®° 2020-11-28</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="JavaScript-API"><a href="#JavaScript-API" class="headerlink" title="JavaScript API"></a>JavaScript API</h3><h4 id="Atomics-ä¸-SharedArrayBuffer"><a href="#Atomics-ä¸-SharedArrayBuffer" class="headerlink" title="Atomics ä¸ SharedArrayBuffer"></a>Atomics ä¸ SharedArrayBuffer</h4><h5 id="SharedArrayBuffer"><a href="#SharedArrayBuffer" class="headerlink" title="SharedArrayBuffer"></a>SharedArrayBuffer</h5><h5 id="åŸå­æ“ä½œåŸºç¡€"><a href="#åŸå­æ“ä½œåŸºç¡€" class="headerlink" title="åŸå­æ“ä½œåŸºç¡€"></a>åŸå­æ“ä½œåŸºç¡€</h5><ol>
<li>ç®—æ•°åŠä½æ“ä½œæ–¹æ³•</li>
<li>åŸå­è¯»å’Œå†™</li>
<li>åŸå­äº¤æ¢</li>
<li>åŸå­ Futex æ“ä½œä¸åŠ é”</li>
</ol>
<h4 id="è·¨ä¸Šä¸‹æ–‡æ¶ˆæ¯"><a href="#è·¨ä¸Šä¸‹æ–‡æ¶ˆæ¯" class="headerlink" title="è·¨ä¸Šä¸‹æ–‡æ¶ˆæ¯"></a>è·¨ä¸Šä¸‹æ–‡æ¶ˆæ¯</h4><p>XDM å®ç°ä¸åŒæºæˆ–ä¸åŒå·¥ä½œçº¿ç¨‹é—´ä¼ é€’ä¿¡æ¯ã€‚</p>
<ul>
<li>postMessage()</li>
</ul>
<h4 id="Encoding-API"><a href="#Encoding-API" class="headerlink" title="Encoding API"></a>Encoding API</h4><h5 id="æ‰¹é‡ç¼–ç "><a href="#æ‰¹é‡ç¼–ç " class="headerlink" title="æ‰¹é‡ç¼–ç "></a>æ‰¹é‡ç¼–ç </h5><ul>
<li>TextEncoder</li>
</ul>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰-proto-çš„å¯¹è±¡"><a href="#åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰-proto-çš„å¯¹è±¡" class="headerlink" title="åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰ __proto__ çš„å¯¹è±¡"></a>åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰ <code>__proto__</code> çš„å¯¹è±¡</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>ä¸º directionary æ·»åŠ  toString æ–¹æ³•</p>
<p>è¿™å„¿æœ‰ä¸€ä¸ªé€šè¿‡ <code>Object.create(null)</code> åˆ›å»ºçš„ï¼Œç”¨æ¥å­˜å‚¨ä»»æ„ <code>key/value</code> å¯¹çš„å¯¹è±¡ <code>dictionary</code>ã€‚</p>
<p>ä¸ºè¯¥å¯¹è±¡æ·»åŠ  <code>dictionary.toString()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åº”è¯¥è¿”å›ä»¥é€—å·åˆ†éš”çš„æ‰€æœ‰é”®çš„åˆ—è¡¨ã€‚ä½ çš„ <code>toString</code> æ–¹æ³•ä¸åº”è¯¥åœ¨ä½¿ç”¨ <code>for...in</code> å¾ªç¯éå†æ•°ç»„çš„æ—¶å€™æ˜¾ç°å‡ºæ¥ã€‚</p>
<p>å®ƒçš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> dictionary <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ä½ çš„æ·»åŠ  dictionary.toString æ–¹æ³•çš„ä»£ç </span>

<span class="token comment" spellcheck="true">// æ·»åŠ ä¸€äº›æ•°æ®</span>
dictionary<span class="token punctuation">.</span>apple <span class="token operator">=</span> <span class="token string">"Apple"</span><span class="token punctuation">;</span>
dictionary<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token string">"test"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿™é‡Œ __proto__ æ˜¯ä¸€ä¸ªå¸¸è§„çš„å±æ€§é”®</span>

<span class="token comment" spellcheck="true">// åœ¨å¾ªç¯ä¸­åªæœ‰ apple å’Œ __proto__</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> dictionary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "apple", then "__proto__"</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// ä½ çš„ toString æ–¹æ³•åœ¨å‘æŒ¥ä½œç”¨</span>
<span class="token function">alert</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "apple,__proto__"</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> dictionary <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  toString<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// å®šä¹‰ toString å±æ€§</span>
    <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// value æ˜¯ä¸€ä¸ª function</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>è°ƒç”¨æ–¹å¼çš„å·®å¼‚</p>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>rabbit</code> å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayHi <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">"Rabbit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä»¥ä¸‹è°ƒç”¨åšçš„æ˜¯ç›¸åŒçš„äº‹å„¿è¿˜æ˜¯ä¸åŒçš„ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript">rabbit<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Rabbit<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rabbit<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä¸åŒã€‚</p>
<p>ç¬¬ä¸€è¡Œä½¿ç”¨ rabbit è°ƒç”¨ã€‚</p>
<p>ç¬¬äºŒè¡Œä½¿ç”¨åŸå‹è°ƒç”¨ã€‚</p>
<p>ç¬¬ä¸‰è¡Œä½¿ç”¨åŸå‹è°ƒç”¨ã€‚</p>
<p>ç¬¬å››è¡Œä½¿ç”¨åŸå‹è°ƒç”¨</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 27</title>
    <url>/2020/11/27/xue-xi-bi-ji-2020-11-27/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-27"><a href="#å­¦ä¹ ç¬”è®°-2020-11-27" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-27"></a>å­¦ä¹ ç¬”è®° 2020-11-27</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¡¨å•è„šæœ¬"><a href="#è¡¨å•è„šæœ¬" class="headerlink" title="è¡¨å•è„šæœ¬"></a>è¡¨å•è„šæœ¬</h3><h4 id="å¯Œæ–‡æœ¬ç¼–è¾‘"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘"></a>å¯Œæ–‡æœ¬ç¼–è¾‘</h4><h5 id="å¯Œæ–‡æœ¬é€‰æ‹©"><a href="#å¯Œæ–‡æœ¬é€‰æ‹©" class="headerlink" title="å¯Œæ–‡æœ¬é€‰æ‹©"></a>å¯Œæ–‡æœ¬é€‰æ‹©</h5><ul>
<li>getSelection()<ul>
<li>anchorNode</li>
<li>anchorOffset</li>
<li>focusNode</li>
<li>focusOffset</li>
<li>isCollapsed</li>
<li>rangeCount</li>
<li>addRange()</li>
<li>collapse(node, offset)</li>
<li>collapseToEnd()</li>
<li>collapseToStart()</li>
<li>containsNode()</li>
<li>deleteFromDocument()</li>
<li>extend()</li>
<li>getRangeAt()</li>
<li>removeAllRanges()</li>
<li>removRange(range)</li>
<li>selectAllChildren()</li>
<li>toString()</li>
</ul>
</li>
</ul>
<h5 id="é€šè¿‡è¡¨å•æäº¤å¯Œæ–‡æœ¬"><a href="#é€šè¿‡è¡¨å•æäº¤å¯Œæ–‡æœ¬" class="headerlink" title="é€šè¿‡è¡¨å•æäº¤å¯Œæ–‡æœ¬"></a>é€šè¿‡è¡¨å•æäº¤å¯Œæ–‡æœ¬</h5><h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="åŸç”Ÿçš„åŸå‹"><a href="#åŸç”Ÿçš„åŸå‹" class="headerlink" title="åŸç”Ÿçš„åŸå‹"></a>åŸç”Ÿçš„åŸå‹</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>ç»™å‡½æ•°æ·»åŠ ä¸€ä¸ª â€œf.defer(ms)â€ æ–¹æ³•</p>
<p>åœ¨æ‰€æœ‰å‡½æ•°çš„åŸå‹ä¸­æ·»åŠ  <code>defer(ms)</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†åœ¨ <code>ms</code> æ¯«ç§’åè¿è¡Œè¯¥å‡½æ•°ã€‚</p>
<p>å½“ä½ å®Œæˆæ·»åŠ åï¼Œä¸‹é¢çš„ä»£ç åº”è¯¥æ˜¯å¯æ‰§è¡Œçš„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

f<span class="token punctuation">.</span><span class="token function">defer</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1 ç§’åæ˜¾ç¤º "Hello!"</span></code></pre>
<pre class=" language-js"><code class="language-js">Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>defer <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>å°†è£…é¥°å™¨ â€œdefer()â€ æ·»åŠ åˆ°å‡½æ•°</p>
<p>åœ¨æ‰€æœ‰å‡½æ•°çš„åŸå‹ä¸­æ·»åŠ  <code>defer(ms)</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå°†å‡½æ•°è°ƒç”¨å»¶è¿Ÿ <code>ms</code> æ¯«ç§’ã€‚</p>
<p>ä¸‹é¢æ˜¯å®ƒåº”è¯¥å¦‚ä½•æ‰§è¡Œçš„ä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> a <span class="token operator">+</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

f<span class="token punctuation">.</span><span class="token function">defer</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1 ç§’åæ˜¾ç¤º 3</span></code></pre>
<p>è¯·æ³¨æ„ï¼Œå‚æ•°åº”è¯¥è¢«ä¼ ç»™åŸå§‹å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js">Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>defer <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> that<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 26</title>
    <url>/2020/11/26/xue-xi-bi-ji-2020-11-26/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-26"><a href="#å­¦ä¹ ç¬”è®°-2020-11-26" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-26"></a>å­¦ä¹ ç¬”è®° 2020-11-26</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¡¨å•è„šæœ¬"><a href="#è¡¨å•è„šæœ¬" class="headerlink" title="è¡¨å•è„šæœ¬"></a>è¡¨å•è„šæœ¬</h3><h4 id="æ–‡æœ¬æ¡†ç¼–ç¨‹"><a href="#æ–‡æœ¬æ¡†ç¼–ç¨‹" class="headerlink" title="æ–‡æœ¬æ¡†ç¼–ç¨‹"></a>æ–‡æœ¬æ¡†ç¼–ç¨‹</h4><h5 id="HTML5-çº¦æŸéªŒè¯-API"><a href="#HTML5-çº¦æŸéªŒè¯-API" class="headerlink" title="HTML5 çº¦æŸéªŒè¯ API"></a>HTML5 çº¦æŸéªŒè¯ API</h5><ol>
<li>æ£€æµ‹æœ‰æ•ˆæ€§<ul>
<li>checkValidity()</li>
<li>validity<ul>
<li>customError</li>
<li>petternMismatch</li>
<li>rangeOverflow</li>
<li>rangeUnderflow</li>
<li>stepMisMatch</li>
<li>tooLong</li>
<li>typeMismatch</li>
<li>valid</li>
<li>valueMissing</li>
</ul>
</li>
</ul>
</li>
<li>ç¦ç”¨éªŒè¯<ul>
<li>novalidate</li>
</ul>
</li>
</ol>
<h4 id="é€‰æ‹©æ¡†ç¼–ç¨‹"><a href="#é€‰æ‹©æ¡†ç¼–ç¨‹" class="headerlink" title="é€‰æ‹©æ¡†ç¼–ç¨‹"></a>é€‰æ‹©æ¡†ç¼–ç¨‹</h4><ul>
<li><p>HTMLSelectElement</p>
<ul>
<li>add</li>
<li>multiple</li>
<li>options</li>
<li>remove</li>
<li>selectedIndex</li>
<li>size</li>
</ul>
</li>
<li><p>HTMLOptionElement</p>
<ul>
<li>index</li>
<li>label</li>
<li>selected</li>
<li>text</li>
<li>value</li>
</ul>
</li>
</ul>
<h5 id="é€‰é¡¹å¤„ç†"><a href="#é€‰é¡¹å¤„ç†" class="headerlink" title="é€‰é¡¹å¤„ç†"></a>é€‰é¡¹å¤„ç†</h5><ul>
<li>selectedIndex</li>
</ul>
<h5 id="æ·»åŠ é€‰é¡¹"><a href="#æ·»åŠ é€‰é¡¹" class="headerlink" title="æ·»åŠ é€‰é¡¹"></a>æ·»åŠ é€‰é¡¹</h5><ul>
<li>add()</li>
</ul>
<h5 id="ç§»é™¤é€‰é¡¹"><a href="#ç§»é™¤é€‰é¡¹" class="headerlink" title="ç§»é™¤é€‰é¡¹"></a>ç§»é™¤é€‰é¡¹</h5><ul>
<li>removeChild()</li>
<li>remove()</li>
</ul>
<h5 id="ç§»åŠ¨å’Œé‡æ’é€‰é¡¹"><a href="#ç§»åŠ¨å’Œé‡æ’é€‰é¡¹" class="headerlink" title="ç§»åŠ¨å’Œé‡æ’é€‰é¡¹"></a>ç§»åŠ¨å’Œé‡æ’é€‰é¡¹</h5><h5 id="è¡¨å•åºåˆ—åŒ–"><a href="#è¡¨å•åºåˆ—åŒ–" class="headerlink" title="è¡¨å•åºåˆ—åŒ–"></a>è¡¨å•åºåˆ—åŒ–</h5><h4 id="å¯Œæ–‡æœ¬ç¼–è¾‘"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘"></a>å¯Œæ–‡æœ¬ç¼–è¾‘</h4><p>åŸºæœ¬çš„æŠ€æœ¯å°±æ˜¯åœ¨ç©ºç™½ HTML æ–‡ä»¶ä¸­åµŒå…¥ä¸€ä¸ª <code>iframe</code> ã€‚é€šè¿‡ designMode å±æ€§ï¼Œå¯ä»¥å°†è¿™ä¸ªç©ºç™½æ–‡æ¡£å˜æˆå¯ä»¥ç¼–è¾‘çš„ï¼Œå®é™…ç¼–è¾‘çš„åˆ™æ˜¯ <code>&lt;body&gt;</code> å…ƒç´ çš„ HTMLã€‚designMode å±æ€§æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼šâ€offâ€ï¼ˆé»˜è®¤å€¼ï¼‰å’Œâ€onâ€ã€‚è®¾ç½®ä¸ºâ€onâ€æ—¶ï¼Œæ•´ä¸ªæ–‡æ¡£éƒ½ä¼šå˜æˆå¯ä»¥ç¼–è¾‘çš„ï¼ˆæ˜¾ç¤ºæ’å…¥å…‰æ ‡ï¼‰ï¼Œä»è€Œå¯ä»¥åƒä½¿ç”¨æ–‡å­—å¤„ç†ç¨‹åºä¸€æ ·ç¼–è¾‘æ–‡æœ¬ï¼Œé€šè¿‡é”®ç›˜å°†æ–‡æœ¬æ ‡è®°ä¸ºç²—ä½“ã€æ–œä½“ï¼Œç­‰ç­‰ã€‚</p>
<p>è¯¥å±æ€§åªèƒ½åœ¨æ–‡æ¡£å®Œå…¨åŠ è½½åè®¾ç½®ã€‚</p>
<h5 id="ä½¿ç”¨-contenteditable"><a href="#ä½¿ç”¨-contenteditable" class="headerlink" title="ä½¿ç”¨ contenteditable"></a>ä½¿ç”¨ contenteditable</h5><p>ç»™å…ƒç´ æ·»åŠ  contenteditable å±æ€§ä½¿å¾—è¯¥å…ƒç´ è¢«ç¼–è¾‘ã€‚</p>
<h5 id="ä¸å¯Œæ–‡æœ¬äº¤äº’"><a href="#ä¸å¯Œæ–‡æœ¬äº¤äº’" class="headerlink" title="ä¸å¯Œæ–‡æœ¬äº¤äº’"></a>ä¸å¯Œæ–‡æœ¬äº¤äº’</h5><ul>
<li>document.execCommand()</li>
<li>queryCommandEnabled()</li>
<li>queryCommandState()</li>
<li>queryCommandValue()</li>
</ul>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="F-prototype"><a href="#F-prototype" class="headerlink" title="F.prototype"></a>F.prototype</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>ä¿®æ”¹ â€œprototypeâ€</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† <code>new Rabbit</code>ï¼Œç„¶åå°è¯•ä¿®æ”¹å®ƒçš„ prototypeã€‚</p>
<p>æœ€åˆï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹ä»£ç ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  eats<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<ol>
<li><p>æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå¼ºè°ƒï¼‰ã€‚ç°åœ¨ <code>alert</code> ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  eats<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p><code>true</code></p>
</li>
<li><p>â€¦â€¦å¦‚æœä»£ç æ˜¯è¿™æ ·çš„ï¼ˆä¿®æ”¹äº†ä¸€è¡Œï¼‰ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  eats<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Rabbit<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>eats <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p><code>false</code></p>
</li>
<li><p>åƒè¿™æ ·å‘¢ï¼ˆä¿®æ”¹äº†ä¸€è¡Œï¼‰ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  eats<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> rabbit<span class="token punctuation">.</span>eats<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p><code>true</code></p>
</li>
<li><p>æœ€åä¸€ç§å˜ä½“ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Rabbit<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  eats<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> Rabbit<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>eats<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p><code>undefined</code></p>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨ç›¸åŒçš„æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç”±æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ <code>obj</code> â€”â€” æˆ‘ä»¬ä¸çŸ¥é“ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ„é€ å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³ä½¿ç”¨å®ƒåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·åšå—ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¯·ç»™å‡ºä¸€ä¸ªå¯ä»¥ä½¿è¿™æ ·çš„ä»£ç æ­£å¸¸å·¥ä½œçš„ <code>obj</code> çš„æ„é€ å‡½æ•°çš„ä¾‹å­ã€‚å†ç»™å‡ºä¼šå¯¼è‡´è¿™æ ·çš„ä»£ç æ— æ³•æ­£ç¡®å·¥ä½œçš„ä¾‹å­ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æ­£å¸¸å·¥ä½œ</span>
<span class="token keyword">function</span> Obj <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ— æ³•æ­£å¸¸å·¥ä½œ</span>
<span class="token keyword">function</span> Obj <span class="token punctuation">{</span><span class="token punctuation">}</span>
Obj<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 25</title>
    <url>/2020/11/25/xue-xi-bi-ji-2020-11-25/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-25"><a href="#å­¦ä¹ ç¬”è®°-2020-11-25" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-25"></a>å­¦ä¹ ç¬”è®° 2020-11-25</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¡¨å•è„šæœ¬"><a href="#è¡¨å•è„šæœ¬" class="headerlink" title="è¡¨å•è„šæœ¬"></a>è¡¨å•è„šæœ¬</h3><h4 id="æ–‡æœ¬æ¡†ç¼–ç¨‹"><a href="#æ–‡æœ¬æ¡†ç¼–ç¨‹" class="headerlink" title="æ–‡æœ¬æ¡†ç¼–ç¨‹"></a>æ–‡æœ¬æ¡†ç¼–ç¨‹</h4><h5 id="è¾“å…¥è¿‡æ»¤"><a href="#è¾“å…¥è¿‡æ»¤" class="headerlink" title="è¾“å…¥è¿‡æ»¤"></a>è¾“å…¥è¿‡æ»¤</h5><ol>
<li>å¤„ç†å‰ªè´´æ¿<ul>
<li>beforecopy</li>
<li>copy</li>
<li>beforecut</li>
<li>cut</li>
<li>beforepaste</li>
<li>paste</li>
<li>event.clipboardData<ul>
<li>getData()</li>
<li>setData()</li>
<li>clearData()</li>
</ul>
</li>
</ul>
</li>
</ol>
<h5 id="è‡ªåŠ¨åˆ‡æ¢"><a href="#è‡ªåŠ¨åˆ‡æ¢" class="headerlink" title="è‡ªåŠ¨åˆ‡æ¢"></a>è‡ªåŠ¨åˆ‡æ¢</h5><h5 id="HTML5-çº¦æŸéªŒè¯-API"><a href="#HTML5-çº¦æŸéªŒè¯-API" class="headerlink" title="HTML5 çº¦æŸéªŒè¯ API"></a>HTML5 çº¦æŸéªŒè¯ API</h5><ol>
<li>å¿…å¡«å­—æ®µ<ul>
<li>required</li>
</ul>
</li>
<li>æ›´å¤šè¾“å…¥ç±»å‹<ul>
<li>email</li>
<li>url</li>
</ul>
</li>
<li>æ•°å€¼èŒƒå›´<ul>
<li>number</li>
<li>range</li>
<li>datetime</li>
<li>datetime-local</li>
<li>date</li>
<li>month</li>
<li>week</li>
<li>time</li>
<li>min</li>
<li>max</li>
<li>step</li>
</ul>
</li>
<li>è¾“å…¥æ¨¡å¼<ul>
<li>pattern</li>
</ul>
</li>
<li>æ£€æµ‹æœ‰æ•ˆæ€§<ul>
<li>checkValidity()</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="åŸå‹ç»§æ‰¿"><a href="#åŸå‹ç»§æ‰¿" class="headerlink" title="åŸå‹ç»§æ‰¿"></a>åŸå‹ç»§æ‰¿</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>ä½¿ç”¨åŸå‹</p>
<p>ä¸‹é¢è¿™æ®µä»£ç åˆ›å»ºäº†ä¸€å¯¹å¯¹è±¡ï¼Œç„¶åå¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>è¿‡ç¨‹ä¸­ä¼šæ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  jumps<span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token punctuation">:</span> animal<span class="token punctuation">,</span>
  jumps<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ? (1)</span>

<span class="token keyword">delete</span> rabbit<span class="token punctuation">.</span>jumps<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ? (2)</span>

<span class="token keyword">delete</span> animal<span class="token punctuation">.</span>jumps<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ? (3)</span></code></pre>
<p>åº”è¯¥æœ‰ 3 ä¸ªç­”æ¡ˆã€‚</p>
<p>1 true</p>
<p>2 null</p>
<p>3 undefined</p>
</li>
<li><p>æœç´¢ç®—æ³•</p>
<p>æœ¬é¢˜ç›®æœ‰ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p>
<p>ç»™å®šä»¥ä¸‹å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> head <span class="token operator">=</span> <span class="token punctuation">{</span>
  glasses<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> table <span class="token operator">=</span> <span class="token punctuation">{</span>
  pen<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bed <span class="token operator">=</span> <span class="token punctuation">{</span>
  sheet<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  pillow<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> pockets <span class="token operator">=</span> <span class="token punctuation">{</span>
  money<span class="token punctuation">:</span> <span class="token number">2000</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<ol>
<li>ä½¿ç”¨ <code>__proto__</code> æ¥åˆ†é…åŸå‹ï¼Œä»¥ä½¿å¾—ä»»ä½•å±æ€§çš„æŸ¥æ‰¾éƒ½éµå¾ªä»¥ä¸‹è·¯å¾„ï¼š<code>pockets</code> â†’ <code>bed</code> â†’ <code>table</code> â†’ <code>head</code>ã€‚ä¾‹å¦‚ï¼Œ<code>pockets.pen</code> åº”è¯¥æ˜¯ <code>3</code>ï¼ˆåœ¨ <code>table</code> ä¸­æ‰¾åˆ°ï¼‰ï¼Œ<code>bed.glasses</code> åº”è¯¥æ˜¯ <code>1</code>ï¼ˆåœ¨ <code>head</code> ä¸­æ‰¾åˆ°ï¼‰ã€‚</li>
<li>å›ç­”é—®é¢˜ï¼šé€šè¿‡ <code>pockets.glasses</code> æˆ– <code>head.glasses</code> è·å– <code>glasses</code>ï¼Œå“ªä¸ªæ›´å¿«ï¼Ÿå¿…è¦æ—¶éœ€è¦è¿›è¡ŒåŸºå‡†æµ‹è¯•ã€‚</li>
</ol>
<pre class=" language-js"><code class="language-js">pockets<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> bed<span class="token punctuation">;</span>
bed<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> table<span class="token punctuation">;</span>
table<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> head<span class="token punctuation">;</span></code></pre>
<p>æ²¡æœ‰åŒºåˆ«ã€‚</p>
</li>
<li><p>å†™åœ¨å“ªé‡Œï¼Ÿ</p>
<p>æˆ‘ä»¬æœ‰ä» <code>animal</code> ä¸­ç»§æ‰¿çš„ <code>rabbit</code>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è°ƒç”¨ <code>rabbit.eat()</code>ï¼Œå“ªä¸€ä¸ªå¯¹è±¡ä¼šæ¥æ”¶åˆ° <code>full</code> å±æ€§ï¼š<code>animal</code> è¿˜æ˜¯ <code>rabbit</code>ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>full <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token punctuation">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>rabbit</code> ä¼šæ¥æ”¶åˆ° <code>full</code> å±æ€§ã€‚</p>
</li>
<li><p>ä¸ºä»€ä¹ˆä¸¤åªä»“é¼ éƒ½é¥±äº†ï¼Ÿ</p>
<p>æˆ‘ä»¬æœ‰ä¸¤åªä»“é¼ ï¼š<code>speedy</code> å’Œ <code>lazy</code> éƒ½ç»§æ‰¿è‡ªæ™®é€šçš„ <code>hamster</code> å¯¹è±¡ã€‚</p>
<p>å½“æˆ‘ä»¬å–‚å…¶ä¸­ä¸€åªçš„æ—¶å€™ï¼Œå¦ä¸€åªä¹Ÿåƒé¥±äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿå¦‚ä½•ä¿®å¤å®ƒï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> hamster <span class="token operator">=</span> <span class="token punctuation">{</span>
  stomach<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stomach<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> speedy <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token punctuation">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lazy <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token punctuation">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// è¿™åªä»“é¼ æ‰¾åˆ°äº†é£Ÿç‰©</span>
speedy<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">"apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> speedy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// apple</span>

<span class="token comment" spellcheck="true">// è¿™åªä»“é¼ ä¹Ÿæ‰¾åˆ°äº†é£Ÿç‰©ï¼Œä¸ºä»€ä¹ˆï¼Ÿè¯·ä¿®å¤å®ƒã€‚</span>
<span class="token function">alert</span><span class="token punctuation">(</span> lazy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// apple</span></code></pre>
<p>å› ä¸º <code>stomach</code> è¿™ä¸ªå±æ€§è®¾ç½®åœ¨åŸå‹ä¸Šï¼Œåº”è¯¥ç»™æ¯ä¸ªå¯¹è±¡å„è‡ªè®¾ç½® <code>stomach</code> å±æ€§ã€‚</p>
<p>ä¹Ÿå¯ä»¥æ”¹ <code>this.stomach.push()</code> ä¸º <code>this.stomach = ...</code> è¿™æ ·ä¸ä¼šå»å¯»æ‰¾è‡ªèº«çš„ <code>stomach</code> ï¼Œè€Œæ˜¯ç›´æ¥ç»™ <code>this</code> å†™å…¥ä¸€ä¸ªæ–°çš„ <code>stomach</code> å¯¹è±¡ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 24</title>
    <url>/2020/11/24/xue-xi-bi-ji-2020-11-24/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-24"><a href="#å­¦ä¹ ç¬”è®°-2020-11-24" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-24"></a>å­¦ä¹ ç¬”è®° 2020-11-24</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¡¨å•è„šæœ¬"><a href="#è¡¨å•è„šæœ¬" class="headerlink" title="è¡¨å•è„šæœ¬"></a>è¡¨å•è„šæœ¬</h3><h4 id="è¡¨å•åŸºç¡€"><a href="#è¡¨å•åŸºç¡€" class="headerlink" title="è¡¨å•åŸºç¡€"></a>è¡¨å•åŸºç¡€</h4><h5 id="é‡ç½®è¡¨å•"><a href="#é‡ç½®è¡¨å•" class="headerlink" title="é‡ç½®è¡¨å•"></a>é‡ç½®è¡¨å•</h5><h5 id="è¡¨å•å­—æ®µ"><a href="#è¡¨å•å­—æ®µ" class="headerlink" title="è¡¨å•å­—æ®µ"></a>è¡¨å•å­—æ®µ</h5><ul>
<li>form.elements</li>
</ul>
<ol>
<li>è¡¨å•å­—æ®µçš„å…¬å…±å±æ€§<ul>
<li>disabled</li>
<li>form</li>
<li>name</li>
<li>readOnly</li>
<li>tabIndex</li>
<li>type</li>
<li>value</li>
</ul>
</li>
<li>è¡¨å•å­—æ®µçš„å…¬å…±æ–¹æ³•<ul>
<li>focus()</li>
<li>blur()</li>
</ul>
</li>
<li>è¡¨å•å­—æ®µçš„å…¬å…±äº‹ä»¶<ul>
<li>blur</li>
<li>change</li>
<li>focus</li>
</ul>
</li>
</ol>
<h4 id="æ–‡æœ¬æ¡†ç¼–ç¨‹"><a href="#æ–‡æœ¬æ¡†ç¼–ç¨‹" class="headerlink" title="æ–‡æœ¬æ¡†ç¼–ç¨‹"></a>æ–‡æœ¬æ¡†ç¼–ç¨‹</h4><h5 id="é€‰æ‹©æ–‡æœ¬"><a href="#é€‰æ‹©æ–‡æœ¬" class="headerlink" title="é€‰æ‹©æ–‡æœ¬"></a>é€‰æ‹©æ–‡æœ¬</h5><ul>
<li>select()</li>
</ul>
<ol>
<li>select äº‹ä»¶</li>
<li>å–å¾—é€‰ä¸­æ–‡æœ¬<ul>
<li>selectionStart</li>
<li>selectionEnd</li>
</ul>
</li>
<li>éƒ¨åˆ†é€‰ä¸­æ–‡æœ¬<ul>
<li>setSelectionRange()</li>
</ul>
</li>
</ol>
<h5 id="è¾“å…¥è¿‡æ»¤"><a href="#è¾“å…¥è¿‡æ»¤" class="headerlink" title="è¾“å…¥è¿‡æ»¤"></a>è¾“å…¥è¿‡æ»¤</h5><ol>
<li>å±è”½å­—ç¬¦</li>
<li>å¤„ç†å‰ªè´´æ¿</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 23</title>
    <url>/2020/11/23/xue-xi-bi-ji-2020-11-23/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-23"><a href="#å­¦ä¹ ç¬”è®°-2020-11-23" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-23"></a>å­¦ä¹ ç¬”è®° 2020-11-23</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¡¨å•è„šæœ¬"><a href="#è¡¨å•è„šæœ¬" class="headerlink" title="è¡¨å•è„šæœ¬"></a>è¡¨å•è„šæœ¬</h3><h4 id="è¡¨å•åŸºç¡€"><a href="#è¡¨å•åŸºç¡€" class="headerlink" title="è¡¨å•åŸºç¡€"></a>è¡¨å•åŸºç¡€</h4><ul>
<li>HTMLFormElement<ul>
<li>acceptCharset</li>
<li>action</li>
<li>elements</li>
<li>enctype</li>
<li>length</li>
<li>method</li>
<li>name</li>
<li>reset()</li>
<li>submit()</li>
<li>target</li>
</ul>
</li>
</ul>
<h4 id="æäº¤è¡¨å•"><a href="#æäº¤è¡¨å•" class="headerlink" title="æäº¤è¡¨å•"></a>æäº¤è¡¨å•</h4><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- é€šç”¨æäº¤æŒ‰é’® --></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Submit Form<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
<span class="token comment" spellcheck="true">&lt;!-- è‡ªå®šä¹‰æäº¤æŒ‰é’® --></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Submit Form<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span> 
<span class="token comment" spellcheck="true">&lt;!-- å›¾ç‰‡æŒ‰é’® --></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>graphic.gif<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>æœ‰ä¸Šè¿°ä»»ä½•ä¸€ä¸ªæŒ‰é’®ï¼Œç„¦ç‚¹å¤„äºé™¤äº† <code>textarea</code> ä»¥å¤–çš„æ§ä»¶ä¸Šæ—¶ï¼ŒæŒ‰å›è½¦é”®ä¹Ÿå¯ä»¥æäº¤è¡¨å•ã€‚åœ¨å‘èµ·è¯·æ±‚å‰ä¼šè§¦å‘ä¸€ä¸ª submit äº‹ä»¶ã€‚</p>
<p>é€šè¿‡ js æ–¹å¼è°ƒç”¨ sumbit æäº¤æ—¶ä¸ä¼šå†è§¦å‘è¯¥äº‹ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 22</title>
    <url>/2020/11/22/xue-xi-bi-ji-2020-11-22/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-22"><a href="#å­¦ä¹ ç¬”è®°-2020-11-22" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-22"></a>å­¦ä¹ ç¬”è®° 2020-11-22</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="åŠ¨ç”»ä¸-Canvas-å›¾å½¢"><a href="#åŠ¨ç”»ä¸-Canvas-å›¾å½¢" class="headerlink" title="åŠ¨ç”»ä¸ Canvas å›¾å½¢"></a>åŠ¨ç”»ä¸ Canvas å›¾å½¢</h3><h4 id="2D-ç»˜å›¾ä¸Šä¸‹æ–‡"><a href="#2D-ç»˜å›¾ä¸Šä¸‹æ–‡" class="headerlink" title="2D ç»˜å›¾ä¸Šä¸‹æ–‡"></a>2D ç»˜å›¾ä¸Šä¸‹æ–‡</h4><h5 id="æ¸å˜"><a href="#æ¸å˜" class="headerlink" title="æ¸å˜"></a>æ¸å˜</h5><ul>
<li>createRectLinearGradient()</li>
<li>createRadialGradient()</li>
</ul>
<h5 id="å›¾æ¡ˆ"><a href="#å›¾æ¡ˆ" class="headerlink" title="å›¾æ¡ˆ"></a>å›¾æ¡ˆ</h5><ul>
<li>createPattern()</li>
</ul>
<h5 id="å›¾åƒæ•°æ®"><a href="#å›¾åƒæ•°æ®" class="headerlink" title="å›¾åƒæ•°æ®"></a>å›¾åƒæ•°æ®</h5><ul>
<li>getImageData() =&gt; ImageData: object</li>
<li>ImageData.width</li>
<li>ImageData.height</li>
<li>ImageData.data</li>
</ul>
<h5 id="åˆæˆ"><a href="#åˆæˆ" class="headerlink" title="åˆæˆ"></a>åˆæˆ</h5><ul>
<li>globalAlpha</li>
<li>globalCompositionOperation</li>
</ul>
<h4 id="WebGL"><a href="#WebGL" class="headerlink" title="WebGL"></a>WebGL</h4><h5 id="WebGL-ä¸Šä¸‹æ–‡"><a href="#WebGL-ä¸Šä¸‹æ–‡" class="headerlink" title="WebGL ä¸Šä¸‹æ–‡"></a>WebGL ä¸Šä¸‹æ–‡</h5><h5 id="WebGL-åŸºç¡€"><a href="#WebGL-åŸºç¡€" class="headerlink" title="WebGL åŸºç¡€"></a>WebGL åŸºç¡€</h5>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 21</title>
    <url>/2020/11/21/xue-xi-bi-ji-2020-11-21/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-21"><a href="#å­¦ä¹ ç¬”è®°-2020-11-21" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-21"></a>å­¦ä¹ ç¬”è®° 2020-11-21</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="åŠ¨ç”»ä¸-Canvas-å›¾å½¢"><a href="#åŠ¨ç”»ä¸-Canvas-å›¾å½¢" class="headerlink" title="åŠ¨ç”»ä¸ Canvas å›¾å½¢"></a>åŠ¨ç”»ä¸ Canvas å›¾å½¢</h3><h4 id="2D-ç»˜å›¾ä¸Šä¸‹æ–‡"><a href="#2D-ç»˜å›¾ä¸Šä¸‹æ–‡" class="headerlink" title="2D ç»˜å›¾ä¸Šä¸‹æ–‡"></a>2D ç»˜å›¾ä¸Šä¸‹æ–‡</h4><h5 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="ç»˜åˆ¶çŸ©å½¢"></a>ç»˜åˆ¶çŸ©å½¢</h5><ul>
<li>fillRect()</li>
<li>strokeRect()</li>
<li>clearRect()</li>
</ul>
<p>ä»¥ä¸Šæ–¹æ³•æ¥æ”¶ 4 ä¸ªå‚æ•°ï¼ŒçŸ©å½¢ x åæ ‡ï¼Œ y åæ ‡ï¼ŒçŸ©å½¢å®½åº¦å’ŒçŸ©å½¢é«˜åº¦ã€‚</p>
<ul>
<li>lineWidth</li>
<li>lineCap</li>
</ul>
<h5 id="ç»˜åˆ¶è·¯å¾„"><a href="#ç»˜åˆ¶è·¯å¾„" class="headerlink" title="ç»˜åˆ¶è·¯å¾„"></a>ç»˜åˆ¶è·¯å¾„</h5><ul>
<li>beginPath()</li>
<li>arc(x, y, radius, startAngle, endAngle, counterclockwise)</li>
<li>arcTo(x1, y1, x2, y2, radius)</li>
<li>bezierCurveTo(c1x, c1y, c2x, c2y, x, y)</li>
<li>lineTo(x, y)</li>
<li>moveTo(x, y)</li>
<li>quadraticCurveTo(cx, cy, x, y)</li>
<li>rect(x, y, width, height)</li>
<li>isPointInPath(x, y)</li>
</ul>
<h5 id="ç»˜åˆ¶æ–‡æœ¬"><a href="#ç»˜åˆ¶æ–‡æœ¬" class="headerlink" title="ç»˜åˆ¶æ–‡æœ¬"></a>ç»˜åˆ¶æ–‡æœ¬</h5><ul>
<li>fillText()</li>
<li>strokeText()</li>
</ul>
<p>parameter: string, x, y, pxWidth</p>
<ul>
<li>font</li>
<li>textAlign</li>
<li>textBaseLine</li>
<li>measureText()</li>
</ul>
<h5 id="å˜æ¢"><a href="#å˜æ¢" class="headerlink" title="å˜æ¢"></a>å˜æ¢</h5><ul>
<li>rotate(angle)</li>
<li>scale(scaleX, scaleY)</li>
<li>translate(x, y)</li>
<li>transform(m1_1, m1_2, m2_1, m2_2, dx, dy)</li>
<li>setTransform(m1_1, m1_2, m2_1, m2_2, dx, dy)</li>
<li>save()</li>
<li>restore()</li>
</ul>
<h5 id="ç»˜åˆ¶å›¾åƒ"><a href="#ç»˜åˆ¶å›¾åƒ" class="headerlink" title="ç»˜åˆ¶å›¾åƒ"></a>ç»˜åˆ¶å›¾åƒ</h5><ul>
<li>drawImage()</li>
</ul>
<h5 id="é˜´å½±"><a href="#é˜´å½±" class="headerlink" title="é˜´å½±"></a>é˜´å½±</h5><ul>
<li>shadowColor</li>
<li>shadowOffsetX</li>
<li>shadowOffsetY</li>
<li>shadowBlur</li>
</ul>
<h5 id="æ¸å˜"><a href="#æ¸å˜" class="headerlink" title="æ¸å˜"></a>æ¸å˜</h5><ul>
<li>createLinearGradient(x1, y1, x2, y2)</li>
<li>addColorStop(position, color)</li>
</ul>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å‡½æ•°ç»‘å®š"><a href="#å‡½æ•°ç»‘å®š" class="headerlink" title="å‡½æ•°ç»‘å®š"></a>å‡½æ•°ç»‘å®š</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>ä½œä¸ºæ–¹æ³•çš„ç»‘å®šå‡½æ•°</p>
<p>è¾“å‡ºå°†ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  g<span class="token punctuation">:</span> f<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

user<span class="token punctuation">.</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>nullã€‚</p>
</li>
<li><p>äºŒæ¬¡ bind</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é¢å¤–çš„ç»‘å®šæ”¹å˜ <code>this</code> å—ï¼Ÿ</p>
<p>è¾“å‡ºå°†ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

f <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"Ann"</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Johnã€‚ä¸€ä¸ªå‡½æ•°ä¸èƒ½è¢«é‡ç»‘å®šã€‚</p>
</li>
<li><p>bind åçš„å‡½æ•°å±æ€§</p>
<p>å‡½æ•°çš„å±æ€§ä¸­æœ‰ä¸€ä¸ªå€¼ã€‚<code>bind</code> ä¹‹åå®ƒä¼šæ”¹å˜å—ï¼Ÿä¸ºä»€ä¹ˆï¼Œé˜è¿°ä¸€ä¸‹ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sayHi<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bound <span class="token operator">=</span> sayHi<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">"John"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> bound<span class="token punctuation">.</span>test <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¾“å‡ºå°†ä¼šæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</span></code></pre>
<p><code>undefined</code> ã€‚</p>
</li>
<li><p>ä¿®å¤ä¸¢å¤±äº† â€œthisâ€ çš„å‡½æ•°</p>
<p>ä¸‹é¢ä»£ç ä¸­å¯¹ <code>askPassword()</code> çš„è°ƒç”¨å°†ä¼šæ£€æŸ¥ passwordï¼Œç„¶ååŸºäºç»“æœè°ƒç”¨ <code>user.loginOk/loginFail</code>ã€‚</p>
<p>ä½†æ˜¯å®ƒå¯¼è‡´äº†ä¸€ä¸ªé”™è¯¯ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>ä¿®æ”¹é«˜äº®çš„è¡Œï¼Œä»¥ä½¿æ‰€æœ‰å†…å®¹éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼ˆå…¶å®ƒè¡Œä¸ç”¨ä¿®æ”¹ï¼‰ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">askPassword</span><span class="token punctuation">(</span>ok<span class="token punctuation">,</span> fail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Password?"</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">"rockstar"</span><span class="token punctuation">)</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>

  <span class="token function">loginOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> logged in`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">loginFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> failed to log in`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">askPassword</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>loginOk<span class="token punctuation">,</span> user<span class="token punctuation">.</span>loginFail<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ­¤è¡Œé«˜äº®</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token function">askPassword</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>loginOk<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>loginFail<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>åå‡½æ•°åœ¨ç™»é™†ä¸­çš„åº”ç”¨</p>
<p>è¿™ä¸ªä»»åŠ¡æ˜¯æ¯” <a href="https://zh.javascript.info/task/question-use-bind" target="_blank" rel="noopener">ä¿®å¤ä¸¢å¤±äº† â€œthisâ€ çš„å‡½æ•°</a> ç•¥å¾®å¤æ‚çš„å˜ä½“ã€‚</p>
<p><code>user</code> å¯¹è±¡è¢«ä¿®æ”¹äº†ã€‚ç°åœ¨ä¸æ˜¯ä¸¤ä¸ªå‡½æ•° <code>loginOk/loginFail</code>ï¼Œç°åœ¨åªæœ‰ä¸€ä¸ªå‡½æ•° <code>user.login(true/false)</code>ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å‘ <code>askPassword</code> ä¼ å…¥ä»€ä¹ˆå‚æ•°ï¼Œä»¥ä½¿å¾— <code>user.login(true)</code> ç»“æœæ˜¯ <code>ok</code>ï¼Œ<code>user.login(fasle)</code> ç»“æœæ˜¯ <code>fail</code>ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">askPassword</span><span class="token punctuation">(</span>ok<span class="token punctuation">,</span> fail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Password?"</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">"rockstar"</span><span class="token punctuation">)</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>

  <span class="token function">login</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token punctuation">(</span>result <span class="token operator">?</span> <span class="token string">' logged in'</span> <span class="token punctuation">:</span> <span class="token string">' failed to log in'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">askPassword</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>ä½ åªèƒ½ä¿®æ”¹é«˜äº®éƒ¨åˆ†çš„ä»£ç ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token function">askPassword</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>login<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>login<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 20</title>
    <url>/2020/11/20/xue-xi-bi-ji-2020-11-20/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-20"><a href="#å­¦ä¹ ç¬”è®°-2020-11-20" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-20"></a>å­¦ä¹ ç¬”è®° 2020-11-20</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="æ¨¡æ‹Ÿäº‹ä»¶"><a href="#æ¨¡æ‹Ÿäº‹ä»¶" class="headerlink" title="æ¨¡æ‹Ÿäº‹ä»¶"></a>æ¨¡æ‹Ÿäº‹ä»¶</h4><h5 id="DOM-äº‹ä»¶æ¨¡æ‹Ÿ"><a href="#DOM-äº‹ä»¶æ¨¡æ‹Ÿ" class="headerlink" title="DOM äº‹ä»¶æ¨¡æ‹Ÿ"></a>DOM äº‹ä»¶æ¨¡æ‹Ÿ</h5><p>createEvent( eventType: string ) =&gt; event: object</p>
<ol>
<li><p>æ¨¡æ‹Ÿé”®ç›˜äº‹ä»¶</p>
<ul>
<li>eventType: â€œMouseEventâ€</li>
<li>event.initMouseEvent()</li>
</ul>
</li>
<li><p>æ¨¡æ‹Ÿé”®ç›˜äº‹ä»¶</p>
<ul>
<li>eventType: â€œKeyboardEventâ€</li>
<li>event.initKeyboardEvent()</li>
<li>event createEvent(â€œEventsâ€)</li>
<li>event.initEvent()</li>
</ul>
</li>
<li><p>æ¨¡æ‹Ÿå…¶ä»–äº‹ä»¶</p>
<ul>
<li>eventType: â€œHTMLEventsâ€</li>
<li>event.initEvent()</li>
</ul>
</li>
<li><p>è‡ªå®šä¹‰ DOM äº‹ä»¶</p>
<ul>
<li><p>eventType: â€œCustomEventsâ€</p>
</li>
<li><p>event.initCustomEvent()</p>
</li>
</ul>
</li>
</ol>
<h5 id="IE-äº‹ä»¶æ¨¡æ‹Ÿ"><a href="#IE-äº‹ä»¶æ¨¡æ‹Ÿ" class="headerlink" title="IE äº‹ä»¶æ¨¡æ‹Ÿ"></a>IE äº‹ä»¶æ¨¡æ‹Ÿ</h5><ul>
<li>createEventObject() =&gt; event: object</li>
<li>fireEvent( name:string, event: object)</li>
</ul>
<h3 id="åŠ¨ç”»ä¸-Canvas-å›¾å½¢"><a href="#åŠ¨ç”»ä¸-Canvas-å›¾å½¢" class="headerlink" title="åŠ¨ç”»ä¸ Canvas å›¾å½¢"></a>åŠ¨ç”»ä¸ Canvas å›¾å½¢</h3><h4 id="ä½¿ç”¨-requestAnimationFrame"><a href="#ä½¿ç”¨-requestAnimationFrame" class="headerlink" title="ä½¿ç”¨ requestAnimationFrame"></a>ä½¿ç”¨ requestAnimationFrame</h4><p>è¯¥æ–¹æ³•è®©æµè§ˆå™¨é€šè¿‡æœ€ä¼˜æ–¹å¼ç¡®å®šé‡ç»˜çš„æ—¶åºã€‚</p>
<h5 id="æ—©æœŸå®šæ—¶åŠ¨ç”»"><a href="#æ—©æœŸå®šæ—¶åŠ¨ç”»" class="headerlink" title="æ—©æœŸå®šæ—¶åŠ¨ç”»"></a>æ—©æœŸå®šæ—¶åŠ¨ç”»</h5><p>ä¸€èˆ¬è®¡ç®—æœºæ˜¾ç¤ºå™¨çš„å±å¹•åˆ·æ–°ç‡éƒ½æ˜¯ 60Hzï¼Œæ„å‘³ç€æ¯ç§’éœ€è¦é‡ç»˜ 60 æ¬¡ã€‚å®ç°å¹³æ»‘åŠ¨ç”»æœ€ä½³çš„é‡ç»˜é—´éš”ä¸º 1000 æ¯«ç§’ / 60ï¼Œå¤§çº¦ 17 æ¯«ç§’ã€‚</p>
<h5 id="æ—¶é—´é—´éš”çš„é—®é¢˜"><a href="#æ—¶é—´é—´éš”çš„é—®é¢˜" class="headerlink" title="æ—¶é—´é—´éš”çš„é—®é¢˜"></a>æ—¶é—´é—´éš”çš„é—®é¢˜</h5><p>çŸ¥é“ä½•æ—¶ç»˜åˆ¶ä¸‹ä¸€å¸§æ˜¯åˆ›é€ å¹³æ»‘åŠ¨ç”»çš„å…³é”®ã€‚æµè§ˆå™¨è‡ªèº«è®¡æ—¶å™¨å­˜åœ¨ç²¾åº¦é—®é¢˜ã€‚</p>
<h5 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h5><p>æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œä¸€ä¸ª DOMHighResTimeStamp çš„å®ä¾‹ã€‚è¡¨ç¤ºä¸‹æ¬¡é‡ç»˜çš„æ—¶é—´ã€‚</p>
<h5 id="cancelAnimationFrame"><a href="#cancelAnimationFrame" class="headerlink" title="cancelAnimationFrame"></a>cancelAnimationFrame</h5><h5 id="é€šè¿‡-requestAnimationFrame-èŠ‚æµ"><a href="#é€šè¿‡-requestAnimationFrame-èŠ‚æµ" class="headerlink" title="é€šè¿‡ requestAnimationFrame èŠ‚æµ"></a>é€šè¿‡ requestAnimationFrame èŠ‚æµ</h5><p>è°ƒç”¨è¯¥æ–¹æ³•ä¼šå°†å›è°ƒå‡½æ•°æ¨å…¥ä¸€ä¸ªé‡ç»˜ä¹‹å‰è°ƒç”¨çš„é’©å­é˜Ÿåˆ—ä¸­ï¼Œå¯ç”¨äºèŠ‚æµã€‚</p>
<h4 id="åŸºæœ¬çš„ç”»å¸ƒåŠŸèƒ½"><a href="#åŸºæœ¬çš„ç”»å¸ƒåŠŸèƒ½" class="headerlink" title="åŸºæœ¬çš„ç”»å¸ƒåŠŸèƒ½"></a>åŸºæœ¬çš„ç”»å¸ƒåŠŸèƒ½</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>drawing<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  A drawing of something
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> drawing <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'drawing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ç¡®ä¿æµè§ˆå™¨æ”¯æŒ&lt;canvas></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>drawing<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> context <span class="token operator">=</span> drawing<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// å…¶ä»–ä»£ç </span>
<span class="token punctuation">}</span></code></pre>
<p>å¯ä»¥é€šè¿‡ <code>toDataURL()</code> æ–¹æ³•å¯¼å‡º <code>&lt;canvas&gt;</code> å…ƒç´ ä¸Šçš„å›¾åƒã€‚æ¥æ”¶å‚æ•°ï¼Œè¦ç”Ÿæˆå›¾åƒçš„ MIME ç±»å‹ã€‚</p>
<h4 id="2D-ç»˜å›¾ä¸Šä¸‹æ–‡"><a href="#2D-ç»˜å›¾ä¸Šä¸‹æ–‡" class="headerlink" title="2D ç»˜å›¾ä¸Šä¸‹æ–‡"></a>2D ç»˜å›¾ä¸Šä¸‹æ–‡</h4><p>2D ä¸Šä¸‹æ–‡çš„åæ ‡åŸç‚¹ä½äºç”»å¸ƒå·¦ä¸Šè§’ã€‚</p>
<h5 id="å¡«å……å’Œæè¾¹"><a href="#å¡«å……å’Œæè¾¹" class="headerlink" title="å¡«å……å’Œæè¾¹"></a>å¡«å……å’Œæè¾¹</h5><ul>
<li>fillStyle</li>
<li>strokeStyle</li>
</ul>
<p>è¿™ä¸¤ä¸ªå±æ€§å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ¸å˜å¯¹è±¡æˆ–å›¾æ¡ˆå¯¹è±¡ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘ï¼Œcall-apply"><a href="#è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘ï¼Œcall-apply" class="headerlink" title="è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘ï¼Œcall/apply"></a>è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘ï¼Œcall/apply</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>é—´è°è£…é¥°å™¨</p>
<p>åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨ <code>spy(func)</code>ï¼Œå®ƒåº”è¯¥è¿”å›ä¸€ä¸ªåŒ…è£…å™¨ï¼Œè¯¥åŒ…è£…å™¨å°†æ‰€æœ‰å¯¹å‡½æ•°çš„è°ƒç”¨ä¿å­˜åœ¨å…¶ <code>calls</code> å±æ€§ä¸­ã€‚</p>
<p>æ¯ä¸ªè°ƒç”¨éƒ½ä¿å­˜ä¸ºä¸€ä¸ªå‚æ•°æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">work</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> a <span class="token operator">+</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// work æ˜¯ä¸€ä¸ªä»»æ„çš„å‡½æ•°æˆ–æ–¹æ³•</span>
<span class="token punctuation">}</span>

work <span class="token operator">=</span> <span class="token function">spy</span><span class="token punctuation">(</span>work<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">work</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
<span class="token function">work</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 9</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> args <span class="token keyword">of</span> work<span class="token punctuation">.</span>calls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'call:'</span> <span class="token operator">+</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "call:1,2", "call:4,5"</span>
<span class="token punctuation">}</span></code></pre>
<p>P.S. è¯¥è£…é¥°å™¨æœ‰æ—¶å¯¹äºå•å…ƒæµ‹è¯•å¾ˆæœ‰ç”¨ã€‚å®ƒçš„é«˜çº§å½¢å¼æ˜¯ <a href="http://sinonjs.org/" target="_blank" rel="noopener">Sinon.JS</a> åº“ä¸­çš„ <code>sinon.spy</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">spy</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">it</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    it<span class="token punctuation">.</span>calls<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  it<span class="token punctuation">.</span>calls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> it<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>å»¶æ—¶è£…é¥°å™¨</p>
<p>åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨ <code>delay(f, ms)</code>ï¼Œè¯¥è£…é¥°å™¨å°† <code>f</code> çš„æ¯æ¬¡è°ƒç”¨å»¶æ—¶ <code>ms</code> æ¯«ç§’ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// create wrappers</span>
<span class="token keyword">let</span> f1000 <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f1500 <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">f1000</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åœ¨ 1000ms åæ˜¾ç¤º "test"</span>
<span class="token function">f1500</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åœ¨ 1500ms åæ˜¾ç¤º "test"</span></code></pre>
<p>æ¢å¥è¯è¯´ï¼Œ<code>delay(f, ms)</code> è¿”å›çš„æ˜¯å»¶è¿Ÿ <code>ms</code> åçš„ <code>f</code> çš„å˜ä½“ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>f</code> æ˜¯å•ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œä½†æ˜¯ä½ çš„è§£å†³æ–¹æ¡ˆåº”è¯¥ä¼ é€’æ‰€æœ‰å‚æ•°å’Œä¸Šä¸‹æ–‡ <code>this</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
     func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>é˜²æŠ–è£…é¥°å™¨</p>
<p><code>debounce(f, ms)</code> è£…é¥°å™¨çš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼Œè¯¥åŒ…è£…å™¨å°†æš‚åœå¯¹ <code>f</code> çš„è°ƒç”¨ï¼Œç›´åˆ°ç»è¿‡ <code>ms</code> æ¯«ç§’çš„éæ´»åŠ¨çŠ¶æ€ï¼ˆæ²¡æœ‰å‡½æ•°è°ƒç”¨ï¼Œâ€œå†·å´æœŸâ€ï¼‰ï¼Œç„¶åä½¿ç”¨æœ€æ–°çš„å‚æ•°è°ƒç”¨ <code>f</code> ä¸€æ¬¡ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œ<code>debounce</code> å°±åƒä¸€ä¸ªâ€œæ¥å¬ç”µè¯â€çš„ç§˜ä¹¦ï¼Œå¹¶ä¸€ç›´ç­‰åˆ° <code>ms</code> æ¯«ç§’çš„å®‰é™æ—¶é—´ä¹‹åï¼Œæ‰å°†æœ€æ–°çš„å‘¼å«ä¿¡æ¯ä¼ è¾¾ç»™â€œè€æ¿â€ï¼ˆè°ƒç”¨å®é™…çš„ <code>f</code>ï¼‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•° <code>f</code>ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸º <code>f = debounce(f, 1000)</code>ã€‚</p>
<p>ç„¶åï¼Œå¦‚æœåŒ…è£…å‡½æ•°éåˆ«åœ¨ 0msã€200ms å’Œ 500ms æ—¶è¢«è°ƒç”¨äº†ï¼Œä¹‹åæ²¡æœ‰å…¶ä»–è°ƒç”¨ï¼Œé‚£ä¹ˆå®é™…çš„ <code>f</code> åªä¼šåœ¨ 1500ms æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šä»æœ€åä¸€æ¬¡è°ƒç”¨å¼€å§‹ç»è¿‡ 1000ms çš„å†·å´æœŸä¹‹åã€‚</p>
<p>â€¦â€¦å¹¶ä¸”ï¼Œå®ƒå°†è·å¾—æœ€åä¸€ä¸ªè°ƒç”¨çš„æ‰€æœ‰å‚æ•°ï¼Œå…¶ä»–è°ƒç”¨çš„å‚æ•°å°†è¢«å¿½ç•¥ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å…¶å®ç°ä»£ç ï¼ˆä½¿ç”¨äº† <a href="https://lodash.com/docs/4.17.15#debounce" target="_blank" rel="noopener">Lodash library</a> ä¸­çš„é˜²æŠ–è£…é¥°å™¨ ):</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> f <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>alert<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// é˜²æŠ–å‡½æ•°ä»æœ€åä¸€æ¬¡å‡½æ•°è°ƒç”¨ä»¥åç­‰å¾… 1000msï¼Œç„¶åæ‰§è¡Œï¼šalert("c")</span></code></pre>
<p>ç°åœ¨æˆ‘ä»¬ä¸¾ä¸€ä¸ªå®é™…ä¸­çš„ä¾‹å­ã€‚å‡è®¾ç”¨æˆ·è¾“å…¥äº†ä¸€äº›å†…å®¹ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨ç”¨æˆ·è¾“å…¥å®Œæˆæ—¶å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚</p>
<p>æˆ‘ä»¬æ²¡æœ‰å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­—ç¬¦çš„è¾“å…¥éƒ½å‘é€è¯·æ±‚ã€‚ç›¸åï¼Œæˆ‘ä»¬æƒ³è¦ç­‰ä¸€æ®µæ—¶é—´ï¼Œç„¶åå¤„ç†æ•´ä¸ªç»“æœã€‚</p>
<p>åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åº â€”â€” ä¸€ä¸ªåœ¨æ¯æ¬¡è¾“å…¥å†…å®¹å‘ç”Ÿæ”¹åŠ¨æ—¶éƒ½ä¼šè°ƒç”¨çš„å‡½æ•°ã€‚é€šå¸¸ï¼Œç›‘å¬æ‰€æœ‰æŒ‰é”®è¾“å…¥çš„äº‹ä»¶çš„å¤„ç†ç¨‹åºä¼šè¢«è°ƒç”¨çš„éå¸¸é¢‘ç¹ã€‚ä½†å¦‚æœæˆ‘ä»¬ä¸ºè¿™ä¸ªå¤„ç†ç¨‹åºåšä¸€ä¸ª 1000ms çš„ <code>debounce</code> å¤„ç†ï¼Œå®ƒä»…ä¼šåœ¨æœ€åä¸€æ¬¡è¾“å…¥åçš„ 1000ms åè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p>åœ¨è¿™ä¸ªå®æ—¶æ¼”ç¤ºçš„ç¤ºä¾‹ä¸­ï¼Œå¤„ç†ç¨‹åºå°†ç»“æœæ˜¾ç¤ºåœ¨äº†ä¸‹é¢çš„æ–¹æ¡†ä¸­ï¼Œè¯•è¯•çœ‹ï¼š</p>
<iframe class="code-result__iframe" data-trusted="1" src="https://zh.js.cx/task/debounce/debounce/" style="display: block; border: 0px; width: 701px; height: 200px;"></iframe>

<p>çœ‹åˆ°äº†å—ï¼Ÿç¬¬äºŒä¸ªè¾“å…¥æ¡†è°ƒç”¨äº†é˜²æŠ–å‡½æ•°ï¼Œæ‰€ä»¥å®ƒçš„å†…å®¹æ˜¯åœ¨æœ€åä¸€æ¬¡è¾“å…¥çš„ 1000ms åè¢«å¤„ç†çš„ã€‚</p>
<p>å› æ­¤ï¼Œ<code>debounce</code> æ˜¯ä¸€ä¸ªå¤„ç†ä¸€ç³»åˆ—äº‹ä»¶çš„å¥½æ–¹æ³•ï¼šæ— è®ºæ˜¯ç³»åˆ—é”®ç›˜è¾“å…¥ï¼Œé¼ æ ‡ç§»åŠ¨è¿˜æ˜¯å…¶ä»–ç±»ä¼¼çš„äº‹ä»¶ã€‚</p>
<p>å®ƒåœ¨æœ€åä¸€æ¬¡è°ƒç”¨ä¹‹åç­‰å¾…ç»™å®šçš„æ—¶é—´ï¼Œç„¶åè¿è¡Œå…¶å¯ä»¥å¤„ç†ç»“æœçš„å‡½æ•°ã€‚</p>
<p>ä»»åŠ¡æ˜¯å®ç°ä¸€ä¸ª <code>debounce</code> è£…é¥°å™¨ã€‚</p>
<p>æç¤ºï¼šå¦‚æœä½ å¥½å¥½æƒ³æƒ³ï¼Œå®ç°å®ƒåªéœ€è¦å‡ è¡Œä»£ç  :)</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    timeId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>èŠ‚æµè£…é¥°å™¨</p>
<p>åˆ›å»ºä¸€ä¸ªâ€œèŠ‚æµâ€è£…é¥°å™¨ <code>throttle(f, ms)</code> â€”â€” è¿”å›ä¸€ä¸ªåŒ…è£…å™¨ã€‚</p>
<p>å½“è¢«å¤šæ¬¡è°ƒç”¨æ—¶ï¼Œå®ƒä¼šåœ¨æ¯ <code>ms</code> æ¯«ç§’æœ€å¤šå°†è°ƒç”¨ä¼ é€’ç»™ <code>f</code> ä¸€æ¬¡ã€‚</p>
<p>ä¸å»æŠ–çš„ä¸åŒæ˜¯ï¼Œå®ƒæ˜¯ä¸ªå®Œå…¨ä¸åŒçš„è£…é¥°å™¨ï¼š</p>
<ul>
<li><code>debounce</code> ä¼šåœ¨â€œå†·å´ï¼ˆcooldownï¼‰â€æœŸåè¿è¡Œå‡½æ•°ä¸€æ¬¡ã€‚é€‚ç”¨äºå¤„ç†æœ€ç»ˆç»“æœã€‚</li>
<li><code>throttle</code> è¿è¡Œå‡½æ•°çš„é¢‘ç‡ä¸ä¼šå¤§äºæ‰€ç»™å®šçš„æ—¶é—´ <code>ms</code> æ¯«ç§’ã€‚é€‚ç”¨äºä¸åº”è¯¥ç»å¸¸è¿›è¡Œçš„å®šæœŸæ›´æ–°ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œ<code>throttle</code> å°±åƒæ¥ç”µè¯çš„ç§˜ä¹¦ï¼Œä½†æ˜¯æ‰“æ‰°è€æ¿ï¼ˆå®é™…è°ƒç”¨ <code>f</code>ï¼‰çš„é¢‘ç‡ä¸èƒ½è¶…è¿‡æ¯ <code>ms</code> æ¯«ç§’ä¸€æ¬¡ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ç°å®ç”Ÿæ´»ä¸­çš„åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£è¿™ä¸ªéœ€æ±‚ï¼Œå¹¶äº†è§£å®ƒçš„æ¥æºã€‚</p>
<p><strong>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è·Ÿè¸ªé¼ æ ‡ç§»åŠ¨ã€‚</strong></p>
<p>åœ¨æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶åœ¨æ¯æ¬¡é¼ æ ‡ç§»åŠ¨æ—¶è¿è¡Œï¼Œå¹¶è·å–é¼ æ ‡ç§»åŠ¨æ—¶çš„æŒ‡é’ˆä½ç½®ã€‚åœ¨ä½¿ç”¨é¼ æ ‡çš„è¿‡ç¨‹ä¸­ï¼Œæ­¤å‡½æ•°é€šå¸¸ä¼šæ‰§è¡Œåœ°éå¸¸é¢‘ç¹ï¼Œå¤§æ¦‚æ¯ç§’ 100 æ¬¡ï¼ˆæ¯ 10 æ¯«ç§’ï¼‰ã€‚</p>
<p><strong>æˆ‘ä»¬æƒ³è¦åœ¨é¼ æ ‡æŒ‡é’ˆç§»åŠ¨æ—¶ï¼Œæ›´æ–°ç½‘é¡µä¸Šçš„æŸäº›ä¿¡æ¯ã€‚</strong></p>
<p>â€¦â€¦ä½†æ˜¯æ›´æ–°å‡½æ•° <code>update()</code> å¤ªé‡äº†ï¼Œæ— æ³•åœ¨æ¯ä¸ªå¾®å°ç§»åŠ¨ä¸Šéƒ½æ‰§è¡Œã€‚é«˜äºæ¯ 100ms æ›´æ–°ä¸€æ¬¡çš„æ›´æ–°é¢‘æ¬¡ä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å°†å…¶åŒ…è£…åˆ°è£…é¥°å™¨ä¸­ï¼šä½¿ç”¨ <code>throttle(update, 100)</code> ä½œä¸ºåœ¨æ¯æ¬¡é¼ æ ‡ç§»åŠ¨æ—¶è¿è¡Œçš„å‡½æ•°ï¼Œè€Œä¸æ˜¯åŸå§‹çš„ <code>update()</code>ã€‚è£…é¥°å™¨ä¼šè¢«é¢‘ç¹åœ°è°ƒç”¨ï¼Œä½†æ˜¯æœ€å¤šæ¯ 100ms å°†è°ƒç”¨è½¬å‘ç»™ <code>update()</code> ä¸€æ¬¡ã€‚</p>
<p>åœ¨è§†è§‰ä¸Šï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<ol>
<li>å¯¹äºç¬¬ä¸€ä¸ªé¼ æ ‡ç§»åŠ¨ï¼Œè£…é¥°çš„å˜ä½“ç«‹å³å°†è°ƒç”¨ä¼ é€’ç»™ <code>update</code>ã€‚è¿™å¾ˆé‡è¦ï¼Œç”¨æˆ·ä¼šç«‹å³çœ‹åˆ°æˆ‘ä»¬å¯¹å…¶åŠ¨ä½œçš„ååº”ã€‚</li>
<li>ç„¶åï¼Œéšç€é¼ æ ‡ç§»åŠ¨ï¼Œç›´åˆ° <code>100ms</code> æ²¡æœ‰ä»»ä½•ååº”ã€‚è£…é¥°çš„å˜ä½“å¿½ç•¥äº†è°ƒç”¨ã€‚</li>
<li>åœ¨ <code>100ms</code> ç»“æŸæ—¶ â€”â€” æœ€åä¸€ä¸ªåæ ‡åˆå‘ç”Ÿäº†ä¸€æ¬¡ <code>update</code>ã€‚</li>
<li>ç„¶åï¼Œæœ€åï¼Œé¼ æ ‡åœåœ¨æŸå¤„ã€‚è£…é¥°çš„å˜ä½“ä¼šç­‰åˆ° <code>100ms</code> åˆ°æœŸï¼Œç„¶åç”¨æœ€åä¸€ä¸ªåæ ‡è¿è¡Œä¸€æ¬¡ <code>update</code>ã€‚å› æ­¤ï¼Œéå¸¸é‡è¦çš„æ˜¯ï¼Œå¤„ç†æœ€ç»ˆçš„é¼ æ ‡åæ ‡ã€‚</li>
</ol>
<p>ä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// f1000 æœ€å¤šæ¯ 1000ms å°†è°ƒç”¨ä¼ é€’ç»™ f ä¸€æ¬¡</span>
<span class="token keyword">let</span> f1000 <span class="token operator">=</span> <span class="token function">throttle</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">f1000</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ˜¾ç¤º 1</span>
<span class="token function">f1000</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// (èŠ‚æµï¼Œå°šæœªåˆ° 1000ms)</span>
<span class="token function">f1000</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// (èŠ‚æµï¼Œå°šæœªåˆ° 1000ms)</span>

<span class="token comment" spellcheck="true">// å½“ 1000ms æ—¶é—´åˆ°...</span>
<span class="token comment" spellcheck="true">// ...è¾“å‡º 3ï¼Œä¸­é—´å€¼ 2 è¢«å¿½ç•¥</span></code></pre>
<p>P.S. å‚æ•°ï¼ˆargumentsï¼‰å’Œä¼ é€’ç»™ <code>f1000</code> çš„ä¸Šä¸‹æ–‡ <code>this</code> åº”è¯¥è¢«ä¼ é€’ç»™åŸå§‹çš„ <code>f</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    savedArgs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      savedArgs <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>savedArgs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        wrapper<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> savedArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        savedArgs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> wrapper<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 19</title>
    <url>/2020/11/19/xue-xi-bi-ji-2020-11-19/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-19"><a href="#å­¦ä¹ ç¬”è®°-2020-11-19" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-19"></a>å­¦ä¹ ç¬”è®° 2020-11-19</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="äº‹ä»¶ç±»å‹"><a href="#äº‹ä»¶ç±»å‹" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><h5 id="HTML5-äº‹ä»¶"><a href="#HTML5-äº‹ä»¶" class="headerlink" title="HTML5 äº‹ä»¶"></a>HTML5 äº‹ä»¶</h5><ol>
<li><p>DOMContentLoaded äº‹ä»¶</p>
<p>åœ¨ DOM æ ‘æ„å»ºå®Œæˆåç«‹å³è§¦å‘ã€‚</p>
</li>
<li><p>readystatechange äº‹ä»¶</p>
<p>event.readyState:</p>
<ul>
<li>uninitialized</li>
<li>event.loading</li>
<li>event.loaded</li>
<li>event.interactive</li>
<li>event.complete</li>
</ul>
</li>
<li><p>pageshow ä¸ pagehide äº‹ä»¶</p>
<p>å¾€è¿”ç¼“å­˜</p>
</li>
<li><p>hashchange äº‹ä»¶</p>
<p>ç”¨äºåœ¨ URL æ•£åˆ—å€¼å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚</p>
</li>
</ol>
<h5 id="è®¾å¤‡äº‹ä»¶"><a href="#è®¾å¤‡äº‹ä»¶" class="headerlink" title="è®¾å¤‡äº‹ä»¶"></a>è®¾å¤‡äº‹ä»¶</h5><ol>
<li><p>orientationchange äº‹ä»¶</p>
<p>åˆ¤æ–­è®¾å¤‡å¤„äºå‚ç›´è¿˜æ˜¯æ°´å¹³æ¨¡å¼ã€‚</p>
<p>window.orientation</p>
</li>
<li><p>deviceorientation äº‹ä»¶</p>
<ul>
<li>event.alpha</li>
<li>event.beta</li>
<li>event.gamma</li>
<li>event.absolute</li>
<li>event.compasCalibrated</li>
</ul>
</li>
<li><p>devicemotion äº‹ä»¶</p>
<ul>
<li>event.acceleration</li>
<li>event.accelerateionIncludingGravity</li>
<li>event.interval</li>
<li>event.rotationRate</li>
</ul>
</li>
</ol>
<h5 id="è§¦æ‘¸åŠæ‰‹åŠ¿äº‹ä»¶"><a href="#è§¦æ‘¸åŠæ‰‹åŠ¿äº‹ä»¶" class="headerlink" title="è§¦æ‘¸åŠæ‰‹åŠ¿äº‹ä»¶"></a>è§¦æ‘¸åŠæ‰‹åŠ¿äº‹ä»¶</h5><ol>
<li><p>è§¦æ‘¸äº‹ä»¶</p>
<ul>
<li>touchstart</li>
<li>touchmove</li>
<li>touchend</li>
<li>touchcancel</li>
</ul>
<p>eventå¯¹è±¡æä¾›ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>bubbles</li>
<li>cancelable</li>
<li>view</li>
<li>clientX</li>
<li>clientY</li>
<li>screenX</li>
<li>screenY</li>
<li>detail</li>
<li>altKey</li>
<li>shiftKey</li>
<li>ctrlKey</li>
<li>metaKey</li>
<li>touches</li>
<li>targetTouches</li>
<li>changedTouches</li>
</ul>
<p>æ¯ä¸ª Touch å¯¹è±¡åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>clientX</li>
<li>clientY</li>
<li>pageX</li>
<li>pageY</li>
<li>screenX</li>
<li>screenY</li>
<li>target</li>
</ul>
</li>
<li><p>æ‰‹åŠ¿äº‹ä»¶</p>
<ul>
<li>gesturestart</li>
<li>gesturechange</li>
<li>gesureend</li>
</ul>
</li>
</ol>
<h5 id="äº‹ä»¶å‚è€ƒ"><a href="#äº‹ä»¶å‚è€ƒ" class="headerlink" title="äº‹ä»¶å‚è€ƒ"></a>äº‹ä»¶å‚è€ƒ</h5><h4 id="å†…å­˜ä¸æ€§èƒ½"><a href="#å†…å­˜ä¸æ€§èƒ½" class="headerlink" title="å†…å­˜ä¸æ€§èƒ½"></a>å†…å­˜ä¸æ€§èƒ½</h4><h5 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h5><p>å‡å°‘é¡µé¢æ‰€éœ€å†…å­˜ï¼Œæå‡æ€§èƒ½ï¼ŒèŠ‚çœ DOM å¼•ç”¨ã€‚</p>
<h5 id="åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº"></a>åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº</h5><p>ç›´æ¥æ›¿æ¢ innerHTML ï¼Œä¸ä¼šåˆ é™¤å…¶ä¸­å…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<p>é¡µé¢å¸è½½åå¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºæ²¡æœ‰è¢«æ¸…ç†ï¼Œåˆ™ä»ç„¶æ®‹ç•™åœ¨å†…å­˜ä¸­ã€‚</p>
<h4 id="æ¨¡æ‹Ÿäº‹ä»¶"><a href="#æ¨¡æ‹Ÿäº‹ä»¶" class="headerlink" title="æ¨¡æ‹Ÿäº‹ä»¶"></a>æ¨¡æ‹Ÿäº‹ä»¶</h4><h5 id="DOM-äº‹ä»¶æ¨¡æ‹Ÿ"><a href="#DOM-äº‹ä»¶æ¨¡æ‹Ÿ" class="headerlink" title="DOM äº‹ä»¶æ¨¡æ‹Ÿ"></a>DOM äº‹ä»¶æ¨¡æ‹Ÿ</h5><p>é€šè¿‡ document.createEvent() åˆ›å»º event å¯¹è±¡ã€‚é€šè¿‡ dispatchEvent() è§¦å‘äº‹ä»¶ã€‚</p>
<ol>
<li>æ¨¡æ‹Ÿé¼ æ ‡äº‹ä»¶</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="è°ƒåº¦ï¼šsetTimeout-å’Œ-setInterval"><a href="#è°ƒåº¦ï¼šsetTimeout-å’Œ-setInterval" class="headerlink" title="è°ƒåº¦ï¼šsetTimeout å’Œ setInterval"></a>è°ƒåº¦ï¼šsetTimeout å’Œ setInterval</h3><p>alert å¼¹çª—æ—¶è®¡æ—¶å™¨ä¾ç„¶åœ¨è®¡æ—¶ã€‚</p>
<h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>æ¯ç§’è¾“å‡ºä¸€æ¬¡</p>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>printNumbers(from, to)</code>ï¼Œä½¿å…¶æ¯ç§’è¾“å‡ºä¸€ä¸ªæ•°å­—ï¼Œæ•°å­—ä» <code>from</code> å¼€å§‹ï¼Œåˆ° <code>to</code> ç»“æŸã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•æ¥å®ç°ã€‚</p>
<ol>
<li>ä½¿ç”¨ <code>setInterval</code>ã€‚</li>
<li>ä½¿ç”¨åµŒå¥—çš„ <code>setTimeout</code>ã€‚</li>
</ol>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token keyword">from</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> timeId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> to<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> to<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> to<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span>run<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>run<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>setTimeout ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</p>
<p>ä¸‹é¢ä»£ç ä¸­ä½¿ç”¨ <code>setTimeout</code> è°ƒåº¦äº†ä¸€ä¸ªè°ƒç”¨ï¼Œç„¶åéœ€è¦è¿è¡Œä¸€ä¸ªè®¡ç®—é‡å¾ˆå¤§çš„ <code>for</code> å¾ªç¯ï¼Œè¿™æ®µè¿ç®—è€—æ—¶è¶…è¿‡ 100 æ¯«ç§’ã€‚</p>
<p>è°ƒåº¦çš„å‡½æ•°ä¼šåœ¨ä½•æ—¶è¿è¡Œï¼Ÿ</p>
<ol>
<li>å¾ªç¯æ‰§è¡Œå®Œæˆåã€‚</li>
<li>å¾ªç¯æ‰§è¡Œå‰ã€‚</li>
<li>å¾ªç¯åˆšå¼€å§‹æ—¶ã€‚</li>
</ol>
<p><code>alert</code> ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>

<span class="token comment" spellcheck="true">// å‡è®¾è¿™æ®µä»£ç çš„è¿è¡Œæ—¶é—´ >100ms</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">100000000</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å¾ªç¯æ‰§è¡Œå®Œæˆåã€‚100000000ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 18</title>
    <url>/2020/11/18/xue-xi-bi-ji-2020-11-18/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-18"><a href="#å­¦ä¹ ç¬”è®°-2020-11-18" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-18"></a>å­¦ä¹ ç¬”è®° 2020-11-18</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="äº‹ä»¶ç±»å‹"><a href="#äº‹ä»¶ç±»å‹" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><h5 id="é¼ æ ‡å’Œæ»šè½®äº‹ä»¶"><a href="#é¼ æ ‡å’Œæ»šè½®äº‹ä»¶" class="headerlink" title="é¼ æ ‡å’Œæ»šè½®äº‹ä»¶"></a>é¼ æ ‡å’Œæ»šè½®äº‹ä»¶</h5><ol>
<li><p>ç›¸å…³å…ƒç´ </p>
<p>event.relatedTargetï¼Œmouseover æ—¶ï¼Œä¸»è¦ç›®æ ‡æ˜¯è·å¾—å…‰æ ‡çš„å…ƒç´ ï¼Œç›¸å…³å…ƒç´ æ˜¯å¤±å»å…‰æ ‡çš„å…ƒç´ ï¼Œmouseout ç±»ä¼¼ã€‚</p>
<p>IE8 åŠæ›´æ—©ç‰ˆæœ¬æä¾› fromElement å’Œ toElement æ¥æ›¿ä»£ã€‚</p>
</li>
<li><p>é¼ æ ‡æŒ‰é”®</p>
<p>event.button</p>
<ul>
<li>0 ä¸»é”®</li>
<li>1 ä¸­é”®</li>
<li>2 å‰¯é”®</li>
</ul>
<p>IE8 åŠæ›´æ—©ç‰ˆæœ¬ï¼š</p>
<ul>
<li>0 æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•é”®</li>
<li>1 ä¸»é”®</li>
<li>2 å‰¯é”®</li>
<li>3 åŒæ—¶ä¸»é”®ã€å‰¯é”®</li>
<li>4 ä¸­é”®</li>
<li>5 åŒæ—¶ä¸»é”®ã€ä¸­é”®</li>
<li>6 åŒæ—¶å‰¯é”®ã€ä¸­é”®</li>
<li>7 åŒæ—¶ 3 ä¸ªé”®</li>
</ul>
</li>
<li><p>é¢å¤–äº‹ä»¶ä¿¡æ¯</p>
<p>event.detail</p>
<ul>
<li>é¼ æ ‡äº‹ä»¶ä¸­ï¼Œå€¼ä¸ºç»™å®šä½ç½®å‘ç”Ÿå•å‡»çš„æ¬¡æ•°ã€‚</li>
</ul>
<p>IE è¿˜æä¾›äº†ï¼š</p>
<ul>
<li>altLeftï¼Œæ˜¯å¦æŒ‰ä¸‹ï¼Œä¸‹åŒã€‚</li>
<li>ctrlLeft</li>
<li>offsetXï¼Œå…‰æ ‡ç›¸å¯¹äºç›®æ ‡å…ƒç´ è¾¹ç•Œçš„ X åæ ‡ã€‚</li>
<li>offsetY</li>
<li>shiftLeft</li>
</ul>
</li>
<li><p>mousewheel äº‹ä»¶</p>
<p>è¯¥äº‹ä»¶åœ¨ä»»ä½•å…ƒç´ ä¸Šè§¦å‘ï¼Œå¹¶å†’æ³¡åˆ° document ( IE8 ) å’Œ window ã€‚</p>
<p>event.wheelDelta</p>
</li>
<li><p>è§¦æ‘¸å±è®¾å¤‡</p>
<ul>
<li>ä¸æ”¯æŒ dbclickã€‚</li>
<li>å•æŒ‡ç‚¹å‡»å¯ç‚¹å‡»å…ƒç´ è§¦å‘ mousemoveã€‚å¦‚æœå±å¹•æ²¡æœ‰å˜åŒ–ï¼Œç›¸ç»§è§¦å‘ mousedownã€mouseup å’Œ click äº‹ä»¶ã€‚</li>
<li>mousemove ä¹Ÿä¼šè§¦å‘ mouseover å’Œ mouseoutã€‚</li>
<li>åŒæŒ‡ç‚¹è§¦å¹¶æ»‘åŠ¨ä¼šè§¦å‘ mousewheel å’Œ scroll ã€‚</li>
</ul>
</li>
<li><p>æ— éšœç¢é—®é¢˜</p>
</li>
</ol>
<h5 id="é”®ç›˜ä¸è¾“å…¥äº‹ä»¶"><a href="#é”®ç›˜ä¸è¾“å…¥äº‹ä»¶" class="headerlink" title="é”®ç›˜ä¸è¾“å…¥äº‹ä»¶"></a>é”®ç›˜ä¸è¾“å…¥äº‹ä»¶</h5><ul>
<li>keydownï¼ŒæŒ‰ä¸‹è§¦å‘ï¼ŒæŒç»­æŒ‰ä½é‡å¤è§¦å‘ã€‚</li>
<li>keypressï¼ŒåŒæ ·é‡å¤è§¦å‘ã€‚</li>
<li>keyup</li>
<li>textInputï¼Œåœ¨æ–‡æœ¬è¢«æ’å…¥åˆ°æ–‡æœ¬æ¡†ä¹‹å‰è§¦å‘ã€‚</li>
</ul>
<p>è§¦å‘é¡ºåºï¼škeydown -&gt; keypress -&gt; keyup</p>
<ol>
<li><p>é”®ç </p>
<p>event.keyCode</p>
</li>
<li><p>å­—ç¬¦ç¼–ç </p>
<p>event.charCodeï¼Œåªä¼šåœ¨ keypress äº‹ä»¶è¢«è®¾ç½®ã€‚</p>
</li>
<li><p>DOM3 çš„å˜åŒ–</p>
<ul>
<li>event.key || event.keyIdentifier</li>
<li>event.char</li>
<li>event.location<ul>
<li>0 é»˜è®¤</li>
<li>1 å·¦è¾¹</li>
<li>2 å³è¾¹</li>
<li>3 æ•°å­—é”®ç›˜</li>
<li>4 ç§»åŠ¨è®¾å¤‡</li>
<li>5 æ¸¸æˆæ‰‹æŸ„</li>
</ul>
</li>
<li>event.getModifierState()</li>
</ul>
</li>
<li><p>textInput äº‹ä»¶</p>
<ul>
<li>event.data</li>
<li>event.inputMethod</li>
</ul>
</li>
<li><p>è®¾å¤‡ä¸Šçš„é”®ç›˜äº‹ä»¶</p>
</li>
</ol>
<h5 id="åˆæˆäº‹ä»¶"><a href="#åˆæˆäº‹ä»¶" class="headerlink" title="åˆæˆäº‹ä»¶"></a>åˆæˆäº‹ä»¶</h5><ul>
<li>compositionstart</li>
<li>compositionupdate</li>
<li>compositionend</li>
</ul>
<h5 id="å˜åŒ–äº‹ä»¶"><a href="#å˜åŒ–äº‹ä»¶" class="headerlink" title="å˜åŒ–äº‹ä»¶"></a>å˜åŒ–äº‹ä»¶</h5><h5 id="HTML5-äº‹ä»¶"><a href="#HTML5-äº‹ä»¶" class="headerlink" title="HTML5 äº‹ä»¶"></a>HTML5 äº‹ä»¶</h5><ol>
<li>contextmenu äº‹ä»¶</li>
<li>beforeunload äº‹ä»¶</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 17</title>
    <url>/2020/11/17/xue-xi-bi-ji-2020-11-17/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-17"><a href="#å­¦ä¹ ç¬”è®°-2020-11-17" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-17"></a>å­¦ä¹ ç¬”è®° 2020-11-17</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="äº‹ä»¶ç±»å‹"><a href="#äº‹ä»¶ç±»å‹" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><h5 id="ç”¨æˆ·ç•Œé¢äº‹ä»¶"><a href="#ç”¨æˆ·ç•Œé¢äº‹ä»¶" class="headerlink" title="ç”¨æˆ·ç•Œé¢äº‹ä»¶"></a>ç”¨æˆ·ç•Œé¢äº‹ä»¶</h5><ul>
<li>DOMActivate</li>
<li>load</li>
<li>unload</li>
<li>abort</li>
<li>error</li>
<li>select</li>
<li>resize</li>
<li>scroll</li>
</ul>
<ol>
<li><p>load äº‹ä»¶</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ window ä¸Šå‘ç”Ÿçš„äº‹ä»¶ï¼Œéƒ½å¯ä»¥é€šè¿‡ç»™ <code>&lt;body&gt;</code> å…ƒç´ ä¸Šå¯¹åº”çš„å±æ€§èµ‹å€¼æ¥æŒ‡å®šã€‚</p>
</li>
<li><p>unload äº‹ä»¶</p>
</li>
<li><p>resize äº‹ä»¶</p>
</li>
<li><p>scroll äº‹ä»¶</p>
<p>scroll äº‹ä»¶å‘ç”Ÿåœ¨ window ä¸Šã€‚åœ¨æ··æ‚æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ body å…ƒç´ æ£€æµ‹ scrollLeft å’Œ scrollTop å±æ€§çš„å˜åŒ–ã€‚åœ¨æ ‡å‡†æ¨¡å¼ä¸‹ï¼Œè¿™äº›å˜åŒ–åœ¨é™¤æ—©æœŸç‰ˆçš„ Safari ä¹‹å¤–çš„æ‰€æœ‰æµè§ˆå™¨ä¸Šéƒ½å‘ç”Ÿåœ¨ html å…ƒç´ ä¸Šã€‚</p>
<pre class=" language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> event <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">'CSS1Compat'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h5 id="ç„¦ç‚¹äº‹ä»¶"><a href="#ç„¦ç‚¹äº‹ä»¶" class="headerlink" title="ç„¦ç‚¹äº‹ä»¶"></a>ç„¦ç‚¹äº‹ä»¶</h5><ul>
<li>blur</li>
<li>DOMFocusIn</li>
<li>DOMFocusOut</li>
<li>focus</li>
<li>focusin</li>
<li>focusout</li>
</ul>
<h5 id="é¼ æ ‡å’Œæ»šè½®äº‹ä»¶"><a href="#é¼ æ ‡å’Œæ»šè½®äº‹ä»¶" class="headerlink" title="é¼ æ ‡å’Œæ»šè½®äº‹ä»¶"></a>é¼ æ ‡å’Œæ»šè½®äº‹ä»¶</h5><ul>
<li>clickï¼Œå“åº”é¼ æ ‡ä¸»é”®å’Œé”®ç›˜å›è½¦é”®ã€‚</li>
<li>dbclick</li>
<li>mousedown</li>
<li>mouseenterï¼Œé¼ æ ‡å…‰æ ‡ä»å…ƒç´ å¤–éƒ¨ç§»åˆ°å…ƒç´ å†…éƒ¨ã€‚ä¸å†’æ³¡ã€‚</li>
<li>mouseleaveï¼Œé¼ æ ‡å…‰æ ‡ä»å…ƒç´ å†…éƒ¨ç§»åˆ°å…ƒç´ å¤–éƒ¨ã€‚ä¸å†’æ³¡ã€‚</li>
<li>mousemoveï¼Œé¼ æ ‡å…‰æ ‡åœ¨å…ƒç´ ä¸Šç§»åŠ¨ã€‚</li>
<li>mouseoutï¼Œé¼ æ ‡å…‰æ ‡ä»ä¸€ä¸ªå…ƒç´ ç§»åˆ°å¦ä¸€ä¸ªå…ƒç´ ã€‚</li>
<li>mouseoverï¼Œé¼ æ ‡å…‰æ ‡ä»å…ƒç´ å¤–éƒ¨ç§»åˆ°å…ƒç´ å†…éƒ¨ã€‚</li>
<li>mouseup</li>
<li>mousewheelï¼Œé¼ æ ‡æ»šè½®äº‹ä»¶ã€‚</li>
</ul>
<p>è§¦å‘é¡ºåºï¼š</p>
<ol>
<li>mousedown</li>
<li>mouseup</li>
<li>click</li>
<li>mousedown</li>
<li>mouseup</li>
<li>click</li>
<li>dbclick</li>
</ol>
<p>click å’Œ dbclick ä¾èµ–å…¶ä»–äº‹ä»¶è§¦å‘ã€‚</p>
<ol>
<li><p>å®¢æˆ·ç«¯åæ ‡</p>
<ul>
<li>event.clientX</li>
<li>event.clientY</li>
</ul>
<p>é¼ æ ‡å…‰æ ‡åœ¨è§†å£ä¸­çš„åæ ‡ã€‚</p>
</li>
<li><p>é¡µé¢åæ ‡</p>
<ul>
<li>event.pageX</li>
<li>event.pageY</li>
</ul>
<p>é¼ æ ‡å…‰æ ‡åœ¨é¡µé¢ä¸Šçš„åæ ‡ã€‚</p>
</li>
<li><p>å±å¹•åæ ‡</p>
<ul>
<li>event.screenX</li>
<li>event.screenY</li>
</ul>
<p>é¼ æ ‡å…‰æ ‡åœ¨æ•´ä¸ªå±å¹•ä¸Šçš„åæ ‡ã€‚</p>
</li>
<li><p>ä¿®é¥°é”®</p>
<ul>
<li>event.shiftKey</li>
<li>event.ctrlKey</li>
<li>event.altKey</li>
<li>event.metaKey</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å‡½æ•°å¯¹è±¡ï¼ŒNFE"><a href="#å‡½æ•°å¯¹è±¡ï¼ŒNFE" class="headerlink" title="å‡½æ•°å¯¹è±¡ï¼ŒNFE"></a>å‡½æ•°å¯¹è±¡ï¼ŒNFE</h3><ol>
<li><p>å±æ€§ï¼Œname</p>
<p>å‡½æ•°å</p>
</li>
<li><p>å±æ€§ï¼Œlength</p>
<p>å‡½æ•°å½¢å‚ä¸ªæ•°ï¼Œrest å‚æ•°ä¸å‚ä¸è®¡æ•°ã€‚</p>
</li>
<li><p>è‡ªå®šä¹‰å±æ€§</p>
</li>
<li><p>å‘½åå‡½æ•°è¡¨è¾¾å¼</p>
</li>
</ol>
<h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>ä¸º counter æ·»åŠ  set å’Œ decrease æ–¹æ³•</p>
<p>ä¿®æ”¹ <code>makeCounter()</code> ä»£ç ï¼Œä½¿å¾— counter å¯ä»¥è¿›è¡Œå‡ä¸€å’Œè®¾ç½®å€¼çš„æ“ä½œï¼š</p>
<ul>
<li><code>counter()</code> åº”è¯¥è¿”å›ä¸‹ä¸€ä¸ªæ•°å­—ï¼ˆä¸ä¹‹å‰çš„é€»è¾‘ç›¸åŒï¼‰ã€‚</li>
<li><code>counter.set(value)</code> åº”è¯¥å°† <code>count</code> è®¾ç½®ä¸º <code>value</code>ã€‚</li>
<li><code>counter.decrease(value)</code> åº”è¯¥æŠŠ <code>count</code> å‡ 1ã€‚</li>
</ul>
<p>æŸ¥çœ‹æ²™ç®±ä¸­çš„ä»£ç è·å–å®Œæ•´ä½¿ç”¨ç¤ºä¾‹ã€‚</p>
<p>P.S. ä½ å¯ä»¥ä½¿ç”¨é—­åŒ…æˆ–è€…å‡½æ•°å±æ€§æ¥ä¿æŒå½“å‰çš„è®¡æ•°ï¼Œæˆ–è€…ä¸¤ç§éƒ½å†™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> counter<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  counter<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  counter<span class="token punctuation">.</span><span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  counter<span class="token punctuation">.</span>decrease <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> counter<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>ä»»æ„æ•°é‡çš„æ‹¬å·æ±‚å’Œ</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>sum</code>ï¼Œå®ƒæœ‰è¿™æ ·çš„åŠŸèƒ½ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1 + 2</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1 + 2 + 3</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">15</span></code></pre>
<p>P.S. æç¤ºï¼šä½ å¯èƒ½éœ€è¦åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡æ¥ä¸ºä½ çš„å‡½æ•°æä¾›åŸºæœ¬ç±»å‹è½¬æ¢ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> a<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num <span class="token operator">+</span><span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token keyword">return</span> f<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  f<span class="token punctuation">.</span>toString <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> f<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 16</title>
    <url>/2020/11/16/xue-xi-bi-ji-2020-11-16/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-16"><a href="#å­¦ä¹ ç¬”è®°-2020-11-16" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-16"></a>å­¦ä¹ ç¬”è®° 2020-11-16</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="äº‹ä»¶å¤„ç†ç¨‹åº"></a>äº‹ä»¶å¤„ç†ç¨‹åº</h4><h5 id="DOM2-äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#DOM2-äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="DOM2 äº‹ä»¶å¤„ç†ç¨‹åº"></a>DOM2 äº‹ä»¶å¤„ç†ç¨‹åº</h5><h5 id="IE-äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#IE-äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="IE äº‹ä»¶å¤„ç†ç¨‹åº"></a>IE äº‹ä»¶å¤„ç†ç¨‹åº</h5><ol>
<li>attachEvent()</li>
<li>detachEvent()</li>
</ol>
<p>IE ä¸­çš„äº‹ä»¶å¤„ç†ç¨‹åºä½œç”¨åŸŸæ˜¯åœ¨å…¨å±€ã€‚å¤šä¸ªäº‹ä»¶ç›‘å¬è§¦å‘é¡ºåºæ˜¯é€†åºã€‚</p>
<h5 id="è·¨æµè§ˆå™¨äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#è·¨æµè§ˆå™¨äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="è·¨æµè§ˆå™¨äº‹ä»¶å¤„ç†ç¨‹åº"></a>è·¨æµè§ˆå™¨äº‹ä»¶å¤„ç†ç¨‹åº</h5><h4 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h4><h5 id="DOM-äº‹ä»¶å¯¹è±¡"><a href="#DOM-äº‹ä»¶å¯¹è±¡" class="headerlink" title="DOM äº‹ä»¶å¯¹è±¡"></a>DOM äº‹ä»¶å¯¹è±¡</h5><p>æ‰€æœ‰äº‹ä»¶å¯¹è±¡çš„å…¬å…±å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>bubbles</li>
<li>cancelable</li>
<li>currentTarget</li>
<li>defaultPrevented</li>
<li>detail</li>
<li>eventPhase</li>
<li>preventDefault()</li>
<li>stopImmediatePropagation()</li>
<li>stopPropagation()</li>
<li>target</li>
<li>trusted</li>
<li>type</li>
<li>View</li>
</ul>
<p>äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œthis å¯¹è±¡å§‹ç»ˆç­‰äº currentTarget çš„å€¼ã€‚</p>
<h5 id="IE-äº‹ä»¶å¯¹è±¡"><a href="#IE-äº‹ä»¶å¯¹è±¡" class="headerlink" title="IE äº‹ä»¶å¯¹è±¡"></a>IE äº‹ä»¶å¯¹è±¡</h5><ol>
<li><p>DOM0</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> e <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>attachEvent()</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// event === window.event</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<p>IE äº‹ä»¶å¯¹è±¡çš„å…¬å…±å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>cancelBubble</li>
<li>returnValue</li>
<li>srcElement</li>
<li>type</li>
</ul>
<h5 id="è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡"><a href="#è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡" class="headerlink" title="è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡"></a>è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> EventUtil <span class="token operator">=</span> <span class="token punctuation">{</span>
  addHandler<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getEvent<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> event <span class="token operator">?</span> event <span class="token punctuation">:</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getTarget<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> event<span class="token punctuation">.</span>target <span class="token operator">||</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  preventDefault<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  removeHandler<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>detachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  stopPropagation<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 15</title>
    <url>/2020/11/15/xue-xi-bi-ji-2020-11-15/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-15"><a href="#å­¦ä¹ ç¬”è®°-2020-11-15" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-15"></a>å­¦ä¹ ç¬”è®° 2020-11-15</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM2-å’Œ-DOM3"><a href="#DOM2-å’Œ-DOM3" class="headerlink" title="DOM2 å’Œ DOM3"></a>DOM2 å’Œ DOM3</h3><h4 id="èŒƒå›´"><a href="#èŒƒå›´" class="headerlink" title="èŒƒå›´"></a>èŒƒå›´</h4><h5 id="æ“ä½œèŒƒå›´"><a href="#æ“ä½œèŒƒå›´" class="headerlink" title="æ“ä½œèŒƒå›´"></a>æ“ä½œèŒƒå›´</h5><ul>
<li>deleteContents()</li>
<li>extractContents()</li>
<li>cloneContents()</li>
</ul>
<h5 id="èŒƒå›´æ’å…¥"><a href="#èŒƒå›´æ’å…¥" class="headerlink" title="èŒƒå›´æ’å…¥"></a>èŒƒå›´æ’å…¥</h5><ul>
<li>insertNode()</li>
<li>surroundContents()</li>
</ul>
<h5 id="èŒƒå›´æŠ˜å "><a href="#èŒƒå›´æŠ˜å " class="headerlink" title="èŒƒå›´æŠ˜å "></a>èŒƒå›´æŠ˜å </h5><ul>
<li>collapse()</li>
<li>collapsed</li>
</ul>
<h5 id="èŒƒå›´æ¯”è¾ƒ"><a href="#èŒƒå›´æ¯”è¾ƒ" class="headerlink" title="èŒƒå›´æ¯”è¾ƒ"></a>èŒƒå›´æ¯”è¾ƒ</h5><ul>
<li>compareBoundaryPoints()</li>
</ul>
<h5 id="å¤åˆ¶èŒƒå›´"><a href="#å¤åˆ¶èŒƒå›´" class="headerlink" title="å¤åˆ¶èŒƒå›´"></a>å¤åˆ¶èŒƒå›´</h5><ul>
<li>cloneRange()</li>
</ul>
<h5 id="æ¸…ç†"><a href="#æ¸…ç†" class="headerlink" title="æ¸…ç†"></a>æ¸…ç†</h5><ul>
<li>detach()</li>
</ul>
<h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h4 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h4><h5 id="äº‹ä»¶å†’æ³¡"><a href="#äº‹ä»¶å†’æ³¡" class="headerlink" title="äº‹ä»¶å†’æ³¡"></a>äº‹ä»¶å†’æ³¡</h5><h5 id="äº‹ä»¶æ•è·"><a href="#äº‹ä»¶æ•è·" class="headerlink" title="äº‹ä»¶æ•è·"></a>äº‹ä»¶æ•è·</h5><h5 id="DOM-äº‹ä»¶æµ"><a href="#DOM-äº‹ä»¶æµ" class="headerlink" title="DOM äº‹ä»¶æµ"></a>DOM äº‹ä»¶æµ</h5><h4 id="äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="äº‹ä»¶å¤„ç†ç¨‹åº"></a>äº‹ä»¶å¤„ç†ç¨‹åº</h4><h5 id="HTML-äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#HTML-äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="HTML äº‹ä»¶å¤„ç†ç¨‹åº"></a>HTML äº‹ä»¶å¤„ç†ç¨‹åº</h5><p>å¯ä»¥åœ¨ HTML å…ƒç´ ä¸Šå®šä¹‰äº‹ä»¶å±æ€§ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±€éƒ¨å˜é‡ eventã€‚å‡½æ•°ä¸­ this å€¼ç›¸å½“äºäº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œå…¶ä½œç”¨åŸŸé“¾è¢«æ‰©å±•äº†ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œdocument å’Œå…ƒç´ è‡ªèº«çš„æˆå‘˜éƒ½å¯ä»¥è¢«å½“æˆå±€éƒ¨å˜é‡æ¥è®¿é—®ã€‚è¿™æ˜¯é€šè¿‡ with å®ç°çš„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span> <span class="token punctuation">(</span>document<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">with</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// å±æ€§å€¼</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å› æ­¤å¯ä»¥ç›´æ¥åœ¨å‡½æ•°ä¸­è®¿é—®è‡ªå·±çš„å±æ€§ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- è¾“å‡º"Click Me" --></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Click Me<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>console.log(value)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<h5 id="DOM0-äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#DOM0-äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="DOM0 äº‹ä»¶å¤„ç†ç¨‹åº"></a>DOM0 äº‹ä»¶å¤„ç†ç¨‹åº</h5>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 14</title>
    <url>/2020/11/14/xue-xi-bi-ji-2020-11-14/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-14"><a href="#å­¦ä¹ ç¬”è®°-2020-11-14" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-14"></a>å­¦ä¹ ç¬”è®° 2020-11-14</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM2-å’Œ-DOM3"><a href="#DOM2-å’Œ-DOM3" class="headerlink" title="DOM2 å’Œ DOM3"></a>DOM2 å’Œ DOM3</h3><h4 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h4><h5 id="å…ƒç´ å°ºå¯¸"><a href="#å…ƒç´ å°ºå¯¸" class="headerlink" title="å…ƒç´ å°ºå¯¸"></a>å…ƒç´ å°ºå¯¸</h5><ol>
<li><p>æ»šåŠ¨å°ºå¯¸</p>
<p>æ»šåŠ¨å°ºå¯¸æä¾›äº†å…ƒç´ å†…å®¹æ»šåŠ¨è·ç¦»çš„ä¿¡æ¯ã€‚æœ‰äº›å…ƒç´ ï¼Œæ¯”å¦‚ <code>&lt;html&gt;</code> æ— é¡»ä»»ä½•ä»£ç å°±å¯ä»¥è‡ªåŠ¨æ»šåŠ¨ï¼Œè€Œå…¶ä»–å…ƒç´ éœ€è¦ä½¿ç”¨ CSS çš„ overflow å±æ€§ä»¤å…¶æ»šåŠ¨ã€‚æ»šåŠ¨å°ºå¯¸ç›¸å…³å±æ€§æœ‰ 4 ä¸ªï¼š</p>
<ul>
<li>scrollHeightï¼Œæ²¡æœ‰æ»šåŠ¨æ¡å‡ºç°æ—¶ï¼Œå…ƒç´ å†…å®¹çš„æ€»é«˜åº¦ã€‚</li>
<li>scrollLeftï¼Œå†…å®¹åŒºå·¦ä¾§éšè—çš„åƒç´ æ•°ï¼Œè®¾ç½®è¿™ä¸ªå±æ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®ã€‚</li>
<li>scrollTopï¼Œå†…å®¹åŒºé¡¶éƒ¨éšè—çš„åƒç´ æ•°ï¼Œè®¾ç½®è¿™ä¸ªå±æ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®ã€‚</li>
<li>scrollWidthï¼Œæ²¡æœ‰æ»šåŠ¨æ¡å‡ºç°æ—¶ï¼Œå…ƒç´ å†…å®¹çš„æ€»å®½åº¦ã€‚</li>
</ul>
<p><img src="/2020/11/14/xue-xi-bi-ji-2020-11-14/image-20201114085706671.png" alt="image-20201114085706671"></p>
<p>scrollWidth å’Œ scrollHeight å¯ä»¥ç”¨æ¥ç¡®å®šç»™å®šå…ƒç´ å†…å®¹çš„å®é™…å°ºå¯¸ã€‚</p>
<p>scrollWidth å’Œ scrollHeight ä¸ clientWidth å’Œ clientHeight ä¹‹é—´çš„å…³ç³»åœ¨ä¸éœ€è¦æ»šåŠ¨çš„æ–‡æ¡£ä¸Šæ˜¯åˆ†ä¸æ¸…çš„ã€‚å¦‚æœæ–‡æ¡£å°ºå¯¸è¶…è¿‡è§†å£å°ºå¯¸ï¼ŒscrollWidth å’Œ scrollHeight è¡¨ç¤ºæ–‡æ¡£å†…å®¹çš„å®½é«˜ï¼ŒclientWidth å’Œ clientHeight ç­‰äºè§†å£å®½é«˜ã€‚</p>
</li>
<li><p>ç¡®å®šå…ƒç´ å°ºå¯¸</p>
<p>æµè§ˆå™¨åœ¨æ¯ä¸ªå…ƒç´ ä¸Šéƒ½æš´éœ²äº† getBoundingClientRect() æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª DOMRect å¯¹è±¡ï¼ŒåŒ…å« 6 ä¸ªå±æ€§ï¼š leftã€topã€rightã€bottomã€height å’Œ width ã€‚è¿™äº›å±æ€§ç»™å‡ºäº†å…ƒç´ åœ¨é¡µé¢ä¸­ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚</p>
</li>
</ol>
<h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><p>DOM2 Traversal and Range æ¨¡å—å®šä¹‰äº†ä¸¤ä¸ªç±»å‹ç”¨äºè¾…åŠ©é¡ºåºéå† DOM ç»“æ„ã€‚è¿™ä¸¤ä¸ªç±»å‹â€”â€” NodeIterator å’Œ TreeWalker â€”â€”ä»æŸä¸ªèµ·ç‚¹å¼€å§‹æ‰§è¡Œå¯¹ DOM ç»“æ„çš„æ·±åº¦ä¼˜å…ˆéå†ã€‚</p>
<h5 id="NodeIterator"><a href="#NodeIterator" class="headerlink" title="NodeIterator"></a>NodeIterator</h5><p>NodeIterator å¯ä»¥é€šè¿‡ document.createNodeIterator() æ–¹æ³•åˆ›å»ºå…¶å®ä¾‹ã€‚æ¥æ”¶ 4 ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>rootï¼Œä½œä¸ºéå†æ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</li>
<li>whatToShowï¼Œæ•°å€¼ä»£ç ï¼Œè¡¨ç¤ºåº”è¯¥è®¿é—®å“ªäº›èŠ‚ç‚¹ã€‚</li>
<li>filterï¼ŒNodeFilter å¯¹è±¡æˆ–å‡½æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦æ¥æ”¶æˆ–è·³è¿‡ç‰¹å®šèŠ‚ç‚¹ã€‚</li>
<li>entityReferenceExpansionï¼Œå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰©å±•å®ä½“å¼•ç”¨ã€‚è¿™ä¸ªå‚æ•°åœ¨ HTML æ–‡æ¡£ä¸­æ²¡æœ‰æ•ˆæœï¼Œå› ä¸ºå®ä½“å¼•ç”¨æ°¸ä¸æ‰©å±•ã€‚</li>
</ul>
<p>whatToShow å‚æ•°æ˜¯ä¸€ä¸ªä½æ©ç ï¼Œé€šè¿‡åº”ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨æ¥æŒ‡å®šè®¿é—®å“ªäº›èŠ‚ç‚¹ã€‚è¿™ä¸ªå‚æ•°å¯¹åº”çš„å¸¸é‡æ˜¯åœ¨ NodeFilter ç±»å‹ä¸­å®šä¹‰çš„ã€‚</p>
<ul>
<li>NodeFilter.SHOW_ALLï¼Œæ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_ELEMENTï¼Œå…ƒç´ èŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_ATTRIBUTEï¼Œå±æ€§èŠ‚ç‚¹ã€‚ç”±äº DOM çš„ç»“æ„ï¼Œå› æ­¤å®é™…ä¸Šç”¨ä¸ä¸Šã€‚</li>
<li>NodeFilter.SHOW_TEXTï¼Œæ–‡æœ¬èŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_CDATA_SECTIONï¼ŒCData åŒºå—èŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
<li>NodeFilter.SHOW_ENTITY_REFERENCEï¼Œå®ä½“å¼•ç”¨èŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
<li>NodeFilter.SHOW_ENTITYï¼Œå®ä½“èŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
<li>NodeFilter.SHOW_PROCESSING_INSTRUCTIONï¼Œå¤„ç†æŒ‡ä»¤èŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
<li>NodeFilter.SHOW_COMMENTï¼Œæ³¨é‡ŠèŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_DOCUMENTï¼Œæ–‡æ¡£èŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_DOCUMENT_TYPEï¼Œæ–‡æ¡£ç±»å‹èŠ‚ç‚¹ã€‚</li>
<li>NodeFilter.SHOW_DOCUMENT_FRAGMENTï¼Œæ–‡æ¡£ç‰‡æ®µèŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
<li>NodeFilter.SHOW_NOTATIONï¼Œè®°å·èŠ‚ç‚¹ã€‚ä¸æ˜¯åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨çš„ã€‚</li>
</ul>
<p>é™¤äº†ç¬¬ä¸€ä¸ªï¼Œå…¶ä½™çš„å¯ä»¥ç»„åˆä½¿ç”¨ï¼ŒæŒ‰ä½æˆ–æ¥ç»„åˆå¤šä¸ªé€‰é¡¹ã€‚</p>
<p>filter å‚æ•°å¯ä»¥ç”¨æ¥æŒ‡å®šè‡ªå®šä¹‰ NodeFilter å¯¹è±¡ï¼Œæˆ–è€…ä¸€ä¸ªä½œä¸ºèŠ‚ç‚¹è¿‡æ»¤å™¨çš„å‡½æ•°ã€‚NodeFilter å¯¹è±¡åªæœ‰ä¸€ä¸ªæ–¹æ³• acceptNode() ï¼Œå¦‚æœç»™å®šèŠ‚ç‚¹åº”è¯¥è®¿é—®å°±è¿”å› NodeFilter.FILTER_ACCEPTï¼Œå¦åˆ™è¿”å› NodeFilter.FILTER_SKIPã€‚å› ä¸º NodeFilter æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œæ‰€ä»¥ä¸å¯èƒ½åˆ›å»ºå®ƒçš„å®ä¾‹ã€‚åªè¦åˆ›å»ºä¸€ä¸ªåŒ…å« acceptNode() çš„å¯¹è±¡ï¼Œç„¶åæŠŠå®ƒä¼ ç»™createNodeIterator() å°±å¯ä»¥äº†ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åªæ¥æ”¶ p å…ƒç´ çš„èŠ‚ç‚¹è¿‡æ»¤å™¨å¯¹è±¡</span>
<span class="token keyword">let</span> filter <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">acceptNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> node<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'p'</span>
      <span class="token operator">?</span> NodeFilter<span class="token punctuation">.</span>FILTER_ACCEPT
      <span class="token punctuation">:</span> NodeFilter<span class="token punctuation">.</span>FILTER_SKIP<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æˆ–æ˜¯ä»¥ä¸‹å½¢å¼</span>
<span class="token keyword">let</span> filter <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> node<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'p'</span>
    <span class="token operator">?</span> NodeFilter<span class="token punctuation">.</span>FILTER_ACCEPT
    <span class="token punctuation">:</span> NodeFilter<span class="token punctuation">.</span>FILTER_SKIP<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iterator <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createNodeIterator</span><span class="token punctuation">(</span>
  root<span class="token punctuation">,</span>
  NodeFilter<span class="token punctuation">.</span>SHOW_ELEMENT<span class="token punctuation">,</span>
  filter<span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>NodeIterator çš„ä¸¤ä¸ªä¸»è¦æ–¹æ³•æ˜¯ï¼š</p>
<ul>
<li>nextNode()ï¼Œåœ¨ DOM å­æ ‘ä¸­ä»¥æ·±åº¦ä¼˜å…ˆæ–¹å¼è¿›å‰ä¸€æ­¥ã€‚</li>
<li>previousNode()ï¼Œåé€€ä¸€æ­¥ã€‚</li>
</ul>
<h5 id="TreeWalker"><a href="#TreeWalker" class="headerlink" title="TreeWalker"></a>TreeWalker</h5><p>TreeWalker æ¯” NodeIterator å¤šäº†ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>parentNode()</li>
<li>firstChild()</li>
<li>lastChild()</li>
<li>nextSibling()</li>
<li>previousSibling()</li>
</ul>
<p>è°ƒç”¨ document.createTreeWalker() åˆ›å»º TreeWalker å¯¹è±¡ã€‚æ¥æ”¶ç±»ä¼¼çš„å‚æ•°ã€‚</p>
<p>ä¸åŒçš„æ˜¯ï¼Œfilter é™¤äº†å¯ä»¥è¿”å›åŸæœ¬çš„ä¸¤ç§å€¼ï¼Œè¿˜å¯ä»¥è¿”å› NodeFilter.FILTER_REJECTã€‚</p>
<p>åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼ŒNodeFilter.FILTER_SKIP è¡¨ç¤ºè·³è¿‡èŠ‚ç‚¹ï¼Œè®¿é—®å­æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œ NodeFilter.FILTER_REJECT è¡¨ç¤ºè·³è¿‡è¯¥èŠ‚ç‚¹ä»¥åŠè¯¥èŠ‚ç‚¹çš„æ•´ä¸ªå­æ ‘ã€‚</p>
<p>TreeWalker ç±»å‹ä¹Ÿæœ‰ä¸€ä¸ªåä¸º currentNode çš„å±æ€§ï¼Œè¡¨ç¤ºéå†è¿‡ç¨‹ä¸­ä¸Šä¸€æ¬¡è¿”å›çš„èŠ‚ç‚¹ã€‚</p>
<h4 id="èŒƒå›´"><a href="#èŒƒå›´" class="headerlink" title="èŒƒå›´"></a>èŒƒå›´</h4><p>DOM2 Traversal and Range æ¨¡å—å®šä¹‰äº†èŒƒå›´æ¥å£ã€‚</p>
<h5 id="DOM-èŒƒå›´"><a href="#DOM-èŒƒå›´" class="headerlink" title="DOM èŒƒå›´"></a>DOM èŒƒå›´</h5><p>ä½¿ç”¨ document.createRange() æ–¹æ³•åˆ›å»º DOM èŒƒå›´å¯¹è±¡ã€‚æ–°å»ºçš„èŒƒå›´å¯¹è±¡ä¸åˆ›å»ºå®ƒçš„æ–‡æ¡£å…³è”çš„ï¼Œä¸èƒ½åœ¨å…¶ä»–æ–‡æ¡£ä¸­ä½¿ç”¨ã€‚</p>
<p>æ¯ä¸ªèŒƒå›´éƒ½æ˜¯ Range ç±»å‹çš„å®ä¾‹ï¼Œæ‹¥æœ‰ç›¸åº”çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li>startContainerï¼ŒèŒƒå›´èµ·ç‚¹æ‰€åœ¨çš„èŠ‚ç‚¹ ( é€‰åŒºä¸­ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ )</li>
<li>startOffsetï¼ŒèŒƒå›´èµ·ç‚¹åœ¨ startContainer ä¸­çš„åç§»é‡ã€‚</li>
<li>endContainerï¼ŒèŒƒå›´ç»ˆç‚¹æ‰€åœ¨çš„èŠ‚ç‚¹ ( é€‰åŒºä¸­æœ€åä¸€ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ )</li>
<li>endOffsetï¼ŒèŒƒå›´èµ·ç‚¹åœ¨ startContainer ä¸­çš„åç§»é‡ã€‚</li>
<li>commonAncestorContainerï¼Œæ–‡æ¡£ä¸­ä»¥ startContainer å’Œ endContainer ä¸ºåä»£çš„æœ€æ·±çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p>è¿™äº›å±æ€§ä¼šåœ¨èŒƒå›´è¢«æ”¾åˆ°æ–‡æ¡£ä¸­ç‰¹å®šä½ç½®æ—¶è·å¾—ç›¸åº”çš„å€¼ã€‚</p>
<h5 id="ç®€å•é€‰æ‹©"><a href="#ç®€å•é€‰æ‹©" class="headerlink" title="ç®€å•é€‰æ‹©"></a>ç®€å•é€‰æ‹©</h5><p>ä½¿ç”¨ selectNode() æˆ– selectNodeContents() æ–¹æ³•èŒƒå›´é€‰æ‹©æ–‡æ¡£ä¸­æŸä¸ªéƒ¨åˆ†ã€‚æ¥æ”¶ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºå‚æ•°ã€‚selectNode() æ–¹æ³•é€‰æ‹©æ•´ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å…¶åä»£èŠ‚ç‚¹ï¼Œè€Œ selectNodeContents() åªé€‰æ‹©èŠ‚ç‚¹çš„åä»£ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>p1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span> world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> range1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  range2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  p1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'p1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
range1<span class="token punctuation">.</span><span class="token function">selectNode</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
range2<span class="token punctuation">.</span><span class="token function">selectNodeContents</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>range1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>range2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Range: {</span>
<span class="token comment" spellcheck="true">//   collapsed: false</span>
<span class="token comment" spellcheck="true">//   commonAncestorContainer: body</span>
<span class="token comment" spellcheck="true">//   endContainer: body</span>
<span class="token comment" spellcheck="true">//   endOffset: 2</span>
<span class="token comment" spellcheck="true">//   startContainer: body</span>
<span class="token comment" spellcheck="true">//   startOffset: 1</span>
<span class="token comment" spellcheck="true">//   __proto__: Range</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token comment" spellcheck="true">// Range: {</span>
<span class="token comment" spellcheck="true">//   collapsed: false</span>
<span class="token comment" spellcheck="true">//   commonAncestorContainer: p#p1</span>
<span class="token comment" spellcheck="true">//   endContainer: p#p1</span>
<span class="token comment" spellcheck="true">//   endOffset: 2</span>
<span class="token comment" spellcheck="true">//   startContainer: p#p1</span>
<span class="token comment" spellcheck="true">//   startOffset: 0</span>
<span class="token comment" spellcheck="true">//   __proto__: Range</span>
<span class="token comment" spellcheck="true">// }</span></code></pre>
<p>è¿˜å¯ä»¥åœ¨èŒƒå›´ä¸Šè°ƒç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><p>setStartBefore(<em>refNode</em>)ï¼ŒæŠŠèŒƒå›´çš„èµ·ç‚¹è®¾ç½®åˆ° <em>refNode</em> ä¹‹å‰ï¼Œä»è€Œè®© <em>refNode</em> æˆä¸ºé€‰</p>
<p>åŒºçš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚startContainer å±æ€§è¢«è®¾ç½®ä¸º refNode.parentNodeï¼Œè€Œ startOffset å±æ€§è¢«è®¾ç½®ä¸º <em>refNode</em> åœ¨å…¶çˆ¶èŠ‚ç‚¹ childNodes é›†åˆä¸­çš„ç´¢å¼•ã€‚</p>
</li>
<li><p>setStartAfter(<em>refNode</em>)ï¼ŒæŠŠèŒƒå›´çš„èµ·ç‚¹è®¾ç½®åˆ° <em>refNode</em> ä¹‹åï¼Œä»è€Œå°† <em>refNode</em> æ’é™¤åœ¨é€‰</p>
<p>åŒºä¹‹å¤–ï¼Œè®©å…¶ä¸‹ä¸€ä¸ªåŒèƒèŠ‚ç‚¹æˆä¸ºé€‰åŒºçš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚startContainer å±æ€§è¢«è®¾ç½®ä¸º</p>
<p>refNode.parentNodeï¼ŒstartOffset å±æ€§è¢«è®¾ç½®ä¸º <em>refNode</em> åœ¨å…¶çˆ¶èŠ‚ç‚¹ childNodes é›†åˆ</p>
<p>ä¸­çš„ç´¢å¼•åŠ  1ã€‚</p>
</li>
<li><p>setEndBefore(<em>refNode</em>)ï¼ŒæŠŠèŒƒå›´çš„ç»ˆç‚¹è®¾ç½®åˆ° <em>refNode</em> ä¹‹å‰ï¼Œä»è€Œå°† <em>refNode</em> æ’é™¤åœ¨é€‰åŒºä¹‹å¤–ã€è®©å…¶ä¸Šä¸€ä¸ªåŒèƒèŠ‚ç‚¹æˆä¸ºé€‰åŒºçš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ã€‚endContainer å±æ€§è¢«è®¾ç½®ä¸º refNode. parentNodeï¼ŒendOffset å±æ€§è¢«è®¾ç½®ä¸º <em>refNode</em> åœ¨å…¶çˆ¶èŠ‚ç‚¹ childNodes é›†åˆä¸­çš„ç´¢å¼•ã€‚</p>
</li>
<li><p>setEndAfter(<em>refNode</em>)ï¼ŒæŠŠèŒƒå›´çš„ç»ˆç‚¹è®¾ç½®åˆ° <em>refNode</em> ä¹‹åï¼Œä»è€Œè®© <em>refNode</em> æˆä¸ºé€‰åŒºçš„</p>
<p>æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ã€‚endContainer å±æ€§è¢«è®¾ç½®ä¸º refNode.parentNodeï¼ŒendOffset å±æ€§è¢«è®¾ç½®ä¸º <em>refNode</em> åœ¨å…¶çˆ¶èŠ‚ç‚¹ childNodes é›†åˆä¸­çš„ç´¢å¼•åŠ  1ã€‚</p>
</li>
</ul>
<h5 id="å¤æ‚é€‰æ‹©"><a href="#å¤æ‚é€‰æ‹©" class="headerlink" title="å¤æ‚é€‰æ‹©"></a>å¤æ‚é€‰æ‹©</h5><p>ä½¿ç”¨ setStart() å’Œ setEnd() æ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå‚ç…§èŠ‚ç‚¹å’Œåç§»é‡ã€‚å¯¹ setStart() æ¥è¯´ï¼Œå‚ç…§èŠ‚ç‚¹ä¼šæˆä¸º startContainerï¼Œè€Œåç§»é‡ä¼šèµ‹å€¼ç»™ startOffsetã€‚ å¯¹ setEnd() è€Œè¨€ï¼Œå‚ç…§èŠ‚ç‚¹ä¼šæˆä¸º endContainerï¼Œè€Œåç§»é‡ä¼šèµ‹å€¼ç»™ endOffsetã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>å‡½æ•°ä¼šé€‰æ‹©æœ€æ–°çš„å†…å®¹ç ï¼Ÿ</p>
<p>å‡½æ•° sayHi ä½¿ç”¨å¤–éƒ¨å˜é‡ã€‚å½“å‡½æ•°è¿è¡Œæ—¶ï¼Œå°†ä½¿ç”¨å“ªä¸ªå€¼ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hi, "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

name <span class="token operator">=</span> <span class="token string">"Pete"</span><span class="token punctuation">;</span>

<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼š"John" è¿˜æ˜¯ "Pete"ï¼Ÿ</span></code></pre>
<p>è¿™ç§æƒ…å†µåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ç«¯å¼€å‘ä¸­éƒ½å¾ˆå¸¸è§ã€‚ä¸€ä¸ªå‡½æ•°å¯èƒ½è¢«è®¡åˆ’åœ¨åˆ›å»ºä¹‹åä¸€æ®µæ—¶é—´åæ‰æ‰§è¡Œï¼Œä¾‹å¦‚åœ¨ç”¨æˆ·è¡Œä¸ºæˆ–ç½‘ç»œè¯·æ±‚ä¹‹åã€‚</p>
<p>å› æ­¤ï¼Œé—®é¢˜æ˜¯ï¼šå®ƒä¼šæ¥æ”¶æœ€æ–°çš„ä¿®æ”¹å—ï¼Ÿ</p>
<p>ä¼šã€‚</p>
</li>
<li><p>å“ªäº›å˜é‡å¯ç”¨å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢çš„ <code>makeWorker</code> å‡½æ•°åˆ›å»ºäº†å¦ä¸€ä¸ªå‡½æ•°å¹¶è¿”å›è¯¥å‡½æ•°ã€‚å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ã€‚</p>
<p>å®ƒæ˜¯å¦å¯ä»¥ä»å®ƒè¢«åˆ›å»ºçš„ä½ç½®æˆ–è°ƒç”¨ä½ç½®ï¼ˆæˆ–ä¸¤è€…ï¼‰è®¿é—®å¤–éƒ¨å˜é‡ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">makeWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"Pete"</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// create a function</span>
<span class="token keyword">let</span> work <span class="token operator">=</span> <span class="token function">makeWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// call it</span>
<span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</span></code></pre>
<p>ä¼šæ˜¾ç¤ºå“ªä¸ªå€¼ï¼Ÿâ€œPeteâ€ è¿˜æ˜¯ â€œJohnâ€ï¼Ÿ</p>
<p>â€œPeteâ€ã€‚</p>
</li>
<li><p>Counter æ˜¯ç‹¬ç«‹çš„å—ï¼Ÿ</p>
<p>åœ¨è¿™å„¿æˆ‘ä»¬ç”¨ç›¸åŒçš„ <code>makeCounter</code> å‡½æ•°åˆ›å»ºäº†ä¸¤ä¸ªè®¡æ•°å™¨ï¼ˆcountersï¼‰ï¼š<code>counter</code> å’Œ <code>counter2</code>ã€‚</p>
<p>å®ƒä»¬æ˜¯ç‹¬ç«‹çš„å—ï¼Ÿç¬¬äºŒä¸ª counter ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ<code>0,1</code> æˆ– <code>2,3</code> è¿˜æ˜¯å…¶ä»–ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> counter2 <span class="token operator">=</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">counter2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">counter2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>ç‹¬ç«‹çš„ï¼Œç¬¬äºŒä¸ªä¼šæ˜¾ç¤º 0 1 ã€‚</p>
</li>
<li><p>Counter å¯¹è±¡</p>
<p>è¿™é‡Œé€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ª counter å¯¹è±¡ã€‚</p>
<p>å®ƒèƒ½æ­£å¸¸å·¥ä½œå—ï¼Ÿå®ƒä¼šæ˜¾ç¤ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>up <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">++</span>count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>down <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">--</span>count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> counter<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>
<span class="token function">alert</span><span class="token punctuation">(</span> counter<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>
<span class="token function">alert</span><span class="token punctuation">(</span> counter<span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>èƒ½ã€‚1 2 1ã€‚</p>
</li>
<li><p>if å†…çš„å‡½æ•°</p>
<p>çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä»£ç ã€‚æœ€åä¸€è¡Œä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> phrase <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>phrase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æŠ¥é”™ã€‚</p>
</li>
<li><p>é—­åŒ… sum</p>
<p>ç¼–å†™ä¸€ä¸ªåƒ <code>sum(a)(b) = a+b</code> è¿™æ ·å·¥ä½œçš„ <code>sum</code> å‡½æ•°ã€‚</p>
<p>æ˜¯çš„ï¼Œå°±æ˜¯è¿™ç§é€šè¿‡åŒæ‹¬å·çš„æ–¹å¼ï¼ˆå¹¶ä¸æ˜¯é”™è¯¯ï¼‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>å˜é‡å¯è§å—</p>
<p>ä¸‹é¢è¿™æ®µä»£ç çš„ç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span>

  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>P.S. è¿™ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªé™·é˜±ã€‚è§£å†³æ–¹æ¡ˆå¹¶ä¸æ˜æ˜¾ã€‚</p>
<p>æŠ¥é”™ã€‚å› ä¸ºå‡½æ•°å†…éƒ¨åŒ…å« x ã€‚è™½ç„¶è¿˜æœªå®šä¹‰ï¼Œä½†å·²ç»ä¸ä¼šå»å¤–éƒ¨å¯»æ‰¾ x ã€‚</p>
</li>
<li><p>é€šè¿‡å‡½æ•°ç­›é€‰</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå†…å»ºçš„æ•°ç»„æ–¹æ³• <code>arr.filter(f)</code>ã€‚å®ƒé€šè¿‡å‡½æ•° <code>f</code> è¿‡æ»¤å…ƒç´ ã€‚å¦‚æœå®ƒè¿”å› <code>true</code>ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ ä¼šè¢«è¿”å›åˆ°ç»“æœæ•°ç»„ä¸­ã€‚</p>
<p>åˆ¶é€ ä¸€ç³»åˆ—â€œå³ç”¨å‹â€è¿‡æ»¤å™¨ï¼š</p>
<ul>
<li><code>inBetween(a, b)</code> â€”â€” åœ¨ <code>a</code> å’Œ <code>b</code> ä¹‹é—´æˆ–ä¸å®ƒä»¬ç›¸ç­‰ï¼ˆåŒ…æ‹¬ï¼‰ã€‚</li>
<li><code>inArray([...])</code> â€”â€” åŒ…å«åœ¨ç»™å®šçš„æ•°ç»„ä¸­ã€‚</li>
</ul>
<p>ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li><code>arr.filter(inBetween(3,6))</code> â€”â€” åªæŒ‘é€‰èŒƒå›´åœ¨ 3 åˆ° 6 çš„å€¼ã€‚</li>
<li><code>arr.filter(inArray([1,2,3]))</code> â€”â€” åªæŒ‘é€‰ä¸ <code>[1,2,3]</code> ä¸­çš„å…ƒç´ åŒ¹é…çš„å…ƒç´ ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">/* .. inBetween å’Œ inArray çš„ä»£ç  */</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">inBetween</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3,4,5,6</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">inArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1,2</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">inBetween</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">>=</span> a <span class="token operator">&amp;&amp;</span> item <span class="token operator">&lt;=</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æŒ‰å­—æ®µæ’åº</p>
<p>æˆ‘ä»¬æœ‰ä¸€ç»„è¦æ’åºçš„å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Johnson"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Peterson"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Ann"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Hathaway"</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<p>é€šå¸¸çš„åšæ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// é€šè¿‡ name (Ann, John, Pete)</span>
users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a<span class="token punctuation">.</span>name <span class="token operator">></span> b<span class="token punctuation">.</span>name <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// é€šè¿‡ age (Pete, Ann, John)</span>
users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a<span class="token punctuation">.</span>age <span class="token operator">></span> b<span class="token punctuation">.</span>age <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æˆ‘ä»¬å¯ä»¥è®©å®ƒæ›´åŠ ç®€æ´å—ï¼Œæ¯”å¦‚è¿™æ ·ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript">users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">byField</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
users<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">byField</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦å†™ <code>byField(fieldName)</code>ï¼Œè€Œä¸æ˜¯å†™ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ç¼–å†™å‡½æ•° <code>byField</code> æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">byField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>fieldName<span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span>fieldName<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>å‡½æ•°å¤§å†›</p>
<p>ä¸‹åˆ—çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ª <code>shooters</code> æ•°ç»„ã€‚</p>
<p>æ¯ä¸ªå‡½æ•°éƒ½åº”è¯¥è¾“å‡ºå…¶ç¼–å·ã€‚ä½†å¥½åƒå‡ºäº†ç‚¹é—®é¢˜â€¦â€¦</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">makeArmy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> shooters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> shooter <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ª shooter å‡½æ•°ï¼Œ</span>
      <span class="token function">alert</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åº”è¯¥æ˜¾ç¤ºå…¶ç¼–å·</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    shooters<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>shooter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°†æ­¤ shooter å‡½æ•°æ·»åŠ åˆ°æ•°ç»„ä¸­</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// â€¦â€¦è¿”å› shooters æ•°ç»„</span>
  <span class="token keyword">return</span> shooters<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> army <span class="token operator">=</span> <span class="token function">makeArmy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// â€¦â€¦æ‰€æœ‰çš„ shooter æ˜¾ç¤ºçš„éƒ½æ˜¯ 10ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„ç¼–å· 0, 1, 2, 3...</span>
army<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–å·ä¸º 0 çš„ shooter æ˜¾ç¤ºçš„æ˜¯ 10</span>
army<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–å·ä¸º 1 çš„ shooter æ˜¾ç¤ºçš„æ˜¯ 10</span>
army<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10ï¼Œå…¶ä»–çš„ä¹Ÿæ˜¯è¿™æ ·ã€‚</span></code></pre>
<p>ä¸ºä»€ä¹ˆæ‰€æœ‰çš„ shooter æ˜¾ç¤ºçš„éƒ½æ˜¯åŒæ ·çš„å€¼ï¼Ÿ</p>
<p>ä¿®æ”¹ä»£ç ä»¥ä½¿å¾—ä»£ç èƒ½å¤ŸæŒ‰ç…§æˆ‘ä»¬é¢„æœŸçš„é‚£æ ·å·¥ä½œã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">makeArmy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> shooters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">let</span> shooter <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ª shooter å‡½æ•°ï¼Œ</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åº”è¯¥æ˜¾ç¤ºå…¶ç¼–å·</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    shooters<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>shooter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°†æ­¤ shooter å‡½æ•°æ·»åŠ åˆ°æ•°ç»„ä¸­</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// â€¦â€¦è¿”å› shooters æ•°ç»„</span>
  <span class="token keyword">return</span> shooters<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 13</title>
    <url>/2020/11/13/xue-xi-bi-ji-2020-11-13/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-13"><a href="#å­¦ä¹ ç¬”è®°-2020-11-13" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-13"></a>å­¦ä¹ ç¬”è®° 2020-11-13</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM2-å’Œ-DOM3"><a href="#DOM2-å’Œ-DOM3" class="headerlink" title="DOM2 å’Œ DOM3"></a>DOM2 å’Œ DOM3</h3><h4 id="DOM-çš„æ¼”è¿›"><a href="#DOM-çš„æ¼”è¿›" class="headerlink" title="DOM çš„æ¼”è¿›"></a>DOM çš„æ¼”è¿›</h4><h5 id="å…¶ä»–å˜åŒ–"><a href="#å…¶ä»–å˜åŒ–" class="headerlink" title="å…¶ä»–å˜åŒ–"></a>å…¶ä»–å˜åŒ–</h5><ol>
<li><p>Node çš„å˜åŒ–</p>
<p>DOM3 æ–°å¢äº†ä¸¤ä¸ªç”¨äºæ¯”è¾ƒèŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p>
<ul>
<li>isSameNode()</li>
<li>isEqualNode()</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸€ä¸ªèŠ‚ç‚¹å‚æ•°ã€‚å¦‚æœè¿™ä¸ªèŠ‚ç‚¹ä¸å‚è€ƒèŠ‚ç‚¹ç›¸åŒæˆ–ç›¸ç­‰ï¼Œåˆ™è¿”å› trueã€‚èŠ‚ç‚¹ç›¸åŒï¼Œæ„å‘³ç€å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚èŠ‚ç‚¹ç›¸ç­‰ï¼Œæ„å‘³ç€èŠ‚ç‚¹ç±»å‹ç›¸åŒï¼Œæ‹¥æœ‰ç›¸ç­‰çš„å±æ€§ã€‚</p>
<p>DOM3 ä¹Ÿå¢åŠ äº†ç»™ DOM èŠ‚ç‚¹é™„åŠ é¢å¤–æ•°æ®çš„æ–¹æ³•ã€‚</p>
<ul>
<li>setUserData()ï¼Œæ¥æ”¶ 3 ä¸ªå‚æ•°ï¼šé”®ã€å€¼ã€å¤„ç†å‡½æ•°ï¼Œç”¨äºç»™èŠ‚ç‚¹è¿½åŠ æ•°æ®ã€‚</li>
<li>getUserData()ï¼Œè·å–è¿½åŠ çš„ä¿¡æ¯ã€‚</li>
</ul>
<p>setUserData() çš„å¤„ç†å‡½æ•°ä¼šåœ¨åŒ…å«æ•°æ®çš„èŠ‚ç‚¹è¢«å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åæˆ–å¯¼å…¥å…¶ä»–æ–‡æ¡£çš„æ—¶å€™æ‰§è¡Œã€‚å¤„ç†å‡½æ•°æ¥æ”¶ 5 ä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ“ä½œç±»å‹çš„æ•°å€¼ã€æ•°æ®çš„é”®ã€æ•°æ®çš„å€¼ã€æºèŠ‚ç‚¹å’Œç›®æ ‡èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>å†…åµŒçª—æ ¼çš„å˜åŒ–</p>
<p>DOM2 HTML ç»™ HTMLFrameElement ç±»å‹æ–°å¢äº†ä¸€ä¸ªå±æ€§ï¼Œå« contentDocumentã€‚è¿™ä¸ªå±æ€§åŒ…å«ä»£è¡¨å­å†…åµŒçª—æ ¼ä¸­å†…å®¹çš„ document å¯¹è±¡çš„æŒ‡é’ˆã€‚</p>
<p>contentDocument å±æ€§æ˜¯ Document çš„å®ä¾‹ï¼Œæ‹¥æœ‰æ‰€æœ‰æ–‡æ¡£å±æ€§å’Œæ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ªå±æ€§ contentWindowï¼Œè¿”å›ç›¸åº”çª—æ ¼çš„ window å¯¹è±¡ã€‚</p>
<p>è·¨åŸŸè®¿é—®ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
</li>
</ol>
<h4 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h4><h5 id="å­˜å–å…ƒç´ æ ·å¼"><a href="#å­˜å–å…ƒç´ æ ·å¼" class="headerlink" title="å­˜å–å…ƒç´ æ ·å¼"></a>å­˜å–å…ƒç´ æ ·å¼</h5><p>ä»»ä½•æ”¯æŒ style å±æ€§çš„ HTML å…ƒç´ åœ¨ JS ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ style å±æ€§ã€‚è¿™ä¸ª style å±æ€§æ˜¯ CSSStyleDeclaration ç±»å‹çš„å®ä¾‹ï¼Œå…¶ä¸­åŒ…å«é€šè¿‡ HTML style å±æ€§ä¸ºå…ƒç´ è®¾ç½®çš„æ‰€æœ‰æ ·å¼ä¿¡æ¯ï¼Œä½†ä¸åŒ…å«é€šè¿‡å±‚å æœºåˆ¶ä»æ–‡æ¡£æ ·å¼å’Œå¤–éƒ¨æ ·å¼ä¸­ç»§æ‰¿æ¥çš„æ ·å¼ã€‚</p>
<p>float å±æ€§æ˜¯ js ä¸­çš„ä¿ç•™å­—ï¼Œä¸èƒ½ç”¨ä½œå±æ€§åï¼Œåº”å†™ä½œ <code>cssFloat</code> ã€‚</p>
<p>é€šè¿‡ style å±æ€§è®¾ç½®çš„å€¼ä¹Ÿå¯ä»¥é€šè¿‡ style å¯¹è±¡è·å–ã€‚</p>
<ol>
<li><p>DOM æ ·å¼å±æ€§å’Œæ–¹æ³•</p>
<p>DOM2 Style è§„èŒƒä¹Ÿåœ¨ style å¯¹è±¡ä¸Šå®šä¹‰äº†ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li>cssTextï¼ŒåŒ…å« style å±æ€§ä¸­çš„ CSS ä»£ç ã€‚</li>
<li>lengthï¼Œåº”ç”¨ç»™å…ƒç´ çš„ CSS å±æ€§æ•°é‡ã€‚</li>
<li>parentRuleï¼Œè¡¨ç¤º CSS ä¿¡æ¯çš„ CSSRule å¯¹è±¡ã€‚</li>
<li>getPropertyCSSValue(propertyName)ï¼Œè¿”å›åŒ…å« CSS å±æ€§ propertyName å€¼çš„ CSSValue å¯¹è±¡ï¼Œå·²åºŸå¼ƒã€‚</li>
<li>getPropertyPriority(<em>propertyName</em>)ï¼Œå¦‚æœ CSS å±æ€§ <em>propertyName</em> ä½¿ç”¨äº† !importantï¼Œåˆ™è¿”å›â€importantâ€ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>getPropertyValue(<em>propertyName</em>)ï¼Œè¿”å›å±æ€§ <em>propertyName</em> çš„å­—ç¬¦ä¸²å€¼ã€‚</li>
<li>item(<em>index</em>)ï¼Œè¿”å›ç´¢å¼•ä¸º <em>index</em> çš„ CSS å±æ€§åã€‚</li>
<li>removeProperty(<em>propertyName</em>)ï¼Œä»æ ·å¼ä¸­åˆ é™¤ CSS å±æ€§ <em>propertyName</em>ã€‚ </li>
<li>setProperty(<em>propertyName, value, priority</em>)ï¼Œè®¾ç½® CSS å±æ€§ <em>propertyName</em> çš„å€¼ä¸ºvalueï¼Œpriority æ˜¯ â€œimportantâ€ æˆ–ç©ºå­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
<li><p>è®¡ç®—æ ·å¼</p>
<p>DOM2 Style åœ¨ document.defaultView ä¸Šå¢åŠ äº† getComputedStyle() æ–¹æ³•ã€‚æ¥æ”¶ 2 ä¸ªå‚æ•°ï¼Œè¦å–å¾—è®¡ç®—æ ·å¼çš„å…ƒç´ å’Œä¼ªå…ƒç´ å­—ç¬¦ä¸²ã€‚å¯ä»¥å–å¾—è¯¥å…ƒç´ çš„æ­£ç¡®æ ·å¼ï¼ŒåŒ…æ‹¬æ ·å¼è¡¨ã€‚åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­è®¡ç®—æ ·å¼éƒ½æ˜¯åªè¯»çš„ï¼Œè¿˜åŒ…å«äº†æµè§ˆå™¨å†…éƒ¨æ ·å¼è¡¨ä¸­çš„ä¿¡æ¯ã€‚</p>
</li>
</ol>
<h5 id="æ“ä½œæ ·å¼è¡¨"><a href="#æ“ä½œæ ·å¼è¡¨" class="headerlink" title="æ“ä½œæ ·å¼è¡¨"></a>æ“ä½œæ ·å¼è¡¨</h5><p>CSSStyleSheet ç±»å‹è¡¨ç¤º CSS æ ·å¼è¡¨ï¼ŒåŒ…æ‹¬ä½¿ç”¨ <code>&lt;link&gt;</code> å…ƒç´ å’Œé€šè¿‡ <code>&lt;style&gt;</code> å…ƒç´ å®šä¹‰çš„æ ·å¼è¡¨ã€‚è¿™ä¸¤ä¸ªå…ƒç´ æœ¬èº«æ˜¯ HTMLLinkElement å’Œ HTMLStyleElement ã€‚</p>
<p>CSSStyleSheet ç±»å‹ç»§æ‰¿ StyleSheet ï¼Œåè€…å¯ç”¨ä½œé CSS æ ·å¼è¡¨çš„åŸºç±»ã€‚ä»¥ä¸‹æ˜¯ CSSStyleSheet ä» StyleSheet ç»§æ‰¿çš„å±æ€§ã€‚</p>
<ul>
<li>disabled ï¼Œè¡¨ç¤ºæ ·å¼è¡¨æ˜¯å¦è¢«ç¦ç”¨ã€‚</li>
<li>hrefï¼Œå¦‚æœæ˜¯ä½¿ç”¨ <code>&lt;link&gt;</code> åŒ…å«çš„æ ·å¼è¡¨ï¼Œåˆ™è¿”å›æ ·å¼è¡¨çš„ URLï¼Œå¦åˆ™è¿”å› nullã€‚</li>
<li>mediaï¼Œæ ·å¼è¡¨æ”¯æŒçš„åª’ä½“ç±»å‹é›†åˆï¼Œè¿™ä¸ªé›†åˆæœ‰ä¸€ä¸ª length å±æ€§å’Œä¸€ä¸ª item() æ–¹æ³•ã€‚</li>
<li>ownerNodeï¼Œæ‹¥æœ‰æŒ‡å‘å½“å‰æ ·å¼è¡¨çš„èŠ‚ç‚¹ã€‚å¦‚æœæ ·å¼è¡¨æ˜¯é€šè¿‡ @import è¢«åŒ…å«åœ¨å¦ä¸€ä¸ªæ ·å¼è¡¨ä¸­ï¼Œè¿™ä¸ªå±æ€§å€¼æ˜¯ null ã€‚</li>
<li>parentStyleSheetï¼Œå¦‚æœå½“å‰æ ·å¼è¡¨æ˜¯é€šè¿‡@import è¢«åŒ…å«åœ¨å¦ä¸€ä¸ªæ ·å¼è¡¨ä¸­ï¼Œåˆ™è¿™ä¸ªå±æ€§æŒ‡å‘å¯¼å…¥å®ƒçš„æ ·å¼è¡¨ã€‚</li>
<li>titleï¼ŒownerNode çš„ title å±æ€§ã€‚</li>
<li>typeï¼Œå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ ·å¼è¡¨çš„ç±»å‹ã€‚å¯¹ CSS æ ·å¼è¡¨æ¥è¯´ï¼Œå°±æ˜¯â€text/cssâ€ã€‚</li>
</ul>
<p>ä»¥ä¸Šé™¤äº† disabled å…¶ä½™ä¸ºåªè¯»å±æ€§ã€‚é™¤äº†ä»¥ä¸Šç»§æ‰¿çš„å±æ€§ï¼ŒCSSStyleSheet ç±»å‹è¿˜æ”¯æŒä»¥ä¸‹å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li>cssRulesï¼Œå½“å‰æ ·å¼è¡¨åŒ…å«çš„æ ·å¼è§„åˆ™çš„é›†åˆã€‚</li>
<li>ownerRuleï¼Œå¦‚æœæ ·å¼è¡¨æ˜¯ä½¿ç”¨@import å¯¼å…¥çš„ï¼Œåˆ™æŒ‡å‘å¯¼å…¥è§„åˆ™ï¼›å¦åˆ™ä¸º nullã€‚ </li>
<li>deleteRule(<em>index</em>)ï¼Œåœ¨æŒ‡å®šä½ç½®åˆ é™¤ cssRules ä¸­çš„è§„åˆ™ã€‚</li>
<li>insertRule(<em>rule</em>, <em>index</em>)ï¼Œåœ¨æŒ‡å®šä½ç½®å‘ cssRules ä¸­æ’å…¥è§„åˆ™ã€‚</li>
</ul>
<p>document.styleSheets è¡¨ç¤ºæ–‡æ¡£ä¸­å¯ç”¨çš„æ ·å¼è¡¨å“¦é›†åˆã€‚è¿™ä¸ªé›†åˆçš„ length å±æ€§ä¿å­˜ç€æ–‡æ¡£ä¸­æ ·å¼è¡¨çš„æ•°é‡ã€‚</p>
<p>é€šè¿‡ <code>&lt;link&gt;</code> æˆ– <code>&lt;style&gt;</code> å…ƒç´ ä¹Ÿå¯ä»¥ç›´æ¥è·å– CSSStyleSheet å¯¹è±¡ã€‚DOM åœ¨è¿™ä¸¤ä¸ªå…ƒç´ ä¸Šæš´éœ²äº† sheet å±æ€§ï¼Œå…¶ä¸­åŒ…å«å¯¹åº”çš„ CSSStyleSheet å¯¹è±¡ã€‚</p>
<ol>
<li><p>CSS è§„åˆ™</p>
<p>CSSRule ç±»å‹è¡¨ç¤ºæ ·å¼è¡¨ä¸­çš„ä¸€æ¡è§„åˆ™ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€šç”¨åŸºç±»ï¼Œå¾ˆå¤šç±»å‹éƒ½ç»§æ‰¿å®ƒã€‚æœ€å¸¸ç”¨çš„æ˜¯è¡¨ç¤ºæ ·å¼ä¿¡æ¯çš„ CSSStyleRule ï¼Œä»¥ä¸‹æ˜¯ CSSStyleRule å¯¹è±¡ä¸Šå¯ç”¨çš„å±æ€§ã€‚</p>
<ul>
<li>cssTextï¼Œè¿”å›æ•´æ¡è§„åˆ™çš„æ–‡æœ¬ã€‚è¿™é‡Œçš„æ–‡æœ¬å¯èƒ½ä¸æ ·å¼è¡¨ä¸­å®é™…çš„æ–‡æœ¬ä¸ä¸€æ ·ï¼Œå› ä¸ºæµè§ˆå™¨å†…éƒ¨å¤„ç†æ ·å¼è¡¨çš„æ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚Safari å§‹ç»ˆä¼šæŠŠæ‰€æœ‰å­—æ¯éƒ½è½¬æ¢ä¸ºå°å†™ã€‚</li>
<li>parentRuleï¼Œå¦‚æœè¿™æ¡è§„åˆ™è¢«å…¶ä»–è§„åˆ™ï¼ˆå¦‚@mediaï¼‰åŒ…å«ï¼Œåˆ™æŒ‡å‘åŒ…å«è§„åˆ™ï¼Œå¦åˆ™å°±æ˜¯ nullã€‚ </li>
<li>parentStyleSheetï¼ŒåŒ…å«å½“å‰è§„åˆ™çš„æ ·å¼è¡¨ã€‚</li>
<li>selectorTextï¼Œè¿”å›è§„åˆ™çš„é€‰æ‹©ç¬¦æ–‡æœ¬ã€‚è¿™é‡Œçš„æ–‡æœ¬å¯èƒ½ä¸æ ·å¼è¡¨ä¸­å®é™…çš„æ–‡æœ¬ä¸ä¸€æ ·ï¼Œå› ä¸ºæµè§ˆå™¨å†…éƒ¨å¤„ç†æ ·å¼è¡¨çš„æ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚è¿™ä¸ªå±æ€§åœ¨ Firefoxã€Safariã€Chrome å’Œ IE ä¸­æ˜¯åªè¯»çš„ï¼Œåœ¨ Opera ä¸­æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚</li>
<li>styleï¼Œè¿”å› CSSStyleDeclaration å¯¹è±¡ï¼Œå¯ä»¥è®¾ç½®å’Œè·å–å½“å‰è§„åˆ™ä¸­çš„æ ·å¼ã€‚</li>
<li>typeï¼Œæ•°å€¼å¸¸é‡ï¼Œè¡¨ç¤ºè§„åˆ™ç±»å‹ã€‚å¯¹äºæ ·å¼è§„åˆ™ï¼Œå®ƒå§‹ç»ˆä¸º 1ã€‚</li>
</ul>
</li>
<li><p>åˆ›å»ºè§„åˆ™</p>
<p>å¯ä»¥ä½¿ç”¨ insertRule() æ–¹æ³•å‘æ ·å¼è¡¨ä¸­æ·»åŠ æ–°è§„åˆ™ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè§„åˆ™çš„æ–‡æœ¬å’Œè¡¨ç¤ºæ’å…¥ä½ç½®çš„ç´¢å¼•å€¼ã€‚</p>
</li>
<li><p>åˆ é™¤è§„åˆ™</p>
<p>å¯ä»¥ä½¿ç”¨ deleteRule() æ–¹æ³•åˆ é™¤è§„åˆ™ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¦åˆ é™¤è§„åˆ™çš„ç´¢å¼•ã€‚</p>
</li>
</ol>
<h5 id="å…ƒç´ å°ºå¯¸"><a href="#å…ƒç´ å°ºå¯¸" class="headerlink" title="å…ƒç´ å°ºå¯¸"></a>å…ƒç´ å°ºå¯¸</h5><p>ä»¥ä¸‹ä»‹ç»çš„å±æ€§å’Œæ–¹æ³•ä¸æ˜¯ DOM2 style è§„èŒƒä¸­å®šä¹‰çš„ã€‚</p>
<ol>
<li><p>åç§»å°ºå¯¸</p>
<p>å…ƒç´ åœ¨é¡µé¢ä¸Šçš„è§†è§‰ç©ºé—´ç”±å…¶é«˜åº¦å’Œå®½åº¦å†³å®šï¼ŒåŒ…æ‹¬æ‰€æœ‰å†…è¾¹è·ã€æ»šåŠ¨æ¡å’Œè¾¹æ¡†ã€‚ä»¥ä¸‹ 4 ä¸ªå±æ€§ç”¨äºå–å¾—å…ƒç´ çš„åç§»å°ºå¯¸ï¼š</p>
<ul>
<li>offsetHeightï¼Œå…ƒç´ åœ¨å‚ç›´æ–¹å‘ä¸Šå ç”¨çš„åƒç´ å°ºå¯¸ï¼ŒåŒ…æ‹¬å®ƒçš„é«˜åº¦ã€æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦å’Œä¸Šã€ä¸‹è¾¹æ¡†çš„é«˜åº¦ã€‚</li>
<li>offsetLeftï¼Œå…ƒç´ å·¦è¾¹æ¡†å¤–ä¾§è·ç¦»åŒ…å«å…ƒç´ å·¦è¾¹æ¡†å†…æµ‹çš„åƒç´ æ•°ã€‚</li>
<li>offsetTopï¼Œå…ƒç´ ä¸Šè¾¹æ¡†å¤–ä¾§è·ç¦»åŒ…æ‹¬å…ƒç´ ä¸Šè¾¹æ¡†å†…æµ‹çš„åƒç´ æ•°ã€‚</li>
<li>offsetWidthï¼Œå…ƒç´ åœ¨æ°´å¹³æ–¹å‘ä¸Šå ç”¨çš„åƒç´ å°ºå¯¸ï¼ŒåŒ…æ‹¬å®ƒçš„å®½åº¦ã€å‚ç›´æ»šåŠ¨æ¡å®½åº¦å’Œå·¦ã€å³è¾¹æ¡†çš„å®½åº¦ã€‚</li>
</ul>
<p>offsetLeft å’Œ offsetTop æ˜¯ç›¸å¯¹äºåŒ…å«å…ƒç´ çš„ï¼ŒåŒ…å«å…ƒç´ ä¿å­˜åœ¨ offsetParent å±æ€§ä¸­ã€‚</p>
<p><img src="/2020/11/13/xue-xi-bi-ji-2020-11-13/image-20201113171012849.png" alt="image-20201113171012849"></p>
<p>è¦ç¡®å®šä¸€ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸­çš„åç§»é‡ï¼Œå¯ä»¥æŠŠå®ƒçš„ offsetLeft å’Œ offsetTop å±æ€§åˆ†åˆ«ä¸ offsetParent çš„ç›¸åŒå±æ€§ç›¸åŠ ï¼Œä¸€ç›´åŠ åˆ°æ ¹å…ƒç´ ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getElementLeft</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> actualLeft <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
  <span class="token keyword">let</span> current <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    actualLeft <span class="token operator">+</span><span class="token operator">=</span> current<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    current <span class="token operator">=</span> current<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> actualLeft<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getElementTop</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> actualTop <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
  <span class="token keyword">let</span> current <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    actualTop <span class="token operator">+</span><span class="token operator">=</span> current<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    current <span class="token operator">=</span> current<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> actualTop<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>æ‰€æœ‰åç§»å°ºå¯¸å±æ€§éƒ½æ˜¯åªè¯»çš„ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šé‡æ–°è®¡ç®—ã€‚</p>
</li>
<li><p>å®¢æˆ·ç«¯å°ºå¯¸</p>
<p>å…ƒç´ çš„å®¢æˆ·ç«¯å°ºå¯¸åŒ…å«å…ƒç´ å†…å®¹åŠå…¶å†…è¾¹è·æ‰€å ç”¨çš„ç©ºé—´ã€‚å®¢æˆ·ç«¯å°ºå¯¸åªæœ‰ä¸¤ä¸ªç›¸å…³å±æ€§ï¼š clientWidth å’Œ clientHeight ã€‚clientWdith æ˜¯å†…å®¹åŒºå®½åº¦åŠ å·¦ã€å³å†…è¾¹è·å®½åº¦ã€‚clientHeight æ˜¯å†…å®¹åŒºé«˜åº¦åŠ ä¸Šã€ä¸‹å†…è¾¹è·é«˜åº¦ã€‚</p>
<p><img src="/2020/11/13/xue-xi-bi-ji-2020-11-13/image-20201113171423440.png" alt="image-20201113171423440"></p>
<p>å®¢æˆ·ç«¯å°ºå¯¸å®é™…ä¸Šå°±æ˜¯å…ƒç´ å†…éƒ¨çš„ç©ºé—´ï¼Œå› æ­¤ä¸åŒ…å«æ»šåŠ¨æ¡å ç”¨çš„ç©ºé—´ã€‚è¿™ä¸¤ä¸ªå±æ€§ä¹Ÿæ˜¯åªè¯»çš„ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šé‡æ–°è®¡ç®—ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 12</title>
    <url>/2020/11/12/xue-xi-bi-ji-2020-11-12/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-12"><a href="#å­¦ä¹ ç¬”è®°-2020-11-12" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-12"></a>å­¦ä¹ ç¬”è®° 2020-11-12</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM-æ‰©å±•"><a href="#DOM-æ‰©å±•" class="headerlink" title="DOM æ‰©å±•"></a>DOM æ‰©å±•</h3><h4 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h4><h5 id="æ’å…¥æ ‡è®°"><a href="#æ’å…¥æ ‡è®°" class="headerlink" title="æ’å…¥æ ‡è®°"></a>æ’å…¥æ ‡è®°</h5><ol>
<li><p>å†…å­˜ä¸æ€§èƒ½é—®é¢˜</p>
<p>å¦‚æœè¢«ç§»é™¤çš„å­æ ‘å…ƒç´ ä¸­ä¹‹å‰æœ‰å…³è”çš„äº‹ä»¶å¤„ç†ç¨‹åºæˆ–å…¶ä»– JavaScript å¯¹è±¡ã€‚é‚£å®ƒä»¬ä¹‹é—´çš„ç»‘å®šå…³ç³»ä¼šæ»ç•™åœ¨å†…å­˜ä¸­ã€‚åœ¨ä½¿ç”¨ innerHTML ã€outerHTML å’Œ insertAdjacentHTML() ä¹‹å‰ï¼Œæœ€å¥½æ‰‹åŠ¨åˆ é™¤è¦è¢«æ›¿æ¢çš„å…ƒç´ ä¸Šå…³è”çš„äº‹ä»¶å¤„ç†ç¨‹åºå’Œ JavaScript å¯¹è±¡ã€‚</p>
<p>HTML è§£æå™¨ä¼šè§£æè®¾ç½®ç»™ innerHTML çš„å€¼ï¼Œè§£æå™¨åœ¨æµè§ˆå™¨ä¸­æ˜¯åº•å±‚ä»£ç ï¼Œæ¯” JavaScript å¿«å¾—å¤šã€‚</p>
</li>
<li><p>è·¨ç«™ç‚¹è„šæœ¬</p>
<p>innerHTML ä¸ä¼šæ‰§è¡Œè‡ªå·±åˆ›å»ºçš„ <code>&lt;script&gt;</code> æ ‡ç­¾ï¼Œä½†ä»ç„¶å‘æ¶æ„ç”¨æˆ·æš´éœ²äº†å¾ˆå¤§çš„æ”»å‡»é¢ã€‚å¯ä»¥é€šè¿‡å®ƒåˆ›å»ºå…ƒç´ å¹¶æ‰§è¡Œ onclick ä¹‹ç±»çš„å±æ€§ã€‚</p>
</li>
</ol>
<h5 id="scrollIntoView"><a href="#scrollIntoView" class="headerlink" title="scrollIntoView()"></a>scrollIntoView()</h5><p>scrollIntoView() æ–¹æ³•å­˜åœ¨äºæ‰€æœ‰ HTML å…ƒç´ ä¸Šï¼Œå¯ä»¥æ»šåŠ¨æµè§ˆå™¨çª—å£æˆ–å®¹å™¨å…ƒç´ ä»¥ä¾¿åŒ…å«å…ƒç´ è¿›å…¥è§†å£ã€‚æ–¹æ³•å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>alignToTop ï¼Œå¸ƒå°”å€¼ã€‚<ul>
<li>true è¡¨ç¤ºçª—å£æ»šåŠ¨åå…ƒç´ é¡¶éƒ¨ä¸è§†å£é¡¶éƒ¨å¯¹é½ã€‚</li>
<li>false è¡¨ç¤ºçª—å£æ»šåŠ¨åå…ƒç´ åº•éƒ¨ä¸è§†å£åº•éƒ¨å¯¹é½ã€‚</li>
</ul>
</li>
<li>scrollIntoViewOptionsï¼Œå¯é€‰å¯¹è±¡ã€‚<ul>
<li>behaviorï¼Œå®šä¹‰è¿‡æ¸¡åŠ¨ç”»ï¼Œå¯å–çš„å€¼ä¸º smooth å’Œ autoï¼Œé»˜è®¤ä¸º auto ã€‚</li>
<li>blockï¼Œå®šä¹‰å‚ç›´æ–¹å‘çš„å¯¹é½ï¼Œå¯å–çš„å€¼ä¸º startã€centerã€end å’Œ nearestï¼Œé»˜è®¤ä¸º startã€‚</li>
<li>inlineï¼Œå®šä¹‰æ°´å¹³æ–¹å‘çš„å¯¹é½ï¼Œå¯å–çš„å€¼ä¸º startã€centerã€end å’Œ nearestï¼Œé»˜è®¤ä¸º nearestã€‚</li>
</ul>
</li>
<li>ä¸ä¼ å‚æ•°ç­‰åŒäºç¬¬ä¸€ä¸ªå‚æ•°ä¸º trueã€‚</li>
</ul>
<h4 id="ä¸“æœ‰æ‰©å±•"><a href="#ä¸“æœ‰æ‰©å±•" class="headerlink" title="ä¸“æœ‰æ‰©å±•"></a>ä¸“æœ‰æ‰©å±•</h4><h5 id="children-å±æ€§"><a href="#children-å±æ€§" class="headerlink" title="children å±æ€§"></a>children å±æ€§</h5><p>IE9 ä¹‹å‰çš„ç‰ˆæœ¬ä¸å…¶ä»–æµè§ˆå™¨åœ¨å¤„ç†ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹ä¸Šçš„å·®å¼‚å¯¼è‡´äº† children å±æ€§çš„å‡ºç°ã€‚children å±æ€§æ˜¯ä¸€ä¸ª HTMLCollection ï¼ŒåªåŒ…å«å…ƒç´ çš„ Element ç±»å‹çš„å­èŠ‚ç‚¹ã€‚</p>
<h5 id="contains-æ–¹æ³•"><a href="#contains-æ–¹æ³•" class="headerlink" title="contains() æ–¹æ³•"></a>contains() æ–¹æ³•</h5><p>IE é¦–å…ˆå¼•å…¥äº† contains() æ–¹æ³•ï¼Œåœ¨è¦æœç´¢çš„ç¥–å…ˆå…ƒç´ ä¸Šè°ƒç”¨ï¼Œå‚æ•°æ˜¯å¾…ç¡®å®šçš„ç›®æ ‡èŠ‚ç‚¹ã€‚</p>
<p>ä½¿ç”¨ DOM Level 3 çš„ compareDocumentPosition() æ–¹æ³•ä¹Ÿå¯ä»¥ç¡®å®šèŠ‚ç‚¹é—´çš„å…³ç³»ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›è¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹å…³ç³»çš„ä½æ©ç ã€‚</p>
<table>
<thead>
<tr>
<th>æ© ç </th>
<th>èŠ‚ç‚¹å…³ç³»</th>
</tr>
</thead>
<tbody><tr>
<td>0x1</td>
<td>æ–­å¼€ï¼ˆä¼ å…¥çš„èŠ‚ç‚¹ä¸åœ¨æ–‡æ¡£ä¸­ï¼‰</td>
</tr>
<tr>
<td>0x2</td>
<td>é¢†å…ˆï¼ˆä¼ å…¥çš„èŠ‚ç‚¹åœ¨ DOM æ ‘ä¸­ä½äºå‚è€ƒèŠ‚ç‚¹ä¹‹å‰ï¼‰</td>
</tr>
<tr>
<td>0x4</td>
<td>éšåï¼ˆä¼ å…¥çš„èŠ‚ç‚¹åœ¨ DOM æ ‘ä¸­ä½äºå‚è€ƒèŠ‚ç‚¹ä¹‹åï¼‰</td>
</tr>
<tr>
<td>0x8</td>
<td>åŒ…å«ï¼ˆä¼ å…¥çš„èŠ‚ç‚¹æ˜¯å‚è€ƒèŠ‚ç‚¹çš„ç¥–å…ˆï¼‰</td>
</tr>
<tr>
<td>0x10</td>
<td>è¢«åŒ…å«ï¼ˆä¼ å…¥çš„èŠ‚ç‚¹æ˜¯å‚è€ƒèŠ‚ç‚¹çš„åä»£ï¼‰</td>
</tr>
</tbody></table>
<h5 id="æ’å…¥æ ‡è®°-1"><a href="#æ’å…¥æ ‡è®°-1" class="headerlink" title="æ’å…¥æ ‡è®°"></a>æ’å…¥æ ‡è®°</h5><ol>
<li><p>innerText</p>
<p>è¯¥å±æ€§å¯¹åº”å…ƒç´ ä¸­åŒ…å«çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹ï¼Œæ— è®ºæ–‡æœ¬åœ¨å­æ ‘ä¸­å“ªä¸ªå±‚çº§ã€‚åœ¨ç”¨äºè¯»å–å€¼æ—¶ï¼ŒinnerText ä¼šæŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„é¡ºåºå°†å­æ ‘ä¸­æ‰€æœ‰æ–‡æœ¬èŠ‚ç‚¹çš„å€¼æ‹¼æ¥èµ·æ¥ã€‚åœ¨ç”¨äºå†™å…¥å€¼æ—¶ï¼ŒinnerText ä¼šç§»é™¤å…ƒç´ çš„æ‰€æœ‰åä»£å¹¶æ’å…¥ä¸€ä¸ªåŒ…å«è¯¥å€¼çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>outerText</p>
<p>ç±»ä¼¼äº innerTextï¼Œåªä¸è¿‡ä½œç”¨èŒƒå›´åŒ…å«è°ƒç”¨å®ƒçš„èŠ‚ç‚¹ã€‚åœ¨è¯»å–å€¼æ—¶ï¼Œä¸¤è€…è¡¨ç°ç›¸ä¼¼ã€‚åœ¨å†™å…¥å€¼æ—¶ï¼ŒouterText ä¸æ­¢ä¼šç§»é™¤æ‰€æœ‰åä»£èŠ‚ç‚¹ï¼Œè¿˜ä¼šæ›¿æ¢æ•´ä¸ªå…ƒç´ ã€‚</p>
</li>
</ol>
<h3 id="DOM2-å’Œ-DOM3"><a href="#DOM2-å’Œ-DOM3" class="headerlink" title="DOM2 å’Œ DOM3"></a>DOM2 å’Œ DOM3</h3><p>DOM1 ä¸»è¦å®šä¹‰äº† HTML å’Œ XML æ–‡æ¡£çš„åº•å±‚ç»“æ„ã€‚DOM2 å’Œ DOM3 åœ¨è¿™äº›ç»“æ„ä¹‹ä¸ŠåŠ å…¥æ›´å¤šäº¤äº’èƒ½åŠ›ï¼Œæä¾›äº†æ›´é«˜çº§çš„ XML ç‰¹æ€§ã€‚</p>
<ul>
<li>DOM Core:ï¼šåœ¨ DOM1 æ ¸å¿ƒéƒ¨åˆ†çš„åŸºç¡€ä¸Šï¼Œä¸ºèŠ‚ç‚¹å¢åŠ æ–¹æ³•å’Œå±æ€§ã€‚</li>
<li>DOM Viewsï¼šå®šä¹‰åŸºäºæ ·å¼ä¿¡æ¯çš„ä¸åŒè¯•å›¾ã€‚</li>
<li>DOM Eventsï¼šå®šä¹‰é€šè¿‡äº‹ä»¶å®ç° DOM æ–‡æ¡£äº¤äº’ã€‚</li>
<li>DOM Styleï¼šå®šä¹‰ä»¥ç¼–ç¨‹æ–¹å¼è®¿é—®å’Œä¿®æ”¹ CSS æ ·å¼çš„æ¥å£ã€‚</li>
<li>DOM Traversal and Rangeï¼šæ–°å¢éå† DOM æ–‡æ¡£åŠé€‰æ‹©æ–‡æ¡£å†…å®¹çš„æ¥å£ã€‚</li>
<li>DOM HTMLï¼šåœ¨ DOM1 HTML éƒ¨åˆ†çš„åŸºç¡€ä¸Šï¼Œå¢åŠ å±æ€§ã€æ–¹æ³•å’Œæ–°æ¥å£ã€‚</li>
<li>DOM Mutation Observersï¼šå®šä¹‰åŸºäº DOM å˜åŒ–è§¦å‘å›è°ƒçš„æ¥å£ã€‚è¿™ä¸ªæ¨¡å—æ˜¯ DOM4 çº§æ¨¡å—ï¼Œç”¨äºå–ä»£ Mutation Eventsã€‚</li>
</ul>
<h4 id="DOM-çš„æ¼”è¿›"><a href="#DOM-çš„æ¼”è¿›" class="headerlink" title="DOM çš„æ¼”è¿›"></a>DOM çš„æ¼”è¿›</h4><p>DOM2 å’Œ DOM3 Core æ¨¡å—çš„ç›®æ ‡æ˜¯æ‰©å±• DOM APIï¼Œæ»¡è¶³ XML çš„æ‰€æœ‰éœ€æ±‚å¹¶æä¾›æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œç‰¹æ€§æ£€æµ‹ã€‚</p>
<h5 id="XML-å‘½åç©ºé—´"><a href="#XML-å‘½åç©ºé—´" class="headerlink" title="XML å‘½åç©ºé—´"></a>XML å‘½åç©ºé—´</h5><h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="é€’å½’å’Œå †æ ˆ"><a href="#é€’å½’å’Œå †æ ˆ" class="headerlink" title="é€’å½’å’Œå †æ ˆ"></a>é€’å½’å’Œå †æ ˆ</h3><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>å¯¹æ•°å­—æ±‚å’Œåˆ°ç»™å®šå€¼</p>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>sumTo(n)</code> è®¡ç®— <code>1 + 2 + ... + n</code> çš„å’Œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">6</span>
<span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">10</span>
<span class="token operator">...</span>
<span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token number">99</span> <span class="token operator">+</span> <span class="token operator">...</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">5050</span></code></pre>
<p>ç”¨ä¸‰ç§æ–¹å¼å®ç°ï¼š</p>
<ol>
<li>ä½¿ç”¨å¾ªç¯ã€‚</li>
<li>ä½¿ç”¨é€’å½’ï¼Œå¯¹ <code>n &gt; 1</code> æ‰§è¡Œ <code>sumTo(n) = n + sumTo(n-1)</code>ã€‚</li>
<li>ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Arithmetic_progression" target="_blank" rel="noopener">ç­‰å·®æ•°åˆ—</a> æ±‚å’Œå…¬å¼.</li>
</ol>
<p>ç»“æœç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sumTo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/*... ä½ çš„ä»£ç  ... */</span> <span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">sumTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5050</span></code></pre>
<p>P.S. å“ªç§è§£å†³æ–¹å¼æœ€å¿«ï¼Ÿå“ªç§æœ€æ…¢ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>P.P.S. æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’æ¥è®¡ç®— <code>sumTo(100000)</code> å—ï¼Ÿ</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sumTo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+</span><span class="token operator">=</span> n<span class="token punctuation">;</span>
    n<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sumTo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>
  <span class="token keyword">return</span> n <span class="token operator">+</span> <span class="token function">sumTo</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sumTo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è®¡ç®—é˜¶ä¹˜</p>
<p>è‡ªç„¶æ•°çš„ <a href="https://en.wikipedia.org/wiki/Factorial" target="_blank" rel="noopener">é˜¶ä¹˜</a> æ˜¯æŒ‡ï¼Œä¸€ä¸ªæ•°ä¹˜ä»¥ <code>æ•°å­—å‡å» 1</code>ï¼Œç„¶åä¹˜ä»¥ <code>æ•°å­—å‡å» 2</code>ï¼Œä»¥æ­¤ç±»æ¨ç›´åˆ°ä¹˜ä»¥ <code>1</code>ã€‚<code>n</code> çš„é˜¶ä¹˜è¢«è®°ä½œ <code>n!</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†é˜¶ä¹˜çš„å®šä¹‰å†™æˆè¿™æ ·ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">n<span class="token operator">!</span> <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token operator">...</span><span class="token operator">*</span><span class="token number">1</span></code></pre>
<p>ä¸åŒ <code>n</code> çš„é˜¶ä¹˜çš„å€¼ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token number">1</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token number">2</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token number">3</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">6</span>
<span class="token number">4</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">24</span>
<span class="token number">5</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">120</span></code></pre>
<p>ä»»åŠ¡æ˜¯ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>factorial(n)</code> ä½¿ç”¨é€’å½’è°ƒç”¨è®¡ç®— <code>n!</code>ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 120</span></code></pre>
<p>P.S. æç¤ºï¼š<code>n!</code> å¯ä»¥è¢«å†™æˆ <code>n * (n-1)!</code>ï¼Œæ¯”å¦‚ <code>3! = 3*2! = 3*2*1! = 6</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ–æ³¢é‚£å¥‘æ•°</p>
<p><a href="https://en.wikipedia.org/wiki/Fibonacci_number" target="_blank" rel="noopener">æ–æ³¢é‚£å¥‘æ•°</a> åºåˆ—æœ‰è¿™æ ·çš„å…¬å¼ï¼š <code>Fn = Fn-1 + Fn-2</code>ã€‚æ¢å¥è¯è¯´ï¼Œä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å‰ä¸¤ä¸ªæ•°å­—çš„å’Œã€‚</p>
<p>å‰ä¸¤ä¸ªæ•°å­—æ˜¯ <code>1</code>ï¼Œç„¶åæ˜¯ <code>2(1+1)</code>ï¼Œç„¶å <code>3(1+2)</code>ï¼Œ<code>5(2+3)</code> ç­‰ï¼š<code>1, 1, 2, 3, 5, 8, 13, 21...</code>ã€‚</p>
<p>æ–æ³¢é‚£å¥‘æ•°ä¸ <a href="https://en.wikipedia.org/wiki/Golden_ratio" target="_blank" rel="noopener">é»„é‡‘æ¯”ä¾‹</a> ä»¥åŠæˆ‘ä»¬å‘¨å›´çš„è®¸å¤šè‡ªç„¶ç°è±¡æœ‰å…³ã€‚</p>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>fib(n)</code> è¿”å›ç¬¬ <code>n</code> ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</p>
<p>å·¥ä½œç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ä½ çš„ä»£ç  */</span> <span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 13</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">77</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5527939700884757</span></code></pre>
<p>P.S. å‡½æ•°è¿è¡Œé€Ÿåº¦è¦å¿«ï¼Œå¯¹ <code>fib(77)</code> çš„è°ƒç”¨ä¸åº”è¯¥è¶…è¿‡å‡ åˆ†ä¹‹ä¸€ç§’ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‚è€ƒè§£æ³•</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b <span class="token operator">=</span> c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¾“å‡ºä¸€ä¸ªå•é“¾è¡¨</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå•é“¾è¡¨ï¼ˆåœ¨ <a href="https://zh.javascript.info/recursion" target="_blank" rel="noopener">é€’å½’å’Œå †æ ˆ</a> é‚£ç« æœ‰è®²è¿‡ï¼‰ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  next<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    next<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      value<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      next<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        value<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        next<span class="token punctuation">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç¼–å†™ä¸€ä¸ªå¯ä»¥é€ä¸ªè¾“å‡ºé“¾è¡¨å…ƒç´ çš„å‡½æ•° <code>printList(list)</code>ã€‚</p>
<p>ä½¿ç”¨ä¸¤ç§æ–¹å¼å®ç°ï¼šå¾ªç¯å’Œé€’å½’ã€‚</p>
<p>å“ªä¸ªæ›´å¥½ï¼šç”¨é€’å½’è¿˜æ˜¯ä¸ç”¨é€’å½’çš„ï¼Ÿ</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> list<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åå‘è¾“å‡ºå•é“¾è¡¨</p>
<p>åå‘è¾“å‡ºå‰ä¸€ä¸ªä»»åŠ¡ <a href="https://zh.javascript.info/task/output-single-linked-list" target="_blank" rel="noopener">è¾“å‡ºä¸€ä¸ªå•é“¾è¡¨</a> ä¸­çš„å•é“¾è¡¨ã€‚</p>
<p>ä½¿ç”¨ä¸¤ç§è§£æ³•ï¼šå¾ªç¯å’Œé€’å½’ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">printList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> list<span class="token punctuation">;</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 11</title>
    <url>/2020/11/11/xue-xi-bi-ji-2020-11-11/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-11"><a href="#å­¦ä¹ ç¬”è®°-2020-11-11" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-11"></a>å­¦ä¹ ç¬”è®° 2020-11-11</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM-æ‹“å±•"><a href="#DOM-æ‹“å±•" class="headerlink" title="DOM æ‹“å±•"></a>DOM æ‹“å±•</h3><h4 id="Selectors-API"><a href="#Selectors-API" class="headerlink" title="Selectors API"></a>Selectors API</h4><p>Selectors API æ˜¯ W3C æ¨èæ ‡å‡†ï¼Œè§„å®šäº†æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ CSS æŸ¥è¯¢API ã€‚</p>
<p>æ ¸å¿ƒæ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼ŒquerySelector() å’Œ querySelectorAll() ã€‚åœ¨å…¼å®¹æµè§ˆå™¨ä¸­ï¼ŒDocument ç±»å‹å’Œ Element ç±»å‹çš„å®ä¾‹ä¸Šéƒ½ä¼šæš´éœ²è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<ol>
<li><p>querySelector()</p>
<p>è¯¥æ–¹æ³•æ¥æ”¶ CSS é€‰æ‹©ç¬¦å‚æ•°ï¼Œè¿”å›åŒ¹é…è¯¥æ¨¡å¼çš„ç¬¬ä¸€ä¸ªåä»£å…ƒç´ æˆ– null ã€‚</p>
</li>
<li><p>querySelectorAll()</p>
<p>è¯¥æ–¹æ³•ä¹Ÿæ¥æ”¶ä¸€ä¸ªç”¨äºæŸ¥è¯¢çš„å‚æ•°ï¼Œä½†å®ƒä¼šè¿”å›æ‰€æœ‰åŒ¹é…çš„èŠ‚ç‚¹ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª NodeList çš„é™æ€å®ä¾‹ã€‚</p>
</li>
<li><p>matches()</p>
<p>è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ª CSS é€‰æ‹©ç¬¦å‚æ•°ï¼Œå¦‚æœå…ƒç´ åŒ¹é…åˆ™è¯¥é€‰æ‹©ç¬¦è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚</p>
</li>
</ol>
<h4 id="å…ƒç´ éå†"><a href="#å…ƒç´ éå†" class="headerlink" title="å…ƒç´ éå†"></a>å…ƒç´ éå†</h4><p>IE9 ä¹‹å‰çš„ç‰ˆæœ¬ä¸ä¼šæŠŠå…ƒç´ é—´çš„ç©ºæ ¼å½“æˆç©ºç™½èŠ‚ç‚¹ï¼Œè€Œå…¶ä»–æµè§ˆå™¨ä¼šã€‚è¿™æ ·å¯¼è‡´äº† childNodes å’Œ firstChild ç­‰å±æ€§ä¸Šçš„å·®å¼‚ã€‚ä¸ºäº†å¼¥è¡¥è¿™ä¸ªå·®å¼‚ï¼ŒåŒæ—¶ä¸å½±å“ DOM è§„èŒƒï¼Œ W3C é€šè¿‡æ–°çš„ Element Traversal è§„èŒƒå®šä¹‰äº†ä¸€ç»„æ–°å±æ€§ã€‚</p>
<ul>
<li>childElementCountï¼Œè¿”å›å­å…ƒç´ æ•°é‡ ( ä¸åŒ…å«æ–‡æœ¬èŠ‚ç‚¹å’Œæ³¨é‡Š )ï¼›</li>
<li>firstElementChildï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ª Element ç±»å‹çš„å­å…ƒç´ ï¼›</li>
<li>lastElementChildï¼›</li>
<li>previousElementSiblingï¼ŒæŒ‡å‘å‰ä¸€ä¸ª Element ç±»å‹çš„åŒèƒå…ƒç´ ï¼›</li>
<li>nextElementSiblingï¼›</li>
</ul>
<h4 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h4><p>HTML5 è§„èŒƒåŒ…å«äº†ä¸æ ‡è®°ç›¸å…³çš„å¤§é‡ JavaScript API å®šä¹‰ã€‚</p>
<h5 id="CSS-ç±»æ‹“å±•"><a href="#CSS-ç±»æ‹“å±•" class="headerlink" title="CSS ç±»æ‹“å±•"></a>CSS ç±»æ‹“å±•</h5><ol>
<li><p>getElementsByClassName()</p>
<p>è¯¥æ–¹æ³•æš´éœ²åœ¨ document å¯¹è±¡å’Œæ‰€æœ‰ HTML å…ƒç´ ä¸Šã€‚è¿”å›åŒ…å«ç›¸åº”ç±»çš„å…ƒç´ çš„ NodeList ã€‚</p>
<p>IE9 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œä»¥åŠæ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒè¯¥æ–¹æ³•ã€‚</p>
</li>
<li><p>classList å±æ€§</p>
<p>å¯ä»¥é€šè¿‡ className å±æ€§æ“ä½œç±»åï¼Œä½†è¯¥å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p>classList æ˜¯ä¸€ä¸ªæ–°çš„é›†åˆç±»å‹ DOMTokenList çš„å®ä¾‹ã€‚è¯¥ç±»å‹ä¹Ÿæœ‰ length å±æ€§è¡¨ç¤ºè‡ªå·±åŒ…å«å¤šå°‘é¡¹ï¼Œå¯ä»¥é€šè¿‡ item() æˆ–ä¸­æ‹¬å·å–å¾—ä¸ªåˆ«çš„å…ƒç´ ã€‚è¿˜æœ‰ä¸€äº›æ–¹æ³•ï¼š</p>
<ul>
<li>add(value)ï¼›</li>
<li>contains(value)ï¼Œè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºç»™å®šçš„ value æ˜¯å¦å­˜åœ¨ï¼›</li>
<li>remove(value)ï¼›</li>
<li>toggle(value)ï¼Œè‹¥å·²å­˜åœ¨åˆ™åˆ é™¤ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ ã€‚</li>
</ul>
<p>IE10 åŠä»¥ä¸Šç‰ˆæœ¬å’Œå…¶ä»–ä¸»æµæµè§ˆå™¨å®ç°äº†è¯¥å±æ€§ã€‚</p>
</li>
</ol>
<h5 id="ç„¦ç‚¹ç®¡ç†"><a href="#ç„¦ç‚¹ç®¡ç†" class="headerlink" title="ç„¦ç‚¹ç®¡ç†"></a>ç„¦ç‚¹ç®¡ç†</h5><p>HTML5 æ·»åŠ äº†è¾…åŠ© DOM ç„¦ç‚¹ç®¡ç†çš„åŠŸèƒ½ã€‚</p>
<ol>
<li><p>document.activeElement</p>
<p>å§‹ç»ˆåŒ…å«å½“å‰æ‹¥æœ‰ç„¦ç‚¹çš„ DOM å…ƒç´ ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å±æ€§ä¼šåœ¨é¡µé¢åˆšåŠ è½½å®Œä¹‹åè®¾ç½®ä¸º document.body ã€‚åœ¨é‚£ä¹‹å‰ï¼Œå€¼ä¸º null ã€‚</p>
</li>
<li><p>document.hasFocus()</p>
<p>è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ–‡æ¡£æ˜¯å¦æ‹¥æœ‰ç„¦ç‚¹ã€‚</p>
</li>
</ol>
<h5 id="HTMLDocument-æ‹“å±•"><a href="#HTMLDocument-æ‹“å±•" class="headerlink" title="HTMLDocument æ‹“å±•"></a>HTMLDocument æ‹“å±•</h5><ol>
<li><p>readyState</p>
<p>è¯¥å±æ€§æœ€æ—©æ˜¯ IE4 æ·»åŠ åˆ° document å¯¹è±¡ä¸Šã€‚HTML5å°†è¿™ä¸ªå±æ€§å†™å…¥äº†æ ‡å‡†ã€‚è¯¥å±æ€§æœ‰ä¸¤ä¸ªå€¼ï¼š</p>
<ul>
<li>loadingï¼Œè¡¨ç¤ºæ–‡æ¡£æ­£åœ¨åŠ è½½ï¼›</li>
<li>completeï¼Œè¡¨ç¤ºæ–‡æ¡£åŠ è½½å®Œæˆã€‚</li>
</ul>
</li>
<li><p>compatMode å±æ€§</p>
<p>è‡ªä» IE6 æä¾›äº†ä»¥æ ‡å‡†æˆ–æ··æ‚æ¨¡å¼æ¸²æŸ“é¡µé¢çš„èƒ½åŠ›ä¹‹åï¼Œæ£€æµ‹é¡µé¢æ¸²æŸ“æ¨¡å¼æˆä¸ºä¸€ä¸ªå¿…è¦çš„éœ€æ±‚ã€‚è¿™ä¸ªå±æ€§æŒ‡ç¤ºæµè§ˆå™¨å½“å‰å¤„äºä»€ä¹ˆæ¸²æŸ“æ¨¡å¼ä¸‹ã€‚</p>
<p>æ ‡å‡†æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªå±æ€§çš„å€¼æ˜¯ â€œCSS1Compatâ€ï¼Œè€Œåœ¨æ··æ‚æ¨¡å¼ä¸‹ï¼Œå€¼æ˜¯ â€œBackCompatâ€ã€‚</p>
</li>
<li><p>head å±æ€§</p>
<p>è¯¥å±æ€§æŒ‡å‘æ–‡æ¡£çš„ <code>&lt;head&gt;</code> å±æ€§ã€‚</p>
</li>
</ol>
<h5 id="å­—ç¬¦é›†å±æ€§"><a href="#å­—ç¬¦é›†å±æ€§" class="headerlink" title="å­—ç¬¦é›†å±æ€§"></a>å­—ç¬¦é›†å±æ€§</h5><p>characterSet å±æ€§è¡¨ç¤ºæ–‡æ¡£å®é™…ä½¿ç”¨çš„å­—ç¬¦é›†ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šæ–°å­—ç¬¦é›†ã€‚</p>
<h5 id="è‡ªå®šä¹‰æ•°æ®å±æ€§"><a href="#è‡ªå®šä¹‰æ•°æ®å±æ€§" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®å±æ€§"></a>è‡ªå®šä¹‰æ•°æ®å±æ€§</h5><p>æµè§ˆå™¨å…è®¸ç»™å…ƒç´ æŒ‡å®šéæ ‡å‡†çš„å±æ€§ï¼Œæœ€å¥½ä»¥å‰ç¼€ data- æ¥æŒ‡å®šã€‚</p>
<p>è‡ªå®šä¹‰å±æ€§å¯ä»¥é€šè¿‡å…ƒç´ çš„ dataset å±æ€§æ¥è®¿é—®ã€‚dataset å±æ€§æ˜¯ä¸€ä¸ª DOMStringMap çš„å®ä¾‹ï¼ŒåŒ…å«ä¸€ç»„é”®/å€¼å¯¹æ˜ å°„ã€‚å…ƒç´ çš„æ¯ä¸ª data-name å±æ€§åœ¨ dataset ä¸­éƒ½å¯ä»¥é€šè¿‡ data- åé¢çš„å­—ç¬¦ä¸²ä½œä¸ºé”®æ¥è®¿é—®ã€‚</p>
<h5 id="æ’å…¥æ ‡è®°"><a href="#æ’å…¥æ ‡è®°" class="headerlink" title="æ’å…¥æ ‡è®°"></a>æ’å…¥æ ‡è®°</h5><ol>
<li><p>innerHTML</p>
<p>åœ¨è¯»å– innerHTML å±æ€§æ—¶ï¼Œä¼šè¿”å›å…ƒç´ æ‰€æœ‰åä»£çš„ HTML å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬å…ƒç´ ã€æ³¨é‡Šå’Œæ–‡æœ¬èŠ‚ç‚¹ã€‚åœ¨å†™å…¥æ—¶ï¼Œä¼šæ ¹æ®æä¾›çš„å­—ç¬¦ä¸²å€¼ä»¥æ–°çš„ DOM å­æ ‘æ›¿ä»£å…ƒç´ ä¸­åŸæ¥åŒ…å«çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>æ—§ IEä¸­çš„ innerHTML</p>
<p>åœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­ï¼Œé€šè¿‡ innerHTML æ’å…¥çš„ <code>&lt;script&gt;</code> æ ‡ç­¾æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚è€Œåœ¨ IE8 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œåªè¦è¿™æ ·æ’å…¥çš„ <code>&lt;script&gt;</code> å…ƒç´ æŒ‡å®šäº† defer å±æ€§ï¼Œä¸” <code>&lt;script&gt;</code> ä¹‹å‰æ˜¯ å—æ§å…ƒç´ ï¼Œé‚£å°±æ˜¯å¯ä»¥æ‰§è¡Œçš„ã€‚<code>&lt;script&gt;</code> å…ƒç´ ä¸ <code>&lt;style&gt;</code> æˆ–æ³¨é‡Šä¸€æ ·ï¼Œéƒ½æ˜¯éå—æ§å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åœ¨é¡µé¢ä¸Šçœ‹ä¸åˆ°å®ƒä»¬ã€‚IE ä¼šæŠŠ innerHTML ä¸­ä»éå—æ§å…ƒç´ å¼€å§‹çš„å†…å®¹éƒ½åˆ æ‰ã€‚</p>
</li>
<li><p>outerHTML å±æ€§</p>
<p>è¯»å– outerHTML å±æ€§æ—¶ï¼Œä¼šè¿”å›è°ƒç”¨å®ƒçš„å…ƒç´ åŠæ‰€æœ‰åä»£å…ƒç´ çš„ HTML å­—ç¬¦ä¸²ã€‚åœ¨å†™å…¥ outerHTML å±æ€§æ—¶ï¼Œè°ƒç”¨å®ƒçš„å…ƒç´ ä¼šè¢«ä¼ å…¥çš„ HTML å­—ç¬¦ä¸²ç»è§£é‡Šä¹‹åç”Ÿæˆçš„ DOM å­æ ‘å–ä»£ã€‚</p>
</li>
<li><p>insertAdjacentHTML() ä¸ insertAdjacentText()</p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•æœ€æ—©æºè‡ª IE ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ’å…¥æ ‡è®°çš„ä½ç½®å’Œè¦æ’å…¥çš„ HTML æˆ–æ–‡æœ¬ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸‹åˆ—å€¼çš„ä¸€ä¸ªï¼š</p>
<ul>
<li>beforebeginï¼Œæ’å…¥å½“å‰å…ƒç´ å‰é¢ï¼Œä½œä¸ºå‰ä¸€ä¸ªåŒèƒèŠ‚ç‚¹ï¼›</li>
<li>afterbeginï¼Œæ’å…¥å½“å‰å…ƒç´ å†…éƒ¨ï¼Œä½œä¸ºæ–°çš„å­èŠ‚ç‚¹æˆ–æ”¾åœ¨ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹åé¢ï¼›</li>
<li>beforeendï¼Œæ’å…¥å½“å‰å…ƒç´ å†…éƒ¨ï¼Œä½œä¸ºæ–°çš„å­èŠ‚ç‚¹æˆ–æ”¾åœ¨æœ€åä¸€ä¸ªå­èŠ‚ç‚¹åé¢ï¼›</li>
<li>afterendï¼Œæ’å…¥å½“å‰å…ƒç´ åé¢ï¼›</li>
</ul>
<p>ä»¥ä¸Šå€¼ä¸åŒºåˆ†å¤§å°å†™ã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="JSONæ–¹æ³•ï¼ŒtoJSON"><a href="#JSONæ–¹æ³•ï¼ŒtoJSON" class="headerlink" title="JSONæ–¹æ³•ï¼ŒtoJSON"></a>JSONæ–¹æ³•ï¼ŒtoJSON</h3><h4 id="æ’é™¤å’Œè½¬æ¢ï¼šreplacer"><a href="#æ’é™¤å’Œè½¬æ¢ï¼šreplacer" class="headerlink" title="æ’é™¤å’Œè½¬æ¢ï¼šreplacer"></a>æ’é™¤å’Œè½¬æ¢ï¼šreplacer</h4><p>JSON.stringify çš„å®Œæ•´è¯­æ³•æ˜¯ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> replacer<span class="token operator">?</span><span class="token punctuation">,</span> space<span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li>valueï¼Œè¦ç¼–ç çš„å€¼ã€‚</li>
<li>replacerï¼Œè¦ç¼–ç çš„å±æ€§æ•°ç»„æˆ–æ˜ å°„å‡½æ•° <code>function(key, value)</code> ã€‚</li>
<li>spaceï¼Œç”¨äºæ ¼å¼åŒ–çš„ç©ºæ ¼æ•°é‡ã€‚</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> room <span class="token operator">=</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> meetup <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Conference'</span><span class="token punctuation">,</span>
  participants<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  place<span class="token punctuation">:</span> room <span class="token comment" spellcheck="true">// meetup å¼•ç”¨äº† room</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

room<span class="token punctuation">.</span>occupiedBy <span class="token operator">=</span> meetup<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// room å¼•ç”¨äº† meetup</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>meetup<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'participants'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// {"title":"Conference","participants":[{},{}]}</span>

<span class="token keyword">let</span> room <span class="token operator">=</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> meetup <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Conference'</span><span class="token punctuation">,</span>
  participants<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  place<span class="token punctuation">:</span> room <span class="token comment" spellcheck="true">// meetup å¼•ç”¨äº† room</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

room<span class="token punctuation">.</span>occupiedBy <span class="token operator">=</span> meetup<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// room å¼•ç”¨äº† meetup</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>meetup<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">replacer</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> key <span class="token operator">==</span> <span class="token string">'occupiedBy'</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/* key:value pairs that come to replacer:
:             [object Object]
title:        Conference
participants: [object Object],[object Object]
0:            [object Object]
name:         John
1:            [object Object]
name:         Alice
place:        [object Object]
number:       23
*/</span></code></pre>
<h4 id="æ ¼å¼åŒ–ï¼šspace"><a href="#æ ¼å¼åŒ–ï¼šspace" class="headerlink" title="æ ¼å¼åŒ–ï¼šspace"></a>æ ¼å¼åŒ–ï¼šspace</h4><p>ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºä¼˜åŒ–æ ¼å¼çš„ç©ºæ ¼æ•°é‡ã€‚</p>
<h4 id="è‡ªå®šä¹‰-â€œtoJSONâ€"><a href="#è‡ªå®šä¹‰-â€œtoJSONâ€" class="headerlink" title="è‡ªå®šä¹‰ â€œtoJSONâ€"></a>è‡ªå®šä¹‰ â€œtoJSONâ€</h4><p>å¯ä»¥ç»™å¯¹è±¡è‡ªå®šä¹‰ toJSON æ–¹æ³•æ¥è‡ªå®šä¹‰ JSON è½¬æ¢ã€‚</p>
<h4 id="JSON-parse"><a href="#JSON-parse" class="headerlink" title="JSON.parse"></a>JSON.parse</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> value <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> reviver<span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li>strï¼Œè¦è§£æçš„ JSON å­—ç¬¦ä¸²ã€‚</li>
<li>reviverï¼Œå¯é€‰çš„å‡½æ•° <code>function(key, value)</code> ï¼Œè¯¥å‡½æ•°å°†ä¸ºæ¯ä¸ªé”®å€¼å¯¹è°ƒç”¨ã€‚</li>
</ul>
<p>ä¾‹å­ï¼ŒJSON å¯¹è±¡ä¸­çš„æ—¥æœŸå€¼ parse ä¹‹åä¾ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æä¾› reviver å‡½æ•°æ¥è¿›è¡Œè½¬æ¢ã€‚</p>
<h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><ol>
<li><p>å°†å¯¹è±¡è½¬æ¢ä¸º JSONï¼Œç„¶åå†è½¬æ¢å›æ¥</p>
<p>å°† <code>user</code> è½¬æ¢ä¸º JSONï¼Œç„¶åå°†å…¶è½¬æ¢å›åˆ°å¦ä¸€ä¸ªå˜é‡ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">"John Smith"</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">35</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ’é™¤åå‘å¼•ç”¨</p>
<p>åœ¨ç®€å•å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åç§°æ’é™¤åºåˆ—åŒ–ä¸­è¿è§„çš„å±æ€§ã€‚</p>
<p>ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¸èƒ½åªä½¿ç”¨åç§°ï¼Œå› ä¸ºå®ƒæ—¢å¯èƒ½åœ¨å¾ªç¯å¼•ç”¨ä¸­ä¹Ÿå¯èƒ½åœ¨å¸¸è§„å±æ€§ä¸­ä½¿ç”¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å±æ€§å€¼æ¥æ£€æŸ¥å±æ€§ã€‚</p>
<p>ç¼–å†™ <code>replacer</code> å‡½æ•°ï¼Œç§»é™¤å¼•ç”¨ <code>meetup</code> çš„å±æ€§ï¼Œå¹¶å°†å…¶ä»–æ‰€æœ‰å±æ€§åºåˆ—åŒ–ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> room <span class="token operator">=</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> meetup <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">"Conference"</span><span class="token punctuation">,</span>
  occupiedBy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"Alice"</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  place<span class="token punctuation">:</span> room
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// å¾ªç¯å¼•ç”¨</span>
room<span class="token punctuation">.</span>occupiedBy <span class="token operator">=</span> meetup<span class="token punctuation">;</span>
meetup<span class="token punctuation">.</span>self <span class="token operator">=</span> meetup<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>meetup<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">replacer</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* your code */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/* ç»“æœåº”è¯¥æ˜¯ï¼š
{
  "title":"Conference",
  "occupiedBy":[{"name":"John"},{"name":"Alice"}],
  "place":{"number":23}
}
*/</span></code></pre>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>meetup<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">replacer</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> meetup <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> undefined<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 10</title>
    <url>/2020/11/10/xue-xi-bi-ji-2020-11-10/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-10"><a href="#å­¦ä¹ ç¬”è®°-2020-11-10" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-10"></a>å­¦ä¹ ç¬”è®° 2020-11-10</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h4 id="MutationObserver-æ¥å£"><a href="#MutationObserver-æ¥å£" class="headerlink" title="MutationObserver æ¥å£"></a>MutationObserver æ¥å£</h4><h5 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h5><ol>
<li><p>å›è°ƒä¸ MutationRecord</p>
<p>æ¯ä¸ªå›è°ƒéƒ½ä¼šæ”¶åˆ°ä¸€ä¸ª MutationRecord å®ä¾‹çš„æ•°ç»„ã€‚åŒ…å«å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼ŒDOM çš„å“ªä¸€éƒ¨åˆ†å—åˆ°äº†å½±å“ã€‚å› ä¸ºå›è°ƒæ‰§è¡Œä¹‹å‰å¯èƒ½åŒæ—¶å‘ç”Ÿå¤šä¸ªæ»¡è¶³è§‚å¯Ÿæ¡ä»¶çš„äº‹ä»¶ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰§è¡Œå›è°ƒéƒ½ä¼šä¼ å…¥ä¸€ä¸ªåŒ…å«æŒ‰é¡ºåºå…¥é˜Ÿçš„ MutationRecord å®ä¾‹çš„æ•°ç»„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span> 
 <span class="token punctuation">(</span>mutationRecords<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutationRecords<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [MutationRecord]:</span>
<span class="token comment" spellcheck="true">//  [</span>
<span class="token comment" spellcheck="true">//   0: {</span>
<span class="token comment" spellcheck="true">//     MutationRecord,</span>
<span class="token comment" spellcheck="true">//     addedNodes: NodeList [],</span>
<span class="token comment" spellcheck="true">//     attributeName: "foo",</span>
<span class="token comment" spellcheck="true">//     attributeNamespace: null,</span>
<span class="token comment" spellcheck="true">//     nextSibling: null,</span>
<span class="token comment" spellcheck="true">//     oldValue: null,</span>
<span class="token comment" spellcheck="true">//     previousSibling: null,</span>
<span class="token comment" spellcheck="true">//     removedNodes: NodeList [],</span>
<span class="token comment" spellcheck="true">//     target: body,</span>
<span class="token comment" spellcheck="true">//     type: "attributes",</span>
<span class="token comment" spellcheck="true">//     __proto__: MutationRecord,</span>
<span class="token comment" spellcheck="true">//     length: 1</span>
<span class="token comment" spellcheck="true">//   },</span>
<span class="token comment" spellcheck="true">//   __proto__: Array(0),</span>
<span class="token comment" spellcheck="true">//  ]</span>

<span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span> 
 <span class="token punctuation">(</span>mutationRecords<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutationRecords<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setAttributeNS</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// [ </span>
<span class="token comment" spellcheck="true">//   { </span>
<span class="token comment" spellcheck="true">//     addedNodes: NodeList [], </span>
<span class="token comment" spellcheck="true">//     attributeName: "foo", </span>
<span class="token comment" spellcheck="true">//     attributeNamespace: "baz", </span>
<span class="token comment" spellcheck="true">//     nextSibling: null, </span>
<span class="token comment" spellcheck="true">//     oldValue: null, </span>
<span class="token comment" spellcheck="true">//     previousSibling: null </span>
<span class="token comment" spellcheck="true">//     removedNodes: NodeList [], </span>
<span class="token comment" spellcheck="true">//     target: body </span>
<span class="token comment" spellcheck="true">//     type: "attributes" </span>
<span class="token comment" spellcheck="true">//   } </span>
<span class="token comment" spellcheck="true">// ]</span>

<span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>mutationRecords <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutationRecords<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'baz'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [MutationRecord, MutationRecord, MutationRecord]</span></code></pre>
<p>MutationRecord å®ä¾‹çš„å±æ€§å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>è¢«ä¿®æ”¹å½±å“çš„ç›®æ ‡èŠ‚ç‚¹</td>
</tr>
<tr>
<td>type</td>
<td>å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå˜åŒ–çš„ç±»å‹ï¼šâ€attributesâ€ã€â€characterDataâ€æˆ–â€childListâ€</td>
</tr>
<tr>
<td>oldValue</td>
<td>å¦‚æœåœ¨ MutationObserverInit å¯¹è±¡ä¸­å¯ç”¨ï¼ˆattributeOldValue æˆ– characterData OldValue ä¸º trueï¼‰ï¼Œâ€attributesâ€æˆ–â€characterDataâ€çš„å˜åŒ–äº‹ä»¶ä¼šè®¾ç½®è¿™ä¸ªå±æ€§ä¸ºè¢«æ›¿ä»£çš„å€¼ â€œchildListâ€ç±»å‹çš„å˜åŒ–å§‹ç»ˆå°†è¿™ä¸ªå±æ€§è®¾ç½®ä¸º nullã€‚</td>
</tr>
<tr>
<td>attributeName</td>
<td>å¯¹äºâ€attributesâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿™é‡Œä¿å­˜è¢«ä¿®æ”¹å±æ€§çš„åå­—ã€‚å…¶ä»–å˜åŒ–äº‹ä»¶ä¼šå°†è¿™ä¸ªå±æ€§è®¾ç½®ä¸º null</td>
</tr>
<tr>
<td>attributeNamespace</td>
<td>å¯¹äºä½¿ç”¨äº†å‘½åç©ºé—´çš„â€attributesâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿™é‡Œä¿å­˜è¢«ä¿®æ”¹å±æ€§çš„åå­—ã€‚å¯¹äºä½¿ç”¨äº†å‘½åç©ºé—´çš„â€attributesâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿™é‡Œä¿å­˜è¢«ä¿®æ”¹å±æ€§çš„åå­—</td>
</tr>
<tr>
<td>addedNodes</td>
<td>å¯¹äºâ€childListâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿”å›åŒ…å«å˜åŒ–ä¸­æ·»åŠ èŠ‚ç‚¹çš„ NodeListã€‚é»˜è®¤ä¸ºç©º NodeListã€‚</td>
</tr>
<tr>
<td>removedNodes</td>
<td>å¯¹äºâ€childListâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿”å›åŒ…å«å˜åŒ–ä¸­åˆ é™¤èŠ‚ç‚¹çš„ NodeListã€‚é»˜è®¤ä¸ºç©º NodeListã€‚</td>
</tr>
<tr>
<td>previousSibling</td>
<td>å¯¹äºâ€childListâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿”å›å˜åŒ–èŠ‚ç‚¹çš„å‰ä¸€ä¸ªåŒèƒ Nodeã€‚é»˜è®¤ä¸º nullã€‚</td>
</tr>
<tr>
<td>nextSibling</td>
<td>å¯¹äºâ€childListâ€ç±»å‹çš„å˜åŒ–ï¼Œè¿”å›å˜åŒ–èŠ‚ç‚¹çš„åä¸€ä¸ªåŒèƒ Nodeã€‚é»˜è®¤ä¸º nullã€‚</td>
</tr>
</tbody></table>
<p>ä¼ ç»™å›è°ƒå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯è§‚å¯Ÿå˜åŒ–çš„ MutationObserver çš„å®ä¾‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span> 
 <span class="token punctuation">(</span>mutationRecords<span class="token punctuation">,</span> mutationObserver<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutationRecords<span class="token punctuation">,</span>
mutationObserver<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// [MutationRecord], MutationObserver</span></code></pre>
</li>
<li><p>disconnect() æ–¹æ³•</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªè¦è¢«è§‚å¯Ÿçš„å…ƒç´ ä¸è¢«åƒåœ¾å›æ”¶ï¼Œå›è°ƒå°±ä¸ä¼šè¢«ç»ˆæ­¢ã€‚è°ƒç”¨ disconnect() æ–¹æ³•æå‰ç»ˆæ­¢æ‰§è¡Œå›è°ƒã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'&lt;body> attributes changed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ï¼ˆæ²¡æœ‰æ—¥å¿—è¾“å‡ºï¼‰</span></code></pre>
<p>è°ƒç”¨åï¼Œå·²ç»åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—çš„å›è°ƒä¹Ÿä¼šè¢«æŠ›å¼ƒã€‚</p>
<p>å¦‚æœæƒ³æ‰§è¡Œå·²ç»å…¥åˆ—çš„å›è°ƒï¼Œå¯ä»¥ä½¿ç”¨ setTimeout() ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'&lt;body> attributes changed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// &lt;body> attributes changed</span></code></pre>
</li>
<li><p>å¤ç”¨ MutationObserver</p>
<p>å¤šæ¬¡è°ƒç”¨ observe() æ–¹æ³•ï¼Œå¯ä»¥å¤ç”¨ä¸€ä¸ª MutationObserver å¯¹è±¡è§‚å¯Ÿå¤šä¸ªä¸åŒçš„ç›®æ ‡èŠ‚ç‚¹ã€‚æ­¤æ—¶ï¼Œ MutationRecord çš„ target å±æ€§å¯ä»¥æ ‡è¯†å‘ç”Ÿå˜åŒ–äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>mutationRecords <span class="token operator">=</span><span class="token operator">></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mutationRecords<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> x<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// å‘é¡µé¢ä¸»ä½“æ·»åŠ ä¸¤ä¸ªå­èŠ‚ç‚¹</span>
<span class="token keyword">let</span> childA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  childB <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>childA<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>childB<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è§‚å¯Ÿä¸¤ä¸ªå­èŠ‚ç‚¹</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>childA<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>childB<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä¿®æ”¹ä¸¤ä¸ªå­èŠ‚ç‚¹çš„å±æ€§</span>
childA<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
childB<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [&lt;div>, &lt;span>]</span></code></pre>
<p>æ­¤æ—¶è°ƒç”¨ disconnect() æ–¹æ³•ä¼šåœæ­¢è§‚å¯Ÿæ‰€æœ‰ç›®æ ‡ã€‚</p>
</li>
<li><p>é‡ç”¨ MutationObserver</p>
<p>è°ƒç”¨è¿‡ disconnect() çš„ MutationObserver è¿˜å¯ä»¥é‡æ–°ä½¿ç”¨ï¼Œåªéœ€è¦å…³è”åˆ°æ–°çš„ç›®æ ‡èŠ‚ç‚¹ã€‚</p>
</li>
</ol>
<h5 id="MutationObserverInit-ä¸è§‚å¯ŸèŒƒå›´"><a href="#MutationObserverInit-ä¸è§‚å¯ŸèŒƒå›´" class="headerlink" title="MutationObserverInit ä¸è§‚å¯ŸèŒƒå›´"></a>MutationObserverInit ä¸è§‚å¯ŸèŒƒå›´</h5><p>MutationObserverInit å¯¹è±¡ç”¨äºæ§åˆ¶å¯¹ç›®æ ‡èŠ‚ç‚¹çš„è§‚å¯ŸèŒƒå›´ã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>subtree</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºé™¤äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œæ˜¯å¦è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„å­æ ‘ï¼ˆåä»£ï¼‰ã€‚å¦‚æœæ˜¯ falseï¼Œåˆ™åªè§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„å˜åŒ–ï¼›å¦‚æœæ˜¯ trueï¼Œåˆ™è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹åŠå…¶æ•´ä¸ªå­æ ‘ã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td>attributes</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„å±æ€§å˜åŒ–ã€‚é»˜è®¤ä¸º false</td>
</tr>
<tr>
<td>attributeFilter</td>
<td>å­—ç¬¦ä¸²æ•°ç»„ï¼Œè¡¨ç¤ºè¦è§‚å¯Ÿå“ªäº›å±æ€§çš„å˜åŒ–ã€‚æŠŠè¿™ä¸ªå€¼è®¾ç½®ä¸º true ä¹Ÿä¼šå°† attributes çš„å€¼è½¬æ¢ä¸º trueã€‚é»˜è®¤ä¸ºè§‚å¯Ÿæ‰€æœ‰å±æ€§</td>
</tr>
<tr>
<td>attributeOldValue</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤º MutationRecord æ˜¯å¦è®°å½•å˜åŒ–ä¹‹å‰çš„å±æ€§å€¼ã€‚æŠŠè¿™ä¸ªå€¼è®¾ç½®ä¸º true ä¹Ÿä¼šå°† attributes çš„å€¼è½¬æ¢ä¸º trueã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td>characterData</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºä¿®æ”¹å­—ç¬¦æ•°æ®æ˜¯å¦è§¦å‘å˜åŒ–äº‹ä»¶ã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td>characterDataOldValue</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤º MutationRecord æ˜¯å¦è®°å½•å˜åŒ–ä¹‹å‰çš„å­—ç¬¦æ•°æ®ã€‚æŠŠè¿™ä¸ªå€¼è®¾ç½®ä¸º true ä¹Ÿä¼šå°† characterData çš„å€¼è½¬æ¢ä¸º trueã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td>childList</td>
<td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºä¿®æ”¹ç›®æ ‡èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯å¦è§¦å‘å˜åŒ–äº‹ä»¶ã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
</tbody></table>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè§‚å¯ŸèŒƒå›´é™å®šä¸ºä¸€ä¸ªå…ƒç´ åŠå…¶å­èŠ‚ç‚¹çš„å˜åŒ–ã€‚è®¾ç½® subtree å¯ä»¥å°†è§‚å¯ŸèŒƒå›´æ‹“å±•åˆ°è¿™ä¸ªå…ƒç´ çš„å­æ ‘ï¼Œå³æ‰€æœ‰åä»£èŠ‚ç‚¹ã€‚è¢«è§‚å¯Ÿå­æ ‘çš„èŠ‚ç‚¹è¢«ç§»å‡ºå­æ ‘ä¹‹åä»ç„¶èƒ½å¤Ÿè§¦å‘å˜åŒ–äº‹ä»¶ã€‚</p>
<h5 id="å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—"><a href="#å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—" class="headerlink" title="å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—"></a>å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—</h5><p>MutationObserver æ¥å£å‡ºäºæ€§èƒ½è€ƒè™‘è€Œæ¶‰åŠï¼Œæ ¸å¿ƒæ˜¯å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—æ¨¡å‹ã€‚ä¸ºäº†åœ¨å¤§é‡å˜åŒ–äº‹ä»¶å‘ç”Ÿæ—¶ä¸å½±å“æ€§èƒ½ï¼Œæ¯æ¬¡å˜åŒ–çš„ä¿¡æ¯ä¼šä¿å­˜åœ¨ MutationRecord å®ä¾‹ä¸­ï¼Œç„¶åæ·»åŠ åˆ°è®°å½•é˜Ÿåˆ—ã€‚è¿™ä¸ªé˜Ÿåˆ—å¯¹æ¯ä¸ª MutationObserver å®ä¾‹éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ˜¯æ‰€æœ‰ DOM å˜åŒ–äº‹ä»¶çš„æœ‰åºåˆ—è¡¨ã€‚</p>
<ol>
<li><p>è®°å½•é˜Ÿåˆ—</p>
<p>æ¯æ¬¡ MutationRecord è¢«æ·»åŠ åˆ° MutationObserver çš„è®°å½•é˜Ÿåˆ—æ—¶ï¼Œä»…å½“ä¹‹å‰æ²¡æœ‰å·²æ’æœŸçš„å¾®ä»»åŠ¡å›è°ƒæ—¶ï¼Œæ‰ä¼šå°†è§‚å¯Ÿè€…æ³¨å†Œçš„å›è°ƒä½œä¸ºå¾®ä»»åŠ¡è°ƒåº¦åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸Šã€‚</p>
<p>ä¸è¿‡åœ¨å›è°ƒçš„å¾®ä»»åŠ¡å¼‚æ­¥æ‰§è¡ŒæœŸé—´ï¼Œæœ‰å¯èƒ½åˆä¼šå‘ç”Ÿæ›´å¤šå˜åŒ–äº‹ä»¶ã€‚å› æ­¤è¢«è°ƒç”¨çš„å›è°ƒä¼šæ¥æ”¶åˆ°ä¸€ä¸ª MutationRecord å®ä¾‹çš„æ•°ç»„ï¼Œé¡ºåºä¸ºå®ƒä»¬è¿›å…¥è®°å½•é˜Ÿåˆ—çš„é¡ºåºã€‚å›è°ƒè¦è´Ÿè´£å¤„ç†è¿™ä¸ªæ•°ç»„çš„æ¯ä¸€ä¸ªå®ä¾‹ï¼Œå› ä¸ºå‡½æ•°é€€å‡ºä¹‹åè¿™äº›å®ç°å°±ä¸å­˜åœ¨äº†ã€‚å›è°ƒæ‰§è¡Œåï¼Œè¿™äº› MutationRecord å°±ç”¨ä¸ç€äº†ã€‚å› æ­¤è®°å½•é˜Ÿåˆ—ä¼šè¢«æ¸…ç©ºã€‚</p>
</li>
<li><p>takeRecords() æ–¹æ³•</p>
<p>è°ƒç”¨ MutationObserver å®ä¾‹çš„ takeRecords() æ–¹æ³•å¯ä»¥æ¸…ç©ºè®°å½•é˜Ÿåˆ—ï¼Œå–å‡ºå¹¶è¿”å›å…¶ä¸­çš„æ‰€æœ‰ MutationRecord å®ä¾‹ã€‚</p>
</li>
</ol>
<h5 id="æ€§èƒ½ã€å†…å­˜ä¸åƒåœ¾å›æ”¶"><a href="#æ€§èƒ½ã€å†…å­˜ä¸åƒåœ¾å›æ”¶" class="headerlink" title="æ€§èƒ½ã€å†…å­˜ä¸åƒåœ¾å›æ”¶"></a>æ€§èƒ½ã€å†…å­˜ä¸åƒåœ¾å›æ”¶</h5><p>å°†å˜åŒ–å›è°ƒå§”æ‰˜ç»™å¾®ä»»åŠ¡æ¥æ‰§è¡Œå¯ä»¥ä¿è¯äº‹ä»¶åŒæ­¥è§¦å‘ï¼ŒåŒæ—¶é¿å…éšä¹‹è€Œæ¥çš„æ··ä¹±ã€‚ä¸º MutationObserver è€Œå®ç°çš„è®°å½•é˜Ÿåˆ—ï¼Œå¯ä»¥ä¿è¯å³ä½¿å˜åŒ–äº‹ä»¶è¢«çˆ†å‘å¼åœ°è§¦å‘ï¼Œä¹Ÿä¸ä¼šæ˜¾è‘—åœ°æ‹–æ…¢æµè§ˆå™¨ã€‚</p>
<ol>
<li><p>MutationObserver çš„å¼•ç”¨</p>
<p>MutationObserver å®ä¾‹ä¸ç›®æ ‡èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨å…³ç³»æ˜¯éå¯¹ç§°çš„ã€‚MutationObserver æ‹¥æœ‰å¯¹è¦è§‚å¯Ÿçš„ç›®æ ‡èŠ‚ç‚¹çš„å¼±å¼•ç”¨ã€‚å› ä¸ºæ˜¯å¼±å¼•ç”¨ï¼Œæ‰€ä»¥ä¸ä¼šå¦¨ç¢åƒåœ¾å›æ”¶ç¨‹åºå›æ”¶ç›®æ ‡èŠ‚ç‚¹ã€‚</p>
<p>ç„¶è€Œï¼Œç›®æ ‡èŠ‚ç‚¹å´æ‹¥æœ‰å¯¹ MutationObserver çš„å¼ºå¼•ç”¨ã€‚å¦‚æœç›®æ ‡èŠ‚ç‚¹ä» DOM ä¸­è¢«ç§»é™¤ï¼Œéšåè¢«åƒåœ¾å›æ”¶ï¼Œåˆ™å…³è”çš„ MutationObserver ä¹Ÿä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
</li>
<li><p>MutationRecord çš„å¼•ç”¨</p>
<p>è®°å½•é˜Ÿåˆ—ä¸­çš„æ¯ä¸ª MutationRecord çš„å®ä¾‹è‡³å°‘åŒ…å«å¯¹å·²æœ‰ DOM èŠ‚ç‚¹çš„ä¸€ä¸ªå¼•ç”¨ã€‚å¦‚æœå˜åŒ–æ˜¯ childList ç±»å‹ï¼Œåˆ™ä¼šåŒ…å«å¤šä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚è®°å½•é˜Ÿåˆ—å’Œå›è°ƒå¤„ç†çš„é»˜è®¤è¡Œä¸ºæ˜¯è€—å°½è¿™ä¸ªé˜Ÿåˆ—ï¼Œå¤„ç†æ¯ä¸ª MutationRecord ï¼Œç„¶åè®©å®ƒä»¬è¶…å‡ºä½œç”¨åŸŸå¹¶è¢«åƒåœ¾å›æ”¶ã€‚</p>
<p>æœ‰æ—¶å€™å¯èƒ½éœ€è¦ä¿å­˜æŸä¸ªè§‚å¯Ÿè€…çš„å®Œæ•´å˜åŒ–è®°å½•ã€‚ä¿å­˜è¿™äº› MutationRecord å®ä¾‹ï¼Œä¹Ÿå°±ä¼šä¿å­˜å®ƒä»¬å¼•ç”¨çš„èŠ‚ç‚¹ï¼Œå› è€Œä¼šå¦¨ç¢è¿™äº›èŠ‚ç‚¹è¢«å›æ”¶ã€‚å¦‚æœéœ€è¦å°½å¿«åœ°é‡Šæ”¾å†…å­˜ï¼Œå»ºè®®ä»æ¯ä¸ª MutationRecord ä¸­æŠ½å–å‡ºæœ€æœ‰ç”¨çš„ä¿¡æ¯ï¼Œç„¶åä¿å­˜åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ä¸­ï¼Œæœ€åæŠ›å¼ƒ MutationRecordã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>åˆ›å»ºæ—¥æœŸ</p>
<p>åˆ›å»ºä¸€ä¸ª <code>Date</code> å¯¹è±¡ï¼Œæ—¥æœŸæ˜¯ï¼šFeb 20, 2012, 3:12amã€‚æ—¶åŒºæ˜¯å½“åœ°æ—¶åŒºã€‚</p>
<p>ä½¿ç”¨ <code>alert</code> æ˜¾ç¤ºç»“æœã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2012-02-20 3:12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ˜¾ç¤ºæ˜ŸæœŸæ•°</p>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>getWeekDay(date)</code> ä»¥çŸ­æ ¼å¼æ¥æ˜¾ç¤ºä¸€ä¸ªæ—¥æœŸçš„æ˜ŸæœŸæ•°ï¼šâ€˜MOâ€™ï¼Œâ€˜TUâ€™ï¼Œâ€˜WEâ€™ï¼Œâ€˜THâ€™ï¼Œâ€˜FRâ€™ï¼Œâ€˜SAâ€™ï¼Œâ€˜SUâ€™ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 3 Jan 2012</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// åº”è¯¥è¾“å‡º "TU"</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> day <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>day<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'MO'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'TU'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'WE'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'TH'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'FR'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'SA'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">'SU'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ¬§æ´²çš„æ˜ŸæœŸè¡¨ç¤ºæ–¹æ³•</p>
<p>æ¬§æ´²å›½å®¶çš„æ˜ŸæœŸè®¡ç®—æ˜¯ä»æ˜ŸæœŸä¸€ï¼ˆæ•°å­— 1ï¼‰å¼€å§‹çš„ï¼Œç„¶åæ˜¯æ˜ŸæœŸäºŒï¼ˆæ•°å­— 2ï¼‰ï¼Œç›´åˆ°æ˜ŸæœŸæ—¥ï¼ˆæ•°å­— 7ï¼‰ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•° <code>getLocalDay(date)</code>ï¼Œå¹¶è¿”å›æ—¥æœŸçš„æ¬§æ´²å¼æ˜ŸæœŸæ•°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 3 Jan 2012</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLocalDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// æ˜ŸæœŸäºŒï¼Œåº”è¯¥æ˜¾ç¤º 2</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getLocalDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> day <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> day <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">7</span> <span class="token punctuation">:</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è®¸å¤šå¤©ä¹‹å‰æ˜¯å“ªä¸ªæœˆå‡ å·ï¼Ÿ</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>getDateAgo(date, days)</code>ï¼Œè¿”å›ç‰¹å®šæ—¥æœŸ <code>date</code> å¾€å‰ <code>days</code> å¤©æ˜¯å“ªä¸ªæœˆçš„å“ªä¸€å¤©ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ä»Šå¤©æ˜¯ 20 å·ï¼Œé‚£ä¹ˆ <code>getDateAgo(new Date(), 1)</code> çš„ç»“æœåº”è¯¥æ˜¯ 19 å·ï¼Œ<code>getDateAgo(new Date(), 2)</code> çš„ç»“æœåº”è¯¥æ˜¯ 18 å·ã€‚</p>
<p>è·¨æœˆã€å¹´ä¹Ÿåº”è¯¥æ˜¯æ­£ç¡®è¾“å‡ºï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1, (1 Jan 2015)</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 31, (31 Dec 2014)</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">365</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2, (2 Jan 2014)</span></code></pre>
<p>P.S. å‡½æ•°ä¸åº”è¯¥ä¿®æ”¹ç»™å®šçš„ <code>date</code> å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> num <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// å‚è€ƒè§£å†³æ–¹æ¡ˆ</span>
<span class="token keyword">function</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> dateCopy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>

  dateCopy<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> dateCopy<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æŸæœˆçš„æœ€åä¸€å¤©</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>getLastDayOfMonth(year, month)</code> è¿”å› month æœˆçš„æœ€åä¸€å¤©ã€‚æœ‰æ—¶å€™æ˜¯ 30ï¼Œæœ‰æ—¶æ˜¯ 31ï¼Œç”šè‡³åœ¨äºŒæœˆçš„æ—¶å€™ä¼šæ˜¯ 28/29ã€‚</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>year</code> â€”â€” å››ä½æ•°çš„å¹´ä»½ï¼Œæ¯”å¦‚ 2012ã€‚</li>
<li><code>month</code> â€”â€” æœˆä»½ï¼Œä» 0 åˆ° 11ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œ<code>getLastDayOfMonth(2012, 1) = 29</code>ï¼ˆé—°å¹´ï¼ŒäºŒæœˆï¼‰</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getLastDayOfMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>ä»Šå¤©è¿‡å»äº†å¤šå°‘ç§’ï¼Ÿ</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>getSecondsToday()</code>ï¼Œè¿”å›ä»Šå¤©å·²ç»è¿‡å»äº†å¤šå°‘ç§’ï¼Ÿ</p>
<p>ä¾‹å¦‚ï¼šå¦‚æœç°åœ¨æ˜¯ <code>10:00 am</code>ï¼Œå¹¶ä¸”æ²¡æœ‰å¤ä»¤æ—¶è½¬æ¢ï¼Œé‚£ä¹ˆï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">36000</span> <span class="token comment" spellcheck="true">// (3600 * 10)</span></code></pre>
<p>è¯¥å‡½æ•°åº”è¯¥åœ¨ä»»æ„ä¸€å¤©éƒ½èƒ½æ­£ç¡®è¿è¡Œã€‚é‚£æ„å‘³ç€ï¼Œå®ƒä¸åº”å…·æœ‰â€œä»Šå¤©â€çš„ç¡¬ç¼–ç å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> day <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> hour <span class="token operator">=</span> day<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> minute <span class="token operator">=</span> day<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> second <span class="token operator">=</span> day<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> hour <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">+</span> minute <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// å‚è€ƒè§£å†³æ–¹æ¡ˆ</span>
<span class="token keyword">function</span> <span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// ä½¿ç”¨å½“å‰çš„ day/month/year åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>
  <span class="token keyword">let</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> diff <span class="token operator">=</span> now <span class="token operator">-</span> today<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ms difference</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// make seconds</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è·ç¦»æ˜å¤©è¿˜æœ‰å¤šå°‘ç§’ï¼Ÿ</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>getSecondsToTomorrow()</code>ï¼Œè¿”å›è·ç¦»æ˜å¤©çš„ç§’æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç°åœ¨æ˜¯ <code>23:00</code>ï¼Œé‚£ä¹ˆï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getSecondsToTomorrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3600</span></code></pre>
<p>P.S. è¯¥å‡½æ•°åº”è¯¥åœ¨ä»»æ„ä¸€å¤©éƒ½èƒ½æ­£ç¡®è¿è¡Œã€‚é‚£æ„å‘³ç€ï¼Œå®ƒä¸åº”å…·æœ‰â€œä»Šå¤©â€çš„ç¡¬ç¼–ç å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSecondsToTomorrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> tomorrow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> diff <span class="token operator">=</span> tomorrow <span class="token operator">-</span> now<span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ ¼å¼åŒ–ç›¸å¯¹æ—¥æœŸ</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>formatDate(date)</code>ï¼Œèƒ½å¤Ÿå¯¹ <code>date</code> è¿›è¡Œå¦‚ä¸‹æ ¼å¼åŒ–ï¼š</p>
<ul>
<li>å¦‚æœ <code>date</code> è·ç¦»ç°åœ¨ä¸åˆ° 1 ç§’ï¼Œè¾“å‡º <code>"right now"</code>ã€‚</li>
<li>å¦åˆ™ï¼Œå¦‚æœ <code>date</code> è·ç¦»ç°åœ¨ä¸åˆ° 1 åˆ†é’Ÿï¼Œè¾“å‡º <code>"n sec. ago"</code>ã€‚</li>
<li>å¦åˆ™ï¼Œå¦‚æœä¸åˆ° 1 å°æ—¶ï¼Œè¾“å‡º <code>"m min. ago"</code>ã€‚</li>
<li>å¦åˆ™ï¼Œä»¥ <code>"DD.MM.YY HH:mm"</code> æ ¼å¼è¾“å‡ºå®Œæ•´æ—¥æœŸã€‚å³ï¼š<code>"day.month.year hours:minutes"</code>ï¼Œå…¨éƒ¨ä»¥ä¸¤ä½æ•°æ ¼å¼è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š<code>31.12.16 10:00</code>ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "right now"</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "30 sec. ago"</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "5 min. ago"</span>

<span class="token comment" spellcheck="true">// æ˜¨å¤©çš„æ—¥æœŸï¼Œä¾‹å¦‚ 31.12.16 20:00</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">86400</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> diff <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>now <span class="token operator">-</span> date<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> hour <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> minute <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>diff <span class="token operator">-</span> hour <span class="token operator">*</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> second <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>diff <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>hour<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">format</span><span class="token punctuation">(</span>
      date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>minute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> min. ago`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>second<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> sec. ago`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`right now`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">format</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> num<span class="token punctuation">;</span>
  <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 09</title>
    <url>/2020/11/09/xue-xi-bi-ji-2020-11-09/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-09"><a href="#å­¦ä¹ ç¬”è®°-2020-11-09" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-09"></a>å­¦ä¹ ç¬”è®° 2020-11-09</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h4 id="èŠ‚ç‚¹å±‚çº§"><a href="#èŠ‚ç‚¹å±‚çº§" class="headerlink" title="èŠ‚ç‚¹å±‚çº§"></a>èŠ‚ç‚¹å±‚çº§</h4><h5 id="DocumentFragment-ç±»å‹"><a href="#DocumentFragment-ç±»å‹" class="headerlink" title="DocumentFragment ç±»å‹"></a>DocumentFragment ç±»å‹</h5><p>åœ¨æ‰€æœ‰èŠ‚ç‚¹ç±»å‹ä¸­ï¼ŒDocumentFragment ç±»å‹æ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨æ ‡è®°ä¸­æ²¡æœ‰å¯¹åº”è¡¨ç¤ºçš„ç±»å‹ã€‚DOM å°†æ–‡æ¡£ç‰‡æ®µå®šä¹‰ä¸ºè½»é‡çº§æ–‡æ¡£ï¼Œèƒ½å¤ŸåŒ…å«å’Œæ“ä½œèŠ‚ç‚¹ï¼Œå´æ²¡æœ‰å®Œæ•´æ–‡æ¡£é‚£æ ·é¢å¤–çš„æ¶ˆè€—ã€‚</p>
<ul>
<li>nodeType ç­‰äº 11 ï¼›</li>
<li>nodeName å€¼ä¸º â€œ#document-fragmentâ€ï¼›</li>
<li>nodeValue å€¼ä¸º null ï¼›</li>
<li>parentNode å€¼ä¸º null ï¼›</li>
<li>å­èŠ‚ç‚¹å¯ä»¥æ˜¯ Elementã€ProcessingInstructionã€Commentã€Textã€CDATASection æˆ– EntityReference ã€‚</li>
</ul>
<p>ä¸èƒ½ç›´æ¥æŠŠæ–‡æ¡£ç‰‡æ®µæ·»åŠ åˆ°æ–‡æ¡£ã€‚ç›¸åï¼Œæ–‡æ¡£ç‰‡æ®µçš„ä½œç”¨æ˜¯å……å½“å…¶ä»–è¦è¢«æ·»åŠ åˆ°æ–‡æ¡£çš„èŠ‚ç‚¹çš„ä»“åº“ã€‚</p>
<p>ä½¿ç”¨ document.createDocumentFragment() æ–¹æ³•åˆ›å»ºæ–‡æ¡£ç‰‡æ®µã€‚</p>
<p>æ–‡æ¡£ç‰‡æ®µä» Node ç±»å‹ç»§æ‰¿äº†æ‰€æœ‰æ–‡æ¡£ç±»å‹å…·å¤‡çš„å¯ä»¥æ‰§è¡Œ DOM æ“ä½œçš„æ–¹æ³•ã€‚å¦‚æœæ–‡æ¡£ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¢«æ·»åŠ åˆ°ä¸€ä¸ªæ–‡æ¡£ç‰‡æ®µï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¼šä»æ–‡æ¡£æ ‘ä¸­ç§»é™¤ï¼Œä¸ä¼šå†è¢«æµè§ˆå™¨æ¸²æŸ“ã€‚æ·»åŠ åˆ°æ–‡æ¡£ç‰‡æ®µçš„æ–°èŠ‚ç‚¹åŒæ ·ä¸å±äºæ–‡æ¡£æ ‘ï¼Œä¸ä¼šè¢«æµè§ˆå™¨æ¸²æŸ“ã€‚å¯ä»¥é€šè¿‡ appendChild() æˆ– insertBefore() æ–¹æ³•å°†æ–‡æ¡£ç‰‡æ®µçš„å†…å®¹æ·»åŠ åˆ°æ–‡æ¡£ã€‚åœ¨æŠŠæ–‡æ¡£ç‰‡æ®µä½œä¸ºå‚æ•°ä¼ ç»™è¿™äº›æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–‡æ¡£ç‰‡æ®µçš„æ‰€æœ‰å­èŠ‚ç‚¹ä¼šè¢«æ·»åŠ åˆ°æ–‡æ¡£ä¸­ç›¸åº”çš„ä½ç½®ã€‚æ–‡æ¡£ç‰‡æ®µæœ¬èº«æ°¸è¿œä¸ä¼šè¢«æ·»åŠ åˆ°æ–‡æ¡£æ ‘ã€‚</p>
<h5 id="Attr-ç±»å‹"><a href="#Attr-ç±»å‹" class="headerlink" title="Attr ç±»å‹"></a>Attr ç±»å‹</h5><p>å…ƒç´ æ•°æ®åœ¨ DOM ä¸­é€šè¿‡ Attr ç±»å‹è¡¨ç¤ºã€‚ Attr ç±»å‹æ„é€ å‡½æ•°å’ŒåŸå‹åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½å¯ä»¥ç›´æ¥è®¿é—®ã€‚æŠ€æœ¯ä¸Šè¯´ï¼Œå±æ€§æ˜¯å­˜åœ¨äºå…ƒç´  attributes å±æ€§ä¸­çš„èŠ‚ç‚¹ã€‚Attr èŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ç­‰äº 2 ï¼›</li>
<li>nodeName å€¼ä¸ºå±æ€§åï¼›</li>
<li>nodeValue å€¼ä¸ºå±æ€§å€¼ï¼›</li>
<li>parentNode å€¼ä¸º null ï¼›</li>
<li>åœ¨ HTML ä¸­ä¸æ”¯æŒå­èŠ‚ç‚¹ï¼›</li>
<li>åœ¨ XML ä¸­å­èŠ‚ç‚¹å¯ä»¥æ˜¯ Text æˆ– EntityReferenceã€‚</li>
</ul>
<p>å±æ€§èŠ‚ç‚¹ä¸è¢«è®¤ä¸ºæ˜¯ DOM æ–‡æ¡£æ ‘çš„ä¸€éƒ¨åˆ†ã€‚ Attr èŠ‚ç‚¹å¾ˆå°‘ç›´æ¥è¢«å¼•ç”¨ã€‚</p>
<p>Attr å¯¹è±¡ä¸Šæœ‰ 3 ä¸ªå±æ€§ï¼šname ã€ value å’Œ specified ã€‚å…¶ä¸­ï¼Œ name åŒ…å«å±æ€§å ( ä¸ nodeName ä¸€æ · )ï¼Œvalue åŒ…å«å±æ€§å€¼ ( ä¸ nodeValueä¸€æ · )ï¼Œè€Œ specified æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§ä½¿ç”¨çš„æ˜¯é»˜è®¤å€¼è¿˜æ˜¯è¢«æŒ‡å®šçš„å€¼ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ document.createAttribute() æ–¹æ³•åˆ›å»ºæ–°çš„ Attr èŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºå±æ€§åã€‚</p>
<h4 id="DOM-ç¼–ç¨‹"><a href="#DOM-ç¼–ç¨‹" class="headerlink" title="DOM ç¼–ç¨‹"></a>DOM ç¼–ç¨‹</h4><h5 id="åŠ¨æ€è„šæœ¬"><a href="#åŠ¨æ€è„šæœ¬" class="headerlink" title="åŠ¨æ€è„šæœ¬"></a>åŠ¨æ€è„šæœ¬</h5><p>åŠ¨æ€è„šæœ¬æŒ‡çš„æ˜¯åŠ¨æ€åˆ›å»º script æ ‡ç­¾ï¼ŒåµŒå…¥ä»£ç ã€‚å¼•å…¥å¤–éƒ¨ä»£ç åˆ™æ˜¯è®¾ç½®æ ‡ç­¾çš„ src å±æ€§ï¼ŒåµŒå…¥æºç åˆ™æ˜¯åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹ã€‚</p>
<p>é€šè¿‡ innerHTML å±æ€§åˆ›å»ºçš„ script å…ƒç´ æ°¸ä¸æ‰§è¡Œã€‚</p>
<h5 id="åŠ¨æ€æ ·å¼"><a href="#åŠ¨æ€æ ·å¼" class="headerlink" title="åŠ¨æ€æ ·å¼"></a>åŠ¨æ€æ ·å¼</h5><p>åŠ¨æ€æ ·å¼æŒ‡çš„æ˜¯é¡µé¢åˆå§‹åŠ è½½æ—¶ä¸å­˜åœ¨ï¼Œåç»­æ·»åŠ çš„æ ·å¼ã€‚ä¾‹å¦‚åŠ¨æ€åˆ›å»º link æ ‡ç­¾ï¼Œå¼•å…¥å¤–éƒ¨æ ·å¼è¡¨ã€‚æˆ–æ˜¯åŠ¨æ€åˆ›å»º style æ ‡ç­¾æ¥å†™å…¥æ ·å¼ã€‚</p>
<p>é€šè¿‡å¤–éƒ¨æ–‡ä»¶åŠ è½½æ ·å¼æ˜¯ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹ã€‚</p>
<h5 id="æ“ä½œè¡¨æ ¼"><a href="#æ“ä½œè¡¨æ ¼" class="headerlink" title="æ“ä½œè¡¨æ ¼"></a>æ“ä½œè¡¨æ ¼</h5><p>é€šè¿‡ DOM ç¼–ç¨‹åˆ›å»º table å…ƒç´ ï¼Œéœ€è¦æ¶‰åŠå¤§é‡æ ‡ç­¾ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆ›å»ºè¡¨æ ¼</span>
<span class="token keyword">let</span> table <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'table'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100%'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºè¡¨ä½“</span>
<span class="token keyword">let</span> tbody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'tbody'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tbody<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºç¬¬ä¸€è¡Œ</span>
<span class="token keyword">let</span> row1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>row1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cell1_1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cell1_1<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 1,1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
row1<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cell1_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cell2_1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cell2_1<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 2,1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
row1<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cell2_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºç¬¬äºŒè¡Œ</span>
<span class="token keyword">let</span> row2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>row2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cell1_2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cell1_2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 1,2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
row2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cell1_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cell2_2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cell2_2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 2,2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
row2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cell2_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æŠŠè¡¨æ ¼æ·»åŠ åˆ°æ–‡æ¡£ä¸»ä½“</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/2020/11/09/xue-xi-bi-ji-2020-11-09/image-20201109082609637.png" alt="image-20201109082609637"></p>
<p>å› æ­¤ï¼ŒDOM ç»™è¡¨æ ¼æ·»åŠ äº†ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼š</p>
<p><code>&lt;table&gt;</code> å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>captionï¼ŒæŒ‡å‘ <code>&lt;caption&gt;</code> å…ƒç´ çš„æŒ‡é’ˆï¼›</li>
<li>tBodiesï¼ŒåŒ…å« <code>&lt;tbody&gt;</code> å…ƒç´ çš„ HTMLCollectionï¼›</li>
<li>tFootï¼ŒæŒ‡å‘ <code>&lt;tfoot&gt;</code>å…ƒç´ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼›</li>
<li>tHeadï¼ŒæŒ‡å‘ <code>&lt;thead&gt;</code> å…ƒç´ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼›</li>
<li>rowsï¼ŒåŒ…å«è¡¨ç¤ºæ‰€æœ‰è¡Œçš„ HTMLCollectionï¼› </li>
<li>createTHead()ï¼Œåˆ›å»º <code>&lt;thead&gt;</code>å…ƒç´ ï¼Œæ”¾åˆ°è¡¨æ ¼ä¸­ï¼Œè¿”å›å¼•ç”¨ï¼›</li>
<li>createTFoot()ï¼Œåˆ›å»º <code>&lt;tfoot&gt;</code> å…ƒç´ ï¼Œæ”¾åˆ°è¡¨æ ¼ä¸­ï¼Œè¿”å›å¼•ç”¨ï¼›</li>
<li>createCaption()ï¼Œåˆ›å»º <code>&lt;caption&gt;</code> å…ƒç´ ï¼Œæ”¾åˆ°è¡¨æ ¼ä¸­ï¼Œè¿”å›å¼•ç”¨ï¼›</li>
<li>deleteTHead()ï¼Œåˆ é™¤ <code>&lt;thead&gt;</code> å…ƒç´ ï¼›</li>
<li>deleteTFoot()ï¼Œåˆ é™¤ <code>&lt;tfoot&gt;</code> å…ƒç´ ï¼›</li>
<li>deleteCaption()ï¼Œåˆ é™¤ <code>&lt;caption&gt;</code> å…ƒç´ ï¼›</li>
<li>deleteRow(<em>pos</em>)ï¼Œåˆ é™¤ç»™å®šä½ç½®çš„è¡Œï¼›</li>
<li>insertRow(<em>pos</em>)ï¼Œåœ¨è¡Œé›†åˆä¸­ç»™å®šä½ç½®æ’å…¥ä¸€è¡Œã€‚</li>
</ul>
<p><code>&lt;tbody&gt;</code> å…ƒç´ æ·»åŠ äº†ä»¥ä¸‹å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>rowsï¼ŒåŒ…å« <code>&lt;tbody&gt;</code> å…ƒç´ ä¸­æ‰€æœ‰è¡Œçš„ HTMLCollectionï¼›</li>
<li>deleteRow(<em>pos</em>)ï¼Œåˆ é™¤ç»™å®šä½ç½®çš„è¡Œï¼›</li>
<li>insertRow(<em>pos</em>)ï¼Œåœ¨è¡Œé›†åˆä¸­ç»™å®šä½ç½®æ’å…¥ä¸€è¡Œï¼Œè¿”å›è¯¥è¡Œçš„å¼•ç”¨ã€‚</li>
</ul>
<p><code>&lt;tr&gt;</code> å…ƒç´ æ·»åŠ äº†ä»¥ä¸‹å±æ€§å’Œæ–¹æ³•ï¼š</p>
<ul>
<li>cellsï¼ŒåŒ…å« <code>&lt;tr&gt;</code> å…ƒç´ æ‰€æœ‰è¡¨å…ƒçš„ HTMLCollectionï¼› </li>
<li>deleteCell(<em>pos</em>)ï¼Œåˆ é™¤ç»™å®šä½ç½®çš„è¡¨å…ƒï¼›</li>
<li>insertCell(<em>pos</em>)ï¼Œåœ¨è¡¨å…ƒé›†åˆç»™å®šä½ç½®æ’å…¥ä¸€ä¸ªè¡¨å…ƒï¼Œè¿”å›è¯¥è¡¨å…ƒçš„å¼•ç”¨ã€‚</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆ›å»ºè¡¨æ ¼</span>
<span class="token keyword">let</span> table <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'table'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100%'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºè¡¨ä½“</span>
<span class="token keyword">let</span> tbody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'tbody'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tbody<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºç¬¬ä¸€è¡Œ</span>
tbody<span class="token punctuation">.</span><span class="token function">insertRow</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 1,1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 2,1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºç¬¬äºŒè¡Œ</span>
tbody<span class="token punctuation">.</span><span class="token function">insertRow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 1,2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insertCell</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tbody<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'Cell 2,2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æŠŠè¡¨æ ¼æ·»åŠ åˆ°æ–‡æ¡£ä¸»ä½“</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h5 id="ä½¿ç”¨-NodeList"><a href="#ä½¿ç”¨-NodeList" class="headerlink" title="ä½¿ç”¨ NodeList"></a>ä½¿ç”¨ NodeList</h5><p>ç†è§£ NodeList å¯¹è±¡å’Œç›¸å…³çš„ NamedNodeMapã€HTMLCollectionï¼Œæ˜¯ç†è§£ DOM ç¼–ç¨‹çš„å…³é”®ã€‚è¿™ 3 ä¸ªé›†åˆç±»å‹éƒ½æ˜¯å®æ—¶çš„ã€‚</p>
<p>NodeList æ˜¯åŸºäº DOM æ–‡æ¡£çš„å®æ—¶æŸ¥è¯¢ã€‚</p>
<h4 id="MutationObserver-æ¥å£"><a href="#MutationObserver-æ¥å£" class="headerlink" title="MutationObserver æ¥å£"></a>MutationObserver æ¥å£</h4><p>è¯¥æ¥å£å¯ä»¥åœ¨ DOM è¢«ä¿®æ”¹æ—¶å¼‚æ­¥æ‰§è¡Œå›è°ƒã€‚ä½¿ç”¨ MutationObserver å¯ä»¥è§‚å¯Ÿæ•´ä¸ªæ–‡æ¡£ã€ DOM æ ‘çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–æŸä¸ªå…ƒç´ ï¼Œè¿˜å¯ä»¥è§‚å¯Ÿå…ƒç´ å±æ€§ã€å­èŠ‚ç‚¹ã€æ–‡æœ¬æˆ–å‰ä¸‰è€…ä»»æ„ç»„åˆçš„å˜åŒ–ã€‚</p>
<h5 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h5><p>MutationObserver çš„å®ä¾‹è¦é€šè¿‡è°ƒç”¨ MutationObserver æ„é€ å‡½æ•°å¹¶ä¼ å…¥ä¸€ä¸ªå›è°ƒå‚æ•°æ¥åˆ›å»ºï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM was mutated!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ol>
<li><p>observe() æ–¹æ³•</p>
<p>æ–°åˆ›å»ºçš„å®ä¾‹ä¸ä¼šå…³è” DOM ã€‚ä½¿ç”¨ observe() æ–¹æ³•æŠŠè¿™ä¸ª observer ä¸ DOM å…³è”ï¼Œæ¥æ”¶ä¸¤ä¸ªå¿…éœ€å‚æ•°ï¼šè¦è§‚å¯Ÿå…¶å˜åŒ–çš„ DOM èŠ‚ç‚¹ï¼Œä¸€ä¸ª MutationObserverInit å¯¹è±¡ã€‚</p>
<p>MutationObserverInit å¯¹è±¡ç”¨äºæ§åˆ¶è§‚å¯Ÿå“ªäº›æ–¹é¢çš„å˜åŒ–ï¼Œæ˜¯ä¸€ä¸ªé”®/å€¼å¯¹å½¢å¼é…ç½®é€‰é¡¹çš„å­—å…¸ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'&lt;body> attributes changed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Changed body class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥ä»£ç ä¼šåˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…æ¥è§‚å¯Ÿ body å…ƒç´ ä¸Šçš„å±æ€§å˜åŒ–ã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>è§£æ„èµ‹å€¼</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  years<span class="token punctuation">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å†™ä¸€ä¸ªè§£æ„èµ‹å€¼è¯­å¥ä½¿å¾—ï¼š</p>
<ul>
<li><code>name</code> å±æ€§èµ‹å€¼ç»™å˜é‡ <code>name</code>ã€‚</li>
<li><code>years</code> å±æ€§èµ‹å€¼ç»™å˜é‡ <code>age</code>ã€‚</li>
<li><code>isAdmin</code> å±æ€§èµ‹å€¼ç»™å˜é‡ <code>isAdmin</code>ï¼ˆå¦‚æœå±æ€§ç¼ºå¤±åˆ™å–é»˜è®¤å€¼ falseï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯èµ‹å€¼å®Œæˆåçš„å€¼çš„æƒ…å†µï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> years<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ç­‰å·å·¦ä¾§æ˜¯ä½ çš„ä»£ç </span>
<span class="token comment" spellcheck="true">// ... = user</span>

<span class="token function">alert</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// John</span>
<span class="token function">alert</span><span class="token punctuation">(</span> age <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 30</span>
<span class="token function">alert</span><span class="token punctuation">(</span> isAdmin <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> years<span class="token punctuation">:</span> age<span class="token punctuation">,</span> isAdmin <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span></code></pre>
</li>
<li><p>æœ€é«˜è–ªèµ„</p>
<p>è¿™å„¿æœ‰ä¸€ä¸ª <code>salaries</code> å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> salaries <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">"John"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token string">"Pete"</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  <span class="token string">"Mary"</span><span class="token punctuation">:</span> <span class="token number">250</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ–°å»ºä¸€ä¸ªå‡½æ•° <code>topSalary(salaries)</code>ï¼Œè¿”å›æ”¶å…¥æœ€é«˜çš„äººçš„å§“åã€‚</p>
<ul>
<li>å¦‚æœ <code>salaries</code> æ˜¯ç©ºçš„ï¼Œå‡½æ•°åº”è¯¥è¿”å› <code>null</code>ã€‚</li>
<li>å¦‚æœæœ‰å¤šä¸ªæ”¶å…¥æœ€é«˜çš„äººï¼Œè¿”å›å…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚</li>
</ul>
<p>P.S. ä½¿ç”¨ <code>Object.entries</code> å’Œè§£æ„è¯­æ³•æ¥éå†é”®/å€¼å¯¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">topSalary</span><span class="token punctuation">(</span>salaries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>salaries<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> maxName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> salary<span class="token punctuation">]</span> <span class="token keyword">of</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>salary <span class="token operator">></span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      maxName <span class="token operator">=</span> name<span class="token punctuation">;</span>
      max <span class="token operator">=</span> salary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> maxName<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 08</title>
    <url>/2020/11/08/xue-xi-bi-ji-2020-11-08/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-08"><a href="#å­¦ä¹ ç¬”è®°-2020-11-08" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-08"></a>å­¦ä¹ ç¬”è®° 2020-11-08</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h4 id="èŠ‚ç‚¹å±‚çº§"><a href="#èŠ‚ç‚¹å±‚çº§" class="headerlink" title="èŠ‚ç‚¹å±‚çº§"></a>èŠ‚ç‚¹å±‚çº§</h4><h5 id="Element-ç±»å‹"><a href="#Element-ç±»å‹" class="headerlink" title="Element ç±»å‹"></a>Element ç±»å‹</h5><ol>
<li><p>HTML å…ƒç´ </p>
<p>æ‰€æœ‰ HTML å…ƒç´ éƒ½é€šè¿‡ HTMLElement ç±»å‹è¡¨ç¤ºã€‚ HTMLElement ç›´æ¥ç»§æ‰¿ Element å¹¶å¢åŠ äº†ä¸€äº›å±æ€§ã€‚æ¯ä¸ªå±æ€§å¯¹åº”ä»¥ä¸‹å±æ€§ä¹‹ä¸€ï¼Œå®ƒä»¬æ˜¯æ‰€æœ‰ HTML å…ƒç´ ä¸Šéƒ½æœ‰çš„æ ‡å‡†å±æ€§ï¼š</p>
<ul>
<li>idï¼šå…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</li>
<li>titleï¼šåŒ…å«å…ƒç´ çš„é¢å¤–ä¿¡æ¯ï¼Œé€šå¸¸ä»¥æç¤ºæ¡å½¢å¼å±•ç¤ºã€‚</li>
<li>langï¼šå…ƒç´ å†…å®¹çš„è¯­è¨€ä»£ç ã€‚</li>
<li>dirï¼šå…ƒç´ çš„ä¹¦å†™æ–¹å‘ ( â€œltrâ€ è¡¨ç¤ºä»å·¦åˆ°å³ï¼Œâ€œrtlâ€è¡¨ç¤ºä»å³åˆ°å·¦ã€‚ )</li>
<li>classNameï¼šå…ƒç´ çš„ CSS ç±»ã€‚</li>
</ul>
<p>è¿™äº›å±æ€§å¯ä»¥è·å–å¯¹åº”çš„å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¿®æ”¹ç›¸åº”çš„å€¼ã€‚</p>
<p>æ‰€æœ‰ HTML å…ƒç´ éƒ½æ˜¯ HTMLElement æˆ–å…¶å­ç±»å‹çš„å®ä¾‹ã€‚</p>
<p>ä¸‹è¡¨æ˜¯æ‰€æœ‰ HTML å…ƒç´ ä»¥åŠå¯¹åº”çš„ç±»å‹ï¼Œ( æ–œä½“è¡¨ç¤ºå·²ç»åºŸå¼ƒçš„å…ƒç´  )ã€‚</p>
<p><img src="/2020/11/08/xue-xi-bi-ji-2020-11-08/image-20201108085455515.png" alt="image-20201108085455515"></p>
<p><img src="/2020/11/08/xue-xi-bi-ji-2020-11-08/image-20201108085523831.png" alt="image-20201108085523831"></p>
</li>
<li><p>å–å¾—å±æ€§</p>
<p>æ¯ä¸ªå…ƒç´ éƒ½æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå±æ€§ã€‚ä¸å±æ€§ç›¸å…³çš„ DOM æ–¹æ³•æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li>getAttribute()</li>
<li>setAttribute()</li>
<li>removeAttribute()</li>
</ul>
<p>getAttribute() èƒ½å–å¾—æ­£å¼å±æ€§å’Œè‡ªå®šä¹‰å±æ€§ã€‚å±æ€§åä¸åŒºåˆ†å¤§å°å†™ã€‚æ ¹æ® HTML5 è§„èŒƒçš„è¦æ±‚ï¼Œè‡ªå®šä¹‰å±æ€§ååº”è¯¥å‰ç¼€ data- ä»¥æ–¹ä¾¿éªŒè¯ã€‚</p>
<p>å…ƒç´ çš„æ‰€æœ‰å±æ€§éƒ½å¯ä»¥é€šè¿‡ DOM å…ƒç´ å¯¹è±¡çš„å±æ€§æ¥å–å¾—ï¼Œé™¤äº†è‡ªå®šä¹‰å±æ€§ã€‚</p>
<p>é€šè¿‡ DOM å…ƒç´ å¯¹è±¡è®¿é—®çš„å±æ€§æœ‰ä¸¤ä¸ªè¿”å›çš„å€¼è·Ÿä½¿ç”¨ getAttribute() å–å¾—çš„å€¼ä¸ä¸€æ ·ã€‚é¦–å…ˆæ˜¯ style å±æ€§ã€‚åœ¨ä½¿ç”¨ getAttribute() è®¿é—® style å±æ€§æ—¶ï¼Œè¿”å›çš„æ˜¯ CSS å­—ç¬¦ä¸²ã€‚è€Œåœ¨é€šè¿‡ DOM å¯¹è±¡çš„å±æ€§è®¿é—®æ—¶ï¼Œ style å±æ€§è¿”å›çš„æ˜¯ä¸€ä¸ª ( CSSStyleDeclaration ) å¯¹è±¡ã€‚DOM å¯¹è±¡çš„ style å±æ€§ç”¨äºä»¥ç¼–ç¨‹æ–¹å¼è¯»å†™å…ƒç´ æ ·å¼ï¼Œå› æ­¤ä¸ä¼šç›´æ¥æ˜ å°„ä¸ºå…ƒç´ ä¸­ style å±æ€§çš„å­—ç¬¦ä¸²å€¼ã€‚(å­˜ç–‘ï¼ŒéªŒè¯äº†ä¸€ä¸‹ style å±æ€§ä¼šè¿”å› DOM å¯¹è±¡ style å±æ€§çš„ä¿®æ”¹ã€‚)</p>
<p>ç¬¬äºŒç±»æ˜¯äº‹ä»¶å¤„ç†ç¨‹åºã€‚åœ¨ DOM å…ƒç´ ä¸Šè·å–äº‹ä»¶å±æ€§ï¼Œå¾—åˆ° JS ä»£ç ã€‚ä½¿ç”¨ getAttribute() è®¿é—®ï¼Œå¾—åˆ°å­—ç¬¦ä¸²å½¢å¼çš„æºç ã€‚( å­˜ç–‘ï¼ŒéªŒè¯äº†ä»¥ä¸‹ä½¿ç”¨ getAttribute() è·å–çš„æ˜¯ null ã€‚)</p>
</li>
<li><p>è®¾ç½®å±æ€§</p>
<p>setAttribute() æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦è®¾ç½®çš„å±æ€§åå’Œå±æ€§çš„å€¼ã€‚é€‚ç”¨äº HTML å±æ€§å’Œè‡ªå®šä¹‰å±æ€§ã€‚åœ¨ DOM å¯¹è±¡ä¸Šæ·»åŠ è‡ªå®šä¹‰å±æ€§ï¼Œä¸ä¼šè‡ªåŠ¨å˜æˆå…ƒç´ çš„å±æ€§ã€‚</p>
</li>
<li><p>attributes å±æ€§</p>
<p>Element ç±»å‹æ˜¯å”¯ä¸€ä½¿ç”¨ attributes å±æ€§çš„ DOM èŠ‚ç‚¹ç±»å‹ã€‚attributes å±æ€§åŒ…å«ä¸€ä¸ª NamedNodeMap å®ä¾‹ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼ NodeList çš„å®æ—¶é›†åˆã€‚å…ƒç´ çš„æ¯ä¸ªå±æ€§éƒ½è¡¨ç¤ºä¸ºä¸€ä¸ª Attr èŠ‚ç‚¹ï¼Œå¹¶ä¿å­˜åœ¨è¿™ä¸ª NamedNodeMap å¯¹è±¡ä¸­ã€‚NamedNodeMap å¯¹è±¡åŒ…å«ä¸‹åˆ—æ–¹æ³•ï¼š</p>
<ul>
<li>getNamedItem(name)ï¼Œè¿”å› nodeName å±æ€§ç­‰äº name çš„èŠ‚ç‚¹ï¼›</li>
<li>removeNamedItem(name)ï¼Œåˆ é™¤ nodeName å±æ€§ç­‰äº name çš„èŠ‚ç‚¹ï¼›</li>
<li>setNamedItem(node)ï¼Œå‘åˆ—è¡¨ä¸­æ·»åŠ  node èŠ‚ç‚¹ï¼Œä»¥å…¶ nodeName ä¸ºç´¢å¼•ï¼›</li>
<li>item(pos)ï¼Œè¿”å›ç´¢å¼•ä½ç½® pos å¤„çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p>attributes å±æ€§ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„ nodeName æ˜¯å¯¹åº”å±æ€§çš„åå­—ï¼ŒnodeValue æ˜¯å±æ€§çš„å€¼ã€‚</p>
<p>attributes å±æ€§æœ€æœ‰ç”¨çš„åœºæ™¯æ˜¯éœ€è¦è¿­ä»£å…ƒç´ ä¸Šæ‰€æœ‰å±æ€§çš„æ—¶å€™ã€‚</p>
</li>
<li><p>åˆ›å»ºå…ƒç´ </p>
<p>ä½¿ç”¨ document.createElement() æ–¹æ³•åˆ›å»ºæ–°å…ƒç´ ï¼Œæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³è¦åˆ›å»ºå…ƒç´ çš„æ ‡ç­¾åã€‚HTML æ–‡æ¡£ä¸­ï¼Œæ ‡ç­¾åä¸åŒºåˆ†å¤§å°å†™ã€‚</p>
<p>ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºæ–°å…ƒç´ çš„åŒæ—¶ä¹Ÿä¼šå°†å…¶ ownerDocument å±æ€§è®¾ç½®ä¸º documentã€‚</p>
</li>
<li><p>å…ƒç´ åä»£</p>
<p>å…ƒç´ å¯ä»¥æ‹¥æœ‰ä»»æ„å¤šä¸ªå­å…ƒç´ å’Œåä»£å…ƒç´ ã€‚</p>
</li>
</ol>
<h5 id="Text-ç±»å‹"><a href="#Text-ç±»å‹" class="headerlink" title="Text ç±»å‹"></a>Text ç±»å‹</h5><p>Text èŠ‚ç‚¹ç”± Text ç±»å‹è¡¨ç¤ºï¼ŒåŒ…å«æŒ‰å­—é¢è§£é‡Šçš„çº¯æ–‡æœ¬ï¼Œä¹Ÿå¯èƒ½åŒ…å«è½¬ç§»åçš„ HTML å­—ç¬¦ã€‚Text ç±»å‹çš„èŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ç­‰äº 3ï¼›</li>
<li>nodeName å€¼ä¸º â€œ#textâ€ï¼›</li>
<li>nodeValue å€¼ä¸ºèŠ‚ç‚¹ä¸­åŒ…å«çš„æ–‡æœ¬ï¼›</li>
<li>parentNode å€¼ä¸º Element å¯¹è±¡ï¼›</li>
<li>ä¸æ”¯æŒå­èŠ‚ç‚¹ã€‚</li>
</ul>
<p>Text èŠ‚ç‚¹ä¸­åŒ…å«çš„æ–‡æœ¬å¯ä»¥é€šè¿‡ nodeValue å±æ€§è®¿é—®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ data å±æ€§è®¿é—®ã€‚æ–‡æœ¬èŠ‚ç‚¹æš´éœ²äº†ä»¥ä¸‹æ“ä½œæ–‡æœ¬çš„æ–¹æ³•ï¼š</p>
<ul>
<li>appendData(text)ï¼Œå‘èŠ‚ç‚¹æœ«å°¾æ·»åŠ æ–‡æœ¬ textï¼›</li>
<li>deleteData(offset, count)ï¼Œä»ä½ç½® offset å¼€å§‹åˆ é™¤ count ä¸ªå­—ç¬¦ï¼›</li>
<li>insertData(offset, text)ï¼Œåœ¨ä½ç½® offset æ’å…¥ textï¼›</li>
<li>replaceData(offset, count, text)ï¼Œç”¨ text æ›¿æ¢ä»ä½ç½® offset åˆ° offset + count çš„æ–‡æœ¬ï¼›</li>
<li>splitText(offset)ï¼Œåœ¨ä½ç½® offset å°†å½“å‰æ–‡æœ¬èŠ‚ç‚¹æ‹†åˆ†ä¸ºä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼›</li>
<li>substringData(offset, count)ï¼Œæå–ä»ä½ç½® offset åˆ° offset + count çš„æ–‡æœ¬ã€‚</li>
</ul>
<p>è¿˜å¯ä»¥é€šè¿‡ length å±æ€§è·å–æ–‡æœ¬èŠ‚ç‚¹ä¸­åŒ…å«çš„å­—ç¬¦æ•°é‡ã€‚è¿™ä¸ªå€¼ç­‰äº nodeValue.length å’Œ data.length ã€‚</p>
<ol>
<li><p>åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹</p>
<p>document.createTextNode() å¯ä»¥ç”¨æ¥åˆ›å»ºæ–°æ–‡æœ¬èŠ‚ç‚¹ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦æ’å…¥èŠ‚ç‚¹çš„æ–‡æœ¬ã€‚</p>
</li>
<li><p>è§„èŒƒåŒ–æ–‡æœ¬èŠ‚ç‚¹</p>
<p>normalize() æ–¹æ³•ç”¨äºåˆå¹¶ç›¸é‚»çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œæ˜¯åœ¨ Node ç±»å‹ä¸­å®šä¹‰çš„ã€‚åœ¨çˆ¶èŠ‚ç‚¹ä¸Šè°ƒç”¨æ—¶ï¼Œæ‰€æœ‰åŒèƒæ–‡æœ¬èŠ‚ç‚¹ä¼šè¢«åˆå¹¶ä¸ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>æ‹†åˆ†æ–‡æœ¬èŠ‚ç‚¹</p>
<p>Text ç±»å‹å®šä¹‰äº†ä¸€ä¸ªä¸ normalize() ç›¸åçš„æ–¹æ³•â€”â€” splitText() ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨æŒ‡å®šçš„åç§»ä½ç½®æ‹†åˆ† nodeValue ã€‚</p>
</li>
</ol>
<h5 id="Comment-ç±»å‹"><a href="#Comment-ç±»å‹" class="headerlink" title="Comment ç±»å‹"></a>Comment ç±»å‹</h5><p>DOM ä¸­çš„æ³¨é‡Šé€šè¿‡ Comment ç±»å‹è¡¨ç¤ºï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ç­‰äº 8 ï¼›</li>
<li>nodeName å€¼ä¸º â€œ#commentâ€ï¼›</li>
<li>nodeValue å€¼ä¸ºæ³¨é‡Šçš„å†…å®¹ï¼›</li>
<li>parentNode å€¼ä¸º Document æˆ– Element å¯¹è±¡ï¼›</li>
<li>ä¸æ”¯æŒå­èŠ‚ç‚¹ã€‚</li>
</ul>
<p>Comment ç±»å‹ä¸ Text ç±»å‹ç»§æ‰¿åŒä¸€ä¸ªåŸºç±» ( CharacterData ) ï¼Œå› æ­¤æ‹¥æœ‰é™¤ splitText() ä¹‹å¤– Text èŠ‚ç‚¹æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ documen.createCommment() æ–¹æ³•åˆ›å»ºæ³¨é‡ŠèŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºæ³¨é‡Šæ–‡æœ¬ã€‚</p>
<h5 id="CDATASection-ç±»å‹"><a href="#CDATASection-ç±»å‹" class="headerlink" title="CDATASection ç±»å‹"></a>CDATASection ç±»å‹</h5><p>CDATASection ç±»å‹è¡¨ç¤º XML ä¸­ç‰¹æœ‰çš„ CDATA åŒºå—ã€‚CDATASection ç±»å‹ç»§æ‰¿ Text ç±»å‹ï¼Œå› æ­¤æ‹¥æœ‰åŒ…æ‹¬ splitText() åœ¨å†…çš„æ‰€æœ‰å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ã€‚CDATASection ç±»å‹çš„èŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>nodeType ç­‰äº 4 ï¼›</li>
<li>nodeName å€¼ä¸º â€œ#cdata-sectionâ€ï¼›</li>
<li>nodeValue å€¼ä¸º CDATA åŒºå—çš„å†…å®¹ï¼›</li>
<li>parentNode å€¼ä¸º Document æˆ– Element å¯¹è±¡ï¼›</li>
<li>ä¸æ”¯æŒå­èŠ‚ç‚¹ã€‚</li>
</ul>
<p>CDATA åŒºå—åªæœ‰ XML æ–‡æ¡£ä¸­æœ‰æ•ˆã€‚å¯ä»¥ä½¿ç”¨ document.createCDataSection() å¹¶ä¼ å…¥èŠ‚ç‚¹å†…å®¹æ¥åˆ›å»º CDATA åŒºå—ã€‚</p>
<h5 id="DocumentType-ç±»å‹"><a href="#DocumentType-ç±»å‹" class="headerlink" title="DocumentType ç±»å‹"></a>DocumentType ç±»å‹</h5><p>DocumentType ç±»å‹çš„èŠ‚ç‚¹åŒ…å«æ–‡æ¡£çš„æ–‡æ¡£ç±»å‹ä¿¡æ¯ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ç­‰äº 10 ï¼›</li>
<li>nodeName å€¼ä¸ºæ–‡æ¡£ç±»å‹çš„åç§°ï¼›</li>
<li>nodeValue å€¼ä¸º null ï¼›</li>
<li>parentNode å€¼ä¸º Document å¯¹è±¡ï¼›</li>
<li>ä¸æ”¯æŒå­èŠ‚ç‚¹ã€‚</li>
</ul>
<p>DocumentType å¯¹è±¡åœ¨ DOM Level 1 ä¸­ä¸æ”¯æŒåŠ¨æ€åˆ›å»ºï¼Œåªèƒ½åœ¨è§£ææ–‡æ¡£ä»£ç æ—¶åˆ›å»ºã€‚å¯¹äºæ”¯æŒè¿™ä¸ªç±»å‹çš„æµè§ˆå™¨ï¼Œ DocumentType å¯¹è±¡ä¿å­˜åœ¨ document.doctype å±æ€§ä¸­ã€‚DOM Level 1 è§„å®šäº† DocumentType å¯¹è±¡çš„ 3 ä¸ªå±æ€§ï¼š name ã€ entities å’Œ notations ã€‚å…¶ä¸­ï¼Œ name æ˜¯æ–‡æ¡£ç±»å‹çš„åç§°ï¼Œ entities æ˜¯è¿™ä¸ªæ–‡æ¡£ç±»å‹æè¿°çš„å®ä½“çš„ NamedNodeMap ï¼Œè€Œ notations æ˜¯è¿™ä¸ªæ–‡æ¡£ç±»å‹æè¿°çš„è¡¨ç¤ºæ³•çš„ NamedNodeMap ã€‚å› ä¸ºæµè§ˆå™¨ä¸­çš„æ–‡æ¡£é€šå¸¸æ˜¯ HTML å’Œ XHTML æ–‡æ¡£ç±»å‹ï¼Œæ‰€ä»¥ entities å’Œ notations åˆ—è¡¨ä¸ºç©ºã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>å±æ€§æ±‚å’Œ</p>
<p>æœ‰ä¸€ä¸ªå¸¦æœ‰ä»»æ„æ•°é‡è–ªæ°´çš„ <code>salaries</code> å¯¹è±¡ã€‚</p>
<p>ç¼–å†™å‡½æ•° <code>sumSalaries(salaries)</code>ï¼Œè¯¥å‡½æ•°ä½¿ç”¨ <code>Object.values</code> å’Œ <code>for..of</code> å¾ªç¯è¿”å›æ‰€æœ‰è–ªæ°´çš„æ€»å’Œã€‚</p>
<p>å¦‚æœ <code>salaries</code> æ˜¯ç©ºå¯¹è±¡ï¼Œé‚£ä¹ˆç»“æœå¿…é¡»æ˜¯ <code>0</code>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> salaries <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">"John"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token string">"Pete"</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  <span class="token string">"Mary"</span><span class="token punctuation">:</span> <span class="token number">250</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">sumSalaries</span><span class="token punctuation">(</span>salaries<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 650</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sumSalaries</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+</span><span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è®¡ç®—å±æ€§æ•°é‡</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>count(obj)</code>ï¼Œè¯¥å‡½æ•°è¿”å›å¯¹è±¡ä¸­çš„å±æ€§çš„æ•°é‡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">count</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span></code></pre>
<p>è¯•ç€ä½¿ä»£ç å°½å¯èƒ½ç®€çŸ­ã€‚</p>
<p>P.S. å¿½ç•¥ Symbol ç±»å‹å±æ€§ï¼Œåªè®¡ç®—â€œå¸¸è§„â€å±æ€§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">count</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 07</title>
    <url>/2020/11/07/xue-xi-bi-ji-2020-11-07/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-07"><a href="#å­¦ä¹ ç¬”è®°-2020-11-07" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-07"></a>å­¦ä¹ ç¬”è®° 2020-11-07</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h4 id="èŠ‚ç‚¹ç±»å‹"><a href="#èŠ‚ç‚¹ç±»å‹" class="headerlink" title="èŠ‚ç‚¹ç±»å‹"></a>èŠ‚ç‚¹ç±»å‹</h4><h5 id="Node-ç±»å‹"><a href="#Node-ç±»å‹" class="headerlink" title="Node ç±»å‹"></a>Node ç±»å‹</h5><ol>
<li><p>æ“çºµèŠ‚ç‚¹</p>
<p>å› ä¸ºæ‰€æœ‰å…³ç³»æŒ‡é’ˆéƒ½æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥ DOM æä¾›äº†ä¸€äº›æ“çºµèŠ‚ç‚¹çš„æ–¹æ³•ã€‚</p>
<ul>
<li><p>appendChild()ï¼šç”¨äºåœ¨ childNodes åˆ—è¡¨æœ«å°¾æ·»åŠ èŠ‚ç‚¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedNode <span class="token operator">==</span> newNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>lastChild <span class="token operator">==</span> newNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å·²å­˜åœ¨çš„èŠ‚ç‚¹ä¼ ç»™è¯¥æ–¹æ³•ï¼Œä¼šä½¿å¾—è¯¥èŠ‚ç‚¹è¢«è½¬ç§»åˆ°æ–°ä½ç½®ã€‚</p>
</li>
<li><p>insertBefore()ï¼šç”¨äºæŠŠèŠ‚ç‚¹æ”¾åˆ°æŒ‡å®šä½ç½®ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ’å…¥çš„èŠ‚ç‚¹å’Œå‚ç…§èŠ‚ç‚¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ä½œä¸ºæœ€åä¸€ä¸ªå­èŠ‚ç‚¹æ’å…¥</span>
returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">==</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// ä½œä¸ºæ–°çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹æ’å…¥</span>
returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedNode <span class="token operator">==</span> newNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">==</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// æ’å…¥æœ€åä¸€ä¸ªå­èŠ‚ç‚¹å‰é¢</span>
returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">==</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
</li>
<li><p>replaceChild()ï¼šæ›¿æ¢èŠ‚ç‚¹ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ’å…¥çš„èŠ‚ç‚¹å’Œè¦æ›¿æ¢çš„èŠ‚ç‚¹ã€‚è¿”å›è¦æ›¿æ¢çš„èŠ‚ç‚¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æ›¿æ¢ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹</span>
<span class="token keyword">let</span> returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ›¿æ¢æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</span>
returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>removeChild()ï¼šç§»é™¤èŠ‚ç‚¹ã€‚æ¥æ”¶è¦è¢«ç§»é™¤çš„èŠ‚ç‚¹ã€‚è¿”å›è¢«ç§»é™¤çš„èŠ‚ç‚¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆ é™¤ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹</span>
<span class="token keyword">let</span> formerFirstChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ é™¤æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</span>
<span class="token keyword">let</span> formerLastChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>
<p>ä»¥ä¸Šæ‰€æœ‰æ–¹æ³•éƒ½ç”¨äºæ“çºµæŸèŠ‚ç‚¹çš„å­å…ƒç´ ã€‚</p>
</li>
<li><p>å…¶ä»–æ–¹æ³•</p>
<p>æ‰€æœ‰èŠ‚ç‚¹ç±»å‹è¿˜å…±äº«äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>cloneNode()ï¼šè¿”å›ä¸è°ƒç”¨å®ƒçš„èŠ‚ç‚¹ä¸€æ¨¡ä¸€æ ·çš„èŠ‚ç‚¹ï¼Œæ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦æ·±å¤åˆ¶ã€‚æ·±å¤åˆ¶ä¼šå¤åˆ¶èŠ‚ç‚¹ä»¥åŠæ•´ä¸ªå­ DOM æ ‘ï¼Œæµ…å¤åˆ¶åªä¼šå¤åˆ¶è°ƒç”¨è¯¥æ–¹æ³•çš„èŠ‚ç‚¹ã€‚è¯¥æ–¹æ³•ä¸ä¼šå¤åˆ¶æ·»åŠ åˆ° DOM èŠ‚ç‚¹çš„ JS å±æ€§ï¼Œä¾‹å¦‚äº‹ä»¶å¤„ç†ç¨‹åºã€‚</li>
<li>normalize()ï¼šå¤„ç†æ–‡æ¡£å­æ ‘ä¸­çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚åœ¨èŠ‚ç‚¹ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ä¼šæ£€æµ‹è¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰åä»£ï¼Œä»ä¸­æœç´¢ä¸Šè¿°ä¸¤ç§æƒ…å½¢ã€‚åˆ é™¤ç©ºæ–‡æœ¬èŠ‚ç‚¹ã€‚åˆå¹¶ä¸¤ä¸ªç›¸é‚»çš„åŒèƒèŠ‚ç‚¹ã€‚</li>
</ul>
</li>
</ol>
<h5 id="Document-ç±»å‹"><a href="#Document-ç±»å‹" class="headerlink" title="Document ç±»å‹"></a>Document ç±»å‹</h5><p>Document ç±»å‹æ˜¯ JavaScript ä¸­è¡¨ç¤ºæ–‡æ¡£èŠ‚ç‚¹çš„ç±»å‹ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œæ–‡æ¡£å¯¹è±¡ document æ˜¯ HTMLDocument çš„å®ä¾‹ ( HTMLDocument ç»§æ‰¿ Document )ï¼Œè¡¨ç¤ºæ•´ä¸ª HTML é¡µé¢ã€‚document æ˜¯ window å¯¹è±¡çš„å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚Document ç±»å‹çš„èŠ‚ç‚¹æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ä¸º 9ï¼›</li>
<li>nodeName å€¼ä¸º <code>#document</code> ï¼›</li>
<li>nodeValue å€¼ä¸º null ï¼›</li>
<li>parentNode å€¼ä¸º null ï¼›</li>
<li>ownerDocument å€¼ä¸º nullï¼›</li>
<li>å­èŠ‚ç‚¹å¯ä»¥æ˜¯ DocumentType ( æœ€å¤šä¸€ä¸ª )ã€Element ( æœ€å¤šä¸€ä¸ª )ã€ProcessingInstruction æˆ– Comment ç±»å‹ã€‚</li>
</ul>
<p>Document ç±»å‹å¯ä»¥è¡¨ç¤º HTML é¡µé¢æˆ–å…¶ä»– XML æ–‡æ¡£ï¼Œä½†æœ€å¸¸ç”¨çš„è¿˜æ˜¯é€šè¿‡ HTMLDocument çš„å®ä¾‹å–å¾— document å¯¹è±¡ã€‚document å¯¹è±¡å¯ç”¨äºè·å–å…³äºé¡µé¢çš„ä¿¡æ¯ä»¥åŠæ“çºµå…¶å¤–è§‚å’Œåº•å±‚ç»“æ„ã€‚</p>
<ol>
<li><p>æ–‡æ¡£å­èŠ‚ç‚¹</p>
<p>Document èŠ‚ç‚¹æœ‰ä¸¤ä¸ªè®¿é—®å­èŠ‚ç‚¹çš„å¿«æ·æ–¹å¼ï¼š</p>
<ul>
<li><p>documentElement å±æ€§ï¼ŒæŒ‡å‘ HTML é¡µé¢çš„ <code>&lt;html&gt;</code> å…ƒç´ ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å–å¾—å¯¹&lt;html>çš„å¼•ç”¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
</li>
<li><p>body å±æ€§ï¼ŒæŒ‡å‘ <code>&lt;body&gt;</code> å…ƒç´ ã€‚</p>
</li>
</ul>
<p>Document ç±»å‹å¦ä¸€ç§å¯èƒ½çš„å­èŠ‚ç‚¹æ˜¯ DocumentType ã€‚</p>
<p><code>&lt;!doctype&gt;</code> æ ‡ç­¾æ˜¯æ–‡æ¡£ä¸­ç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå…¶ä¿¡æ¯å¯ä»¥é€šè¿‡ doctype å±æ€§æ¥è®¿é—®ã€‚</p>
<p>æ–‡æ¡£ç±»å‹æ˜¯åªè¯»çš„ï¼Œåªèƒ½æœ‰ä¸€ä¸ª Element ç±»å‹çš„å­èŠ‚ç‚¹ï¼Œå³ <code>&lt;html&gt;</code> ã€‚</p>
</li>
<li><p>æ–‡æ¡£ä¿¡æ¯</p>
<p>document ä½œä¸º HTMLDocument çš„å®ä¾‹ï¼Œè¿˜æœ‰ä¸€äº›æ ‡å‡† Document å¯¹è±¡ä¸Šæ‰€æ²¡æœ‰çš„å±æ€§ã€‚</p>
<ul>
<li>titleï¼ŒåŒ…å« <code>&lt;title&gt;</code> å…ƒç´ ä¸­çš„æ–‡æœ¬ã€‚é€šè¿‡è¿™ä¸ªå±æ€§å¯ä»¥è¯»å†™é¡µé¢çš„æ ‡é¢˜ï¼Œä½†ä¿®æ”¹è¯¥å…ƒç´ ä¸ä¼šæ”¹å˜ <code>&lt;title&gt;</code> å…ƒç´ ã€‚</li>
<li>URLï¼šåŒ…å«å½“å‰é¡µé¢çš„å®Œæ•´ URL ã€‚</li>
<li>domainï¼šåŒ…å«é¡µé¢çš„åŸŸåã€‚</li>
<li>referrerï¼šåŒ…å«é“¾æ¥åˆ°å½“å‰é¡µé¢çš„é‚£ä¸ªé¡µé¢çš„ URL ã€‚</li>
</ul>
<p>ä»¥ä¸Šä¸‰ä¸ªå±æ€§ï¼Œåªæœ‰ domain æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œä¸”è®¾ç½®çš„å€¼å—é™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// é¡µé¢æ¥è‡ª p2p.wrox.com</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'wrox.com'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æˆåŠŸ</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'nczonline.net'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å‡ºé”™ï¼</span></code></pre>
<p>å½“é¡µé¢ä¸­åŒ…å«æ¥è‡ªä¸åŒå­åŸŸçš„çª—æ ¼æˆ–å†…åµŒçª—æ ¼æ—¶ï¼Œè®¾ç½® document.domain æ˜¯æœ‰ç”¨çš„ï¼Œå¯ä»¥é¿å¼€è·¨åŸŸé€šä¿¡ï¼Œä½¿å¾—å½¼æ­¤å¯ä»¥è®¿é—® JavaScript å¯¹è±¡ã€‚</p>
<p>æµè§ˆå™¨å¯¹ domain å±æ€§è¿˜æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œè¿™ä¸ªå±æ€§ä¸€æ—¦æ”¾æ¾å°±ä¸èƒ½å†æ”¶ç´§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// é¡µé¢æ¥è‡ª p2p.wrox.com</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'wrox.com'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ”¾æ¾ï¼ŒæˆåŠŸ</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'p2p.wrox.com'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ”¶ç´§ï¼Œé”™è¯¯ï¼</span></code></pre>
</li>
<li><p>å®šä½å…ƒç´ </p>
<ul>
<li>getElementById() æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦è·å–å…ƒç´ çš„ ID ã€‚è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ æˆ– null ã€‚</li>
<li>getElementsByTagName() æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦è·å–å…ƒç´ çš„æ ‡ç­¾åã€‚è¿”å›åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„ NodeList ã€‚åœ¨ HTML æ–‡æ¡£ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª HTMLCollection å¯¹è±¡ã€‚HTMLCollection å¯¹è±¡ä¸ NodeList å¾ˆç›¸ä¼¼ã€‚å®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„æ–¹æ³• namedItem() ï¼Œå¯é€šè¿‡æ ‡ç­¾çš„ name å±æ€§å–å¾—æŸä¸€é¡¹çš„å¼•ç”¨ã€‚å¯¹äºæœ‰ name å±æ€§çš„å…ƒç´ ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸­æ‹¬å·æ¥è·å–ã€‚</li>
<li>getElementsByName() æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå…ƒç´ çš„ name å±æ€§ã€‚</li>
</ul>
</li>
<li><p>ç‰¹æ®Šé›†åˆ</p>
<ul>
<li>document.anchors åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦ name å±æ€§çš„ <code>&lt;a&gt;</code> å…ƒç´ ã€‚</li>
<li>document.applets åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰ <code>&lt;applet&gt;</code> å…ƒç´ ã€‚</li>
<li>document.forms åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰ <code>&lt;form&gt;</code> å…ƒç´ ã€‚</li>
<li>document.images åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰ <code>&lt;img&gt;</code> å…ƒç´ ã€‚</li>
<li>document.links åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦ href å±æ€§çš„ <code>&lt;a&gt;</code> å…ƒç´ ã€‚</li>
</ul>
</li>
<li><p>DOM å…¼å®¹æ€§æ£€æµ‹</p>
<p>DOM Level 1 åœ¨ document.implementation ä¸Šåªå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå³ hasFeature() ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç‰¹æ€§åç§°å’Œ DOM ç‰ˆæœ¬ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> hasXmlDom <span class="token operator">=</span> document<span class="token punctuation">.</span>implementation<span class="token punctuation">.</span><span class="token function">hasFeature</span><span class="token punctuation">(</span><span class="token string">"XML"</span><span class="token punctuation">,</span> <span class="token string">"1.0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<table>
<thead>
<tr>
<th align="center">ç‰¹æ€§</th>
<th align="center">æ”¯æŒçš„ç‰ˆæœ¬</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Core</td>
<td align="center">1.0ã€2.0ã€3.0</td>
<td align="center">å®šä¹‰æ ‘å½¢æ–‡æ¡£ç»“æ„çš„åŸºæœ¬ DOM ã€‚</td>
</tr>
<tr>
<td align="center">XML</td>
<td align="center">1.0ã€2.0ã€3.0</td>
<td align="center">Core çš„ XML æ‹“å±•ï¼Œå¢åŠ äº†å¯¹ CDATA åŒºå—ã€‘å¤„ç†æŒ‡ä»¤å’Œå®ä½“çš„æ”¯æŒã€‚</td>
</tr>
<tr>
<td align="center">HTML</td>
<td align="center">1.0ã€2.0</td>
<td align="center">XML çš„ HTML æ‹“å±•ï¼Œå¢åŠ äº† HTML ç‰¹ç‚¹çš„å…ƒç´ å’Œå®ä½“ã€‚</td>
</tr>
<tr>
<td align="center">Views</td>
<td align="center">2.0</td>
<td align="center">æ–‡æ¡£åŸºäºæŸäº›æ ·å¼çš„å®ç°æ ¼å¼ã€‚</td>
</tr>
<tr>
<td align="center">StyleSheets</td>
<td align="center">2.0</td>
<td align="center">æ–‡æ¡£çš„ç›¸å…³æ ·å¼è¡¨</td>
</tr>
<tr>
<td align="center">CSS</td>
<td align="center">2.0</td>
<td align="center">Cascading Style Sheets Level 1</td>
</tr>
<tr>
<td align="center">CSS2</td>
<td align="center">2.0</td>
<td align="center">Cascading Style Sheets Level 2</td>
</tr>
<tr>
<td align="center">Events</td>
<td align="center">2.0ã€3.0</td>
<td align="center">é€šç”¨ DOM äº‹ä»¶</td>
</tr>
<tr>
<td align="center">UIEvents</td>
<td align="center">2.0ã€3.0</td>
<td align="center">ç”¨æˆ·ç•Œé¢äº‹ä»¶</td>
</tr>
<tr>
<td align="center">TextEvents</td>
<td align="center">3.0</td>
<td align="center">æ–‡æœ¬è¾“å…¥è®¾å¤‡è§¦å‘çš„äº‹ä»¶</td>
</tr>
<tr>
<td align="center">MouseEvents</td>
<td align="center">2.0ã€3.0</td>
<td align="center">é¼ æ ‡å¯¼è‡´çš„äº‹ä»¶</td>
</tr>
<tr>
<td align="center">MutationEvents</td>
<td align="center">2.0ã€3.0</td>
<td align="center">DOM æ ‘å˜åŒ–æ—¶è§¦å‘çš„äº‹ä»¶</td>
</tr>
<tr>
<td align="center">MutationNameEvents</td>
<td align="center">3.0</td>
<td align="center">DOM å…ƒç´ æˆ–å…ƒç´ å±æ€§è¢«é‡å‘½åæ—¶è§¦å‘çš„äº‹ä»¶</td>
</tr>
<tr>
<td align="center">HTMLEvents</td>
<td align="center">2.0</td>
<td align="center">HTML 4.01 äº‹ä»¶</td>
</tr>
<tr>
<td align="center">Range</td>
<td align="center">2.0</td>
<td align="center">åœ¨ DOM æ ‘ä¸­æ“ä½œä¸€å®šèŒƒå›´çš„å¯¹è±¡å’Œæ–¹æ³•</td>
</tr>
<tr>
<td align="center">Traversal</td>
<td align="center">2.0</td>
<td align="center">éå† DOM æ ‘çš„æ–¹æ³•</td>
</tr>
<tr>
<td align="center">LS</td>
<td align="center">3.0</td>
<td align="center">æ–‡ä»¶ä¸ DOM æ ‘ä¹‹é—´çš„åŒæ­¥åŠ è½½ä¸ä¿å­˜</td>
</tr>
<tr>
<td align="center">LS-Async</td>
<td align="center">3.0</td>
<td align="center">æ–‡ä»¶ä¸ DOM æ ‘ä¹‹é—´çš„å¼‚æ­¥åŠ è½½ä¸ä¿å­˜</td>
</tr>
<tr>
<td align="center">Validation</td>
<td align="center">3.0</td>
<td align="center">ä¿®æ”¹ DOM æ ‘å¹¶ä¿è¯å…¶ç»§ç»­æœ‰æ•ˆçš„æ–¹æ³•</td>
</tr>
<tr>
<td align="center">XPath</td>
<td align="center">3.0</td>
<td align="center">è®¿é—® XML æ–‡æ¡£ä¸åŒéƒ¨åˆ†çš„è¯­è¨€</td>
</tr>
</tbody></table>
<p>ç›®å‰è¯¥æ–¹æ³•å·²è¢«åºŸå¼ƒã€‚</p>
</li>
<li><p>æ–‡æ¡£å†™å…¥</p>
<ul>
<li>write()</li>
<li>writeln()</li>
<li>open()</li>
<li>close()</li>
</ul>
<p>write() å’Œ writeln() éƒ½æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œå°†è¿™ä¸ªå­—ç¬¦ä¸²å†™å…¥ç½‘é¡µã€‚</p>
<p>åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªæ–¹æ³•ä¼šå‘æ–‡æ¡£ä¸­è¾“å‡ºå†…å®¹ï¼Œåœ¨é¡µé¢åŠ è½½å®Œåè°ƒç”¨ä¼šé‡å†™æ•´ä¸ªé¡µé¢ã€‚</p>
<p>open() å’Œ close() ç”¨äºæ‰“å¼€å’Œå…³é—­ç½‘é¡µè¾“å‡ºæµã€‚</p>
</li>
</ol>
<h5 id="Element-ç±»å‹"><a href="#Element-ç±»å‹" class="headerlink" title="Element ç±»å‹"></a>Element ç±»å‹</h5><p>Element è¡¨ç¤º XML æˆ– HTML å…ƒç´ ï¼Œå¯¹å¤–æš´éœ²å‡ºè®¿é—®å…ƒç´ æ ‡ç­¾åã€å­èŠ‚ç‚¹å’Œå±æ€§çš„èƒ½åŠ›ã€‚è¯¥ç±»å‹çš„èŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>nodeType ç­‰äº 1ï¼›</li>
<li>nodeName å€¼ä¸ºå…ƒç´ çš„æ ‡ç­¾åï¼›</li>
<li>nodeValue å€¼ä¸º null ï¼›</li>
<li>parentNode å€¼ä¸º Document æˆ– Element å¯¹è±¡ï¼›</li>
<li>å­èŠ‚ç‚¹å¯ä»¥æ˜¯ Elementã€Textã€Commentã€ProcessingInstructionã€CDATASectionã€EntityReference ç±»å‹ã€‚</li>
</ul>
<p>å¯ä»¥é€šè¿‡ nodeName æˆ– tagName å±æ€§æ¥è·å–å…ƒç´ çš„æ ‡ç­¾åã€‚è¿™ä¸¤ä¸ªå±æ€§è¿”å›åŒæ ·çš„å€¼ã€‚</p>
<p>åœ¨ HTML ä¸­ï¼Œå…ƒç´ æ ‡ç­¾åå§‹ç»ˆä»¥å…¨å¤§å†™è¡¨ç¤ºã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>å­˜å‚¨ â€œunreadâ€ æ ‡è¯†</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª messages æ•°ç»„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"How goes?"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"See you soon"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"Alice"</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<p>ä½ çš„ä»£ç å¯ä»¥è®¿é—®å®ƒï¼Œä½†æ˜¯ message æ˜¯ç”±å…¶ä»–äººçš„ä»£ç ç®¡ç†çš„ã€‚è¯¥ä»£ç ä¼šå®šæœŸæ·»åŠ æ–°æ¶ˆæ¯ï¼Œåˆ é™¤æ—§æ¶ˆæ¯ï¼Œä½†æ˜¯ä½ ä¸çŸ¥é“è¿™äº›æ“ä½œç¡®åˆ‡çš„å‘ç”Ÿæ—¶é—´ã€‚</p>
<p>ç°åœ¨ï¼Œä½ åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¥ä¿å­˜å…³äºæ¶ˆæ¯â€œæ˜¯å¦å·²è¯»â€çš„ä¿¡æ¯ï¼Ÿè¯¥ç»“æ„å¿…é¡»å¾ˆé€‚åˆå¯¹ç»™å®šçš„ message å¯¹è±¡ç»™å‡ºâ€œå®ƒè¯»äº†å—ï¼Ÿâ€çš„ç­”æ¡ˆã€‚</p>
<p>P.S. å½“ä¸€ä¸ªæ¶ˆæ¯è¢«ä» <code>messages</code> ä¸­åˆ é™¤åï¼Œå®ƒåº”è¯¥ä¹Ÿä»ä½ çš„æ•°æ®ç»“æ„ä¸­æ¶ˆå¤±ã€‚</p>
<p>P.S. æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹ message å¯¹è±¡ï¼Œä¾‹å¦‚å‘å…¶æ·»åŠ æˆ‘ä»¬çš„å±æ€§ã€‚å› ä¸ºå®ƒä»¬æ˜¯ç”±å…¶ä»–äººçš„ä»£ç ç®¡ç†çš„ï¼Œæˆ‘ä»¬ä¿®æ”¹è¯¥æ•°æ®å¯èƒ½ä¼šå¯¼è‡´ä¸å¥½çš„åæœã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'How goes?'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'See you soon'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> readMessages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ä¸¤ä¸ªæ¶ˆæ¯å·²è¯»</span>
readMessages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
readMessages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// readMessages åŒ…å«ä¸¤ä¸ªå…ƒç´ </span>

<span class="token comment" spellcheck="true">// â€¦â€¦è®©æˆ‘ä»¬å†è¯»ä¸€éç¬¬ä¸€æ¡æ¶ˆæ¯ï¼</span>
readMessages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// readMessages ä»ç„¶æœ‰ä¸¤ä¸ªä¸é‡å¤çš„å…ƒç´ </span>

<span class="token comment" spellcheck="true">// å›ç­”ï¼šmessage[0] å·²è¯»ï¼Ÿ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Read message 0: '</span> <span class="token operator">+</span> readMessages<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

messages<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ç°åœ¨ readMessages æœ‰ä¸€ä¸ªå…ƒç´ ï¼ˆæŠ€æœ¯ä¸Šæ¥è®²ï¼Œå†…å­˜å¯èƒ½ç¨åæ‰ä¼šè¢«æ¸…ç†ï¼‰</span></code></pre>
</li>
<li><p>ä¿å­˜é˜…è¯»æ—¥æœŸ</p>
<p>è¿™å„¿æœ‰ä¸€ä¸ªå’Œ <a href="https://zh.javascript.info/task/recipients-read" target="_blank" rel="noopener">ä¸Šä¸€ä¸ªä»»åŠ¡</a> ç±»ä¼¼çš„ <code>messages</code> æ•°ç»„ã€‚åœºæ™¯ä¹Ÿç›¸ä¼¼ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"How goes?"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">"See you soon"</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"Alice"</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<p>ç°åœ¨çš„é—®é¢˜æ˜¯ï¼šä½ å»ºè®®é‡‡ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¥ä¿å­˜ä¿¡æ¯ï¼šâ€œæ¶ˆæ¯æ˜¯ä»€ä¹ˆæ—¶å€™è¢«é˜…è¯»çš„ï¼Ÿâ€ã€‚</p>
<p>åœ¨å‰ä¸€ä¸ªä»»åŠ¡ä¸­æˆ‘ä»¬åªéœ€è¦ä¿å­˜â€œæ˜¯/å¦â€ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ä¿å­˜æ—¥æœŸï¼Œå¹¶ä¸”å®ƒåº”è¯¥åœ¨æ¶ˆæ¯è¢«åƒåœ¾å›æ”¶æ—¶ä¹Ÿè¢«ä»å†…å­˜ä¸­æ¸…é™¤ã€‚</p>
<p>P.S. æ—¥æœŸå¯ä»¥å­˜å‚¨ä¸ºå†…å»ºçš„ <code>Date</code> ç±»çš„å¯¹è±¡ï¼Œç¨åæˆ‘ä»¬å°†è¿›è¡Œä»‹ç»ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'How goes?'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'See you soon'</span><span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> readMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

readMap<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>messages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 06</title>
    <url>/2020/11/06/xue-xi-bi-ji-2020-11-06/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-06"><a href="#å­¦ä¹ ç¬”è®°-2020-11-06" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-06"></a>å­¦ä¹ ç¬”è®° 2020-11-06</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å®¢æˆ·ç«¯æ£€æµ‹"><a href="#å®¢æˆ·ç«¯æ£€æµ‹" class="headerlink" title="å®¢æˆ·ç«¯æ£€æµ‹"></a>å®¢æˆ·ç«¯æ£€æµ‹</h3><h4 id="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"><a href="#è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹" class="headerlink" title="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"></a>è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹</h4><h5 id="æµè§ˆå™¨å…ƒæ•°æ®"><a href="#æµè§ˆå™¨å…ƒæ•°æ®" class="headerlink" title="æµè§ˆå™¨å…ƒæ•°æ®"></a>æµè§ˆå™¨å…ƒæ•°æ®</h5><ol>
<li><p>Battery Status API</p>
<p>æµè§ˆå™¨å¯ä»¥è®¿é—®è®¾å¤‡ç”µæ± åŠå……ç”µçŠ¶æ€çš„ä¿¡æ¯ã€‚<code>navigator.getBattery()</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæœŸçº¦å®ä¾‹ï¼Œè§£å†³ä¸ºä¸€ä¸ª <code>BatteryManager</code> å¯¹è±¡ï¼ŒåŒ…å«å››ä¸ªåªè¯»å±æ€§ï¼š</p>
<ul>
<li><code>charging</code> å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè®¾å¤‡å½“å‰æ˜¯å¦æ­£æ¥å…¥ç”µæºå……ç”µï¼Œå¦‚æœè®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› <code>true</code> ã€‚</li>
<li><code>chargingTime</code> æ•´æ•°ï¼Œè¡¨ç¤ºé¢„è®¡ç¦»ç”µæ± å……æ»¡è¿˜æœ‰å¤šå°‘ç§’ã€‚å¦‚æœç”µæ± å·²å……æ»¡æˆ–è®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› 0 ã€‚</li>
<li><code>dischargingTime</code> æ•´æ•°ï¼Œè¡¨ç¤ºé¢„è®¡ç¦»ç”µé‡è€—å°½è¿˜æœ‰å¤šå°‘ç§’ï¼Œå¦‚æœè®¾å¤‡æ²¡æœ‰ç”µæ± ï¼Œåˆ™è¿”å› Infinity ã€‚</li>
<li><code>level</code> æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºç”µé‡ç™¾åˆ†æ¯”ã€‚ç”µé‡å®Œå…¨è€—å°½è¿”å› <code>0.0</code> ï¼Œç”µæ± å……æ»¡æˆ–è®¾å¤‡æ²¡æœ‰ç”µæ± åˆ™è¿”å› <code>1.0</code> ã€‚</li>
</ul>
<p>è¿™ä¸ª API è¿˜æä¾›äº† 4 ä¸ªäº‹ä»¶å±æ€§ï¼Œå¯ç”¨äºè®¾ç½®åœ¨ç›¸åº”çš„ç”µæ± äº‹ä»¶å‘ç”Ÿæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚</p>
<ul>
<li>onchargingchange</li>
<li>onchargingtimechange</li>
<li>ondischargingtimechange</li>
<li>onlevelchange</li>
</ul>
<pre class=" language-js"><code class="language-js">navigator<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>battery <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// æ·»åŠ å……ç”µçŠ¶æ€å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº</span>
  <span class="token keyword">const</span> chargingChangeHandler <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'chargingchange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  battery<span class="token punctuation">.</span>onchargingchange <span class="token operator">=</span> chargingChangeHandler<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æˆ–</span>
  battery<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'chargingchange'</span><span class="token punctuation">,</span> chargingChangeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æ·»åŠ å……ç”µæ—¶é—´å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº</span>
  <span class="token keyword">const</span> chargingTimeChangeHandler <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'chargingtimechange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  battery<span class="token punctuation">.</span>onchargingtimechange <span class="token operator">=</span> chargingTimeChangeHandler<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æˆ–</span>
  battery<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'chargingtimechange'</span><span class="token punctuation">,</span> chargingTimeChangeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æ·»åŠ æ”¾ç”µæ—¶é—´å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº</span>
  <span class="token keyword">const</span> dischargingTimeChangeHandler <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dischargingtimechange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  battery<span class="token punctuation">.</span>ondischargingtimechange <span class="token operator">=</span> dischargingTimeChangeHandler<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æˆ–</span>
  battery<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dischargingtimechange'</span><span class="token punctuation">,</span> dischargingTimeChangeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æ·»åŠ ç”µé‡ç™¾åˆ†æ¯”å˜åŒ–æ—¶çš„å¤„ç†ç¨‹åº</span>
  <span class="token keyword">const</span> levelChangeHandler <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'levelchange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  battery<span class="token punctuation">.</span>onlevelchange <span class="token operator">=</span> levelChangeHandler<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æˆ–</span>
  battery<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'levelchange'</span><span class="token punctuation">,</span> levelChangeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h5 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h5><ol>
<li><p>å¤„ç†å™¨æ ¸å¿ƒæ•°</p>
<p><code>navigator.hardwareConcurrency</code> å±æ€§è¿”å›æµè§ˆå™¨æ”¯æŒçš„é€»è¾‘å¤„ç†å™¨æ ¸å¿ƒæ•°é‡ï¼ŒåŒ…å«è¡¨ç¤ºæ ¸å¿ƒæ•°çš„ä¸€ä¸ªæ•´æ•°å€¼ã€‚è¿™ä¸ªå€¼è¡¨ç¤ºæµè§ˆå™¨å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°é‡ï¼Œä¸ä¸€å®šæ˜¯å®é™…çš„ CPU æ ¸å¿ƒæ•°ã€‚</p>
</li>
<li><p>è®¾å¤‡å†…å­˜å¤§å°ã€</p>
<p><code>navigator.deviceMemory</code> å±æ€§è¿”å›è®¾å¤‡å¤§è‡´çš„ç³»ç»Ÿå†…å­˜å¤§å°ï¼ŒåŒ…å«å•ä½ä¸º GB çš„æµ®ç‚¹æ•°ã€‚</p>
</li>
<li><p>æœ€å¤§è§¦ç‚¹æ•°</p>
<p><code>navigator.maxTouchPoints</code> å±æ€§è¿”å›è§¦æ‘¸å±æ”¯æŒçš„æœ€å¤§å…³è”è§¦ç‚¹æ•°é‡ï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p>
</li>
</ol>
<h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><p>HTMl ä¸­çš„æ¯æ®µæ ‡è®°éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªèŠ‚ç‚¹ã€‚DOM ä¸­æ€»å…±æœ‰ 12 ç§èŠ‚ç‚¹ç±»å‹ï¼Œè¿™äº›ç±»å‹éƒ½ç»§æ‰¿ä¸€ç§åŸºæœ¬ç±»å‹ã€‚</p>
<h4 id="èŠ‚ç‚¹å±‚çº§"><a href="#èŠ‚ç‚¹å±‚çº§" class="headerlink" title="èŠ‚ç‚¹å±‚çº§"></a>èŠ‚ç‚¹å±‚çº§</h4><h5 id="Node-ç±»å‹"><a href="#Node-ç±»å‹" class="headerlink" title="Node ç±»å‹"></a>Node ç±»å‹</h5><p>DOM Level 1 æè¿°äº†åä¸º Node çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£æ˜¯æ‰€æœ‰ DOM èŠ‚ç‚¹ç±»å‹éƒ½å¿…é¡»å®ç°çš„ã€‚ Node æ¥å£åœ¨ JavaScript ä¸­è¢«å®ç°ä¸º Node ç±»å‹ï¼Œåœ¨é™¤ IE ä¹‹å¤–çš„æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½å¯ä»¥ç›´æ¥è®¿é—®è¿™ä¸ªç±»å‹ã€‚åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰èŠ‚ç‚¹ç±»å‹éƒ½ç»§æ‰¿ Node ç±»å‹ï¼Œå› æ­¤æ‰€æœ‰ç±»å‹éƒ½å…±äº«ç›¸åŒçš„åŸºæœ¬å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ nodeType å±æ€§ï¼Œè¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„ç±»å‹ã€‚èŠ‚ç‚¹ç±»å‹ç”±å®šä¹‰åœ¨ Node ç±»å‹ä¸Šçš„ 12 ä¸ªæ•°å€¼å¸¸é‡è¡¨ç¤ºï¼š</p>
<ul>
<li>Node.ELEMENT_NODE ( 1 )</li>
<li>Node.ATTRIBUTE_NODE ( 2 )</li>
<li>Node.TEXT_NODE ( 3 )</li>
<li>Node.CDATA_SECTION_NODE ( 4 )</li>
<li>Node.ENTITY_PEFERENCE_NODE ( 5 )</li>
<li>Node.ENTITY_NODE ( 6 )</li>
<li>Node.PROCESSING_INSTRUCTION_NODE ( 7 )</li>
<li>Node.COMMENT_NODE ( 8 )</li>
<li>Node.DOCUMENT_NODE ( 9 )</li>
<li>Node.DOCUMENT_TYPE_NODE ( 10 )</li>
<li>Node.DOCUMENT_FRAGMENT_NODE ( 11 )</li>
<li>Node.NOTATION_NODE ( 12 )</li>
</ul>
<p>èŠ‚ç‚¹ç±»å‹å¯ä»¥é€šè¿‡ä¸è¿™äº›å¸¸é‡æ¯”è¾ƒæ¥ç¡®å®šï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">==</span> Node<span class="token punctuation">.</span>ELEMENT_NODE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Node is an element.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>æµè§ˆå™¨å¹¶ä¸æ”¯æŒæ‰€æœ‰èŠ‚ç‚¹ç±»å‹ã€‚</p>
<ol>
<li><p>nodeName ä¸ nodeValue</p>
<p>nodeName ä¸ nodeValue ä¿å­˜ç€æœ‰å…³èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚è¿™ä¸¤ä¸ªå±æ€§çš„å€¼å®Œå…¨å–å†³äºèŠ‚ç‚¹ç±»å‹ã€‚åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªå±æ€§å‰ï¼Œæœ€å¥½å…ˆæ£€æµ‹èŠ‚ç‚¹ç±»å‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  value <span class="token operator">=</span> someNode<span class="token punctuation">.</span>nodeName<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¼šæ˜¾ç¤ºå…ƒç´ çš„æ ‡ç­¾å</span>
<span class="token punctuation">}</span></code></pre>
<p>å¯¹å…ƒç´ è€Œè¨€ï¼ŒnodeName å§‹ç»ˆç­‰äºå…ƒç´ çš„æ ‡ç­¾åï¼Œè€Œ nodeValue åˆ™å§‹ç»ˆä¸º null ã€‚</p>
</li>
<li><p>èŠ‚ç‚¹å…³ç³»</p>
<p>æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ª childNodes å±æ€§ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª NodeList çš„å®ä¾‹ã€‚NodeList æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨å¯ä»¥æŒ‰ä½ç½®å­˜å–çš„æœ‰åºèŠ‚ç‚¹ã€‚NodeList å¯¹è±¡ç‹¬ç‰¹çš„åœ°æ–¹åœ¨äºï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ªå¯¹ DOM ç»“æ„çš„æŸ¥è¯¢ï¼Œå› æ­¤ DOM ç»“æ„çš„å˜åŒ–ä¼šè‡ªåŠ¨åœ°åœ¨ NodeList ä¸­åæ˜ å‡ºæ¥ã€‚NodeList æ˜¯å®æ—¶çš„æ´»åŠ¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰€è·çš„å†…å®¹çš„å¿«ç…§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> firstChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> secondChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre>
<p>æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ª parentNode å±æ€§ï¼ŒæŒ‡å‘å…¶ DOM æ ‘ä¸­çš„çˆ¶å…ƒç´ ã€‚</p>
<p>childNodes åˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯åŒä¸€åˆ—è¡¨ä¸­å…¶ä»–èŠ‚ç‚¹çš„åŒèƒèŠ‚ç‚¹ï¼Œä½¿ç”¨ previousSibling å’Œ nextSibling å¯ä»¥åœ¨è¿™ä¸ªåˆ—è¡¨çš„èŠ‚ç‚¹é—´å¯¼èˆªã€‚åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åŒèƒå±æ€§ä¸º null ã€‚</p>
<p>çˆ¶èŠ‚ç‚¹å’Œå®ƒçš„ç¬¬ä¸€ä¸ªåŠæœ€åä¸€ä¸ªå­èŠ‚ç‚¹ä¹Ÿæœ‰ä¸“é—¨å±æ€§ï¼š</p>
<ul>
<li>firstChild</li>
<li>lastChild</li>
</ul>
<p>è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•æ˜¯ <code>hasChildNodes()</code> ï¼Œå¯ä»¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ã€‚</p>
<p>æ‰€æœ‰èŠ‚ç‚¹å…±äº«ä¸€ä¸ªå…³ç³»ï¼š ownerDocument å±æ€§æ˜¯ä¸€ä¸ªæŒ‡å‘ä»£è¡¨æ•´ä¸ªæ–‡æ¡£çš„æ–‡æ¡£èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«åˆ›å»ºå®ƒä»¬çš„æ–‡æ¡£æ‰€æ‹¥æœ‰ã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>è¿‡æ»¤æ•°ç»„ä¸­çš„å”¯ä¸€å…ƒç´ </p>
<p>å®šä¹‰ <code>arr</code> ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>unique(arr)</code>ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªç”± <code>arr</code> ä¸­æ‰€æœ‰å”¯ä¸€å…ƒç´ æ‰€ç»„æˆçš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* ä½ çš„ä»£ç  */</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span>
  <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">":-O"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">unique</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hare, Krishna, :-O</span></code></pre>
<p>P.S. è¿™é‡Œç”¨åˆ°äº† string ç±»å‹ï¼Œä½†å…¶å®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ã€‚</p>
<p>P.S. ä½¿ç”¨ <code>Set</code> æ¥å­˜å‚¨å”¯ä¸€å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¿‡æ»¤å­—è°œ</p>
<p><a href="https://en.wikipedia.org/wiki/Anagram" target="_blank" rel="noopener">Anagrams</a> æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ç›¸åŒå­—æ¯ä½†æ˜¯é¡ºåºä¸åŒçš„å•è¯ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-none"><code class="language-none">nap - pan
ear - are - era
cheaters - hectares - teachers</code></pre>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>aclean(arr)</code>ï¼Œå®ƒè¿”å›è¢«æ¸…é™¤äº†å­—è°œï¼ˆanagramsï¼‰çš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"nap"</span><span class="token punctuation">,</span> <span class="token string">"teachers"</span><span class="token punctuation">,</span> <span class="token string">"cheaters"</span><span class="token punctuation">,</span> <span class="token string">"PAN"</span><span class="token punctuation">,</span> <span class="token string">"ear"</span><span class="token punctuation">,</span> <span class="token string">"era"</span><span class="token punctuation">,</span> <span class="token string">"hectares"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">aclean</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "nap,teachers,ear" or "PAN,cheaters,era"</span></code></pre>
<p>å¯¹äºæ‰€æœ‰çš„å­—è°œï¼ˆanagramï¼‰ç»„ï¼Œéƒ½åº”è¯¥ä¿ç•™å…¶ä¸­ä¸€ä¸ªè¯ï¼Œä½†ä¿ç•™çš„å…·ä½“æ˜¯å“ªä¸€ä¸ªå¹¶ä¸é‡è¦ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">aclean</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tmp <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‚è€ƒè§£å†³æ–¹æ¡ˆ</span>
<span class="token keyword">function</span> <span class="token function">aclean</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> word <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// å°†å•è¯ split æˆå­—æ¯ï¼Œå¯¹å­—æ¯è¿›è¡Œæ’åºï¼Œä¹‹åå† join å›æ¥</span>
    <span class="token keyword">let</span> sorted <span class="token operator">=</span> word<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// (*)</span>
    map<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>sorted<span class="token punctuation">,</span> word<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¿­ä»£é”®</p>
<p>æˆ‘ä»¬æœŸæœ›ä½¿ç”¨ <code>map.keys()</code> å¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åä½¿ç”¨ç‰¹å®šçš„æ–¹æ³•ä¾‹å¦‚ <code>.push</code> ç­‰ï¼Œå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p>
<p>ä½†æ˜¯è¿è¡Œä¸äº†ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> keys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Error: keys.push is not a function</span>
keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"more"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä¸ºä»€ä¹ˆï¼Ÿæˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¿®æ”¹ä»£ç è®© <code>keys.push</code> å·¥ä½œï¼Ÿ</p>
<p><code>map.keys()</code> è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¸æ˜¯æ•°ç»„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> keys <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'more'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["name", "more"]</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 05</title>
    <url>/2020/11/05/xue-xi-bi-ji-2020-11-05/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-05"><a href="#å­¦ä¹ ç¬”è®°-2020-11-05" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-05"></a>å­¦ä¹ ç¬”è®° 2020-11-05</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å®¢æˆ·ç«¯æ£€æµ‹"><a href="#å®¢æˆ·ç«¯æ£€æµ‹" class="headerlink" title="å®¢æˆ·ç«¯æ£€æµ‹"></a>å®¢æˆ·ç«¯æ£€æµ‹</h3><h4 id="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"><a href="#è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹" class="headerlink" title="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"></a>è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹</h4><h5 id="æµè§ˆå™¨å…ƒæ•°æ®"><a href="#æµè§ˆå™¨å…ƒæ•°æ®" class="headerlink" title="æµè§ˆå™¨å…ƒæ•°æ®"></a>æµè§ˆå™¨å…ƒæ•°æ®</h5><ol>
<li><p>Geolocation API</p>
<p><code>navigator.geolocation</code> å±æ€§å¯ä»¥è®©æµè§ˆå™¨è„šæœ¬æ„ŸçŸ¥å½“å‰è®¾å¤‡çš„åœ°ç†ä½ç½®ã€‚è¿™ä¸ª API åªåœ¨å®‰å…¨æ‰§è¡Œç¯å¢ƒä¸­å¯ç”¨ã€‚</p>
<p>è¿™ä¸ª API  å¯ä»¥æŸ¥è¯¢ç´ æ•°ç³»ç»Ÿå¹¶å°½å¯èƒ½ç²¾ç¡®åœ°è¿”å›è®¾å¤‡çš„ä½ç½®ä¿¡æ¯ã€‚æ ¹æ®å®¿èˆç³»ç»Ÿçš„ç¡¬ä»¶å’Œé…ç½®ï¼Œè¿”å›ç»“æœçš„ç²¾åº¦å¯èƒ½ä¸ä¸€æ ·ã€‚æ‰‹æœº GPS çš„åæ ‡ç³»ç»Ÿå¯èƒ½å…·æœ‰æé«˜çš„ç²¾åº¦ï¼Œè€Œ IP åœ°å€çš„ç²¾åº¦å°±è¦å·®å¾ˆå¤šã€‚</p>
<p>è¦è·å–æµè§ˆå™¨å½“å‰çš„ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨ <code>getCurrentPosition()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª <code>Coordinates</code> å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js">navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>position <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>p <span class="token operator">=</span> position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1525364883361</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>coords<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Coordinates {...}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> p<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 37.4854409, -122.2325506 ç»çº¬åº¦</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>accuracy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 58 ç²¾åº¦</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>altitude<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -8.800000190734863 æµ·æ‹”é«˜åº¦</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>altitudeAccuracy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 200</span>
<span class="token comment" spellcheck="true">// æµè§ˆå™¨ä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†è¯·ç”¨æˆ·å…è®¸è®¿é—® Geolocation API</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ªä¾‹å­æ˜¾ç¤ºäº†ç”¨æˆ·æ‹’ç»ä¹‹åçš„ç»“æœ</span>
navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// User denied Geolocation</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ªä¾‹å­å±•ç¤ºäº†åœ¨ä¸å®‰å…¨çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œä»£ç çš„ç»“æœ</span>
navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Only secure origins are allowed</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¿˜å¯ä»¥ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¸€ä¸ª <code>PositionOptions</code> å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ”¯æŒ 3 ä¸ªå±æ€§ï¼š</p>
<ul>
<li>enableHighAccuracy: å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿”å›ç²¾ç¡®çš„å€¼ã€‚</li>
<li>timeout: æ¯«ç§’ï¼Œè¡¨ç¤ºåœ¨ä»¥ TIMEOUT çŠ¶æ€è°ƒç”¨é”™è¯¯å›è°ƒä¹‹å‰ç­‰å¾…çš„æœ€é•¿æ—¶é—´ã€‚</li>
<li>maxmumAge: æ¯«ç§’ï¼Œè¡¨ç¤ºè¿”å›åæ ‡çš„æœ€é•¿æœ‰æ•ˆæœŸã€‚</li>
</ul>
</li>
<li><p>Connection State å’Œ NetworkInformation API</p>
<p>æµè§ˆå™¨ä¼šè·Ÿè¸ªç½‘ç»œè¿æ¥çŠ¶æ€å¹¶ä»¥ä¸¤ç§æ–¹å¼æš´éœ²è¿™äº›ä¿¡æ¯ï¼š</p>
<ul>
<li>è¿æ¥äº‹ä»¶</li>
<li><code>navigator.onLine</code> å±æ€§ã€‚</li>
</ul>
<p>åœ¨è®¾å¤‡è¿æ¥åˆ°ç½‘ç»œæ—¶ï¼Œæµè§ˆå™¨ä¼šè®°å½•è¿™ä¸ªäº‹å®å¹¶åœ¨ window å¯¹è±¡ä¸Šè§¦å‘ onLine äº‹ä»¶ã€‚ç›¸åº”åœ°ï¼Œå½“è®¾å¤‡æ–­å¼€ç½‘ç»œè¿æ¥åï¼Œæµè§ˆå™¨ä¼šåœ¨ window å¯¹è±¡ä¸Šè§¦å‘ offline äº‹ä»¶ã€‚ä»»ä½•æ—¶å€™éƒ½å¯ä»¥é€šè¿‡ <code>navigator.onLine</code> å±æ€§æ¥ç¡®å®šæµè§ˆå™¨çš„è”ç½‘çŠ¶æ€ã€‚è¿™ä¸ªå±æ€§è¿”å›å¸ƒå°”å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> connectionStateChange <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>onLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'online'</span><span class="token punctuation">,</span> connectionStateChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'offline'</span><span class="token punctuation">,</span> connectionStateChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è®¾å¤‡è”ç½‘æ—¶ï¼š</span>
<span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// è®¾å¤‡æ–­ç½‘æ—¶ï¼š</span>
<span class="token comment" spellcheck="true">// false</span></code></pre>
<p>è”ç½‘çš„åˆ¤å®šå–å†³äºæµè§ˆå™¨å’Œç³»ç»Ÿå®ç°ã€‚</p>
<p>navigator å¯¹è±¡è¿˜æš´éœ²äº† NetworkInformation API ï¼Œå¯ä»¥é€šè¿‡ <code>navigator.connection</code> å±æ€§ä½¿ç”¨ã€‚è¿™ä¸ª APIã€€æä¾›äº†ä¸€äº›åªè¯»å±æ€§ï¼Œå¹¶æœªè¿æ¥å±æ€§å˜åŒ–äº‹ä»¶å¤„ç†ç¨‹åºå®šä¹‰äº†ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ã€‚</p>
<ul>
<li>downlinkï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå½“å‰è®¾å¤‡çš„å¸¦å®½ï¼Œä»¥ Mbit/s ä¸ºå•ä½ã€‚</li>
<li>downlinkMaxï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå½“å‰è®¾å¤‡æœ€å¤§çš„ä¸‹è¡Œå¸¦å®½ï¼Œæ ¹æ®ç½‘ç»œçš„ç¬¬ä¸€è·³æ¥ç¡®å®šã€‚</li>
<li>effectiveTypeï¼šå­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œè¡¨ç¤ºè¿æ¥é€Ÿåº¦å’Œè´¨é‡ã€‚è¿™ä¸ªå€¼æœ‰ä»¥ä¸‹ 4 ç§å¯èƒ½ï¼š<ul>
<li>slow-2g</li>
<li>2g</li>
<li>3g</li>
<li>4g</li>
</ul>
</li>
<li>rttï¼šæ¯«ç§’ï¼Œè¡¨ç¤ºå½“å‰ç½‘ç»œå®é™…çš„å¾€è¿”æ—¶é—´ã€‚</li>
<li>typeï¼šå­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œè¡¨ç¤ºç½‘ç»œè¿æ¥æŠ€æœ¯ï¼Œå¯èƒ½ä¸ºä¸‹åˆ—å€¼ï¼š<ul>
<li>bluetooth</li>
<li>cellular</li>
<li>ethernet</li>
<li>none</li>
<li>mixed</li>
<li>other</li>
<li>unknown</li>
<li>wifi</li>
<li>wimax</li>
</ul>
</li>
<li>saveDataï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºç”¨æˆ·è®¾å¤‡æ˜¯å¦å¯ç”¨äº†èŠ‚æµæ¨¡å¼ã€‚</li>
<li>onchangeï¼šäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¼šåœ¨ä»»ä½•è¿æ¥çŠ¶æ€å˜åŒ–æ—¶æ¿€å‘ä¸€ä¸ª change äº‹ä»¶ã€‚</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 04</title>
    <url>/2020/11/04/xue-xi-bi-ji-2020-11-04/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-04"><a href="#å­¦ä¹ ç¬”è®°-2020-11-04" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-04"></a>å­¦ä¹ ç¬”è®° 2020-11-04</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å®¢æˆ·ç«¯æ£€æµ‹"><a href="#å®¢æˆ·ç«¯æ£€æµ‹" class="headerlink" title="å®¢æˆ·ç«¯æ£€æµ‹"></a>å®¢æˆ·ç«¯æ£€æµ‹</h3><h4 id="ç”¨æˆ·ä»£ç†æ£€æµ‹"><a href="#ç”¨æˆ·ä»£ç†æ£€æµ‹" class="headerlink" title="ç”¨æˆ·ä»£ç†æ£€æµ‹"></a>ç”¨æˆ·ä»£ç†æ£€æµ‹</h4><p>ç”¨æˆ·ä»£ç†æ£€æµ‹é€šè¿‡æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ç¡®å®šä½¿ç”¨çš„æ˜¯ä»€ä¹ˆæµè§ˆå™¨ã€‚ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²åŒ…å«åœ¨æ¯ä¸ª HTTP è¯·æ±‚çš„å¤´éƒ¨ï¼Œåœ¨ JS ä¸­å¯ä»¥é€šè¿‡ <code>navigator.userAgent</code> è®¿é—®ã€‚</p>
<ul>
<li><code>Firefox</code> æ ¸å¿ƒæ˜¯ <code>Gecko</code></li>
<li><code>IE</code> æ ¸å¿ƒæ˜¯ <code>Trident</code></li>
<li><code>Safari</code> æ ¸å¿ƒæ˜¯ <code>WebKit</code></li>
<li><code>Chrome</code> æ ¸å¿ƒæ˜¯ <code>Blink</code></li>
<li><code>Opera</code> æ ¸å¿ƒæ˜¯ <code>Presto</code></li>
</ul>
<h4 id="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"><a href="#è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹" class="headerlink" title="è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹"></a>è½¯ä»¶ä¸ç¡¬ä»¶æ£€æµ‹</h4><h5 id="è¯†åˆ«æµè§ˆå™¨ä¸æ“ä½œç³»ç»Ÿ"><a href="#è¯†åˆ«æµè§ˆå™¨ä¸æ“ä½œç³»ç»Ÿ" class="headerlink" title="è¯†åˆ«æµè§ˆå™¨ä¸æ“ä½œç³»ç»Ÿ"></a>è¯†åˆ«æµè§ˆå™¨ä¸æ“ä½œç³»ç»Ÿ</h5><ol>
<li><p><code>navigator.oscpu</code></p>
<p>å¯¹åº”ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ä¸­æ“ä½œç³»ç»Ÿ/ç³»ç»Ÿæ¶æ„ç›¸å…³ä¿¡æ¯ã€‚</p>
</li>
<li><p><code>navigator.vendor</code></p>
<p>åŒ…å«æµè§ˆå™¨å¼€å‘å•†ä¿¡æ¯ã€‚</p>
</li>
<li><p><code>navigator.platform</code></p>
<p>è¡¨ç¤ºæµè§ˆå™¨æ‰€åœ¨çš„æ“ä½œç³»ç»Ÿã€‚</p>
</li>
<li><p><code>screen.colorDepth</code> å’Œ <code>screen.pixelDepth</code></p>
<p>è¿”å›ä¸€æ ·çš„å€¼ï¼Œå³æ˜¾ç¤ºå™¨æ¯åƒç´ é¢œè‰²çš„ä½æ·±ï¼Œä¸åŒ…å« alpha é€šé“ã€‚</p>
</li>
<li><p><code>screen.orientation</code></p>
<p>è¿”å›ä¸€ä¸ª <code>ScreenOrientation</code> å¯¹è±¡ï¼ŒåŒ…å« <code>Screen Orientation API</code> å®šä¹‰çš„å±å¹•ä¿¡æ¯ã€‚</p>
</li>
</ol>
<h5 id="æµè§ˆå™¨å…ƒæ•°æ®"><a href="#æµè§ˆå™¨å…ƒæ•°æ®" class="headerlink" title="æµè§ˆå™¨å…ƒæ•°æ®"></a>æµè§ˆå™¨å…ƒæ•°æ®</h5><ol>
<li><p>Geolocation API</p>
<p>å¯ä»¥è®©æµè§ˆå™¨è„šæœ¬æ„ŸçŸ¥å½“å‰è®¾å¤‡çš„åœ°ç†ä½ç½®ã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å¯è¿­ä»£å¯¹è±¡"><a href="#å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="å¯è¿­ä»£å¯¹è±¡"></a>å¯è¿­ä»£å¯¹è±¡</h3><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a><code>Array.from</code></h4><p>è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå¿…é€‰çš„å¯è¿­ä»£å¯¹è±¡æˆ–ç±»æ•°ç»„å¯¹è±¡ï¼Œæ¥æ”¶ä¸¤ä¸ªå¯é€‰çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ˜ å°„å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯æ˜ å°„å‡½æ•°çš„ <code>this</code> å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  to<span class="token punctuation">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
range<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    current<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">,</span>
    last<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> num <span class="token operator">=</span><span class="token operator">></span> num <span class="token operator">*</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 4, 9, 16, 25];</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">slice</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ğ’³ğŸ˜‚ğ©·¶'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">slice</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ğŸ˜‚ğ©·¶</span>

<span class="token comment" spellcheck="true">// åŸç”Ÿæ–¹æ³•ä¸æ”¯æŒè¯†åˆ«ä»£ç†å¯¹ï¼ˆè¯‘æ³¨ï¼šUTF-16 æ‰©å±•å­—ç¬¦ï¼‰</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ä¹±ç ï¼ˆä¸¤ä¸ªä¸åŒ UTF-16 æ‰©å±•å­—ç¬¦ç¢ç‰‡æ‹¼æ¥çš„ç»“æœï¼‰</span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 03</title>
    <url>/2020/11/03/xue-xi-bi-ji-2020-11-03/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-03"><a href="#å­¦ä¹ ç¬”è®°-2020-11-03" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-03"></a>å­¦ä¹ ç¬”è®° 2020-11-03</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h3><h4 id="navigator-å¯¹è±¡"><a href="#navigator-å¯¹è±¡" class="headerlink" title="navigator å¯¹è±¡"></a>navigator å¯¹è±¡</h4><p>å·²ç»æˆä¸ºå®¢æˆ·ç«¯æ ‡è¯†æµè§ˆå™¨çš„æ ‡å‡†ã€‚åªè¦æµè§ˆå™¨å¯ç”¨ JavaScriptï¼Œ navigator å¯¹è±¡å°±ä¸€å®šå­˜åœ¨ã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§/æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>activeVrDisplays</code></td>
<td>è¿”å›æ•°ç»„ï¼ŒåŒ…å« ispresenting å±æ€§ä¸º true çš„VRDisplay å®ä¾‹ã€‚</td>
</tr>
<tr>
<td><code>appCodeName</code></td>
<td>å³ä½¿åœ¨é Mozilla æµè§ˆå™¨ä¸­ä¹Ÿä¼šè¿”å› Mozilla ã€‚</td>
</tr>
<tr>
<td><code>appName</code></td>
<td>æµè§ˆå™¨å…¨åã€‚</td>
</tr>
<tr>
<td><code>appVersion</code></td>
<td>æµè§ˆå™¨ç‰ˆæœ¬ã€‚é€šå¸¸ä¸å®é™…çš„æµè§ˆå™¨ç‰ˆæœ¬ä¸ä¸€è‡´ã€‚</td>
</tr>
<tr>
<td><code>battery</code></td>
<td>è¿”å›æš´éœ² Battery Status API çš„ BatteryManager å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>buildId</code></td>
<td>æµè§ˆå™¨çš„æ„å»ºç¼–å·ã€‚</td>
</tr>
<tr>
<td><code>connection</code></td>
<td>è¿”å›æš´éœ² Network Information API çš„ NetworkInformation å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>cookieEnabled</code></td>
<td>è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å¯ç”¨äº† cookie ã€‚</td>
</tr>
<tr>
<td><code>credentials</code></td>
<td>è¿”å›æš´éœ² Credentials Management API çš„ CredentialsContainer å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>deviceMemory</code></td>
<td>è¿”å›å•ä½ä¸º GB çš„è®¾å¤‡å†…å­˜å®¹é‡ã€‚</td>
</tr>
<tr>
<td><code>doNotTrack</code></td>
<td>è¿”å›ç”¨æˆ·çš„ ä¸è·Ÿè¸ª è®¾ç½®ã€‚</td>
</tr>
<tr>
<td><code>gelocation</code></td>
<td>è¿”å›æš´éœ² Geolocation API çš„ Geolocation å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>getVRDisplays()</code></td>
<td>è¿”å›æ•°ç»„ï¼ŒåŒ…å«å¯ç”¨çš„æ¯ä¸ª VRDisplay å®ä¾‹ã€‚</td>
</tr>
<tr>
<td><code>getUserMedia()</code></td>
<td>è¿”å›ä¸å¯ç”¨åª’ä½“è®¾å¤‡ç¡¬ä»¶å…³è”çš„æµã€‚</td>
</tr>
<tr>
<td><code>hardwareConcurrency</code></td>
<td>è¿”å›è®¾å¤‡çš„å¤„ç†å™¨æ ¸å¿ƒæ•°é‡ã€‚</td>
</tr>
<tr>
<td><code>javaEnabled</code></td>
<td>è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦å¯ç”¨äº† Java ã€‚</td>
</tr>
<tr>
<td><code>language</code></td>
<td>è¿”å›æµè§ˆå™¨çš„ä¸»è¯­è¨€ã€‚</td>
</tr>
<tr>
<td><code>languages</code></td>
<td>è¿”å›æµè§ˆå™¨åå¥½çš„è¯­è¨€æ•°ç»„ã€‚</td>
</tr>
<tr>
<td><code>locks</code></td>
<td>è¿”å›æš´éœ² Web Locks API çš„ LockManager å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>mediaCapabilities</code></td>
<td>è¿”å›æš´éœ² Media Capabilities API çš„ MediaCapabilities å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>mediaDevices</code></td>
<td>è¿”å›å¯ç”¨çš„åª’ä½“è®¾å¤‡ã€‚</td>
</tr>
<tr>
<td><code>maxTouchPoints</code></td>
<td>è¿”å›è®¾å¤‡è§¦æ‘¸å±æ”¯æŒçš„æœ€å¤§è§¦ç‚¹æ•°ã€‚</td>
</tr>
<tr>
<td><code>mimeTypes</code></td>
<td>è¿”å›æµè§ˆå™¨ä¸­æ³¨å†Œçš„ MIME ç±»å‹æ•°ç»„ã€‚</td>
</tr>
<tr>
<td><code>onLine</code></td>
<td>è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦è”ç½‘ã€‚</td>
</tr>
<tr>
<td><code>oscpu</code></td>
<td>è¿”å›æµè§ˆå™¨è¿è¡Œè®¾å¤‡çš„æ“ä½œç³»ç»Ÿå’Œ CPU ã€‚</td>
</tr>
<tr>
<td><code>permissions</code></td>
<td>è¿”å›æš´éœ² Permissions API çš„ Persimissions å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>platform</code></td>
<td>æŠ±å›æµè§ˆå™¨è¿è¡Œçš„ç³»ç»Ÿå¹³å°ã€‚</td>
</tr>
<tr>
<td><code>plugins</code></td>
<td>è¿”å›æµè§ˆå™¨å®‰è£…çš„æ’ä»¶æ•°ç»„ã€‚åœ¨ IE ä¸­ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«é¡µé¢ä¸­æ‰€æœ‰ <code>&lt;embed&gt;</code> å…ƒç´ ã€‚</td>
</tr>
<tr>
<td><code>product</code></td>
<td>è¿”å›äº§å“åç§°ã€‚</td>
</tr>
<tr>
<td><code>productSub</code></td>
<td>è¿”å›äº§å“çš„é¢å¤–ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td><code>registerProtocolHandler()</code></td>
<td>å°†ä¸€ä¸ªç½‘ç«™æ³¨å†Œä¸ºç‰¹å®šåè®®çš„å¤„ç†ç¨‹åºã€‚</td>
</tr>
<tr>
<td><code>requestMediaKeySystemAccess()</code></td>
<td>è¿”å›ä¸€ä¸ªæœŸçº¦ï¼Œè§£å†³ä¸º MediaKeySystemAccess å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>sendBeacon()</code></td>
<td>å¼‚æ­¥ä¼ è¾“ä¸€äº›å°æ•°æ®ã€‚</td>
</tr>
<tr>
<td><code>serviceWorker</code></td>
<td>è¿”å›ç”¨æ¥ä¸ ServiceWorker å®ä¾‹äº¤äº’çš„ ServiceWorkerContainer ã€‚</td>
</tr>
<tr>
<td><code>share()</code></td>
<td>è¿”å›å½“å‰å¹³å°çš„åŸç”Ÿå…±äº«æœºåˆ¶ã€‚</td>
</tr>
<tr>
<td><code>storage</code></td>
<td>è¿”å›æš´éœ² Storage API çš„ StorageManager å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td><code>userAgent</code></td>
<td>è¿”å›æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td><code>vendor</code></td>
<td>è¿”å›æµè§ˆå™¨çš„å‚å•†åç§°ã€‚</td>
</tr>
<tr>
<td><code>vendorSub</code></td>
<td>è¿”å›æµè§ˆå™¨å‚å•†çš„æ›´å¤šä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td><code>vibrate()</code></td>
<td>è§¦å‘è®¾å¤‡æŒ¯åŠ¨ã€‚</td>
</tr>
<tr>
<td><code>webdriver</code></td>
<td>è¿”å›æµè§ˆå™¨å½“å‰æ˜¯å¦è¢«è‡ªåŠ¨åŒ–ç¨‹åºæ§åˆ¶ã€‚</td>
</tr>
</tbody></table>
<ol>
<li><p>æ£€æµ‹æ’ä»¶</p>
<p>é™¤ IE10 åŠæ›´ä½ç‰ˆæœ¬å¤–çš„æµè§ˆå™¨ï¼Œéƒ½å¯ä»¥é€šè¿‡ plugins æ•°ç»„æ¥æ£€æµ‹æµè§ˆå™¨æ˜¯å¦å®‰è£…äº†æŸä¸ªæ’ä»¶ã€‚è¿™ä¸ªæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½åŒ…å«ï¼š</p>
<ul>
<li>nameï¼šæ’ä»¶åç§°ã€‚</li>
<li>descriptionï¼šæ’ä»¶ä»‹ç»ã€‚</li>
<li>filenameï¼šæ’ä»¶çš„æ–‡ä»¶åã€‚</li>
<li>lengthï¼šç”±å½“å‰æ’ä»¶å¤„ç†çš„ MIME ç±»å‹æ•°é‡ã€‚</li>
</ul>
<p>æ—§ç‰ˆæœ¬ IE ä¸­æ£€æµ‹æ’ä»¶ä½¿ç”¨ <code>ActiveXObject</code> ã€‚</p>
</li>
<li><p>æ³¨å†Œå¤„ç†ç¨‹åº</p>
<p>ç°ä»£æµè§ˆå™¨æ”¯æŒ navigator ä¸Šçš„ <code>registerProtocolHandler()</code> æ–¹æ³•ã€‚å¯ä»¥æŠŠä¸€ä¸ªç½‘ç«™æ³¨å†Œä¸ºå¤„ç†æŸç§ç‰¹å®šç±»å‹ä¿¡æ¯ç”¨ç”¨ç¨‹åºã€‚æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œè¦å¤„ç†çš„åè®®ã€å¤„ç†è¯¥åè®®çš„ URL ã€ä»¥åŠåº”ç”¨åç§°ã€‚</p>
<pre class=" language-js"><code class="language-js">navigator<span class="token punctuation">.</span><span class="token function">registerProtocolHandler</span><span class="token punctuation">(</span>
  <span class="token string">'mailto'</span><span class="token punctuation">,</span>
  <span class="token string">'http://www.somemailclient.com?cmd=%s'</span><span class="token punctuation">,</span>
  <span class="token string">'Some Mail Client'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="screen-å¯¹è±¡"><a href="#screen-å¯¹è±¡" class="headerlink" title="screen å¯¹è±¡"></a>screen å¯¹è±¡</h4><p>è¿™ä¸ªå¯¹è±¡ä¸­ä¿å­˜çš„æ˜¯å®¢æˆ·ç«¯èƒ½åŠ›ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨çª—å£å¤–é¢çš„å®¢æˆ·ç«¯æ˜¾ç¤ºå™¨çš„ä¿¡æ¯ã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>availHeight</code></td>
<td>å±å¹•åƒç´ é«˜åº¦å‡å»ç³»ç»Ÿç»„ä»¶é«˜åº¦( åªè¯» )</td>
</tr>
<tr>
<td><code>availLeft</code></td>
<td>æ²¡æœ‰è¢«ç³»ç»Ÿç»„ä»¶å ç”¨çš„å±å¹•çš„æœ€å·¦ä¾§åƒç´  ( åªè¯» )</td>
</tr>
<tr>
<td><code>availTop</code></td>
<td>æ²¡æœ‰è¢«ç³»ç»Ÿç»„ä»¶å ç”¨çš„å±å¹•çš„æœ€é¡¶ç«¯åƒç´  ( åªè¯» )</td>
</tr>
<tr>
<td><code>availWidth</code></td>
<td>å±å¹•åƒç´ å®½åº¦å‡å»ç³»ç»Ÿç»„ä»¶å®½åº¦  ( åªè¯» )</td>
</tr>
<tr>
<td><code>colorDepth</code></td>
<td>è¡¨ç¤ºå±å¹•é¢œè‰²çš„ä½æ•°ï¼›å¤šæ•°ç³»ç»Ÿæ˜¯ 32 ( åªè¯» )</td>
</tr>
<tr>
<td><code>height</code></td>
<td>å±å¹•åƒç´ é«˜åº¦ã€‚</td>
</tr>
<tr>
<td><code>left</code></td>
<td>å½“å‰å±å¹•å·¦è¾¹çš„åƒç´ è·ç¦»ã€‚</td>
</tr>
<tr>
<td><code>pixelDepth</code></td>
<td>å±å¹•çš„ä½æ·± ( åªè¯» )</td>
</tr>
<tr>
<td><code>top</code></td>
<td>å½“å‰å±å¹•é¡¶ç«¯çš„åƒç´ è·ç¦»ã€‚</td>
</tr>
<tr>
<td><code>width</code></td>
<td>å±å¹•åƒç´ å®½åº¦ã€‚</td>
</tr>
<tr>
<td><code>orientation</code></td>
<td>è¿”å› Screen Orientation API ä¸­å±å¹•çš„æœå‘ã€‚</td>
</tr>
</tbody></table>
<h4 id="history-å¯¹è±¡"><a href="#history-å¯¹è±¡" class="headerlink" title="history å¯¹è±¡"></a>history å¯¹è±¡</h4><p>history å¯¹è±¡è¡¨ç¤ºå½“å‰çª—å£é¦–æ¬¡ä½¿ç”¨ä»¥æ¥ç”¨æˆ·çš„å¯¼èˆªå†å²è®°å½•ã€‚å› ä¸º history æ˜¯ window çš„å±æ€§ï¼Œæ‰€ä»¥æ¯ä¸ª window éƒ½æœ‰è‡ªå·±çš„ history å¯¹è±¡ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè¿™ä¸ªå¯¹è±¡ä¸ä¼šæš´éœ²ç”¨æˆ·è®¿é—®è¿‡çš„ URLï¼Œä½†å¯ä»¥é€šè¿‡å®ƒåœ¨ä¸çŸ¥é“å®é™… URL çš„æƒ…å†µä¸‹å‰è¿›å’Œåé€€ã€‚</p>
<ol>
<li><p>å¯¼èˆª</p>
<p><code>go()</code> æ–¹æ³•å¯ä»¥åœ¨ç”¨æˆ·å†å²è®°å½•ä¸­æ²¿ä»»ä½•æ–¹å‘å¯¼èˆªï¼Œå¯ä»¥å‰è¿›ä¹Ÿå¯ä»¥åé€€ã€‚è¿™ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå‰è¿›æˆ–åé€€å¤šå°‘æ­¥ã€‚</p>
<p>åœ¨æ—§ç‰ˆæœ¬çš„ä¸€äº›æµè§ˆå™¨ä¸­ï¼Œ<code>go()</code> æ–¹æ³•çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨ä¼šå¯¼èˆªåˆ°å†å²ä¸­åŒ…å«è¯¥å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®æˆ–ä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<p><code>go()</code> æœ‰ä¸¤ä¸ªç®€å†™æ–¹æ³•ï¼š<code>back()</code> å’Œ <code>forward()</code> ã€‚</p>
<p><code>history</code> å¯¹è±¡è¿˜æœ‰ä¸€ä¸ª <code>length</code> å±æ€§ï¼Œè¡¨ç¤ºå†å²è®°å½•ä¸­æœ‰å¤šä¸ªæ¡ç›®ã€‚</p>
</li>
<li><p>å†å²çŠ¶æ€ç®¡ç†</p>
<p><code>hashchange</code> ä¼šåœ¨é¡µé¢ URL çš„æ•£åˆ—å˜åŒ–æ—¶è¢«è§¦å‘ï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ­¤æ—¶æ‰§è¡ŒæŸäº›æ“ä½œã€‚çŠ¶æ€ç®¡ç† API å¯ä»¥è®©å¼€å‘è€…æ”¹å˜æµè§ˆå™¨ URL è€Œä¸ä¼šåŠ è½½æ–°é¡µé¢ã€‚å¯ä»¥ä½¿ç”¨ <code>history.pushState()</code> æ–¹æ³•ã€‚æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œä¸€ä¸ª state å¯¹è±¡ï¼Œä¸€ä¸ªæ–°çŠ¶æ€ çš„æ ‡é¢˜å’Œä¸€ä¸ªå¯é€‰çš„ç›¸å¯¹ URL ã€‚</p>
<p><code>pushState</code> æ–¹æ³•æ‰§è¡Œåï¼ŒçŠ¶æ€ä¿¡æ¯å°±ä¼šè¢«æ¨åˆ°å†å²è®°å½•ä¸­ï¼Œæµè§ˆå™¨åœ°å€æ ä¹Ÿä¼šæ”¹å˜ä»¥åæ˜ æ–°çš„ç›¸å¯¹ URL ã€‚æµè§ˆå™¨é¡µä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚æ­¤æ—¶å•å‡»åé€€æŒ‰é’®ï¼Œå°±ä¼šè§¦å‘ window å¯¹è±¡ä¸Šçš„ popstate äº‹ä»¶ã€‚popstate äº‹ä»¶çš„äº‹ä»¶å¯¹è±¡æœ‰ä¸€ä¸ª state å±æ€§ï¼ŒåŒ…å«é€šè¿‡ pushState ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„ state å¯¹è±¡ã€‚</p>
<p>åŸºäºè¿™ä¸ªçŠ¶æ€ï¼Œåº”è¯¥æŠŠé¡µé¢é‡ç½®ä¸ºçŠ¶æ€å¯¹è±¡æ‰€è¡¨ç¤ºçš„çŠ¶æ€ã€‚æµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨åšè¿™ä»¶äº‹ã€‚é¡µé¢åˆæ¬¡åŠ è½½æ—¶æ²¡æœ‰çŠ¶æ€ã€‚</p>
<p>å¯ä»¥é€šè¿‡ <code>history.state</code> è·å–å½“å‰çš„çŠ¶æ€å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>replaceState()</code> å¹¶ä¼ å…¥ä¸ <code>pushState()</code> åŒæ ·çš„å‰ä¸¤ä¸ªå‚æ•°æ¥æ›´æ–°çŠ¶æ€ã€‚æ­¤æ—¶åªä¼šè¦†ç›–å½“å‰çŠ¶æ€ã€‚</p>
<p>ä¼ ç»™ <code>pushState()</code> å’Œ <code>replaceState()</code> çš„ state å¯¹è±¡åº”è¯¥åªåŒ…å«å¯è¢«åºåˆ—åŒ–çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œ DOM å…ƒç´ ä¹‹ç±»å¹¶ä¸é€‚åˆæ”¾åˆ°çŠ¶æ€å¯¹è±¡é‡Œä¿å­˜ã€‚</p>
</li>
</ol>
<h4 id="å®¢æˆ·ç«¯æ£€æµ‹"><a href="#å®¢æˆ·ç«¯æ£€æµ‹" class="headerlink" title="å®¢æˆ·ç«¯æ£€æµ‹"></a>å®¢æˆ·ç«¯æ£€æµ‹</h4><p>å› ä¸ºæµè§ˆå™¨å®ç°ä¸ä¸€ï¼Œæ‰€ä»¥ Web å¼€å‘è€…éœ€è¦é¢å¯¹è·¨å¹³å°æµè§ˆå™¨å¼€å‘çš„ç»Ÿä¸€æ€§é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨å„ç§æ–¹æ³•æ¥æ£€æµ‹å®¢æˆ·ç«¯ï¼Œä»¥å®ç°åŠŸèƒ½ã€‚</p>
<h5 id="èƒ½åŠ›æ£€æµ‹"><a href="#èƒ½åŠ›æ£€æµ‹" class="headerlink" title="èƒ½åŠ›æ£€æµ‹"></a>èƒ½åŠ›æ£€æµ‹</h5><p>èƒ½åŠ›æ£€æµ‹æŒ‡åœ¨ JS è¿è¡Œæ—¶ä½¿ç”¨ä¸€å¥—ç®€å•çš„é€»è¾‘æ£€æµ‹ï¼Œæµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸç§ç‰¹æ€§ã€‚åªéœ€è¦æ£€æµ‹è‡ªå·±å…³å¿ƒçš„èƒ½åŠ›æ˜¯å¦å­˜åœ¨å³å¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ IE5 ä¹‹å‰çš„ç‰ˆæœ¬æ²¡æœ‰ <code>document.getElementById()</code> è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>document.all</code> å±æ€§å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getElement</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>getElementById<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>all<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> document<span class="token punctuation">.</span>all<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'No way to retrieve element!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<ol>
<li><p>å®‰å…¨èƒ½åŠ›æ£€æµ‹</p>
<p>èƒ½åŠ›æ£€æµ‹æœ€æœ‰æ•ˆçš„åœºæ™¯æ˜¯æ£€æµ‹èƒ½åŠ›æ˜¯å¦å­˜åœ¨çš„åŒæ—¶ï¼ŒéªŒè¯å…¶æ˜¯å¦èƒ½å¤Ÿå±•ç°å‡ºé¢„æœŸçš„è¡Œä¸ºã€‚</p>
<p>æ¯”å¦‚æƒ³è¦æ£€æµ‹ <code>sort</code> æ–¹æ³•ï¼Œä¸ä»…ä»…æ˜¯æ£€æµ‹è¿™ä¸ªæ–¹æ³•æ˜¯å¦å­˜åœ¨ï¼Œè€Œæ˜¯è¦æ£€æµ‹è¿™ä¸ªå±æ€§æ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
</li>
<li><p>åŸºäºèƒ½åŠ›æ£€æµ‹è¿›è¡Œæµè§ˆå™¨åˆ†æ</p>
<p>æ°å½“åœ°ä½¿ç”¨èƒ½åŠ›æ£€æµ‹å¯ä»¥ç²¾å‡†åœ°åˆ†æè¿è¡Œä»£ç çš„æµè§ˆå™¨ã€‚ä½¿ç”¨èƒ½åŠ›æ£€æµ‹è€Œéç”¨æˆ·ä»£ç†æ£€æµ‹çš„ä¼˜ç‚¹åœ¨äºï¼Œä¼ªé€ ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²å¾ˆç®€å•ï¼Œè€Œä¼ªé€ èƒ½å¤Ÿæ¬ºéª—èƒ½åŠ›æ£€æµ‹çš„æµè§ˆå™¨ç‰¹æ€§å´å¾ˆéš¾ã€‚</p>
<ul>
<li><p>æ£€æµ‹ç‰¹æ€§</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ Netscape å¼çš„æ’ä»¶</span>
<span class="token keyword">let</span> hasNSPlugins <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>plugins <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ£€æµ‹æµè§ˆå™¨æ˜¯å¦å…·æœ‰ DOM Level 1 èƒ½åŠ›</span>
<span class="token keyword">let</span> hasDOM1 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>
  document<span class="token punctuation">.</span>getElementById <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span>createElement <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span>getElementsByTagName
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ£€æµ‹æµè§ˆå™¨</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">BrowserDetector</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯•æ¡ä»¶ç¼–è¯‘</span>
    <span class="token comment" spellcheck="true">// IE6~10 æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isIE_Gte6Lte10 <span class="token operator">=</span> <span class="token comment" spellcheck="true">/*@cc_on!@*/</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯• documentMode</span>
    <span class="token comment" spellcheck="true">// IE7~11 æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isIE_Gte7Lte11 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>document<span class="token punctuation">.</span>documentMode<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯• StyleMedia æ„é€ å‡½æ•°</span>
    <span class="token comment" spellcheck="true">// Edge 20 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEdge_Gte20 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>StyleMedia<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯• Firefox ä¸“æœ‰æ‰©å±•å®‰è£… API</span>
    <span class="token comment" spellcheck="true">// æ‰€æœ‰ç‰ˆæœ¬çš„ Firefox éƒ½æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isFirefox_Gte1 <span class="token operator">=</span> <span class="token keyword">typeof</span> InstallTrigger <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯• chrome å¯¹è±¡åŠå…¶ webstore å±æ€§</span>
    <span class="token comment" spellcheck="true">// Opera çš„æŸäº›ç‰ˆæœ¬æœ‰ window.chromeï¼Œä½†æ²¡æœ‰ window.chrome.webstore</span>
    <span class="token comment" spellcheck="true">// æ‰€æœ‰ç‰ˆæœ¬çš„ Chrome éƒ½æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isChrome_Gte1 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>chrome <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>webstore<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Safari æ—©æœŸç‰ˆæœ¬ä¼šç»™æ„é€ å‡½æ•°çš„æ ‡ç­¾ç¬¦è¿½åŠ "Constructor"å­—æ ·ï¼Œå¦‚ï¼š</span>
    <span class="token comment" spellcheck="true">// window.Element.toString(); // [object ElementConstructor]</span>
    <span class="token comment" spellcheck="true">// Safari 3~9.1 æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isSafari_Gte3Lte9_1 <span class="token operator">=</span> <span class="token regex">/constructor/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>Element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æ¨é€é€šçŸ¥ API æš´éœ²åœ¨ window å¯¹è±¡ä¸Š</span>
    <span class="token comment" spellcheck="true">// ä½¿ç”¨é»˜è®¤å‚æ•°å€¼ä»¥é¿å…å¯¹ undefined è°ƒç”¨ toString()</span>
    <span class="token comment" spellcheck="true">// Safari 7.1 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isSafari_Gte7_1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pushNotification <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>
      pushNotification<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[object SafariRemoteNotification]'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>safari<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// æµ‹è¯• addons å±æ€§</span>
    <span class="token comment" spellcheck="true">// Opera 20 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isOpera_Gte20 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>opr <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>opr<span class="token punctuation">.</span>addons<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isIE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isIE_Gte6Lte10 <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isIE_Gte7Lte11<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isEdge_Gte20 <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isIE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isFirefox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isFirefox_Gte1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isChrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isChrome_Gte1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isSafari</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isSafari_Gte3Lte9_1 <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isSafari_Gte7_1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isOpera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isOpera_Gte20<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>è¿™ä¸ªç±»æš´éœ²çš„é€šç”¨æµè§ˆå™¨æ£€æµ‹æ–¹æ³•ä½¿ç”¨äº†æ£€æµ‹æµè§ˆå™¨èŒƒå›´çš„èƒ½åŠ›æµ‹è¯•ã€‚éšç€æµè§ˆå™¨çš„å˜è¿åŠå‘å±•ï¼Œå¯ä»¥ä¸æ–­è°ƒæ•´åº•å±‚æ£€æµ‹é€»è¾‘ï¼Œä½†ä¸»è¦çš„ API å¯ä»¥ä¿æŒä¸å˜ã€‚</p>
</li>
<li><p>èƒ½åŠ›æ£€æµ‹çš„å±€é™</p>
<p>é€šè¿‡æ£€æµ‹ä¸€ç§æˆ–ä¸€ç»„èƒ½åŠ›ï¼Œå¹¶ä¸æ€»èƒ½ç¡®å®šä½¿ç”¨çš„æ˜¯å“ªç§æµè§ˆå™¨ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>å°† border-left-width è½¬æ¢æˆ borderLeftWidth</p>
<p>ç¼–å†™å‡½æ•° <code>camelize(str)</code> å°†è¯¸å¦‚ â€œmy-short-stringâ€ ä¹‹ç±»çš„ç”±çŸ­åˆ’çº¿åˆ†éš”çš„å•è¯å˜æˆéª†é©¼å¼çš„ â€œmyShortStringâ€ã€‚</p>
<p>å³ï¼šåˆ é™¤æ‰€æœ‰çŸ­æ¨ªçº¿ï¼Œå¹¶å°†çŸ­æ¨ªçº¿åçš„æ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å˜ä¸ºå¤§å†™ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"background-color"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'backgroundColor'</span><span class="token punctuation">;</span>
<span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"list-style-image"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'listStyleImage'</span><span class="token punctuation">;</span>
<span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">"-webkit-transition"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'WebkitTransition'</span><span class="token punctuation">;</span></code></pre>
<p>æç¤ºï¼šä½¿ç”¨ <code>split</code> å°†å­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ï¼Œå¯¹å…¶è¿›è¡Œè½¬æ¢ä¹‹åå† <code>join</code> å›æ¥ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">camelize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¿‡æ»¤èŒƒå›´</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>filterRange(arr, a, b)</code>ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªæ•°ç»„ <code>arr</code>ï¼Œåœ¨å…¶ä¸­æŸ¥æ‰¾æ•°å€¼å¤§å°åœ¨ <code>a</code> å’Œ <code>b</code> ä¹‹é—´çš„å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ã€‚</p>
<p>è¯¥å‡½æ•°ä¸åº”è¯¥ä¿®æ”¹åŸæ•°ç»„ã€‚å®ƒåº”è¯¥è¿”å›æ–°çš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> filtered <span class="token operator">=</span> <span class="token function">filterRange</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> filtered <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3,1ï¼ˆåŒ¹é…å€¼ï¼‰</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5,3,8,1ï¼ˆæœªä¿®æ”¹ï¼‰</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">filterRange</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">&lt;=</span> b <span class="token operator">&amp;&amp;</span> item <span class="token operator">>=</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åŸä½ ( in place ) è¿‡æ»¤èŒƒå›´</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>filterRangeInPlace(arr, a, b)</code>ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªæ•°ç»„ <code>arr</code>ï¼Œå¹¶åˆ é™¤å…¶ä¸­ä»‹äº <code>a</code> å’Œ <code>b</code> åŒºé—´ä»¥å¤–çš„æ‰€æœ‰å€¼ã€‚æ£€æŸ¥ï¼š<code>a â‰¤ arr[i] â‰¤ b</code>ã€‚</p>
<p>è¯¥å‡½æ•°åº”è¯¥åªä¿®æ”¹æ•°ç»„ã€‚å®ƒä¸åº”è¯¥è¿”å›ä»»ä½•ä¸œè¥¿ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">filterRangeInPlace</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ é™¤äº†èŒƒå›´åœ¨ 1 åˆ° 4 ä¹‹å¤–çš„æ‰€æœ‰å€¼</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3, 1]</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">filterRangeInPlace</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">></span> b <span class="token operator">||</span> item <span class="token operator">&lt;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>é™åºæ’åˆ—</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// â€¦â€¦ä½ çš„ä»£ç ä»¥é™åºå¯¹å…¶è¿›è¡Œæ’åº</span>

<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8, 5, 2, 1, -10</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8, 5, 2, 1, -10</span></code></pre>
</li>
<li><p>å¤åˆ¶å’Œæ’åºæ•°ç»„</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ <code>arr</code>ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªæ’åºè¿‡çš„å‰¯æœ¬ï¼Œä½†ä¿æŒ <code>arr</code> ä¸å˜ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>copySorted(arr)</code> è¿”å›è¿™æ ·ä¸€ä¸ªå‰¯æœ¬ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"HTML"</span><span class="token punctuation">,</span> <span class="token string">"JavaScript"</span><span class="token punctuation">,</span> <span class="token string">"CSS"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> sorted <span class="token operator">=</span> <span class="token function">copySorted</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> sorted <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// CSS, HTML, JavaScript</span>
<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// HTML, JavaScript, CSS (no changes)</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">copySorted</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªå¯æ‰©å±•çš„ calculator</p>
<p>åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•° <code>Calculator</code>ï¼Œä»¥åˆ›å»ºâ€œå¯æ‰©å±•â€çš„ calculator å¯¹è±¡ã€‚</p>
<p>è¯¥ä»»åŠ¡ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚</p>
<ol>
<li><p>é¦–å…ˆï¼Œå®ç° <code>calculate(str)</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—åƒ <code>"1 + 2"</code> è¿™æ ·æ ¼å¼ä¸ºâ€œæ•°å­— è¿ç®—ç¬¦ æ•°å­—â€ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚è¯¥æ–¹æ³•éœ€è¦èƒ½å¤Ÿç†è§£åŠ å· <code>+</code> å’Œå‡å· <code>-</code>ã€‚</p>
<p>ç”¨æ³•ç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> calc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> calc<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token string">"3 + 7"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10</span></code></pre>
</li>
<li><p>ç„¶åæ·»åŠ æ–¹æ³• <code>addMethod(name, func)</code>ï¼Œè¯¥æ–¹æ³•æ•™ calculator è¿›è¡Œæ–°æ“ä½œã€‚å®ƒéœ€è¦è¿ç®—ç¬¦ <code>name</code> å’Œå®ç°å®ƒçš„åŒå‚æ•°å‡½æ•° <code>func(a,b)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ·»åŠ ä¹˜æ³• <code>*</code>ï¼Œé™¤æ³• <code>/</code> å’Œæ±‚å¹‚ <code>**</code>ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> powerCalc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">/</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
powerCalc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token string">"**"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">**</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> powerCalc<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token string">"2 ** 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> result <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span></code></pre>
</li>
</ol>
<ul>
<li>æ­¤ä»»åŠ¡ä¸­æ²¡æœ‰æ‹¬å·æˆ–å¤æ‚çš„è¡¨è¾¾å¼ã€‚</li>
<li>æ•°å­—å’Œè¿ç®—ç¬¦ä¹‹é—´åªæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</li>
<li>ä½ å¯ä»¥è‡ªè¡Œé€‰æ‹©æ˜¯å¦æ·»åŠ é”™è¯¯å¤„ç†åŠŸèƒ½ã€‚</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'+'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b<span class="token punctuation">,</span>
    <span class="token string">'-'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>calculate <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> op <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>method<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>addMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>method<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> func<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‚è€ƒè§£å†³æ–¹æ¡ˆ</span>
<span class="token keyword">function</span> <span class="token function">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>methods <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"-"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b<span class="token punctuation">,</span>
    <span class="token string">"+"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>calculate <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> split <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      a <span class="token operator">=</span> <span class="token operator">+</span>split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      op <span class="token operator">=</span> split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      b <span class="token operator">=</span> <span class="token operator">+</span>split<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>op<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>op<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>addMethod <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>methods<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> func<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ˜ å°„åˆ° names</p>
<p>ä½ æœ‰ä¸€ä¸ª <code>user</code> å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>user.name</code>ã€‚ç¼–å†™å°†å…¶è½¬æ¢ä¸º names æ•°ç»„çš„ä»£ç ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token comment" spellcheck="true">/* ... your code */</span>

<span class="token function">alert</span><span class="token punctuation">(</span> names <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// John, Pete, Mary</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> names <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ˜ å°„åˆ°å¯¹è±¡</p>
<p>ä½ æœ‰ä¸€ä¸ª <code>user</code> å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>name</code>ï¼Œ<code>surname</code> å’Œ <code>id</code>ã€‚</p>
<p>ç¼–å†™ä»£ç ä»¥è¯¥æ•°ç»„ä¸ºåŸºç¡€ï¼Œåˆ›å»ºå¦ä¸€ä¸ªå…·æœ‰ <code>id</code> å’Œ <code>fullName</code> çš„å¯¹è±¡æ•°ç»„ï¼Œå…¶ä¸­ <code>fullName</code> ç”± <code>name</code> å’Œ <code>surname</code> ç”Ÿæˆã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Smith"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Hunt"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> surname<span class="token punctuation">:</span> <span class="token string">"Key"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> usersMapped <span class="token operator">=</span> <span class="token comment" spellcheck="true">/* ... your code ... */</span>

<span class="token comment" spellcheck="true">/*
usersMapped = [
  { fullName: "John Smith", id: 1 },
  { fullName: "Pete Hunt", id: 2 },
  { fullName: "Mary Key", id: 3 }
]
*/</span>

<span class="token function">alert</span><span class="token punctuation">(</span> usersMapped<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>
<span class="token function">alert</span><span class="token punctuation">(</span> usersMapped<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fullName <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// John Smith</span></code></pre>
<p>æ‰€ä»¥ï¼Œå®é™…ä¸Šä½ éœ€è¦å°†ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ˜ å°„åˆ°å¦ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚åœ¨è¿™å„¿å°è¯•ä½¿ç”¨ç®­å¤´å‡½æ•° <code>=&gt;</code> æ¥ç¼–å†™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> usersMapped <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
  fullName<span class="token punctuation">:</span> item<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>surname
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æŒ‰å¹´é¾„å¯¹ç”¨æˆ·æ’åº</p>
<p>ç¼–å†™å‡½æ•° <code>sortByAge(users)</code> è·å¾—å¯¹è±¡æ•°ç»„çš„ <code>age</code> å±æ€§ï¼Œå¹¶æ ¹æ® <code>age</code> å¯¹è¿™äº›å¯¹è±¡æ•°ç»„è¿›è¡Œæ’åºã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> pete<span class="token punctuation">,</span> john<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">sortByAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// now: [john, mary, pete]</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// John</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Mary</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Pete</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sortByAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>éšæœºæ’åˆ—æ•°ç»„</p>
<p>ç¼–å†™å‡½æ•° <code>shuffle(array)</code> æ¥éšæœºæ’åˆ—æ•°ç»„çš„å…ƒç´ ã€‚</p>
<p>å¤šæ¬¡è¿è¡Œ <code>shuffle</code> å¯èƒ½å¯¼è‡´å…ƒç´ é¡ºåºçš„ä¸åŒã€‚ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [3, 2, 1]</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [2, 1, 3]</span>

<span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// arr = [3, 1, 2]</span>
<span class="token comment" spellcheck="true">// ...</span></code></pre>
<p>æ‰€æœ‰å…ƒç´ é¡ºåºåº”è¯¥å…·æœ‰ç›¸ç­‰çš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°† <code>[1,2,3]</code> é‡æ–°æ’åºä¸º <code>[1,2,3]</code> æˆ– <code>[1,3,2]</code> æˆ– <code>[3,1,2]</code> ç­‰ï¼Œæ¯ç§æƒ…å†µçš„æ¦‚ç‡ç›¸ç­‰ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è·å–å¹³å‡å¹´é¾„</p>
<p>ç¼–å†™ <code>getAverageAge(users)</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°è·å–ä¸€ä¸ªå…·æœ‰ <code>age</code> å±æ€§çš„å¯¹è±¡æ•°ç»„ï¼Œå¹¶è¿”å›å¹³å‡å¹´é¾„ã€‚</p>
<p>å¹³å‡å€¼çš„è®¡ç®—å…¬å¼æ˜¯ <code>(age1 + age2 + ... + ageN) / N</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pete <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Pete"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mary <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mary"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">29</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> john<span class="token punctuation">,</span> pete<span class="token punctuation">,</span> mary <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getAverageAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// (25 + 30 + 29) / 3 = 28</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getAverageAge</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> prev <span class="token operator">+</span> item<span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ•°ç»„å»é‡</p>
<p><code>arr</code> æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>unique(arr)</code>ï¼Œè¿”å›å»é™¤é‡å¤å…ƒç´ åçš„æ•°ç»„ <code>arr</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* your code */</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span>
  <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Krishna"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">"Hare"</span><span class="token punctuation">,</span> <span class="token string">":-O"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">unique</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hare, Krishna, :-O</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>ä»æ•°ç»„åˆ›å»ºé”® ( å€¼ ) å¯¹è±¡</p>
<p>å‡è®¾æˆ‘ä»¬æ”¶åˆ°äº†ä¸€ä¸ªç”¨æˆ·æ•°ç»„ï¼Œå½¢å¼ä¸ºï¼š<code>{id:..., name:..., age... }</code>ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>groupById(arr)</code> ä»è¯¥æ•°ç»„åˆ›å»ºå¯¹è±¡ï¼Œä»¥ <code>id</code> ä¸ºé”®ï¼ˆkeyï¼‰ï¼Œæ•°ç»„é¡¹ä¸ºå€¼ã€‚</p>
<p>ä¾‹å¦‚:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'john'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"John Smith"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'ann'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Ann Smith"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'pete'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Pete Peterson"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> usersById <span class="token operator">=</span> <span class="token function">groupById</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
// è°ƒç”¨å‡½æ•°åï¼Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°ï¼š

usersById = {
  john: {id: 'john', name: "John Smith", age: 20},
  ann: {id: 'ann', name: "Ann Smith", age: 24},
  pete: {id: 'pete', name: "Pete Peterson", age: 31},
}
*/</span></code></pre>
<p>å¤„ç†æœåŠ¡ç«¯æ•°æ®æ—¶ï¼Œè¿™ä¸ªå‡½æ•°å¾ˆæœ‰ç”¨ã€‚</p>
<p>åœ¨è¿™ä¸ªä»»åŠ¡é‡Œæˆ‘ä»¬å‡è®¾ <code>id</code> æ˜¯å”¯ä¸€çš„ã€‚æ²¡æœ‰ä¸¤ä¸ªå…·æœ‰ç›¸åŒ <code>id</code> çš„æ•°ç»„é¡¹ã€‚</p>
<p>è¯·åœ¨è§£å†³æ–¹æ¡ˆä¸­ä½¿ç”¨æ•°ç»„çš„ <code>.reduce</code> æ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">groupById</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> users<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 02</title>
    <url>/2020/11/02/xue-xi-bi-ji-2020-11-02/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-02"><a href="#å­¦ä¹ ç¬”è®°-2020-11-02" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-02"></a>å­¦ä¹ ç¬”è®° 2020-11-02</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h3><h4 id="window-å¯¹è±¡"><a href="#window-å¯¹è±¡" class="headerlink" title="window å¯¹è±¡"></a>window å¯¹è±¡</h4><h5 id="å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£"><a href="#å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£" class="headerlink" title="å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£"></a>å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£</h5><p><code>window.open()</code> æ–¹æ³•å¯ä»¥ç”¨äºå¯¼èˆªåˆ°æŒ‡å®š URL ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰“å¼€æ–°æµè§ˆå™¨çª—å£ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ 4 ä¸ªå‚æ•°ï¼Œè¦åŠ è½½çš„ URL ã€ç›®æ ‡çª—å£ã€ç‰¹æ€§å­—ç¬¦ä¸²å’Œè¡¨ç¤ºæ–°çª—å£åœ¨æµè§ˆå™¨å†å²è®°å½•ä¸­æ˜¯å¦æ›¿ä»£å½“å‰åŠ è½½é¡µé¢çš„å¸ƒå°”å€¼ã€‚</p>
<p>å¦‚æœ <code>window.open()</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£æˆ–çª—æ ¼çš„åå­—ï¼Œåˆ™ä¼šåœ¨å¯¹åº”çš„çª—å£æˆ–çª—æ ¼ä¸­æ‰“å¼€ URL ã€‚</p>
<ol>
<li><p>å¼¹å‡ºçª—å£</p>
<p>å¦‚æœ <code>window.open()</code> çš„ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯å·²æœ‰çª—å£ï¼Œåˆ™ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£æˆ–æ ‡ç­¾é¡µã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³ç‰¹æ€§å­—ç¬¦ä¸²ï¼Œç”¨äºæŒ‡å®šæ–°çª—å£çš„é…ç½®ã€‚å¦‚æœæ²¡æœ‰ä¼ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œåˆ™æ–°çª—å£ä¼šå¸¦æœ‰æ‰€æœ‰é»˜è®¤çš„æµè§ˆå™¨ç‰¹æ€§ã€‚å¦‚æœæ‰“å¼€çš„ä¸æ˜¯æ–°çª—å£ï¼Œåˆ™å¿½ç•¥ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</p>
<p>ç‰¹æ€§å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„è®¾ç½®å­—ç¬¦ä¸²ï¼Œç”¨äºæŒ‡å®šæ–°çª—å£åŒ…å«çš„ç‰¹æ€§ã€‚</p>
<table>
<thead>
<tr>
<th>è®¾ç½®</th>
<th>å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>fullscreen</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ–°çª—å£æ˜¯å¦æœ€å¤§åŒ–ã€‚ä»…é™ IE æ”¯æŒã€‚</td>
</tr>
<tr>
<td><code>height</code></td>
<td>æ•°å€¼</td>
<td>æ–°çª—å£é«˜åº¦ï¼Œä¸èƒ½å°äº 100 ã€‚</td>
</tr>
<tr>
<td><code>left</code></td>
<td>æ•°å€¼</td>
<td>æ–°çª—å£çš„ x è½´åæ ‡ã€‚è¿™ä¸ªå€¼ä¸èƒ½æ˜¯è´Ÿå€¼ã€‚</td>
</tr>
<tr>
<td><code>location</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºåœ°å€æ ã€‚ä¸åŒæµè§ˆå™¨çš„é»˜è®¤å€¼ä¹Ÿä¸ä¸€æ ·ã€‚åœ¨è®¾ç½®ä¸º no æ—¶ï¼Œåœ°å€æ å¯èƒ½éšè—æˆ–ç¦ç”¨ã€‚</td>
</tr>
<tr>
<td><code>Menubar</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºèœå•æ ï¼Œé»˜è®¤ä¸º no ã€‚</td>
</tr>
<tr>
<td><code>resizable</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥æ‹–åŠ¨æ”¹å˜æ–°çª—å£å¤§å°ï¼Œé»˜è®¤ä¸º no ã€‚</td>
</tr>
<tr>
<td><code>scrollbars</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥åœ¨å†…å®¹è¿‡é•¿æ—¶æ»šåŠ¨ï¼Œé»˜è®¤ä¸º no ã€‚</td>
</tr>
<tr>
<td><code>status</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºçŠ¶æ€æ ï¼Œä¸åŒæµè§ˆå™¨é»˜è®¤å€¼ä¸åŒã€‚</td>
</tr>
<tr>
<td><code>toolbar</code></td>
<td>yes | no</td>
<td>è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºå·¥å…·æ ï¼Œé»˜è®¤ä¸º no ã€‚</td>
</tr>
<tr>
<td><code>top</code></td>
<td>æ•°å€¼</td>
<td>æ–°çª—å£çš„ y è½´åæ ‡ï¼Œè¿™ä¸ªå€¼ä¸èƒ½æ˜¯è´Ÿå€¼ã€‚</td>
</tr>
<tr>
<td><code>width</code></td>
<td>æ•°å€¼</td>
<td>æ–°çª—å£çš„å®½åº¦ï¼Œè¿™ä¸ªå€¼ä¸èƒ½å°äº 100 ã€‚</td>
</tr>
</tbody></table>
<pre class=" language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"http://www.wrox.com/"</span><span class="token punctuation">,</span> 
 <span class="token string">"wroxWindow"</span><span class="token punctuation">,</span> 
 <span class="token string">"height=400,width=400,top=10,left=10,resizable=yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>window.open()</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹æ–°å»ºçª—å£çš„å¼•ç”¨ã€‚è¿™ä¸ªå¯¹è±¡ä¸æ™®é€š window å¯¹è±¡æ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯ä¸ºæ§åˆ¶æ–°çª—å£æä¾›äº†æ–¹ä¾¿ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>close()</code> æ–¹æ³•å…³é—­æ–°æ‰“å¼€çš„çª—å£ã€‚ä½†è¯¥æ–¹æ³•åªèƒ½ç”¨äºä½¿ç”¨ <code>window.open()</code> åˆ›å»ºçš„å¼¹å‡ºçª—å£ã€‚</p>
<p>æ–°åˆ›å»ºçª—å£çš„ <code>window</code> å¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§ <code>opener</code> ï¼ŒæŒ‡å‘æ‰“å¼€å®ƒçš„çª—å£ã€‚çª—å£ä¸ä¼šè·Ÿè¸ªè®°å½•è‡ªå·±æ‰“å¼€çš„æ–°çª—å£ã€‚</p>
</li>
</ol>
<h5 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h5><p>js æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œå…è®¸ä½¿ç”¨å®šæ—¶å™¨æŒ‡å®šåœ¨æŸä¸ªæ—¶é—´ä¹‹åæˆ–æ¯éš”ä¸€æ®µæ—¶é—´å°±æ‰§è¡Œç›¸åº”çš„ä»£ç ã€‚ <code>setTimeout()</code> ç”¨äºæŒ‡å®šåœ¨ä¸€å®šæ—¶é—´åæ‰§è¡ŒæŸäº›ä»£ç ï¼Œè€Œ <code>setInterval()</code> ç”¨äºæŒ‡å®šæ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡ŒæŸäº›ä»£ç ã€‚</p>
<p>å®šæ—¶å™¨ä¼šè¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥è¶…æ—¶æ’æœŸçš„æ•°å€¼ ID ã€‚è¿™ä¸ªè¶…æ—¶ ID æ˜¯è¢«æ’æœŸæ‰§è¡Œä»£ç çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ç”¨äºå–æ¶ˆè¯¥ä»»åŠ¡ã€‚</p>
<p>æ‰€æœ‰è¶…æ—¶æ‰§è¡Œçš„ä»£ç éƒ½ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­è¿è¡Œï¼Œå› æ­¤å‡½æ•°ä¸­çš„ <code>this</code> åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹å§‹ç»ˆæŒ‡å‘ windowï¼Œè€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯ undefined ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°çš„é—´éš”æ—¶é—´æŒ‡çš„æ˜¯å‘é˜Ÿåˆ—æ·»åŠ æ–°ä»»åŠ¡å‰ç­‰å¾…çš„æ—¶é—´ï¼Œè€Œä¸åœ¨ä¹ä½•æ—¶æ‰§è¡Œä¹Ÿä¸åœ¨ä¹æ‰§è¡Œçš„æ—¶é•¿ã€‚</p>
<h5 id="ç³»ç»Ÿå¯¹è¯æ¡†"><a href="#ç³»ç»Ÿå¯¹è¯æ¡†" class="headerlink" title="ç³»ç»Ÿå¯¹è¯æ¡†"></a>ç³»ç»Ÿå¯¹è¯æ¡†</h5><ol>
<li><code>alert()</code></li>
<li><code>confirm()</code> è¿”å›å€¼ä¸º true æˆ– false ã€‚</li>
<li><code>prompt()</code> è¿”å›å€¼ä¸º ç”¨æˆ·ç‚¹å‡»ç¡®å®š ? æ–‡æœ¬æ¡†å†…çš„å€¼ : <code>null</code> ã€‚</li>
<li><code>find()</code> æŸ¥æ‰¾çš„å¼‚æ­¥å¯¹è¯æ¡†ã€‚</li>
<li><code>print()</code> æ‰“å¼•çš„å¼‚æ­¥å¯¹è¯æ¡†ã€‚</li>
</ol>
<h4 id="location-å¯¹è±¡"><a href="#location-å¯¹è±¡" class="headerlink" title="location å¯¹è±¡"></a>location å¯¹è±¡</h4><p>location æä¾›äº†å½“å‰çª—å£ä¸­åŠ è½½æ–‡æ¡£çš„ä¿¡æ¯ä»¥åŠé€šå¸¸çš„å¯¼èˆªåŠŸèƒ½ã€‚å®ƒæ—¢æ˜¯ window çš„å±æ€§ï¼Œä¹Ÿæ˜¯ document çš„å±æ€§ã€‚ location å¯¹è±¡ä¸ä»…ä¿å­˜ç€å½“å‰åŠ è½½æ–‡æ¡£çš„ä¿¡æ¯ï¼Œä¹Ÿä¿å­˜ç€æŠŠ URL è§£æä¸ºç¦»æ•£ç‰‡æ®µåèƒ½å¤Ÿé€šè¿‡å±æ€§è®¿é—®çš„ä¿¡æ¯ã€‚</p>
<p>ä»¥ <code>http://foouser:barpassword@www.wrox.com:80/WileyCDA/?q=javascript#contents</code> ä¸ºä¾‹ã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>location.hash</code></td>
<td><code>#contents</code></td>
<td>URL æ•£åˆ—å€¼( äº•å·åè·Ÿé›¶æˆ–å¤šä¸ªå­—ç¬¦ )ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td><code>location.host</code></td>
<td><code>www.wrox.com:80</code></td>
<td>æœåŠ¡å™¨ååŠç«¯å£å·</td>
</tr>
<tr>
<td><code>location.hostname</code></td>
<td><code>www.wrox.com</code></td>
<td>æœåŠ¡å™¨å</td>
</tr>
<tr>
<td><code>location.href</code></td>
<td><code>http://www.wrox.com:80/WileyCDA/?q=javascript#contents</code></td>
<td>å½“å‰åŠ è½½é¡µé¢çš„å®Œæ•´ URLã€‚ location çš„ toString() æ–¹æ³•è¿”å›è¿™ä¸ªå€¼ã€‚</td>
</tr>
<tr>
<td><code>location.pathname</code></td>
<td><code>/WileyCDA</code></td>
<td>URL ä¸­çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚</td>
</tr>
<tr>
<td><code>location.port</code></td>
<td><code>80</code></td>
<td>è¯·æ±‚çš„ç«¯å£ã€‚å¦‚æœ URL ä¸­æ²¡æœ‰ç«¯å£ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td><code>location.protocol</code></td>
<td><code>http:</code></td>
<td>é¡µé¢ä½¿ç”¨çš„åè®®ã€‚é€šå¸¸æ˜¯ <code>http:</code> æˆ– <code>https:</code> ã€‚</td>
</tr>
<tr>
<td><code>location.search</code></td>
<td><code>?q=javascript</code></td>
<td>URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå­—ç¬¦ä¸²ä»¥é—®å·å¼€å¤´ã€‚</td>
</tr>
<tr>
<td><code>location.username</code></td>
<td><code>foouser</code></td>
<td>åŸŸåå‰æŒ‡å®šçš„ç”¨æˆ·åã€‚</td>
</tr>
<tr>
<td><code>location.password</code></td>
<td><code>barpassword</code></td>
<td>åŸŸåå‰æŒ‡å®šçš„å¯†ç ã€‚</td>
</tr>
<tr>
<td><code>location.origin</code></td>
<td><code>http://www.wrox.com</code></td>
<td>URL çš„æºåœ°å€ã€‚åªè¯»ã€‚</td>
</tr>
</tbody></table>
<h5 id="æŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#æŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="æŸ¥è¯¢å­—ç¬¦ä¸²"></a>æŸ¥è¯¢å­—ç¬¦ä¸²</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> qs <span class="token operator">=</span> <span class="token string">'?q=javascript&amp;num=10'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> searchParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>qs<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// " q=javascript&amp;num=10"</span>
searchParams<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'num'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
searchParams<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'num'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10</span>
searchParams<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'page'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// " q=javascript&amp;num=10&amp;page=3"</span>
searchParams<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token string">'q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// " num=10&amp;page=3"</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> param <span class="token keyword">of</span> searchParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ["num", "10"]</span>
<span class="token comment" spellcheck="true">// ["page", "3"]</span></code></pre>
<h5 id="æ“ä½œåœ°å€"><a href="#æ“ä½œåœ°å€" class="headerlink" title="æ“ä½œåœ°å€"></a>æ“ä½œåœ°å€</h5><p>å¯ä»¥ä½¿ç”¨ <code>assign()</code> æ–¹æ³•æ¥ä¿®æ”¹æµè§ˆå™¨çš„åœ°å€ã€‚</p>
<pre class=" language-js"><code class="language-js">location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">"http://www.wrox.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥æ“ä½œä¼šåœ¨æµè§ˆå™¨å†å²è®°å½•ä¸­å¢åŠ ä¸€æ¡è®°å½•ã€‚ç›´æ¥ä¿®æ”¹ <code>location.href</code> æˆ–æ˜¯ <code>window.location</code> è®¾ç½® URL ï¼Œéƒ½ä¼šè°ƒç”¨ <code>assign()</code> æ–¹æ³•ã€‚</p>
<p>é™¤äº† <code>hash</code> ä¹‹å¤–ï¼Œä¿®æ”¹ <code>location</code> çš„ä¸€ä¸ªå±æ€§ï¼Œéƒ½ä¼šå¯¼è‡´é¡µé¢é‡æ–°åŠ è½½æ–° URL ã€‚</p>
<p><code>location.replace()</code> æ–¹æ³•ä¸ä¼šå¢åŠ å†å²è®°å½•ã€‚</p>
<p><code>location.reload()</code> æ–¹æ³•ä¼šé‡æ–°åŠ è½½å½“å‰æ˜¾ç¤ºçš„é¡µé¢ã€‚ç»™è¿™ä¸ªæ–¹æ³•ä¼ å…¥å‚æ•° <code>true</code> å¯ä»¥ä½¿å¾—ç½‘é¡µé‡æ–°ä»æœåŠ¡å™¨åŠ è½½ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>æ•°ç»„è¢«æ‹·è´äº†å—ï¼Ÿ</p>
<p>ä¸‹é¢çš„ä»£ç å°†ä¼šæ˜¾ç¤ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Apples"</span><span class="token punctuation">,</span> <span class="token string">"Pear"</span><span class="token punctuation">,</span> <span class="token string">"Orange"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// åœ¨â€œå‰¯æœ¬â€é‡Œ push äº†ä¸€ä¸ªæ–°çš„å€¼</span>
<span class="token keyword">let</span> shoppingCart <span class="token operator">=</span> fruits<span class="token punctuation">;</span>
shoppingCart<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"Banana"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// fruits é‡Œé¢æ˜¯ä»€ä¹ˆï¼Ÿ</span>
<span class="token function">alert</span><span class="token punctuation">(</span> fruits<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>æ•°ç»„çš„èµ‹å€¼æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯ 4 ã€‚</p>
</li>
<li><p>æ•°ç»„æ“ä½œ</p>
<p>æˆ‘ä»¬è¯•è¯•ä¸‹é¢çš„ 5 ä¸ªæ•°ç»„æ“ä½œã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ•°ç»„ <code>styles</code>ï¼Œé‡Œé¢å­˜å‚¨æœ‰ â€œJazzâ€ å’Œ â€œBluesâ€ã€‚</li>
<li>å°† â€œRock-n-Rollâ€ ä»æ•°ç»„æœ«ç«¯æ·»åŠ è¿›å»ã€‚</li>
<li>ç”¨ â€œClassicsâ€ æ›¿æ¢æ‰æ•°ç»„æœ€ä¸­é—´çš„å…ƒç´ ã€‚æŸ¥æ‰¾æ•°ç»„æœ€ä¸­é—´çš„å…ƒç´ çš„ä»£ç åº”è¯¥é€‚ç”¨äºä»»ä½•å¥‡æ•°é•¿åº¦çš„æ•°ç»„ã€‚</li>
<li>å»æ‰æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼å¹¶æ˜¾ç¤ºå®ƒã€‚</li>
<li>åœ¨æ•°ç»„å‰é¢æ·»åŠ  <code>Rap</code> å’Œ <code>Reggae</code>ã€‚</li>
</ol>
<p>è¿‡ç¨‹ä¸­çš„æ•°ç»„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">Jazz<span class="token punctuation">,</span> Blues
Jazz<span class="token punctuation">,</span> Bues<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Jazz<span class="token punctuation">,</span> Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Roll
Rap<span class="token punctuation">,</span> Reggae<span class="token punctuation">,</span> Classics<span class="token punctuation">,</span> Rock<span class="token operator">-</span>n<span class="token operator">-</span>Rollã€‚</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jazz'</span><span class="token punctuation">,</span> <span class="token string">'Blues'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
styles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Rock-n-Roll'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
styles<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Classics'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
styles<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'Rap'</span><span class="token punctuation">,</span> <span class="token string">'Reggae'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>åœ¨æ•°ç»„ä¸Šä¸‹æ–‡è°ƒç”¨</p>
<p>ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ?</span></code></pre>
<p>æ•°ç»„å¯¹è±¡ã€‚è·å–è¯¥å‡½æ•°çš„å½¢å¼ç±»ä¼¼äºå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ï¼Œç„¶åè°ƒç”¨æ–¹æ³•ã€‚</p>
</li>
<li><p>è¾“å…¥æ•°å­—æ±‚å’Œ</p>
<p>å†™å‡ºå‡½æ•° <code>sumInput()</code>ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>prompt</code> å‘ç”¨æˆ·ç´¢è¦å€¼ï¼Œå¹¶å­˜åœ¨æ•°ç»„ä¸­ã€‚</li>
<li>å½“ç”¨æˆ·è¾“å…¥äº†éæ•°å­—ã€ç©ºå­—ç¬¦ä¸²æˆ–è€…ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’®çš„æ—¶å€™ï¼Œé—®è¯¢ç»“æŸã€‚</li>
<li>è®¡ç®—å¹¶è¿”å›æ•°ç»„æ‰€æœ‰é¡¹ä¹‹å’Œã€‚</li>
</ul>
<p>P.S. <code>0</code> æ˜¯æœ‰æ•ˆçš„æ•°å­—ï¼Œä¸è¦å› ä¸ºæ˜¯ 0 å°±åœæ­¢é—®è¯¢ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sumInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"A number please?"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// åº”è¯¥ç»“æŸäº†å—ï¼Ÿ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">""</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> number <span class="token keyword">of</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+</span><span class="token operator">=</span> number<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">sumInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æœ€å¤§å­æ•°ç»„</p>
<p>è¾“å…¥æ˜¯ä»¥æ•°å­—ç»„æˆçš„æ•°ç»„ï¼Œä¾‹å¦‚ <code>arr = [1, -2, 3, 4, -9, 6]</code>.</p>
<p>ä»»åŠ¡æ˜¯ï¼šæ‰¾å‡ºæ‰€æœ‰é¡¹çš„å’Œæœ€å¤§çš„ <code>arr</code> æ•°ç»„çš„è¿ç»­å­æ•°ç»„ã€‚</p>
<p>å†™å‡ºå‡½æ•° <code>getMaxSubSum(arr)</code>ï¼Œç”¨å…¶æ‰¾å‡ºå¹¶è¿”å›æœ€å¤§å’Œã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">5</span>ï¼ˆé«˜äº®é¡¹çš„åŠ å’Œï¼‰
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">11</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">100</span>
<span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>ï¼ˆæ‰€æœ‰é¡¹çš„å’Œï¼‰</code></pre>
<p>å¦‚æœæ‰€æœ‰é¡¹éƒ½æ˜¯è´Ÿæ•°ï¼Œé‚£å°±ä¸€ä¸ªé¡¹ä¹Ÿä¸å–ï¼ˆå­æ•°ç»„æ˜¯ç©ºçš„ï¼‰ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯ 0ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">getMaxSubSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span></code></pre>
<p>è¯·å°è¯•æƒ³å‡ºä¸€ä¸ªå¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆï¼šå¤æ‚åº¦å¯ä»¥æ˜¯ <a href="https://en.wikipedia.org/wiki/Big_O_notation" target="_blank" rel="noopener">O(n2)</a>ï¼Œæœ‰èƒ½åŠ›è¾¾åˆ° O(n) åˆ™æ›´å¥½ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getMaxSubSum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> sum <span class="token operator">=</span> tmp<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> prev<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> prev <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">></span> result<span class="token punctuation">)</span> result <span class="token operator">=</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getMaxSubSum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tmp <span class="token operator">+</span><span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">></span> result<span class="token punctuation">)</span> result <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 11 01</title>
    <url>/2020/11/01/xue-xi-bi-ji-2020-11-01/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-11-01"><a href="#å­¦ä¹ ç¬”è®°-2020-11-01" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-11-01"></a>å­¦ä¹ ç¬”è®° 2020-11-01</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"><a href="#æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°" class="headerlink" title="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"></a>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°</h3><h4 id="å¼‚æ­¥å‡½æ•°"><a href="#å¼‚æ­¥å‡½æ•°" class="headerlink" title="å¼‚æ­¥å‡½æ•°"></a>å¼‚æ­¥å‡½æ•°</h4><h5 id="å¼‚æ­¥å‡½æ•°ç­–ç•¥"><a href="#å¼‚æ­¥å‡½æ•°ç­–ç•¥" class="headerlink" title="å¼‚æ­¥å‡½æ•°ç­–ç•¥"></a>å¼‚æ­¥å‡½æ•°ç­–ç•¥</h5><ol>
<li><p>å®ç° sleep()</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span>delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> t0 <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æš‚åœçº¦ 1500 æ¯«ç§’</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1502</span></code></pre>
</li>
<li><p>åˆ©ç”¨å¹³è¡Œæ‰§è¡Œ</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">randomDelay</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// å»¶è¿Ÿ 0~1000 æ¯«ç§’</span>
  <span class="token keyword">const</span> delay <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> finished`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> t0 <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">randomDelay</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t0<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms elapsed`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 0 finished</span>
<span class="token comment" spellcheck="true">// 1 finished</span>
<span class="token comment" spellcheck="true">// 2 finished</span>
<span class="token comment" spellcheck="true">// 3 finished</span>
<span class="token comment" spellcheck="true">// 4 finished</span>
<span class="token comment" spellcheck="true">// 877ms elapsed</span></code></pre>
<p>å°±ç®—è¿™äº›æœŸçº¦ä¹‹é—´æ²¡æœ‰ä¾èµ–ï¼Œå¼‚æ­¥å‡½æ•°ä¹Ÿä¼šä¾æ¬¡æš‚åœï¼Œç­‰å¾…æ¯ä¸ªè¶…æ—¶å®Œæˆã€‚è¿™æ ·å¯ä»¥ä¿è¯æ‰§è¡Œé¡ºåºã€‚</p>
<p>å¦‚æœé¡ºåºä¸æ˜¯å¿…é¡»ä¿è¯çš„ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆä¸€æ¬¡æ€§åˆå§‹åŒ–æ‰€æœ‰æœŸçº¦ï¼Œå†åˆ†åˆ«ç­‰å¾…å®ƒä»¬çš„ç»“æœã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">randomDelay</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// å»¶è¿Ÿ 0~1000 æ¯«ç§’</span>
  <span class="token keyword">const</span> delay <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> finished`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> t0 <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> promises <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">randomDelay</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> p <span class="token keyword">of</span> promises<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`awaited </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">await</span> p<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t0<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms elapsed`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1 finished</span>
<span class="token comment" spellcheck="true">// 0 finished</span>
<span class="token comment" spellcheck="true">// awaited 0</span>
<span class="token comment" spellcheck="true">// awaited 1</span>
<span class="token comment" spellcheck="true">// 2 finished</span>
<span class="token comment" spellcheck="true">// awaited 2</span>
<span class="token comment" spellcheck="true">// 4 finished</span>
<span class="token comment" spellcheck="true">// 3 finished</span>
<span class="token comment" spellcheck="true">// awaited 3</span>
<span class="token comment" spellcheck="true">// awaited 4</span>
<span class="token comment" spellcheck="true">// 964ms elapsed</span>
</code></pre>
<p>æœŸçº¦æ²¡æœ‰æŒ‰é¡ºåºæ‰§è¡Œï¼Œä½† await æŒ‰é¡ºåºæ”¶åˆ°äº†æ¯ä¸ªæœŸçº¦çš„å€¼ã€‚</p>
</li>
<li><p>ä¸²è¡Œæ‰§è¡ŒæœŸçº¦</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">addTwo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">addFive</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">addTen</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> fn <span class="token keyword">of</span> <span class="token punctuation">[</span>addTwo<span class="token punctuation">,</span> addThree<span class="token punctuation">,</span> addFive<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">addTen</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 19</span></code></pre>
<p>æ­¤å¤„ await ä¼ é€’äº†æ¯ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
</li>
<li><p>æ ˆè¿½è¸ªä¸å†…å­˜ç®¡ç†</p>
<p>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°çš„åŠŸèƒ½æœ‰ç›¸å½“ç¨‹åº¦çš„é‡å ï¼Œä½†å®ƒä»¬åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºåˆ™å·®åˆ«å¾ˆå¤§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fooPromiseExecutor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>fooPromiseExecutor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Uncaught (in promise) bar</span>
<span class="token comment" spellcheck="true">// setTimeout (async)</span>
<span class="token comment" spellcheck="true">// fooPromiseExecutor</span>
<span class="token comment" spellcheck="true">// foo</span></code></pre>
<p>è¿™æ˜¯æ‹’ç»æœŸçº¦çš„æ ˆè¿½è¸ªä¿¡æ¯ã€‚</p>
<p>JS å¼•æ“åœ¨åˆ›å»ºæœŸçº¦æ—¶å°½å¯èƒ½ä¿ç•™å®Œæ•´çš„è°ƒç”¨æ ˆã€‚åœ¨æŠ›å‡ºé”™è¯¯æ—¶ï¼Œè°ƒç”¨æ ˆå¯ä»¥ç”±è¿è¡Œæ—¶çš„é”™è¯¯å¤„ç†é€»è¾‘è·å–ï¼Œå› è€Œå°±ä¼šå‡ºç°åœ¨æ ˆè¿½è¸ªä¿¡æ¯ä¸­ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fooPromiseExecutor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>fooPromiseExecutor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Uncaught (in promise) bar</span>
<span class="token comment" spellcheck="true">// foo</span>
<span class="token comment" spellcheck="true">// async function (async)</span>
<span class="token comment" spellcheck="true">// foo</span></code></pre>
</li>
</ol>
<h3 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h3><h4 id="window-å¯¹è±¡"><a href="#window-å¯¹è±¡" class="headerlink" title="window å¯¹è±¡"></a>window å¯¹è±¡</h4><p>BOM çš„æ ¸å¿ƒæ˜¯ window å¯¹è±¡ï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„å®ä¾‹ã€‚window å¯¹è±¡æ˜¯ ECMAScript ä¸­çš„ Global å¯¹è±¡ï¼Œä¹Ÿæ˜¯æµè§ˆå™¨çª—å£çš„ JavaScript æ¥å£ã€‚</p>
<h5 id="Global-ä½œç”¨åŸŸ"><a href="#Global-ä½œç”¨åŸŸ" class="headerlink" title="Global ä½œç”¨åŸŸ"></a>Global ä½œç”¨åŸŸ</h5><p>é€šè¿‡ <code>var</code> å£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ window å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>è®¿é—®æœªå£°æ˜çš„å˜é‡ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†æ˜¯å¯ä»¥åœ¨ window å¯¹è±¡ä¸ŠæŸ¥è¯¢æ˜¯å¦å­˜åœ¨å¯èƒ½æœªå£°æ˜çš„å˜é‡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// è¿™ä¼šå¯¼è‡´æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º oldValue æ²¡æœ‰å£°æ˜</span>
<span class="token keyword">var</span> newValue <span class="token operator">=</span> oldValue<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºè¿™é‡Œæ˜¯å±æ€§æŸ¥è¯¢</span>
<span class="token comment" spellcheck="true">// newValue ä¼šè¢«è®¾ç½®ä¸º undefined</span>
<span class="token keyword">var</span> newValue <span class="token operator">=</span> window<span class="token punctuation">.</span>oldValue<span class="token punctuation">;</span></code></pre>
<h5 id="çª—å£å…³ç³»"><a href="#çª—å£å…³ç³»" class="headerlink" title="çª—å£å…³ç³»"></a>çª—å£å…³ç³»</h5><p>top å¯¹è±¡å§‹ç»ˆæŒ‡å‘æœ€ä¸Šå±‚çª—å£ï¼Œå³æµè§ˆå™¨çª—å£æœ¬èº«ã€‚parent å¯¹è±¡åˆ™å§‹ç»ˆæŒ‡å‘å½“å‰çª—å£çš„çˆ¶çª—å£ã€‚å¦‚æœå½“å‰çª—å£æ˜¯æœ€ä¸Šå±‚çª—å£ï¼Œåˆ™ parent ç­‰äº top ç­‰äº window ã€‚æœ€ä¸Šå±‚çš„ window å¦‚æœä¸æ˜¯é€šè¿‡ <code>window.open</code> æ‰“å¼€çš„ï¼Œé‚£ä¹ˆå…¶ name å±æ€§å°±ä¸ä¼šåŒ…å«å€¼ã€‚</p>
<p>self å¯¹è±¡å§‹ç»ˆæŒ‡å‘ window ã€‚å®é™…ä¸Šï¼Œself å’Œ window å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>è¿™äº›éƒ½æ˜¯ window å¯¹è±¡çš„å±æ€§ã€‚</p>
<h5 id="çª—å£ä½ç½®ä¸åƒç´ æ¯”"><a href="#çª—å£ä½ç½®ä¸åƒç´ æ¯”" class="headerlink" title="çª—å£ä½ç½®ä¸åƒç´ æ¯”"></a>çª—å£ä½ç½®ä¸åƒç´ æ¯”</h5><p>window å¯¹è±¡çš„ä½ç½®å¯ä»¥é€šè¿‡ä¸åŒçš„å±æ€§å’Œæ–¹æ³•æ¥ç¡®å®šã€‚ç°ä»£æµè§ˆå™¨æä¾›äº† <code>screenLeft</code> å’Œ <code>screenTop</code> å±æ€§ï¼Œç”¨äºè¡¨ç¤ºçª—å£ç›¸å¯¹äºå±å¹•å·¦ä¾§å’Œé¡¶éƒ¨çš„ä½ç½®ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>moveTo()</code> å’Œ <code>moveBy()</code> æ–¹æ³•ç§»åŠ¨çª—å£ã€‚<code>moveTo</code> æ¥æ”¶è¦ç§»åŠ¨åˆ°çš„æ–°ä½ç½®çš„ç»å¯¹åæ ‡ x å’Œ y ã€‚<code>moveBy</code> æ¥æ”¶ç›¸å¯¹å½“å‰ä½ç½®åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šç§»åŠ¨çš„åƒç´ æ•°ã€‚</p>
<p>CSS åƒç´ æ˜¯ Web å¼€å‘ä¸­ä½¿ç”¨çš„ç»Ÿä¸€åƒç´ å•ä½ã€‚è¿™ä¸ªå•ä½çš„èƒŒåæ˜¯ä¸€ä¸ªè§’åº¦ï¼š<code>0.0213Â°</code> ã€‚å¦‚æœå±å¹•è·ç¦»äººçœ¼æ˜¯ä¸€è‡‚é•¿ï¼Œåˆ™ä»¥è¿™ä¸ªè§’åº¦è®¡ç®—çš„ CSS åƒç´ å¤§å°çº¦ä¸º 1/96 è‹±å¯¸ã€‚è¿™æ ·å®šä¹‰åƒç´ å¤§å°æ˜¯ä¸ºäº†åœ¨ä¸åŒè®¾å¤‡ä¸Šç»Ÿä¸€æ ‡å‡†ã€‚ä¸åŒåƒç´ å¯†åº¦çš„å±å¹•ä¸‹ä¼šæœ‰ä¸åŒçš„ç¼©æ”¾ç³»æ•°ï¼Œä»¥ä¾¿æŠŠç‰©ç†åƒç´ ( å±å¹•å®é™…çš„åˆ†è¾¨ç‡ )è½¬æ¢ä¸º CSS åƒç´ ( æµè§ˆå™¨æŠ¥å‘Šçš„è™šæ‹Ÿåˆ†è¾¨ç‡ )ã€‚</p>
<p>æ‰‹æœºå±å¹•çš„ç‰©ç†åˆ†è¾¨ç‡å¯èƒ½æ˜¯ 1920x1080 ã€‚ä½†å› ä¸ºå…¶åƒç´ å¯èƒ½éå¸¸å°ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±éœ€è¦æŠŠå…¶åˆ†è¾¨ç‡é™ä¸ºè¾ƒä½çš„é€»è¾‘åˆ†è¾¨ç‡ï¼Œæ¯”å¦‚ 640x320 ã€‚è¿™ä¸ªç‰©ç†åƒç´ ä¸ CSS åƒç´ ä¹‹é—´çš„è½¬æ¢æ¯”ç‡ç”± <code>window.devicePixelRatio</code> å±æ€§æä¾›ã€‚å¯¹äºå‰é¢çš„ä¾‹å­ï¼Œè¯¥å±æ€§çš„å€¼å°±æ˜¯ 3 ã€‚äºæ˜¯ï¼Œ12 åƒç´ ( CSS åƒç´ )å°±ä¼šç”¨ 36 åƒç´ çš„ç‰©ç†åƒç´ æ¥æ˜¾ç¤ºã€‚</p>
<p><code>window.devicePixelRatio</code> å®é™…ä¸Šä¸æ¯è‹±å¯¸åƒç´ æ•°( DPI )æ˜¯å¯¹åº”çš„ã€‚ DPI è¡¨ç¤ºå•ä½åƒç´ å¯†åº¦ï¼Œè€Œ <code>window.devicePixelRatio</code> è¡¨ç¤ºç‰©ç†åƒç´ ä¸é€»è¾‘åƒç´ ä¹‹é—´çš„ç¼©æ”¾ç³»æ•°ã€‚</p>
<h5 id="çª—å£å¤§å°"><a href="#çª—å£å¤§å°" class="headerlink" title="çª—å£å¤§å°"></a>çª—å£å¤§å°</h5><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ 4 ä¸ªå±æ€§ï¼š</p>
<ul>
<li><code>innerWidth</code></li>
<li><code>innerHeight</code></li>
<li><code>outerWidth</code></li>
<li><code>outerHeight</code></li>
</ul>
<p><code>outerWidth</code> å’Œ <code>outerHeight</code> è¿”å›æµè§ˆå™¨çª—å£è‡ªèº«çš„å¤§å°ã€‚( ä¸ç®¡æ˜¯åœ¨æœ€å¤–å±‚ window ä¸Šä½¿ç”¨ï¼Œè¿˜æ˜¯åœ¨çª—æ ¼ <code>&lt;frame&gt;</code> ä¸­ä½¿ç”¨ )ã€‚</p>
<p><code>innerWidth</code> å’Œ <code>innerHeight</code> è¿”å›æµè§ˆå™¨çª—å£ä¸­é¡µé¢è§†å£çš„å¤§å°( ä¸åŒ…å«æµè§ˆå™¨è¾¹æ¡†å’Œå·¥å…·æ  )ã€‚</p>
<p><code>document.documentElement.clientWidth</code> å’Œ <code>document.documentElement.clientHeight</code> è¿”å›é¡µé¢è§†å£çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> pageWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
  pageHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> pageWidth <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">'CSS1Compat'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
    pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
    pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>inner</code> å±æ€§ï¼Œä¸å­˜åœ¨çš„è¯ï¼Œæ£€æŸ¥é¡µé¢æ˜¯å¦å¤„äºæ ‡å‡†æ¨¡å¼ï¼Œæ˜¯çš„è¯ä½¿ç”¨ <code>documentElement</code> çš„ <code>client</code> å±æ€§ï¼Œå¦åˆ™ä½¿ç”¨ <code>body</code> çš„ <code>client</code> å±æ€§ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>resizeTo()</code> å’Œ <code>resizeBy()</code> æ–¹æ³•è°ƒæ•´çª—å£å¤§å°ã€‚<code>resizeTo()</code> æ¥æ”¶æ–°çš„å®½åº¦å’Œé«˜åº¦å€¼ï¼Œ<code>resizeBy()</code> æ¥æ”¶ç¼©æ”¾æ¯”ä¾‹ã€‚</p>
<h5 id="è§†å£ä½ç½®"><a href="#è§†å£ä½ç½®" class="headerlink" title="è§†å£ä½ç½®"></a>è§†å£ä½ç½®</h5><p>åº¦é‡æ–‡æ¡£ç›¸å¯¹äºè§†å£æ»šåŠ¨è·ç¦»çš„å±æ€§æœ‰ä¸¤å¯¹ï¼Œè¿”å›ç›¸ç­‰çš„å€¼ã€‚</p>
<ul>
<li><code>window.pageXoffset/window.scrollX</code></li>
<li><code>window.pageYoffset/window.scrollY</code></li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ <code>scroll()</code> ã€<code>scrollTo()</code> å’Œ <code>scrollBy()</code> æ–¹æ³•æ»šåŠ¨é¡µé¢ã€‚ä¸‰ä¸ªæ–¹æ³•éƒ½æ¥æ”¶è¡¨ç¤ºç›¸å¯¹è§†å£è·ç¦»çš„ x å’Œ y åæ ‡ã€‚å‰ä¸¤ä¸ªæ–¹æ³•ä¸­è¡¨ç¤ºè¦æ»šåŠ¨åˆ°çš„åæ ‡ï¼Œæœ€åä¸€ä¸ªæ–¹æ³•è¡¨ç¤ºæ»šåŠ¨çš„è·ç¦»ã€‚</p>
<p>è¿™å‡ ä¸ªæ–¹æ³•ä¹Ÿéƒ½æ¥æ”¶ä¸€ä¸ª <code>ScrollToOptions</code> å­—å…¸ï¼Œé™¤äº†æä¾›åç§»å€¼ï¼Œè¿˜å¯ä»¥é€šè¿‡ <code>behavior</code> å±æ€§å‘Šè¯‰æµè§ˆå™¨æ˜¯å¦å¹³æ»‘æ»šåŠ¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æ­£å¸¸æ»šåŠ¨ </span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
 left<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> 
 top<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> 
 behavior<span class="token punctuation">:</span> <span class="token string">'auto'</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// å¹³æ»‘æ»šåŠ¨</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
 left<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> 
 top<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> 
 behavior<span class="token punctuation">:</span> <span class="token string">'smooth'</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²çš„å†…éƒ¨æ ¼å¼å§‹ç»ˆæ˜¯ <code>UTF-16</code> ã€‚å®ƒä¸ä¾èµ–äºé¡µé¢ç¼–ç ã€‚</p>
<p>åå¼•å·å…è®¸æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªåå¼•å·ä¹‹å‰æŒ‡å®šä¸€ä¸ª<strong>æ¨¡æ¿å‡½æ•°</strong> ã€‚</p>
<p>è¯­æ³•æ˜¯ï¼š</p>
<pre class=" language-js"><code class="language-js">func<span class="token template-string"><span class="token string">`string`</span></span></code></pre>
<p>å‡½æ•° <code>func</code> è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ¥æ”¶å­—ç¬¦ä¸²å’ŒåµŒå…¥å¼è¡¨è¾¾å¼ï¼Œå¹¶å¤„ç†å®ƒä»¬ã€‚</p>
<p>è®¿é—®å­—ç¬¦çš„æ–¹æ³•æœ‰æ–¹æ‹¬å·å’Œè°ƒç”¨ <code>str.charAt(pos)</code> ã€‚åŒºåˆ«æ˜¯ï¼Œæ²¡æœ‰æ‰¾åˆ°æ—¶ï¼Œæ–¹æ‹¬å·è¿”å› <code>undefined</code> ï¼Œè€Œå‡½æ•°è°ƒç”¨è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>for-of</code> éå†ã€‚</p>
<p>æŸ¥æ‰¾å­å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p><code>str.indexOf(substr, ?pos)</code> ï¼Œä»ç»™å®šä½ç½® <code>pos</code> å¼€å§‹ï¼Œåœ¨ <code>str</code> ä¸­æŸ¥æ‰¾ <code>substr</code> ã€‚</p>
</li>
<li><p><code>str.lastIndexOf(substr, pos)</code> </p>
<blockquote>
<p>æ—§ä»£ç ä¸­ä¼šä½¿ç”¨ <code>if (~str.indexOf(...))</code> æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ã€‚å› ä¸º <code>~</code> ç¬¦å·å¯¹æ•°å­—è½¬æ¢æˆ 32-bit æ•´æ•°ï¼Œç„¶åæŒ‰ä½å–åã€‚æ‰€ä»¥ n ä¼šè½¬åŒ–ä¸º -(n+1) ã€‚è®¡ç®—æœºä¸­è´Ÿæ•°ä»¥è¡¥ç å½¢å¼å­˜åœ¨ï¼Œå¦‚ 1 çš„ 32-bit å–ååæ­£å¥½æ˜¯ -2 çš„è¡¥ç å½¢å¼ã€‚</p>
</blockquote>
</li>
<li><p><code>str.includes(substr, pos)</code></p>
</li>
<li><p><code>str.startsWith</code></p>
</li>
<li><p><code>str.endsWith</code></p>
</li>
</ul>
<p>è·å–å­å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š</p>
<ul>
<li><code>slice(start, ?end)</code> ï¼Œè¿”å›ä» start å¼€å§‹åˆ°ä½†ä¸åŒ…å«çš„ end çš„éƒ¨åˆ†ã€‚æ”¯æŒè´Ÿå‚æ•°ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹ã€‚</li>
<li><code>substring(start, ?end)</code> ï¼Œè¿”å›å­—ç¬¦ä¸²åœ¨ start å’Œ end ä¹‹é—´çš„éƒ¨åˆ†ï¼Œå…è®¸ start å¤§äº end ã€‚ä¸æ”¯æŒè´Ÿå‚æ•°ã€‚æ‰€æœ‰è´Ÿå‚æ•°è¢«è§†ä¸º 0 ã€‚</li>
<li><code>substr(start, ?length)</code> ï¼Œè¿”å›ä» start å¼€å§‹çš„ç»™å®š length éƒ¨åˆ†ã€‚æ”¯æŒè´Ÿå‚æ•°ã€‚</li>
</ul>
<p>æ¯”è¾ƒå­—ç¬¦ä¸²ï¼š</p>
<ul>
<li><code>str.codePointAt(pos)</code> è¿”å›åœ¨ <code>pos</code> ä½ç½®çš„å­—ç¬¦ä»£ç ã€‚</li>
<li><code>str.charCodeAt(pos)</code></li>
<li><code>str.fromCodePoint(code)</code> é€šè¿‡ <code>code</code> åˆ›å»ºå­—ç¬¦ã€‚</li>
<li><code>str.fromCharCode(code)</code></li>
<li><code>str.localeCompare(str2)</code> ä¼šæ ¹æ®è¯­è¨€è§„åˆ™è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè‹¥ <code>str</code> å°äº <code>str2</code> åˆ™è¿”å›è´Ÿæ•°ï¼Œè‹¥ <code>str</code> å¤§äº <code>str2</code> æ­£æ•°ï¼Œå¦‚æœç›¸ç­‰åˆ™è¿”å› <code>0</code> ã€‚è¯¥æ–¹æ³•è¿˜å¯ä»¥æŒ‡å®šè¯­è¨€å¹¶è®¾ç½®åŒºåˆ«å¤§å°ä¹‹ç±»çš„é™„åŠ è§„åˆ™ã€‚</li>
</ul>
<h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>é¦–å­—æ¯å¤§å†™</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>ucFirst(str)</code>ï¼Œå¹¶è¿”å›é¦–å­—æ¯å¤§å†™çš„å­—ç¬¦ä¸² <code>str</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">ucFirst</span><span class="token punctuation">(</span><span class="token string">"john"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"John"</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ucFirst</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span> str<span class="token punctuation">;</span>
  <span class="token keyword">return</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æ£€æŸ¥ spam</p>
<p>å†™ä¸€ä¸ªå‡½æ•° <code>checkSpam(str)</code>ï¼Œå¦‚æœ <code>str</code> åŒ…å« <code>viagra</code> æˆ– <code>XXX</code> å°±è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p>å‡½æ•°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">'buy ViAgRA now'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span>
<span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">'free xxxxx'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span>
<span class="token function">checkSpam</span><span class="token punctuation">(</span><span class="token string">"innocent rabbit"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">checkSpam</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'viagra'</span><span class="token punctuation">)</span> <span class="token operator">||</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'XXX'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æˆªæ–­æ–‡æœ¬</p>
<p>åˆ›å»ºå‡½æ•° <code>truncate(str, maxlength)</code> æ¥æ£€æŸ¥ <code>str</code> çš„é•¿åº¦ï¼Œå¦‚æœè¶…è¿‡ <code>maxlength</code> â€”â€” åº”ä½¿ç”¨ <code>"â€¦"</code> æ¥ä»£æ›¿ <code>str</code> çš„ç»“å°¾éƒ¨åˆ†ï¼Œé•¿åº¦ä»ç„¶ç­‰äº <code>maxlength</code>ã€‚</p>
<p>å‡½æ•°çš„ç»“æœåº”è¯¥æ˜¯æˆªæ–­åçš„æ–‡æœ¬ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token string">"What I'd like to tell on this topic is:"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"What I'd like to teâ€¦"</span>

<span class="token function">truncate</span><span class="token punctuation">(</span><span class="token string">"Hi everyone!"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"Hi everyone!"</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">truncate</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> maxlength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">></span> maxlength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> maxlength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'â€¦'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>æå–è´§å¸</p>
<p>æˆ‘ä»¬æœ‰ä»¥ <code>"$120"</code> è¿™æ ·çš„æ ¼å¼è¡¨ç¤ºçš„èŠ±é”€ã€‚æ„å‘³ç€ï¼šå…ˆæ˜¯ç¾å…ƒç¬¦å·ï¼Œç„¶åæ‰æ˜¯æ•°å€¼ã€‚</p>
<p>åˆ›å»ºå‡½æ•° <code>extractCurrencyValue(str)</code> ä»å­—ç¬¦ä¸²ä¸­æå–æ•°å€¼å¹¶è¿”å›ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">extractCurrencyValue</span><span class="token punctuation">(</span><span class="token string">'$120'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">120</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extractCurrencyValue</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">+</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 31</title>
    <url>/2020/10/31/xue-xi-bi-ji-2020-10-31/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-31"><a href="#å­¦ä¹ ç¬”è®°-2020-10-31" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-31"></a>å­¦ä¹ ç¬”è®° 2020-10-31</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"><a href="#æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°" class="headerlink" title="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"></a>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°</h3><h4 id="æœŸçº¦"><a href="#æœŸçº¦" class="headerlink" title="æœŸçº¦"></a>æœŸçº¦</h4><h5 id="æœŸçº¦æ‹“å±•"><a href="#æœŸçº¦æ‹“å±•" class="headerlink" title="æœŸçº¦æ‹“å±•"></a>æœŸçº¦æ‹“å±•</h5><ol>
<li><p>æœŸçº¦å–æ¶ˆ</p>
<p>ECMAScript è§„èŒƒæœªæ›¾æ¶‰åŠæœŸçº¦å–æ¶ˆè¿™ä¸ªç‰¹æ€§ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ç°æœ‰å®ç°åŸºç¡€ä¸Šæä¾›ä¸€ç§ä¸´æ—¶æ€§çš„å°è£…ï¼Œä»¥å®ç°å–æ¶ˆæœŸçº¦çš„åŠŸèƒ½ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">CancelToken</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>cancelFn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">cancelFn</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cancel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Cancel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">class</span> <span class="token class-name">CancelToken</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>cancelFn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">cancelFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'delay cancelled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> startButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cancelButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#cancel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">cancellableDelayedResolve</span><span class="token punctuation">(</span>delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'set delay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'delayed resolve'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> cancelToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span>cancelCallback <span class="token operator">=</span><span class="token operator">></span>
        cancelButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> cancelCallback<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      cancelToken<span class="token punctuation">.</span>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  startButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">cancellableDelayedResolve</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>æœŸçº¦è¿›åº¦é€šçŸ¥</p>
<p>ECMAScript6 æœŸçº¦ä¸æ”¯æŒè¿›åº¦è¿½è¸ªï¼Œå¯ä»¥é€šè¿‡æ‰©å±•æ¥å®ç°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">TrackablePromise</span> <span class="token keyword">extends</span> <span class="token class-name">Promise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>executor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> notifyHandlers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">executor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">,</span> status <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        notifyHandlers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>handler <span class="token operator">=</span><span class="token operator">></span> <span class="token function">handler</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>notifyHandlers <span class="token operator">=</span> notifyHandlers<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">notify</span><span class="token punctuation">(</span>notifyHandler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>notifyHandlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>notifyHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrackablePromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">,</span> notify<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">countdown</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">notify</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">20</span> <span class="token operator">*</span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">% remaining`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">countdown</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">countdown</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="å¼‚æ­¥å‡½æ•°"><a href="#å¼‚æ­¥å‡½æ•°" class="headerlink" title="å¼‚æ­¥å‡½æ•°"></a>å¼‚æ­¥å‡½æ•°</h4><p>å¼‚æ­¥å‡½æ•°ä¹Ÿç§°ä¸º <code>async/await</code> è¯­æ³•å…³é”®å­—ï¼Œæ˜¯ ES6 æœŸçº¦æ¨¡å¼åœ¨ ECMAScript å‡½æ•°ä¸­çš„åº”ç”¨ã€‚ async/await æ˜¯ ES8 è§„èŒƒæ–°å¢çš„ã€‚</p>
<ol>
<li><p>async</p>
<p>è¯¥å…³é”®å­—ç”¨äºå£°æ˜å¼‚æ­¥å‡½æ•°ã€‚å¯ä»¥ç”¨åœ¨å‡½æ•°å£°æ˜ã€å‡½æ•°è¡¨è¾¾å¼ã€ç®­å¤´å‡½æ•°å’Œæ–¹æ³•ä¸Šã€‚</p>
<p>ä½¿ç”¨ async å…³é”®å­—å¯ä»¥è®©å‡½æ•°å…·æœ‰å¼‚æ­¥ç‰¹å¾ï¼Œä½†æ€»ä½“ä¸Šå…¶ä»£ç ä»ç„¶æ˜¯åŒæ­¥æ±‚å€¼çš„ã€‚</p>
<p>å¼‚æ­¥å‡½æ•°å¦‚æœä½¿ç”¨ <code>return</code> å…³é”®å­—è¿”å›å€¼ï¼Œä¼šè¢« <code>Promise.resolve()</code> åŒ…è£…æˆä¸€ä¸ªæœŸçº¦å¯¹è±¡ã€‚</p>
<p>åœ¨å¼‚æ­¥å‡½æ•°ä¸­æŠ›å‡ºé”™è¯¯ä¼šè¿”å›æ‹’ç»çš„æœŸçº¦ã€‚</p>
<p>æ‹’ç»æœŸçº¦çš„é”™è¯¯ä¸ä¼šè¢«å¼‚æ­¥å‡½æ•°æ•è·ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">throw</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç»™è¿”å›çš„æœŸçº¦æ·»åŠ ä¸€ä¸ªæ‹’ç»å¤„ç†ç¨‹åº</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Attach a rejected handler to the returned promise</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// Uncaught (in promise): 3</span></code></pre>
</li>
<li><p>await</p>
<p>ä½¿ç”¨ await å…³é”®å­—å¯ä»¥æš‚åœå¼‚æ­¥å‡½æ•°ä»£ç çš„æ‰§è¡Œï¼Œç­‰å¾…æœŸçº¦è§£å†³ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 3</span></code></pre>
<p>await å…³é”®å­—ä¼šæš‚åœæ‰§è¡Œå¼‚æ­¥å‡½æ•°åé¢çš„ä»£ç ï¼Œè®©å‡º JS è¿è¡Œæ—¶çš„æ‰§è¡Œçº¿ç¨‹ã€‚await å…³é”®å­—å°è¯•è§£åŒ…å¯¹è±¡çš„å€¼ï¼Œç„¶åå°†è¿™ä¸ªå€¼ä¼ ç»™è¡¨è¾¾å¼ï¼Œå†å¼‚æ­¥æ¢å¤å¼‚æ­¥å‡½æ•°çš„æ‰§è¡Œã€‚</p>
<p>await æœŸå¾…ä¸€ä¸ªå®ç° thenable æ¥å£çš„å¯¹è±¡ï¼Œä½†å¸¸è§„çš„å€¼ä¹Ÿå¯ä»¥ã€‚å¦‚æœæ˜¯å®ç° thenable æ¥å£çš„å¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡å¯ä»¥ç”± await æ¥è§£åŒ…ã€‚å¦åˆ™ï¼Œå°†è¿™ä¸ªå€¼å½“ä½œå·²ç»è§£å†³çš„æœŸçº¦ã€‚</p>
</li>
</ol>
<h5 id="åœæ­¢å’Œæ¢å¤æ‰§è¡Œ"><a href="#åœæ­¢å’Œæ¢å¤æ‰§è¡Œ" class="headerlink" title="åœæ­¢å’Œæ¢å¤æ‰§è¡Œ"></a>åœæ­¢å’Œæ¢å¤æ‰§è¡Œ</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token comment" spellcheck="true">// 4</span>
<span class="token comment" spellcheck="true">// 5</span>
<span class="token comment" spellcheck="true">// 6</span>
<span class="token comment" spellcheck="true">// 7</span>
<span class="token comment" spellcheck="true">// 8</span>
<span class="token comment" spellcheck="true">// 9</span>
<span class="token comment" spellcheck="true">// 10</span>
<span class="token comment" spellcheck="true">// 11</span></code></pre>
<p>await åé¢çš„å€¼å¯ç”¨æ—¶ä¼šè¢«æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç­‰åˆ°åŒæ­¥çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰ä¼šæ‰§è¡Œ.</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><p>æ•°å­—è°ƒç”¨ toString æ–¹æ³•æ—¶éœ€è¦ä½¿ç”¨ä¸¤ä¸ªç‚¹ï¼Œé˜²æ­¢è¯†åˆ«ä¸ºå°æ•°ç‚¹ã€‚</p>
<h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>æ¥è‡ªè®¿é—®è€…çš„æ•°å­—çš„æ€»å’Œ</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> first <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'first number'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> second <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'second number'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>first <span class="token operator">+</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>ä¸ºä»€ä¹ˆ 6.35.toFixed(1) == 6.3?</p>
<p>æ ¹æ®æ–‡æ¡£ï¼Œ<code>Math.round</code> å’Œ <code>toFixed</code> éƒ½å°†æ•°å­—èˆå…¥åˆ°æœ€æ¥è¿‘çš„æ•°å­—ï¼š<code>0..4</code> ä¼šè¢«èˆå»ï¼Œè€Œ <code>5..9</code> ä¼šè¿›ä¸€ä½ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">1.35</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1.4</span></code></pre>
<p>åœ¨ä¸‹é¢è¿™ä¸ªç±»ä¼¼çš„ç¤ºä¾‹ä¸­ï¼Œä¸ºä»€ä¹ˆ <code>6.35</code> è¢«èˆå…¥ä¸º <code>6.3</code> è€Œä¸æ˜¯ <code>6.4</code>ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">6.35</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6.3</span></code></pre>
<p>å¦‚ä½•ä»¥æ­£ç¡®çš„æ–¹å¼æ¥å¯¹ <code>6.35</code> è¿›è¡Œèˆå…¥ï¼Ÿ</p>
<p>åœ¨å†…éƒ¨ï¼Œ<code>6.35</code> çš„å°æ•°éƒ¨åˆ†æ˜¯ä¸€ä¸ªæ— é™çš„äºŒè¿›åˆ¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„å­˜å‚¨ä¼šé€ æˆç²¾åº¦æŸå¤±ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">6.35</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6.34999999999999964473</span></code></pre>
<p>ç²¾åº¦æŸå¤±å¯èƒ½ä¼šå¯¼è‡´æ•°å­—çš„å¢åŠ å’Œå‡å°ã€‚åœ¨è¿™ç§ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œæ•°å­—å˜å°äº†ä¸€ç‚¹ï¼Œè¿™å°±æ˜¯å®ƒå‘ä¸‹èˆå…¥çš„åŸå› ã€‚</p>
<p>é‚£ä¹ˆ <code>1.35</code> ä¼šæ€æ ·å‘¢ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">1.35</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1.35000000000000008882</span></code></pre>
<p>åœ¨è¿™é‡Œï¼Œç²¾åº¦æŸå¤±ä½¿å¾—è¿™ä¸ªæ•°å­—ç¨å¾®å¤§äº†ä¸€äº›ï¼Œå› æ­¤å…¶å‘ä¸Šèˆå…¥ã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬å¸Œæœ›ä»¥æ­£ç¡®çš„æ–¹å¼è¿›è¡Œèˆå…¥ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•è§£å†³ <code>6.35</code> çš„èˆå…¥é—®é¢˜å‘¢ï¼Ÿ</strong></p>
<p>åœ¨è¿›è¡Œèˆå…¥å‰ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿å…¶æ›´æ¥è¿‘æ•´æ•°ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token number">6.35</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 63.50000000000000000000</span></code></pre>
<p>è¯·æ³¨æ„ï¼Œ<code>63.5</code> å®Œå…¨æ²¡æœ‰ç²¾åº¦æŸå¤±ã€‚è¿™æ˜¯å› ä¸ºå°æ•°éƒ¨åˆ† <code>0.5</code> å®é™…ä¸Šæ˜¯ <code>1/2</code>ã€‚ä»¥ 2 çš„æ•´æ•°æ¬¡å¹‚ä¸ºåˆ†æ¯çš„å°æ•°åœ¨äºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­å¯ä»¥è¢«ç²¾ç¡®åœ°è¡¨ç¤ºï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¹å®ƒè¿›è¡Œèˆå…¥ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">6.35</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6.35 -> 63.5 -> 64(rounded) -> 6.4</span></code></pre>
</li>
<li><p>é‡å¤ï¼Œç›´åˆ°è¾“å…¥çš„æ˜¯ä¸€ä¸ªæ•°å­—</p>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>readNumber</code>ï¼Œå®ƒæç¤ºè¾“å…¥ä¸€ä¸ªæ•°å­—ï¼Œç›´åˆ°è®¿é—®è€…è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ä¸ºæ­¢ã€‚</p>
<p>ç»“æœå€¼å¿…é¡»ä»¥æ•°å­—å½¢å¼è¿”å›ã€‚</p>
<p>è®¿é—®è€…ä¹Ÿå¯ä»¥é€šè¿‡è¾“å…¥ç©ºè¡Œæˆ–ç‚¹å‡»â€œå–æ¶ˆâ€æ¥åœæ­¢è¯¥è¿‡ç¨‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°åº”è¯¥è¿”å› <code>null</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> input<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> input<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å‚è€ƒè§£å†³æ–¹æ¡ˆï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> num<span class="token punctuation">;</span>

  <span class="token keyword">do</span> <span class="token punctuation">{</span>
    num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Enter a number please?"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> num <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">+</span>num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Read: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">readNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥è§£å†³æ–¹æ¡ˆæœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¤„ç† null å’Œç©ºè¡Œã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ¥å—è¾“å…¥ï¼Œç›´åˆ°è¾“å…¥çš„æ˜¯ä¸€ä¸ªâ€œå¸¸è§„æ•°å­—â€ã€‚nullï¼ˆå–æ¶ˆï¼‰å’Œç©ºè¡Œéƒ½ç¬¦åˆè¯¥æ¡ä»¶ï¼Œå› ä¸ºåœ¨æ•°å­—å½¢å¼ä¸­å®ƒä»¬æ˜¯ 0ã€‚</p>
<p>åœ¨æˆ‘ä»¬åœæ­¢ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¸“é—¨å¤„ç† null å’Œç©ºè¡Œï¼ˆè¿”å› nullï¼‰ï¼Œå› ä¸ºå°†å®ƒä»¬è½¬æ¢ä¸ºæ•°å­—å°†è¿”å› 0ã€‚</p>
</li>
<li><p>ä¸€ä¸ªå¶å‘çš„æ— é™å¾ªç¯</p>
<p>è¿™æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯ã€‚å®ƒæ°¸è¿œä¸ä¼šç»“æŸã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å› ä¸º 0.2 ç´¯åŠ æ°¸è¿œä¸ä¼šç­‰äº10ã€‚</p>
</li>
<li><p>ä» min åˆ° max çš„éšæœºæ•°</p>
<p>å†…å»ºå‡½æ•° <code>Math.random()</code> ä¼šåˆ›å»ºä¸€ä¸ªåœ¨ <code>0</code> åˆ° <code>1</code> ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬ <code>1</code>ï¼‰çš„éšæœºæ•°ã€‚</p>
<p>ç¼–å†™ä¸€ä¸ª <code>random(min, max)</code> å‡½æ•°ï¼Œç”¨ä»¥ç”Ÿæˆä¸€ä¸ªåœ¨ <code>min</code> åˆ° <code>max</code> ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ï¼ˆä¸åŒ…æ‹¬ <code>max</code>)ï¼‰ã€‚</p>
<p>è¿è¡Œç¤ºä¾‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1.2345623452</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3.7894332423</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4.3435234525</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">random</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 30</title>
    <url>/2020/10/30/xue-xi-bi-ji-2020-10-30/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-30"><a href="#å­¦ä¹ ç¬”è®°-2020-10-30" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-30"></a>å­¦ä¹ ç¬”è®° 2020-10-30</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"><a href="#æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°" class="headerlink" title="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"></a>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°</h3><h4 id="æœŸçº¦"><a href="#æœŸçº¦" class="headerlink" title="æœŸçº¦"></a>æœŸçº¦</h4><h5 id="æœŸçº¦çš„å®ä¾‹æ–¹æ³•"><a href="#æœŸçº¦çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="æœŸçº¦çš„å®ä¾‹æ–¹æ³•"></a>æœŸçº¦çš„å®ä¾‹æ–¹æ³•</h5><ol>
<li><p>éé‡å…¥æœŸçº¦æ–¹æ³•</p>
<p>å½“æœŸçº¦è¿›å…¥è½å®šçŠ¶æ€æ—¶ï¼Œä¸è¯¥çŠ¶æ€ç›¸å…³çš„å¤„ç†ç¨‹åºä»…ä»…ä¼šè¢«æ’æœŸï¼Œè€Œéç«‹å³æ‰§è¡Œã€‚æ·»åŠ åœ¨è¿™ä¸ªå¤„ç†ç¨‹åºçš„ä»£ç ä¹‹åçš„åŒæ­¥ä»£ç ä¸€å®šä¼šåœ¨å¤„ç†ç¨‹åºä¹‹å‰å…ˆæ‰§è¡Œã€‚åœ¨ä¸€ä¸ªæœŸçº¦ä¸Šè°ƒç”¨ then() ä¼šæŠŠ onResolved å¤„ç†ç¨‹åºæ¨è¿›æ¶ˆæ¯é˜Ÿåˆ—ã€‚ä½†è¿™ä¸ªç¨‹åºç¨‹åºåœ¨å½“å‰çº¿ç¨‹ä¸Šçš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆå‰ä¸ä¼šæ‰§è¡Œã€‚</p>
</li>
<li><p>é‚»è¿‘å¤„ç†ç¨‹åºçš„æ‰§è¡Œé¡ºåº</p>
<p>å¦‚æœç»™æœŸçº¦æ·»åŠ äº†å¤šä¸ªå¤„ç†ç¨‹åºï¼Œå½“æœŸçº¦çŠ¶æ€å˜åŒ–æ—¶ï¼Œç›¸å…³å¤„ç†ç¨‹åºä¼šæŒ‰ç…§å®ƒä»¬çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p>
</li>
<li><p>æ‹’ç»æœŸçº¦ä¸æ‹’ç»é”™è¯¯å¤„ç†</p>
<p>åœ¨æœŸçº¦çš„æ‰§è¡Œå‡½æ•°æˆ–å¤„ç†ç¨‹åºä¸­æŠ›å‡ºé”™è¯¯ä¼šå¯¼è‡´æ‹’ç»ï¼Œå¯¹åº”çš„é”™è¯¯å¯¹è±¡ä¼šæˆä¸ºæ‹’ç»çš„ç†ç”±ã€‚</p>
<p>åœ¨æœŸçº¦ä¸­æŠ›å‡ºé”™è¯¯æ—¶ï¼Œé”™è¯¯å®é™…ä¸Šæ˜¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å¼‚æ­¥æŠ›å‡ºçš„ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šé˜»æ­¢è¿è¡Œæ—¶ç»§ç»­æ‰§è¡ŒåŒæ­¥æŒ‡ä»¤ã€‚</p>
</li>
</ol>
<h5 id="æœŸçº¦è¿é”ä¸æœŸçº¦åˆæˆ"><a href="#æœŸçº¦è¿é”ä¸æœŸçº¦åˆæˆ" class="headerlink" title="æœŸçº¦è¿é”ä¸æœŸçº¦åˆæˆ"></a>æœŸçº¦è¿é”ä¸æœŸçº¦åˆæˆ</h5><ol>
<li><p>æœŸçº¦è¿é”</p>
<p>å› ä¸ºæ¯ä¸ªæœŸçº¦å®ä¾‹çš„æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å¯¹è±¡ï¼Œæ‰€ä»¥æ–¹æ³•å¯ä»¥é“¾å¼è°ƒç”¨ã€‚</p>
</li>
<li><p>æœŸçº¦å›¾</p>
<p>å› ä¸ºä¸€ä¸ªæœŸçº¦å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå¤„ç†ç¨‹åºï¼Œæ‰€ä»¥æœŸçº¦è¿é”å¯ä»¥æ„å»ºæœ‰å‘éå¾ªç¯å›¾çš„ç»“æ„ã€‚</p>
</li>
<li><p>Promise.all() å’Œ Promise.race()</p>
<p>Promise ç±»æä¾›ä¸¤ä¸ªå°†å¤šä¸ªæœŸçº¦å®ä¾‹ç»„åˆæˆä¸€ä¸ªæœŸçº¦çš„é™æ€æ–¹æ³•ã€‚</p>
<ul>
<li><p>Promise.all()</p>
<p>è¯¥æ–¹æ³•åˆ›å»ºçš„æœŸçº¦ä¼šåœ¨ä¸€ç»„æœŸçº¦å…¨éƒ¨è§£å†³ä¹‹åå†è§£å†³ã€‚æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚åˆæˆçš„æœŸçº¦åªä¼šåœ¨æ¯ä¸ªåŒ…å«çš„æœŸçº¦éƒ½è§£å†³ä¹‹åæ‰è§£å†³ã€‚</p>
<p>å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªåŒ…å«çš„æœŸçº¦å¾…å®šï¼Œåˆ™åˆæˆçš„æœŸçº¦ä¹Ÿä¼šå¾…å®šã€‚å¦‚æœæœ‰ä¸€ä¸ªåŒ…å«çš„æœŸçº¦æ‹’ç»ï¼Œåˆ™åˆæˆçš„æœŸçº¦ä¹Ÿä¼šæ‹’ç»ã€‚</p>
<p>å¦‚æœæ‰€æœ‰æœŸçº¦éƒ½æˆåŠŸè§£å†³ï¼Œåˆ™åˆæˆæœŸçº¦çš„è§£å†³å€¼å°±æ˜¯æ‰€æœ‰åŒ…å«æœŸçº¦è§£å†³å€¼çš„æ•°ç»„ï¼ŒæŒ‰ç…§è¿­ä»£å™¨é¡ºåºã€‚</p>
<p>å¦‚æœæœ‰æœŸçº¦æ‹’ç»ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ‹’ç»çš„æœŸçº¦ä¼šå°†è‡ªå·±çš„ç†ç”±ä½œä¸ºåˆæˆæœŸçº¦çš„æ‹’ç»ç†ç”±ã€‚ä¹‹åå†æ‹’ç»çš„æœŸçº¦ä¸ä¼šå½±å“æœ€ç»ˆæœŸçº¦çš„æ‹’ç»ç†ç”±ã€‚</p>
</li>
<li><p>Promise.race()</p>
<p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…è£…æœŸçº¦ï¼Œæ˜¯ä¸€ç»„é›†åˆä¸­æœ€å…ˆè§£å†³æˆ–æ‹’ç»çš„æœŸçº¦çš„é•œåƒã€‚æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚</p>
<p>è¯¥æ–¹æ³•å†…éƒ¨ç¬¬ä¸€ä¸ªè½å®šçš„æœŸçº¦ï¼Œæ— è®ºæ˜¯è§£å†³è¿˜æ˜¯æ‹’ç»ï¼Œè¯¥æ–¹æ³•éƒ½ä¼šåŒ…è£…å…¶è§£å†³å€¼æˆ–æ˜¯æ‹’ç»ç†ç”±å¹¶è¿”å›æ–°æœŸçº¦ã€‚</p>
</li>
</ul>
</li>
<li><p>ä¸²è¡ŒæœŸçº¦åˆæˆ</p>
<p>åŸºäºåç»­æœŸçº¦ä½¿ç”¨ä¹‹å‰æœŸçº¦çš„è¿”å›å€¼æ¥ä¸²è”æœŸçº¦æ˜¯æœŸçº¦çš„åŸºæœ¬åŠŸèƒ½ã€‚ç±»ä¼¼äºå‡½æ•°åˆæˆã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">addTwo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addFive</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addTen</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">addFive</span><span class="token punctuation">(</span><span class="token function">addTwo</span><span class="token punctuation">(</span><span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addTen</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 17</span></code></pre>
<p>æœŸçº¦ä¹Ÿå¯ä»¥ç±»ä¼¼åˆæˆã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">addTwo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addFive</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addTen</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>addTwo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>addThree<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>addFive<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">addTen</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 18</span>

<span class="token keyword">function</span> <span class="token function">addTwo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addFive</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addTen</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>addTwo<span class="token punctuation">,</span> addThree<span class="token punctuation">,</span> addFive<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">addTen</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 18</span>

<span class="token keyword">function</span> <span class="token function">addTwo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addThree</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addFive</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token operator">...</span>fns<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">=</span><span class="token operator">></span> fns<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> addTen <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>addTwo<span class="token punctuation">,</span> addThree<span class="token punctuation">,</span> addFive<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTen</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 18</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 29</title>
    <url>/2020/10/29/xue-xi-bi-ji-2020-10-29/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-29"><a href="#å­¦ä¹ ç¬”è®°-2020-10-29" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-29"></a>å­¦ä¹ ç¬”è®° 2020-10-29</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"><a href="#æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°" class="headerlink" title="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"></a>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°</h3><h4 id="æœŸçº¦"><a href="#æœŸçº¦" class="headerlink" title="æœŸçº¦"></a>æœŸçº¦</h4><p>ECMAScript 6 å¢åŠ äº†å¯¹ <code>Promises/A+</code> è§„èŒƒçš„å®Œå–„æ”¯æŒï¼Œå³ <code>Promise</code> ç±»å‹ã€‚</p>
<p>åˆ›å»º Promise  æ—¶éœ€è¦ä¼ å…¥æ‰§è¡Œå™¨ ( executor ) å‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p>
<h5 id="æœŸçº¦åŸºç¡€"><a href="#æœŸçº¦åŸºç¡€" class="headerlink" title="æœŸçº¦åŸºç¡€"></a>æœŸçº¦åŸºç¡€</h5><ol>
<li><p>æœŸçº¦çŠ¶æ€æœº</p>
<p>åœ¨æŠŠä¸€ä¸ªæœŸçº¦å®ä¾‹ä¼ ç»™ console.log() æ—¶ï¼Œæ§åˆ¶å°è¾“å‡ºè¡¨æ˜è¯¥å®ä¾‹å¤„äºå¾…å®šçŠ¶æ€ã€‚æœŸçº¦æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„å¯¹è±¡ï¼Œå¯èƒ½å¤„äºå¦‚ä¸‹ 3 ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>
<ul>
<li>å¾…å®š ( pending )</li>
<li>å…‘ç° ( fulfilled ï¼Œæœ‰æ—¶å€™ä¹Ÿæˆä¸º è§£å†³ ï¼Œ resolved )</li>
<li>æ‹’ç» ( rejected )</li>
</ul>
<p>å¾…å®šæ˜¯æœŸçº¦çš„æœ€åˆå§‹çŠ¶æ€ã€‚åœ¨å¾…å®šçŠ¶æ€ä¸‹ï¼ŒæœŸçº¦å¯ä»¥è½å®š( settled )ä¸ºä»£è¡¨æˆåŠŸçš„å…‘ç°çŠ¶æ€ï¼Œæˆ–è€…ä»£è¡¨å¤±è´¥çš„æ‹’ç»çŠ¶æ€ã€‚è½å®šçš„è¡Œä¸ºæ˜¯ä¸å¯é€†çš„ã€‚è½å®šåï¼Œå¥‘çº¦çš„çŠ¶æ€ä¸å†æ”¹å˜ã€‚æœŸçº¦ä¹Ÿå¯èƒ½æ°¸è¿œå¤„äºå¾…å®šçŠ¶æ€ã€‚</p>
<p>æœŸçº¦çš„çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œæ— æ³•ç›´æ¥é€šè¿‡ JavaScript æ£€æµ‹åˆ°ã€‚ä¸ºäº†é¿å…æ ¹æ®è¯»å–åˆ°çš„æœŸçº¦çŠ¶æ€ï¼Œä»¥åŒæ­¥æ–¹å¼å¤„ç†æœŸçº¦å¯¹è±¡ã€‚æœŸçº¦çš„çŠ¶æ€ä¹Ÿä¸èƒ½è¢«å¤–éƒ¨ JavaScript ä»£ç ä¿®æ”¹ã€‚</p>
</li>
<li><p>è§£å†³å€¼ã€æ‹’ç»ç†ç”±åŠæœŸçº¦ç”¨ä¾‹</p>
<p>æœŸçº¦æœ‰ä¸¤å¤§ç”¨é€”ã€‚</p>
<p>é¦–å…ˆæ˜¯æŠ½è±¡åœ°è¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚æ ¹æ®æœŸçº¦çš„çŠ¶æ€å¯ä»¥å¾—çŸ¥ä¸€æ®µå¼‚æ­¥ä»£ç æ˜¯å¦å·²ç»å®Œæˆã€‚</p>
<p>åœ¨å¦å¤–ä¸€äº›æƒ…å†µä¸‹ï¼ŒæœŸçº¦å°è£…çš„å¼‚æ­¥æ“ä½œä¼šå®é™…ç”ŸæˆæŸä¸ªå€¼ã€‚ç¨‹åºå¯ä»¥æ ¹æ®æœŸçº¦çŠ¶æ€æ”¹å˜æ¥è®¿é—®è¿™ä¸ªå€¼æˆ–æ˜¯æ‹’ç»ç†ç”±ã€‚</p>
<p>æ¯ä¸ªæœŸçº¦åªè¦çŠ¶æ€åˆ‡æ¢ä¸ºå…‘ç°ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç§æœ‰çš„å†…éƒ¨å€¼ã€‚åªè¦çŠ¶æ€åˆ‡æ¢ä¸ºæ‹’ç»ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç§æœ‰çš„å†…éƒ¨ç†ç”±ã€‚äºŒè€…éƒ½æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚æœŸçº¦åˆ°è¾¾æŸä¸ªè½å®šçŠ¶æ€æ—¶æ‰§è¡Œçš„å¼‚æ­¥ä»£ç å§‹ç»ˆä¼šæ”¶åˆ°è¿™ä¸ªå€¼æˆ–ç†ç”±ã€‚</p>
</li>
<li><p>é€šè¿‡æ‰§è¡Œå‡½æ•°æ§åˆ¶æœŸçº¦çŠ¶æ€</p>
<p>æœŸçº¦çš„çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåœ¨æ‰§è¡Œå™¨å‡½æ•°å†…éƒ¨è¿›è¡Œæ“ä½œã€‚</p>
<p>æ‰§è¡Œå™¨å‡½æ•°æœ‰ä¸¤é¡¹èŒè´£ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æœŸçº¦çš„å¼‚æ­¥è¡Œä¸ºã€‚</li>
<li>æ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢ã€‚</li>
</ul>
<p>æ§åˆ¶æœŸçº¦çŠ¶æ€çš„è½¬æ¢æ˜¯é€šè¿‡è°ƒç”¨å®ƒçš„ä¸¤ä¸ªå‡½æ•°å‚æ•°å®ç°çš„ã€‚å³ <code>resolve()</code> å’Œ <code>reject()</code> ã€‚è°ƒç”¨å‰è€…ä¼šæŠŠçŠ¶æ€åˆ‡æ¢ä¸ºå…‘ç°ï¼Œè°ƒç”¨åè€…ä¼šæŠŠçŠ¶æ€åˆ‡æ¢ä¸ºæ‹’ç»ã€‚</p>
</li>
<li><p><code>Promise.resolve()</code></p>
<p>å¯ä»¥é€šè¿‡è°ƒç”¨ Promise.resolve() é™æ€æ–¹æ³•å®ä¾‹åŒ–ä¸€ä¸ªè§£å†³çš„æœŸçº¦ã€‚è¿™ä¸ªè§£å†³çš„æœŸçº¦çš„å€¼å¯¹åº”ç€ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‚æ•°ä¼šè¢«å¿½ç•¥ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥åŒ…è£…ä»»ä½•éæœŸçº¦å€¼ï¼ŒåŒ…æ‹¬é”™è¯¯å¯¹è±¡ï¼Œå°†å…¶è½¬æ¢ä¸ºè§£å†³çš„æœŸçº¦ã€‚</p>
</li>
<li><p><code>Promise.reject()</code></p>
<p>Promise.reject() ä¼šå®ä¾‹åŒ–ä¸€ä¸ªæ‹’ç»çš„æœŸçº¦å¹¶æŠ›å‡ºä¸€ä¸ªå¼‚æ­¥é”™è¯¯ã€‚è¿™ä¸ªé”™è¯¯åªèƒ½é€šè¿‡æ‹’ç»å¤„ç†ç¨‹åºæ•è·ã€‚</p>
<p>Promise.resolve() ä¼šæ¥æ”¶æœŸçº¦å‚æ•°çš„å€¼æ¥ä½œä¸ºè¿”å›å€¼çš„å€¼ã€‚ä½† Promise.reject ä¸ä¼šæŠŠæœŸçº¦å‚æ•°çš„å€¼æ¥ä¼ é€’ï¼Œè€Œæ˜¯ç›´æ¥æŠŠè¿™ä¸ªæœŸçº¦å¯¹è±¡ä½œä¸ºæ‹’ç»çš„ç†ç”±ã€‚</p>
</li>
<li><p>åŒæ­¥/å¼‚æ­¥æ‰§è¡Œçš„äºŒå…ƒæ€§</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Error: foo</span>
<span class="token punctuation">}</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Uncaught (in promise) Error: bar</span></code></pre>
<p>æ­¤å¤„æœŸçº¦æŠ›å‡ºçš„é”™è¯¯æ— æ³•è¢«åŒæ­¥ä»£ç æ‰€æ•è·ã€‚å› ä¸ºæœŸçº¦å¯¹è±¡éœ€è¦é€šè¿‡å¼‚æ­¥æ¨¡å¼æ•è·é”™è¯¯ã€‚æœŸçº¦æ˜¯åŒæ­¥å¯¹è±¡ï¼Œä½†æ˜¯å¼‚æ­¥æ‰§è¡Œæ¨¡å¼çš„åª’ä»‹ã€‚</p>
<p>æ‹’ç»æœŸçº¦çš„é”™è¯¯å¹¶æ²¡æœ‰æŠ›åˆ°æ‰§è¡ŒåŒæ­¥ä»£ç çš„çº¿ç¨‹é‡Œï¼Œè€Œæ˜¯é€šè¿‡æµè§ˆå™¨å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—æ¥å¤„ç†çš„ã€‚å› æ­¤åªèƒ½ä½¿ç”¨å¼‚æ­¥ç»“æ„ä¸ä¹‹äº¤äº’ã€‚</p>
</li>
</ol>
<h5 id="æœŸçº¦çš„å®ä¾‹æ–¹æ³•"><a href="#æœŸçº¦çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="æœŸçº¦çš„å®ä¾‹æ–¹æ³•"></a>æœŸçº¦çš„å®ä¾‹æ–¹æ³•</h5><p>æœŸçº¦å®ä¾‹çš„æ–¹æ³•æ˜¯è¿æ¥å¤–éƒ¨åŒæ­¥ä»£ç ä¸å†…éƒ¨å¼‚æ­¥ä»£ç çš„æ¡¥æ¢ã€‚è¿™äº›æ–¹æ³•å¯ä»¥è®¿é—®å¼‚æ­¥æ“ä½œè¿”å›çš„æ•°æ®ï¼Œå¤„ç†æœŸçº¦æˆåŠŸå’Œå¤±è´¥çš„ç»“æœï¼Œè¿æ¥å¯¹æœŸçº¦æ±‚å€¼ï¼Œæˆ–è€…æ·»åŠ åªæœ‰æœŸçº¦è¿›å…¥ç»ˆæ­¢çŠ¶æ€æ—¶æ‰ä¼šæ‰§è¡Œçš„ä»£ç ã€‚</p>
<ol>
<li><p>å®ç° Thenable æ¥å£</p>
<p>åœ¨ ECMAScript æš´éœ²çš„å¼‚æ­¥ç»“æ„ä¸­ï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª <code>then()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«è®¤ä¸ºå®ç°äº† Thenable æ¥å£ã€‚</p>
<p>ECMAScript çš„ Promise ç±»å‹å®ç°äº† Thenable æ¥å£ã€‚</p>
</li>
<li><p><code>Promise.prototype.then()</code></p>
<p>Promise.prototype.then() æ˜¯ä¸ºæœŸçº¦å®ä¾‹æ·»åŠ å¤„ç†ç¨‹åºçš„ä¸»è¦æ–¹æ³•ã€‚æ¥æ”¶æœ€å¤šä¸¤ä¸ªå‚æ•°ï¼š onResolved å¤„ç†ç¨‹åºå’Œ onRejected å¤„ç†ç¨‹åºã€‚ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œæä¾›çš„æ—¶å€™ä¼šåœ¨æœŸçº¦åˆ†åˆ«è¿›å…¥å…‘ç°å’Œæ‹’ç»çŠ¶æ€æ—¶æ‰§è¡Œã€‚ä»»ä½•éå‡½æ•°å‚æ•°éƒ½ä¼šè¢«å¿½ç•¥ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å®ä¾‹ã€‚ä¼šé€šè¿‡ Promise.resolve() åŒ…è£…ç”Ÿæˆæ–°æœŸçº¦ï¼Œæ²¡æœ‰æä¾›å¤„ç†ç¨‹åºçš„è¯ï¼Œä¼šåŒ…è£…ä¸Šä¸€ä¸ªæœŸçº¦è§£å†³åçš„å€¼ã€‚æ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šè¿”å›è¯­å¥çš„è¯ï¼Œä¼šåŒ…è£…é»˜è®¤è¿”å›å€¼ <code>undefined</code> ã€‚</p>
<p>onRejected å¤„ç†ç¨‹åºè¿”å›å€¼ä¼šè¢« Promise.resolve() åŒ…è£…ã€‚</p>
</li>
<li><p><code>Promise.prototype.catch()</code></p>
<p>ç›¸å½“äºè°ƒç”¨ <code>Promise.prototype.then(null, onRejected)</code> ã€‚</p>
</li>
<li><p><code>Promise.prototype.finally()</code></p>
<p>è¿™ä¸ªå¤„ç†ç¨‹åºåœ¨æœŸçº¦è½¬æ¢ä¸ºè§£å†³æˆ–æ‹’ç»çŠ¶æ€æ—¶éƒ½ä¼šæ‰§è¡Œã€‚ä½†æ— æ³•çŸ¥é“æœŸçº¦çš„çŠ¶æ€ï¼Œä¸€èˆ¬ç”¨äºæ·»åŠ æ¸…ç†ä»£ç ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å®ä¾‹ã€‚ä¸åŒäº <code>then()</code> è¿”å›çš„å®ä¾‹ï¼Œè¢«è®¾è®¡ä¸ºä¸€ä¸ªçŠ¶æ€æ— å…³çš„æ–¹æ³•ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒå°†è¡¨ç°ä¸ºçˆ¶æœŸçº¦çš„ä¼ é€’ã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å¯¹è±¡â€”åŸå§‹å€¼è½¬æ¢"><a href="#å¯¹è±¡â€”åŸå§‹å€¼è½¬æ¢" class="headerlink" title="å¯¹è±¡â€”åŸå§‹å€¼è½¬æ¢"></a>å¯¹è±¡â€”åŸå§‹å€¼è½¬æ¢</h3><p>æ‰€æœ‰å¯¹è±¡åœ¨å¸ƒå°”ä¸Šä¸‹æ–‡ä¸­å‡ä¸º <code>true</code> ã€‚</p>
<p>æ•°å€¼è½¬æ¢å‘ç”Ÿåœ¨å¯¹è±¡ç›¸å‡æˆ–åº”ç”¨æ•°å­¦å‡½æ•°æ—¶ã€‚</p>
<p>å­—ç¬¦ä¸²è½¬æ¢å‘ç”Ÿåœ¨è¾“å‡ºå¯¹è±¡å’Œç±»ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>ä¸ºäº†è¿›è¡Œè½¬æ¢ï¼Œ JavaScript å°è¯•æŸ¥æ‰¾å¹¶è°ƒç”¨ä¸‰ä¸ªå¯¹è±¡æ–¹æ³•ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>obj[Symbol.toPrimitive]</code>ã€‚</li>
<li>å¦‚æœä¸Šè¿°æ–¹æ³•ä¸å­˜åœ¨ï¼Œä¸”è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢ï¼Œå°è¯• <code>obj.toString()</code> å’Œ <code>obj.valueOf()</code> ã€‚</li>
<li>å¦‚æœä¸Šè¿°æ–¹æ³•ä¸å­˜åœ¨ï¼Œä¸”è¿›è¡Œæ•°å­—è½¬æ¢æˆ–æ˜¯é»˜è®¤è½¬æ¢ï¼Œå°è¯• <code>obj.valueOf()</code> å’Œ <code>obj.toString()</code> ã€‚</li>
</ol>
<p><code>toString</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² <code>"[object Object]"</code> ã€‚</p>
<p><code>valueOf</code> æ–¹æ³•è¿”å›å¯¹è±¡æœ¬èº«ã€‚</p>
<p>ä¸‰ä¸ªæ–¹æ³•å”¯ä¸€çš„é™åˆ¶æ˜¯è¿”å›ä¸€ä¸ªåŸå§‹å€¼è€Œä¸æ˜¯å¯¹è±¡ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 28</title>
    <url>/2020/10/28/xue-xi-bi-ji-2020-10-28/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-28"><a href="#å­¦ä¹ ç¬”è®°-2020-10-28" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-28"></a>å­¦ä¹ ç¬”è®° 2020-10-28</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼"><a href="#ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼"></a>ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼</h4><p>ç«‹å³è°ƒç”¨çš„åŒ¿åå‡½æ•°åˆè¢«ç§°ä½œç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼ ( <code>IIFE</code> ï¼Œ <code>Immediately Invoked Function Expression</code> )ã€‚å®ƒç±»ä¼¼äºå‡½æ•°å£°æ˜ï¼Œä½†ç”±äºè¢«åŒ…å«åœ¨æ‹¬å·ä¸­ï¼Œä¼šè¢«è§£é‡Šä¸ºå‡½æ•°è¡¨è¾¾å¼ã€‚ç´§è·Ÿåœ¨ç¬¬ä¸€ç»„æ‹¬å·åé¢çš„ç¬¬äºŒç»„æ‹¬å·ä¼šç«‹å³è°ƒç”¨å‰é¢çš„å‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<p>ä½¿ç”¨ <code>IIFE</code> å¯ä»¥æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸã€‚å³åœ¨ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼å†…éƒ¨å£°æ˜å˜é‡ï¼Œç„¶åç«‹å³è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p>
<p>ä½¿ç”¨ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼å¯ä»¥è§£å†³ <code>var</code> å¸¦æ¥çš„é—®é¢˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> divs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  divs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'click'</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>frozenCounter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frozenCounter<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>åœ¨ <code>ES6</code> ï¼Œæœ‰äº†å—çº§ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå°±å¯ä»¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚</p>
<h4 id="ç§æœ‰å˜é‡"><a href="#ç§æœ‰å˜é‡" class="headerlink" title="ç§æœ‰å˜é‡"></a>ç§æœ‰å˜é‡</h4><p><code>JS</code> æ²¡æœ‰ç§æœ‰æˆå‘˜çš„æ¦‚å¿µï¼Œæ‰€æœ‰å¯¹è±¡å±æ€§éƒ½æ˜¯å…¬æœ‰çš„ã€‚æœ‰ç§æœ‰å˜é‡çš„æ¦‚å¿µã€‚ä»»ä½•å®šä¹‰åœ¨å‡½æ•°æˆ–å—ä¸­çš„å˜é‡ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯ç§æœ‰çš„ã€‚</p>
<p>ç‰¹æƒæ–¹æ³•æ˜¯èƒ½å¤Ÿè®¿é—®å‡½æ•°ç§æœ‰å˜é‡åŠç§æœ‰å‡½æ•°çš„å…¬æœ‰æ–¹æ³•ã€‚åœ¨å¯¹è±¡ä¸Šæœ‰ä¸¤ç§æ–¹å¼åˆ›å»ºç‰¹æƒæ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­å®ç°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">MyObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ç‰¹æƒæ–¹æ³•</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>publicMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>è¿™ä¸ªæ¨¡å¼æ˜¯æŠŠæ‰€æœ‰ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°éƒ½å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­ã€‚ç„¶åï¼Œå†åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿè®¿é—®è¿™äº›ç§æœ‰æˆå‘˜çš„ç‰¹æƒæ–¹æ³•ã€‚å› ä¸ºå½¢æˆäº†é—­åŒ…ï¼Œæ‰€ä»¥å¯è¡Œã€‚</p>
<h5 id="é™æ€ç§æœ‰å˜é‡"><a href="#é™æ€ç§æœ‰å˜é‡" class="headerlink" title="é™æ€ç§æœ‰å˜é‡"></a>é™æ€ç§æœ‰å˜é‡</h5><p>ç‰¹æƒæ–¹æ³•å¯ä»¥é€šè¿‡ä½¿ç”¨ç§æœ‰ä½œç”¨åŸŸå®šä¹‰ç§æœ‰å˜é‡å’Œå‡½æ•°æ¥å®ç°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// æ„é€ å‡½æ•°</span>
  MyObject <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// å…¬æœ‰å’Œç‰¹æƒæ–¹æ³•</span>
  MyObject<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>publicMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œé¿å…äº†æ‰€æœ‰æ–¹æ³•éƒ½åœ¨å¯¹è±¡å®ä¾‹ä¸Šé‡å¤å®šä¹‰ã€‚ç‰¹æƒæ–¹æ³•ä½œä¸ºä¸€ä¸ªé—­åŒ…ï¼Œå§‹ç»ˆå¼•ç”¨ç€åŒ…å«å®ƒçš„ä½œç”¨åŸŸã€‚ä½†è¯¥ç§æ–¹æ³•çš„æ¯ä¸ªå®ä¾‹æ²¡æœ‰äº†è‡ªå·±çš„ç§æœ‰å˜é‡ã€‚</p>
<h5 id="æ¨¡å—æ¨¡å¼"><a href="#æ¨¡å—æ¨¡å¼" class="headerlink" title="æ¨¡å—æ¨¡å¼"></a>æ¨¡å—æ¨¡å¼</h5><p>æ¨¡å—æ¨¡å¼åœ¨ä¸€ä¸ªå•ä¾‹å¯¹è±¡ä¸Šå®ç°äº†ç›¸åŒçš„éš”ç¦»å’Œå°è£…ã€‚</p>
<p>å•ä¾‹å¯¹è±¡å°±æ˜¯åªæœ‰ä¸€ä¸ªå®ä¾‹çš„å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ç‰¹æƒ/å…¬æœ‰æ–¹æ³•å’Œå±æ€§</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    publicProperty<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function">publicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ¨¡å—æ¨¡å¼æ˜¯åœ¨å•ä¾‹å¯¹è±¡åŸºç¡€ä¸ŠåŠ ä»¥æ‹“å±•ï¼Œä½¿å…¶é€šè¿‡ä½œç”¨åŸŸé“¾æ¥å…³è”ç§æœ‰å˜é‡å’Œç‰¹æƒæ–¹æ³•ã€‚</p>
<p>æ¨¡å—æ¨¡å¼ä½¿ç”¨äº†åŒ¿åå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨åŒ¿åå‡½æ•°å†…éƒ¨ï¼Œé¦–å…ˆå®šä¹‰ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°ã€‚ä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªè¦é€šè¿‡åŒ¿åå‡½æ•°è¿”å›çš„å¯¹è±¡å­—é¢é‡ã€‚è¿™ä¸ªå¯¹è±¡å­—é¢é‡ä¸­åªåŒ…å«å¯ä»¥å…¬å¼€è®¿é—®çš„å±æ€§å’Œæ–¹æ³•ã€‚æœ¬è´¨ä¸Šï¼Œå¯¹è±¡å­—é¢é‡å®šä¹‰äº†å•ä¾‹å¯¹è±¡çš„å…¬å…±æ¥å£ã€‚å¦‚æœå•ä¾‹å¯¹è±¡éœ€è¦è¿›è¡ŒæŸç§åˆå§‹åŒ–ï¼Œå¹¶ä¸”éœ€è¦è®¿é—®ç§æœ‰å˜é‡æ—¶ï¼Œå°±å¯ä»¥é‡‡ç”¨è¿™ä¸ªæ¨¡å¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> application <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°</span>
  <span class="token keyword">let</span> components <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// åˆå§‹åŒ–</span>
  components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaseComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// å…¬å…±æ¥å£</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getComponentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> components<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">registerComponent</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> component <span class="token operator">==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        components<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h5 id="æ¨¡å—å¢å¼ºæ¨¡å¼"><a href="#æ¨¡å—å¢å¼ºæ¨¡å¼" class="headerlink" title="æ¨¡å—å¢å¼ºæ¨¡å¼"></a>æ¨¡å—å¢å¼ºæ¨¡å¼</h5><p>åœ¨è¿”å›å¯¹è±¡ä¹‹å‰å…ˆå¯¹å…¶è¿›è¡Œå¢å¼ºï¼Œé€‚åˆå•ä¾‹å¯¹è±¡éœ€è¦æ˜¯æŸä¸ªç‰¹å®šç±»å‹çš„å®ä¾‹ï¼Œä½†åˆå¿…é¡»ç»™å®ƒæ·»åŠ é¢å¤–å±æ€§å’Œæ–¹æ³•çš„åœºæ™¯ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°</span>
  <span class="token keyword">let</span> privateVariable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// åˆ›å»ºå¯¹è±¡</span>
  <span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// æ·»åŠ ç‰¹æƒ/å…¬æœ‰å±æ€§å’Œæ–¹æ³•</span>
  object<span class="token punctuation">.</span>publicProperty <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  object<span class="token punctuation">.</span>publicMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateVariable<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">privateFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// è¿”å›å¯¹è±¡</span>
  <span class="token keyword">return</span> object<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"><a href="#æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°" class="headerlink" title="æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°"></a>æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°</h3><p><code>ES6</code> æ–°å¢äº†æ­£å¼çš„ <code>Promise</code> å¼•ç”¨ç±»å‹ï¼Œæ”¯æŒä¼˜é›…åœ°å®šä¹‰å’Œç»„ç»‡å¼‚æ­¥é€»è¾‘ã€‚</p>
<h4 id="å¼‚æ­¥ç¼–ç¨‹"><a href="#å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹"></a>å¼‚æ­¥ç¼–ç¨‹</h4><p>åŒæ­¥è¡Œä¸ºå’Œå¼‚æ­¥è¡Œä¸ºçš„å¯¹ç«‹ç»Ÿä¸€æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µã€‚ç‰¹åˆ«æ˜¯åœ¨ <code>JavaScript</code> è¿™ç§å•çº¿ç¨‹äº‹ä»¶å¾ªç¯æ¨¡å‹ä¸­ï¼ŒåŒæ­¥æ“ä½œä¸å¼‚æ­¥æ“ä½œæ›´æ˜¯ä»£ç æ‰€è¦ä¾èµ–çš„æ ¸å¿ƒæœºåˆ¶ã€‚å¼‚æ­¥è¡Œä¸ºæ˜¯ä¸ºäº†ä¼˜åŒ–å› è®¡ç®—é‡å¤§è€Œæ—¶é—´é•¿çš„æ“ä½œã€‚ä½†ä¸ä¸€å®šå¿…é¡»å¦‚æ­¤ï¼Œä¸æƒ³ä¸ºç­‰å¾…æŸä¸ªæ“ä½œè€Œé˜»å¡çº¿ç¨‹æ‰§è¡Œï¼Œå°±å¯ä»¥ä½¿ç”¨å¼‚æ­¥æ“ä½œã€‚</p>
<h5 id="åŒæ­¥ä¸å¼‚æ­¥"><a href="#åŒæ­¥ä¸å¼‚æ­¥" class="headerlink" title="åŒæ­¥ä¸å¼‚æ­¥"></a>åŒæ­¥ä¸å¼‚æ­¥</h5><p>åŒæ­¥è¡Œä¸ºå¯¹åº”å†…å­˜ä¸­é¡ºåºæ‰§è¡Œçš„å¤„ç†å™¨æŒ‡ä»¤ã€‚æ¯æ¡æŒ‡ä»¤éƒ½ä¼šä¸¥æ ¼æŒ‰ç…§å®ƒä»¬å‡ºç°çš„é¡ºåºæ¥æ‰§è¡Œï¼Œè€Œæ¯æ¡æŒ‡ä»¤æ‰§è¡Œåä¹Ÿèƒ½ç«‹å³è·å¾—å­˜å‚¨åœ¨ç³»ç»Ÿæœ¬åœ°çš„ä¿¡æ¯ã€‚è¿™æ ·çš„æ‰§è¡Œæµç¨‹å®¹æ˜“åˆ†æç¨‹åºåœ¨æ‰§è¡Œåˆ°ä»£ç ä»»æ„ä½ç½®æ—¶çš„çŠ¶æ€ã€‚</p>
<p>åœ¨ç¨‹åºæ‰§è¡Œçš„æ¯ä¸€æ­¥ï¼Œéƒ½å¯ä»¥æ¨æ–­å‡ºç¨‹åºçš„çŠ¶æ€ã€‚</p>
<p>å¼‚æ­¥è¡Œä¸ºç±»ä¼¼äºç³»ç»Ÿä¸­æ–­ï¼Œå³å½“å‰è¿›ç¨‹å¤–éƒ¨çš„å®ä½“å¯ä»¥è§¦å‘ä»£ç æ‰§è¡Œã€‚å¼‚æ­¥æ“ä½œç»å¸¸æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºå¼ºåˆ¶è¿›ç¨‹ç­‰å¾…ä¸€ä¸ªé•¿æ—¶é—´çš„æ“ä½œé€šå¸¸æ˜¯ä¸å¯è¡Œçš„ã€‚å¦‚æœä»£ç è¦è®¿é—®ä¸€äº›é«˜å»¶è¿Ÿçš„èµ„æºï¼Œæ¯”å¦‚å‘è¿œç¨‹æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶ç­‰å¾…å“åº”ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°é•¿æ—¶é—´çš„ç­‰å¾…ã€‚ä½†å¼‚æ­¥æ“ä½œä½•æ—¶å®Œæˆï¼Œå¼‚æ­¥æ“ä½œä¸­æ¶‰åŠåˆ°çš„æ•°æ®ä½•æ—¶å¯è·å–å¯æ“ä½œï¼Œæ˜¯ä¸å¯çŸ¥çš„ã€‚</p>
<h5 id="ä»¥å¾€çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼"><a href="#ä»¥å¾€çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼" class="headerlink" title="ä»¥å¾€çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼"></a>ä»¥å¾€çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼</h5><p>å¼‚æ­¥è¡Œä¸ºæ˜¯ <code>JavaScript</code> çš„åŸºç¡€ã€‚åœ¨æ—©æœŸï¼Œåªæ”¯æŒå®šä¹‰å›è°ƒå‡½æ•°æ¥è¡¨æ˜å¼‚æ­¥æ“ä½œå®Œæˆã€‚ä¸²è”å¤šä¸ªå¼‚æ­¥æ“ä½œæ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œé€šå¸¸éœ€è¦æ·±åº¦åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 6ï¼ˆå¤§çº¦ 1000 æ¯«ç§’ä¹‹åï¼‰</span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ <code>setTimtout</code> å®šä¹‰äº†ä¸€ä¸ªåœ¨æŒ‡å®šæ—¶é—´åä¼šè¢«è°ƒåº¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚<code>1000</code> æ¯«ç§’ä¹‹åï¼Œ <code>JavaScript</code> æ‰§è¡Œæ—¶ä¼šæŠŠå›è°ƒå‡½æ•°æ¨åˆ°è‡ªå·±çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸Šå»ç­‰å¾…æ‰§è¡Œã€‚æ¨åˆ°é˜Ÿåˆ—ä¹‹åï¼Œå›è°ƒä»€ä¹ˆæ—¶å€™å‡ºåˆ—è¢«æ‰§è¡Œå¯¹ <code>JavaScript</code> ä»£ç å°±å®Œå…¨ä¸å¯è§äº†ã€‚ <code>double</code> å‡½æ•°ä¼šåœ¨ <code>setTimeout</code> æˆåŠŸè°ƒåº¦å¼‚æ­¥æ“ä½œä¹‹åç«‹å³é€€å‡ºã€‚</p>
<ol>
<li><p>å¼‚æ­¥è¿”å›å€¼</p>
<p>å‡è®¾ <code>setTimeout</code> æ“ä½œä¼šè¿”å›ä¸€ä¸ªæœ‰ç”¨çš„å€¼ã€‚å¦‚ä½•æŠŠè¿™ä¸ªå€¼è¿›è¡Œä¼ é€’ï¼Ÿä¸€ä¸ªæ–¹æ³•æ˜¯ç»™å¼‚æ­¥æ“ä½œæä¾›ä¸€ä¸ªå›è°ƒã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">callback</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> x <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`I was given: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// I was given: 6ï¼ˆå¤§çº¦ 1000 æ¯«ç§’ä¹‹åï¼‰</span></code></pre>
</li>
<li><p>å¤±è´¥å¤„ç†</p>
<p>å¼‚æ­¥æ“ä½œçš„å¤±è´¥å¤„ç†åœ¨å›è°ƒæ¨¡å‹ä¸­ä¹Ÿè¦è€ƒè™‘ã€‚å› æ­¤å‡ºç°äº†æˆåŠŸå›è°ƒä¸å¤±è´¥å›è°ƒã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">double</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failure<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token string">'Must provide number as first argument'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">failure</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> successCallback <span class="token operator">=</span> x <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Success: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> failureCallback <span class="token operator">=</span> e <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Failure: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¿™ç§æ¨¡å¼å·²ç»ä¸å¯å–äº†ï¼Œå› ä¸ºå¿…é¡»åœ¨åˆå§‹åŒ–å¼‚æ­¥æ“ä½œæ—¶å®šä¹‰å›è°ƒã€‚å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼åªåœ¨çŸ­æ—¶é—´å†…å­˜åœ¨ï¼Œåªæœ‰é¢„å¤‡å¥½å°†è¿™ä¸ªçŸ­æ—¶é—´å­˜åœ¨çš„å€¼ä½œä¸ºå‚æ•°çš„å›è°ƒæ‰èƒ½æ¥æ”¶åˆ°å®ƒã€‚</p>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="Symbol-ç±»å‹"><a href="#Symbol-ç±»å‹" class="headerlink" title="Symbol ç±»å‹"></a>Symbol ç±»å‹</h3><p>æ ¹æ®è§„èŒƒï¼Œå¯¹è±¡çš„å±æ€§å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹æˆ–è€… <code>Symbol</code> ç±»å‹ã€‚</p>
<p><code>Symbol</code> ä¸ä¼šè¢«éšå¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚æ˜¾å¼è½¬æ¢éœ€è¦è°ƒç”¨ <code>toString()</code> ã€‚æˆ–è€…ä½¿ç”¨ <code>description</code> å±æ€§æ¥æ˜¾ç¤ºæè¿°ã€‚</p>
<p><code>Symbol</code> ä¼šåœ¨ <code>for-in</code> ä¸­è¢«è·³è¿‡ã€‚</p>
<p><code>Object.assign</code> ä¼šåŒæ—¶å¤åˆ¶å­—ç¬¦ä¸²å’Œ <code>Symbol</code> å±æ€§ã€‚</p>
<h4 id="å…¨å±€-symbol"><a href="#å…¨å±€-symbol" class="headerlink" title="å…¨å±€ symbol"></a>å…¨å±€ symbol</h4><p>æ ¹æ®ç›¸åŒçš„åå­—åˆ›å»ºå‡ºæ¥çš„ <code>symbol</code> éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœæƒ³è¦åå­—ç›¸åŒçš„ <code>Symbol</code> å…·æœ‰ç›¸åŒçš„å®ä½“ï¼Œå¯ä»¥ä½¿ç”¨ <strong>å…¨å±€ Symbol æ³¨å†Œè¡¨</strong> ã€‚</p>
<p>ä»æ³¨å†Œè¡¨è¯»å–( ä¸å­˜åœ¨åˆ™åˆ›å»º ) <code>Symbol</code> ï¼Œä½¿ç”¨ <code>Symbol.for(key)</code> ã€‚</p>
<p>ä½¿ç”¨ <code>Symbol.keyFor(sym)</code> ï¼Œæ ¹æ®ä¸€ä¸ªå…¨å±€ Symbol æ¥è¿”å›ä¸€ä¸ªåå­—ã€‚</p>
<h4 id="ç³»ç»Ÿ-Symbol"><a href="#ç³»ç»Ÿ-Symbol" class="headerlink" title="ç³»ç»Ÿ Symbol"></a>ç³»ç»Ÿ Symbol</h4><p>JavaScript å†…éƒ¨æœ‰å¾ˆå¤šç³»ç»Ÿ Symbolã€‚</p>
<ul>
<li><code>Symbol.hasInstance</code></li>
<li><code>Symbol.isConcatSpreadable</code></li>
<li><code>Symbol.iterator</code></li>
<li><code>Symbol.toPrimitive</code></li>
<li>â€¦</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 27</title>
    <url>/2020/10/27/xue-xi-bi-ji-2020-10-27/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-27"><a href="#å­¦ä¹ ç¬”è®°-2020-10-27" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-27"></a>å­¦ä¹ ç¬”è®° 2020-10-27</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="å‡½æ•°è¡¨è¾¾å¼"><a href="#å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼"></a>å‡½æ•°è¡¨è¾¾å¼</h4><p>å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºçš„å‡½æ•°å«åšåŒ¿åå‡½æ•°ï¼Œä¹Ÿå«åšå…°å§†è¾¾å‡½æ•°ã€‚å› ä¸º <code>function</code> å…³é”®å­—æ²¡æœ‰æ ‡è¯†ç¬¦ã€‚æœªèµ‹å€¼ç»™å…¶ä»–å˜é‡çš„åŒ¿åå‡½æ•°çš„ <code>name</code> å±æ€§æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚</p>
<h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>é€’å½’å‡½æ•°é€šå¸¸çš„å½¢å¼æ˜¯ä¸€ä¸ªå‡½æ•°é€šè¿‡åç§°è°ƒç”¨è‡ªå·±ã€‚</p>
<p>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>arguments.callee</code> æ¥è®¿é—®è‡ªèº«å‡½æ•°ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å‘½åå‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> factorial <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">f</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h4 id="å°¾è°ƒç”¨ä¼˜åŒ–"><a href="#å°¾è°ƒç”¨ä¼˜åŒ–" class="headerlink" title="å°¾è°ƒç”¨ä¼˜åŒ–"></a>å°¾è°ƒç”¨ä¼˜åŒ–</h4><p><code>ECMAScript6</code> æ–°å¢äº†ä¸€é¡¹å†…å­˜ç®¡ç†ä¼˜åŒ–æœºåˆ¶ï¼Œè®© <code>JS</code> å¼•æ“åœ¨æ»¡è¶³æ¡ä»¶æ—¶å¯ä»¥é‡ç”¨æ ˆå¸§ã€‚ä¾‹å¦‚å°¾è°ƒç”¨ï¼Œå³å¤–éƒ¨å‡½æ•°çš„è¿”å›æ˜¯å†…éƒ¨å‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°¾è°ƒç”¨</span>
<span class="token punctuation">}</span></code></pre>
<p>åœ¨ <code>ES6</code> ä¼˜åŒ–ä¹‹å‰ï¼Œè¿™ä¸ªä¾‹å­ä¼šåœ¨å†…å­˜ä¸­å‘ç”Ÿå¦‚ä¸‹æ“ä½œã€‚</p>
<ol>
<li>æ‰§è¡Œåˆ° <code>outerFunction</code> å‡½æ•°ä½“ï¼Œç¬¬ä¸€ä¸ªæ ˆå¸§è¢«æ¨åˆ°æ ˆä¸Šã€‚</li>
<li>æ‰§è¡Œ <code>outerFunction</code> å‡½æ•°ä½“ï¼Œåˆ° <code>return</code> è¯­å¥ã€‚è®¡ç®—è¿”å›å€¼å¿…é¡»å…ˆè®¡ç®— <code>innerFunction</code> ã€‚</li>
<li>æ‰§è¡Œåˆ° <code>innerFunction</code> å‡½æ•°ä½“ï¼Œç¬¬äºŒä¸ªæ ˆå¸§è¢«æ¨åˆ°æ ˆä¸Šã€‚</li>
<li>æ‰§è¡Œ <code>innerFunction</code> å‡½æ•°ä½“ï¼Œè®¡ç®—å…¶è¿”å›å€¼ã€‚</li>
<li>å°†è¿”å›å€¼ä¼ å› <code>outerFunction</code> ï¼Œç„¶å <code>outerFunction</code> å†è¿”å›å€¼ã€‚</li>
<li>å°†æ ˆå¸§å¼¹åˆ°æ ˆå¤–ã€‚</li>
</ol>
<p>åœ¨ <code>ES6</code> ä¼˜åŒ–ä¹‹åï¼Œæ‰§è¡Œè¿™ä¸ªä¾‹å­ä¼šåœ¨å†…å­˜ä¸­å‘ç”Ÿå¦‚ä¸‹æ“ä½œã€‚</p>
<ol>
<li>æ‰§è¡Œåˆ° <code>outerFunction</code> å‡½æ•°ä½“ï¼Œç¬¬ä¸€ä¸ªæ ˆå¸§è¢«æ¨åˆ°æ ˆä¸Šã€‚</li>
<li>æ‰§è¡Œ <code>outerFunction</code> å‡½æ•°ä½“ï¼Œåˆ°è¾¾ <code>return</code> è¯­å¥ã€‚ä¸ºæ±‚å€¼è¿”å›è¯­å¥ï¼Œå¿…é¡»å…ˆæ±‚å€¼ <code>innerFunction</code> ã€‚</li>
<li>å¼•æ“å‘ç°æŠŠç¬¬ä¸€ä¸ªæ ˆå¸§å¼¹å‡ºæ ˆå¤–ä¹Ÿæ²¡é—®é¢˜ï¼Œå› ä¸º <code>innerFunction</code> çš„è¿”å›å€¼ä¹Ÿæ˜¯ <code>outerFunction</code> çš„è¿”å›å€¼ã€‚</li>
<li>å¼¹å‡º <code>outerFunction</code> çš„æ ˆå¸§ã€‚</li>
<li>æ‰§è¡Œåˆ° <code>innerFunction</code> å‡½æ•°ä½“ï¼Œæ ˆå¸§è¢«æ¨åˆ°æ ˆä¸Šã€‚</li>
<li>æ‰§è¡Œ <code>innerFunction</code> å‡½æ•°ä½“ï¼Œè®¡ç®—å…¶è¿”å›å€¼ã€‚</li>
<li>å°† <code>innerFunction</code> çš„æ ˆå¸§å¼¹å‡ºæ ˆå¤–ã€‚</li>
</ol>
<h5 id="å°¾è°ƒç”¨ä¼˜åŒ–çš„æ¡ä»¶"><a href="#å°¾è°ƒç”¨ä¼˜åŒ–çš„æ¡ä»¶" class="headerlink" title="å°¾è°ƒç”¨ä¼˜åŒ–çš„æ¡ä»¶"></a>å°¾è°ƒç”¨ä¼˜åŒ–çš„æ¡ä»¶</h5><p>æ¡ä»¶æ˜¯å¤–éƒ¨æ ˆå¸§æ²¡æœ‰å¿…è¦å­˜åœ¨ã€‚</p>
<ul>
<li><p>ä»£ç åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œã€‚</p>
</li>
<li><p>å¤–éƒ¨å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹ä¸ºè°ƒç”¨å‡½æ•°çš„è°ƒç”¨ã€‚</p>
</li>
<li><p>å°¾è°ƒç”¨å‡½æ•°è¿”å›åä¸éœ€è¦æ‰§è¡Œé¢å¤–çš„é€»è¾‘ã€‚</p>
</li>
<li><p>å°¾è°ƒç”¨å‡½æ•°ä¸æ˜¯å¼•ç”¨å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­è‡ªç”±å˜é‡çš„é—­åŒ…ã€‚</p>
</li>
</ul>
<p>è¦æ±‚ä¸¥æ ¼æ¨¡å¼çš„åŸå› æ˜¯éä¸¥æ ¼æ¨¡å¼ä¸‹å‡½æ•°è°ƒç”¨ä¸­å…è®¸ä½¿ç”¨ <code>f.arguments</code> å’Œ <code>f.caller</code> ï¼Œè€Œå®ƒä»¬éƒ½ä¼šå¼•ç”¨å¤–éƒ¨å‡½æ•°çš„æ ˆå¸§ã€‚</p>
<h4 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h4><p>å‡½æ•°æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ªåŒ…å«å…¶ä¸­å˜é‡çš„å¯¹è±¡ã€‚å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„å«å˜é‡å¯¹è±¡ï¼Œå®ƒä¼šåœ¨ä»£ç æ‰§è¡ŒæœŸé—´å§‹ç»ˆå­˜åœ¨ã€‚è€Œå‡½æ•°å†…éƒ¨ä¸Šä¸‹æ–‡ä¸­çš„å«æ´»åŠ¨å¯¹è±¡ï¼Œåªåœ¨å‡½æ•°æ‰§è¡ŒæœŸé—´å­˜åœ¨ã€‚åœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œå°±ä¼šä¸ºå®ƒåˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œé¢„è£…è½½å…¨å±€å˜é‡å¯¹è±¡ï¼Œå¹¶ä¿å­˜åœ¨å†…éƒ¨çš„ <code>[[Scope]]</code> ä¸­ã€‚åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºç›¸åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç„¶åé€šè¿‡å¤åˆ¶å‡½æ•°çš„ <code>[[Scope]]</code> æ¥åˆ›å»ºå…¶ä½œç”¨åŸŸé“¾ã€‚æ¥ç€åˆ›å»ºå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å¹¶å°†å…¶æ¨å…¥ä½œç”¨åŸŸé“¾çš„å‰ç«¯ã€‚</p>
<p>å‡½æ•°å†…éƒ¨çš„ä»£ç è®¿é—®å˜é‡æ—¶ï¼Œå°±ä¼šä½¿ç”¨ç»™å®šçš„åç§°ä»ä½œç”¨åŸŸé“¾ä¸­æŸ¥æ‰¾å˜é‡ã€‚å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå±€éƒ¨æ´»åŠ¨å¯¹è±¡ä¼šè¢«é”€æ¯ã€‚</p>
<p>è€Œåœ¨é—­åŒ…ä¸­ï¼Œä¸€ä¸ªå‡½æ•°è‹¥æ˜¯å¼•ç”¨äº†å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œå½“è¿™ä¸ªå‡½æ•°å­˜åœ¨çš„æ—¶å€™ï¼Œå¤–éƒ¨ä½œç”¨åŸŸå°±ä¸ä¼šè¢«é”€æ¯ã€‚å³ä½¿å¤–éƒ¨ä½œç”¨åŸŸå¯¹åº”çš„å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</p>
<h5 id="this-å¯¹è±¡"><a href="#this-å¯¹è±¡" class="headerlink" title="this å¯¹è±¡"></a><code>this</code> å¯¹è±¡</h5><p>å¯ä»¥åˆ©ç”¨é—­åŒ…æ¥ä½¿ä¸€ä¸ªå‡½æ•°å†…éƒ¨è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸçš„ <code>this</code> å¯¹è±¡ã€‚</p>
<p>å³å®šä¹‰ä¸€ä¸ªå˜é‡æ¥ä¿å­˜å¤–éƒ¨å‡½æ•°çš„ <code>this</code> å¼•ç”¨ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®åˆ°è¯¥å˜é‡ã€‚</p>
<pre class=" language-js"><code class="language-js">window<span class="token punctuation">.</span>identity <span class="token operator">=</span> <span class="token string">'The Window'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  identity<span class="token punctuation">:</span> <span class="token string">'My Object'</span><span class="token punctuation">,</span>
  <span class="token function">getIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>identity<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">getIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 'My Object'</span>
<span class="token punctuation">(</span>object<span class="token punctuation">.</span>getIdentity<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 'My Object'</span>
<span class="token punctuation">(</span>object<span class="token punctuation">.</span>getIdentity <span class="token operator">=</span> object<span class="token punctuation">.</span>getIdentity<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 'The Window'</span></code></pre>
<h5 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h5><p><code>IE</code> åœ¨ <code>IE9</code> ä»¥å‰å¯¹ <code>JScript</code> å¯¹è±¡å’Œ <code>COM</code> å¯¹è±¡ä½¿ç”¨äº†ä¸åŒçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ‰€ä»¥é—­åŒ…åœ¨æ—§ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚å³å­˜åœ¨å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å¯é€‰é“¾-â€œ-â€"><a href="#å¯é€‰é“¾-â€œ-â€" class="headerlink" title="å¯é€‰é“¾ â€œ?.â€"></a>å¯é€‰é“¾ â€œ?.â€</h3><p>ä¸€ä¸ªå¸¸è§çš„æƒ…æ™¯ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// user æ²¡æœ‰ address</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>address <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>address<span class="token punctuation">.</span>street<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined(ä¸æŠ¥é”™)</span></code></pre>
<p>å¯é€‰é“¾ä¼šåœ¨é‡åˆ° <code>undefined</code> æˆ– <code>null</code> æ—¶åœæ­¢è¿ç®—å¹¶è¿”å› <code>undefined</code> ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// user æ²¡æœ‰ address</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>street<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined ï¼ˆä¸æŠ¥é”™ï¼‰</span></code></pre>
<p>å¯é€‰é“¾åªå…è®¸å‰é¢çš„å€¼æˆä¸ºå¯é€‰å€¼ï¼Œä¸å½±å“åé¢ã€‚å¯é€‰é“¾å‰çš„å˜é‡å¿…é¡»å·²å£°æ˜ï¼Œå¦åˆ™ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>å¯ä½¿ç”¨ <code>?.()</code> å¯é€‰çš„è°ƒç”¨ä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„å‡½æ•°ã€‚</p>
<p>å¯ä½¿ç”¨ <code>?.[]</code> æ¥ä½¿ç”¨æ–¹æ‹¬å·è®¿é—®å±æ€§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 26</title>
    <url>/2020/10/26/xue-xi-bi-ji-2020-10-26/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-26"><a href="#å­¦ä¹ ç¬”è®°-2020-10-26" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-26"></a>å­¦ä¹ ç¬”è®° 2020-10-26</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="å‡½æ•°æ‰©å±•ä¸æ”¶é›†"><a href="#å‡½æ•°æ‰©å±•ä¸æ”¶é›†" class="headerlink" title="å‡½æ•°æ‰©å±•ä¸æ”¶é›†"></a>å‡½æ•°æ‰©å±•ä¸æ”¶é›†</h4><p><code>ECMAScript6</code> æ–°å¢äº†æ‰©å±•æ“ä½œç¬¦ã€‚æ‰©å±•æ“ä½œç¬¦æ—¢å¯ä»¥ç”¨äºè°ƒç”¨å‡½æ•°æ—¶ä¼ å‚ï¼Œä¹Ÿå¯ä»¥ç”¨äºå®šä¹‰å‡½æ•°å‚æ•°ã€‚</p>
<h5 id="æ‰©å±•å‚æ•°"><a href="#æ‰©å±•å‚æ•°" class="headerlink" title="æ‰©å±•å‚æ•°"></a>æ‰©å±•å‚æ•°</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+</span><span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10</span></code></pre>
<p>å¯¹å¯è¿­ä»£å¯¹è±¡ä½¿ç”¨æ‹“å±•æ“ä½œç¬¦ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œå¯ä»¥å°†å¯è¿­ä»£å¯¹è±¡æ‹†åˆ†ï¼Œå¹¶å°†è¿­ä»£è¿”å›çš„æ¯ä¸ªå€¼å•ç‹¬ä¼ å…¥ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getProduct</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">*</span> b <span class="token operator">*</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> getSum <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span></code></pre>
<h5 id="æ”¶é›†å‚æ•°"><a href="#æ”¶é›†å‚æ•°" class="headerlink" title="æ”¶é›†å‚æ•°"></a>æ”¶é›†å‚æ•°</h5><p>åœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œä½¿ç”¨æ‰©å±•æ“ä½œç¬¦å¯ä»¥å°†ä¸åŒé•¿åº¦çš„ç‹¬ç«‹å‚æ•°ç»„åˆä¸ºä¸€ä¸ªæ•°ç»„ã€‚æ”¶é›†å‚æ•°å‰é¢å¯ä»¥æœ‰å…¶ä½™å‘½åå‚æ•°ï¼Œä½†åªèƒ½ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
<p>ç®­å¤´å‡½æ•°ä¹Ÿæ”¯æŒæ”¶é›†å‡½æ•°ã€‚</p>
<h4 id="å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼"><a href="#å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼"></a>å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼</h4><p><code>JS</code> å¼•æ“åœ¨ä»£ç æ‰§è¡Œä¹‹å‰ï¼Œä¼šå…ˆè¯»å–å‡½æ•°å£°æ˜ï¼Œå¹¶åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ç”Ÿæˆå‡½æ•°å®šä¹‰ã€‚å‡½æ•°è¡¨è¾¾å¼å¿…é¡»ç­‰åˆ°ä»£ç æ‰§è¡Œåˆ°å®ƒï¼Œæ‰ä¼šåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ç”Ÿæˆå‡½æ•°å®šä¹‰ã€‚</p>
<p>å› æ­¤å‡½æ•°å£°æ˜åœ¨ä½¿ç”¨å®ƒä¹‹å‰æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºå‡½æ•°å£°æ˜ä¼šè¢«æå‡ã€‚</p>
<h4 id="å‡½æ•°ä½œä¸ºå€¼"><a href="#å‡½æ•°ä½œä¸ºå€¼" class="headerlink" title="å‡½æ•°ä½œä¸ºå€¼"></a>å‡½æ•°ä½œä¸ºå€¼</h4><p>å‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡ä¼ é€’ï¼Œä¹Ÿå¯ä»¥è¢«è¿”å›ã€‚</p>
<h4 id="å‡½æ•°å†…éƒ¨"><a href="#å‡½æ•°å†…éƒ¨" class="headerlink" title="å‡½æ•°å†…éƒ¨"></a>å‡½æ•°å†…éƒ¨</h4><h5 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a><code>arguments</code></h5><p><code>arguments</code> å¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼ŒåŒ…å«è°ƒç”¨å‚æ•°æ—¶ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚è¿™ä¸ªå¯¹è±¡åªæœ‰ä»¥ <code>function</code> å…³é”®å­—å®šä¹‰å‡½æ•°æ—¶æ‰ä¼šæœ‰ã€‚</p>
<p><code>arguments</code> æœ‰ä¸€ä¸ª <code>callee</code> å±æ€§ï¼ŒæŒ‡å‘è¯¥ <code>arguments</code> å¯¹è±¡æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
<h5 id="this"><a href="#this" class="headerlink" title="this"></a><code>this</code></h5><p>åœ¨æ ‡å‡†å‡½æ•°ä¸­ï¼Œ <code>this</code> å¼•ç”¨æŠŠå‡½æ•°å½“æˆæ–¹æ³•è°ƒç”¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p>
<p><code>this</code> å¼•ç”¨çš„å€¼åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ç¡®å®šã€‚</p>
<p>ç®­å¤´å‡½æ•°ä¸­çš„ <code>this</code> å¼•ç”¨çš„æ˜¯å®šä¹‰ç®­å¤´å‡½æ•°çš„ä¸Šä¸‹æ–‡ã€‚</p>
<h5 id="caller"><a href="#caller" class="headerlink" title="caller"></a><code>caller</code></h5><p><code>ECMAScript5</code> ä¹Ÿä¼šç»™å‡½æ•°å¯¹è±¡ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§ï¼š <code>caller</code> ã€‚è¿™ä¸ªå±æ€§å¼•ç”¨è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°ã€‚åœ¨å…¨å±€ä¸­è°ƒç”¨åˆ™ä¸º <code>null</code> ã€‚</p>
<p>ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸èƒ½è®¿é—® <code>arguments.callee</code> ï¼Œä¹Ÿä¸èƒ½è®¿é—® <code>caller</code> ï¼Œä¸èƒ½ç»™å‡½æ•°çš„ <code>caller</code> å±æ€§èµ‹å€¼ã€‚</p>
<h5 id="new-target"><a href="#new-target" class="headerlink" title="new.target"></a><code>new.target</code></h5><p><code>ECMAScript6</code> æ–°å¢äº†æ£€æµ‹å‡½æ•°æ˜¯å¦ä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨çš„ <code>new.target</code> å±æ€§ã€‚å¦‚æœä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨ï¼Œåˆ™ <code>new.target</code> å°†å¼•ç”¨è¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™ä¸º <code>undefined</code> ã€‚</p>
<h4 id="å‡½æ•°å±æ€§ä¸æ–¹æ³•"><a href="#å‡½æ•°å±æ€§ä¸æ–¹æ³•" class="headerlink" title="å‡½æ•°å±æ€§ä¸æ–¹æ³•"></a>å‡½æ•°å±æ€§ä¸æ–¹æ³•</h4><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸¤ä¸ªå±æ€§ï¼Œ <code>length</code> å’Œ <code>prototype</code> ã€‚<code>length</code> å±æ€§ä¿å­˜å‡½æ•°å®šä¹‰çš„å‘½åå‚æ•°çš„ä¸ªæ•°ã€‚</p>
<p><code>prototype</code> å±æ€§ä¿å­˜å¼•ç”¨ç±»å‹æ‰€æœ‰å®ä¾‹æ–¹æ³•ã€‚åœ¨ <code>ECMAScript5</code> ä¸­ï¼Œè¯¥å±æ€§æ˜¯ä¸å¯æšä¸¾çš„ã€‚</p>
<p>å‡½æ•°æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œ<code>apply()</code> å’Œ <code>call()</code> ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šä»¥æŒ‡å®šçš„ <code>this</code> å€¼æ¥è°ƒç”¨å‡½æ•°ã€‚åŒºåˆ«åœ¨äº <code>apply()</code> åªéœ€è¦æœ€å¤šä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯æ•°ç»„ä¹Ÿå¯ä»¥æ˜¯ <code>arguments</code> å¯¹è±¡ã€‚</p>
<p><code>ECMAScript5</code> å®šä¹‰äº†ä¸€ä¸ªæ–°æ–¹æ³• <code>bind()</code> ã€‚<code>bind()</code> åªä¼šç»‘å®š <code>this</code> å€¼ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å®ä¾‹ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>ä¸¤ä¸ªå‡½æ•°â€”ä¸€ä¸ªå¯¹è±¡</p>
<p>æ˜¯å¦å¯ä»¥åˆ›å»ºåƒ <code>new A()==new B()</code> è¿™æ ·çš„å‡½æ•° <code>A</code> å’Œ <code>B</code>ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> a <span class="token operator">==</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å¦‚æœå¯ä»¥ï¼Œè¯·æä¾›ä¸€ä¸ªå®ƒä»¬çš„ä»£ç ç¤ºä¾‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
</li>
<li><p>åˆ›å»º new Calculator</p>
<p>åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•° <code>Calculator</code>ï¼Œå®ƒåˆ›å»ºçš„å¯¹è±¡ä¸­æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><code>read()</code> ä½¿ç”¨ <code>prompt</code> è¯·æ±‚ä¸¤ä¸ªå€¼å¹¶æŠŠå®ƒä»¬è®°å½•åœ¨å¯¹è±¡çš„å±æ€§ä¸­ã€‚</li>
<li><code>sum()</code> è¿”å›è¿™äº›å±æ€§çš„æ€»å’Œã€‚</li>
<li><code>mul()</code> è¿”å›è¿™äº›å±æ€§çš„ä¹˜ç§¯ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
calculator<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">"Sum="</span> <span class="token operator">+</span> calculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">"Mul="</span> <span class="token operator">+</span> calculator<span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>read <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'a?'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'b?'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>mul <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>åˆ›å»º new Accumulator</p>
<p>åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•° <code>Accumulator(startingValue)</code>ã€‚</p>
<p>å®ƒåˆ›å»ºçš„å¯¹è±¡åº”è¯¥ï¼š</p>
<ul>
<li>å°†â€œå½“å‰ valueâ€å­˜å‚¨åœ¨å±æ€§ <code>value</code> ä¸­ã€‚èµ·å§‹å€¼è¢«è®¾ç½®åˆ°æ„é€ å™¨ <code>startingValue</code> çš„å‚æ•°ã€‚</li>
<li><code>read()</code> æ–¹æ³•åº”è¯¥ä½¿ç”¨ <code>prompt</code> æ¥è¯»å–ä¸€ä¸ªæ–°çš„æ•°å­—ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° <code>value</code> ä¸­ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œ<code>value</code> å±æ€§æ˜¯æ‰€æœ‰ç”¨æˆ·è¾“å…¥å€¼ä¸åˆå§‹å€¼ <code>startingValue</code> çš„æ€»å’Œã€‚</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> accumulator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Accumulator</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆå§‹å€¼ 1</span>
accumulator<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ·»åŠ ç”¨æˆ·è¾“å…¥çš„ value</span>
accumulator<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ·»åŠ ç”¨æˆ·è¾“å…¥çš„ value</span>
<span class="token function">alert</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ˜¾ç¤ºè¿™äº›å€¼çš„æ€»å’Œ</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Accumulator</span><span class="token punctuation">(</span>startingValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> startingValue<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>read <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">+</span><span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'new value?'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="å­¦ä¹ è®°å½•"><a href="#å­¦ä¹ è®°å½•" class="headerlink" title="å­¦ä¹ è®°å½•"></a>å­¦ä¹ è®°å½•</h2><h3 id="grid-å¸ƒå±€"><a href="#grid-å¸ƒå±€" class="headerlink" title="grid å¸ƒå±€"></a><code>grid</code> å¸ƒå±€</h3><p><code>auto-fill</code> ä¸ <code>auto-fit</code> çš„åŒºåˆ«ï¼š</p>
<p><code>auto-fill</code> åªä¼šè‡ªåŠ¨æ§åˆ¶å­å…ƒç´ çš„å¤§å°æ¥å®ç°å¸ƒå±€ã€‚è€Œ <code>auto-fit</code> ä¼šåœ¨çˆ¶å®¹å™¨æœ‰å¤šä½™å®½åº¦çš„æ—¶å€™æ‹‰ä¼¸å­å…ƒç´ æ¥å¡«æ»¡çˆ¶å®¹å™¨ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 25</title>
    <url>/2020/10/25/xue-xi-bi-ji-2020-10-25/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-25"><a href="#å­¦ä¹ ç¬”è®°-2020-10-25" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-25"></a>å­¦ä¹ ç¬”è®° 2020-10-25</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="ä»£ç†ä¸åå°„"><a href="#ä»£ç†ä¸åå°„" class="headerlink" title="ä»£ç†ä¸åå°„"></a>ä»£ç†ä¸åå°„</h3><h4 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h4><h5 id="æ•°æ®ç»‘å®šä¸å¯è§‚å¯Ÿå¯¹è±¡"><a href="#æ•°æ®ç»‘å®šä¸å¯è§‚å¯Ÿå¯¹è±¡" class="headerlink" title="æ•°æ®ç»‘å®šä¸å¯è§‚å¯Ÿå¯¹è±¡"></a>æ•°æ®ç»‘å®šä¸å¯è§‚å¯Ÿå¯¹è±¡</h5><p>é€šè¿‡ä»£ç†å¯ä»¥å®ç°æŠŠè¢«ä»£ç†çš„ç±»ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å®ä¾‹é›†åˆï¼Œè®©æ‰€æœ‰åˆ›å»ºçš„å®ä¾‹éƒ½æ·»åŠ åˆ°è¿™ä¸ªé›†åˆä¸­ã€‚å†æŠŠé›†åˆç»‘å®šåˆ°ä¸€ä¸ªäº‹ä»¶åˆ†æ´¾ç¨‹åºï¼Œæ¯æ¬¡æ’å…¥æ–°å®ä¾‹æ—¶éƒ½ä¼šå‘é€æ¶ˆæ¯ã€‚</p>
<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>å‡½æ•°å®é™…ä¸Šæ˜¯ä¸ªå¯¹è±¡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ˜¯ <code>Function</code> ç±»å‹çš„å®ä¾‹ã€‚</p>
<p>å®šä¹‰å‡½æ•°çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li><p>å‡½æ•°å£°æ˜</p>
</li>
<li><p>å‡½æ•°è¡¨è¾¾å¼</p>
</li>
<li><p>ç®­å¤´å‡½æ•°</p>
</li>
<li><p><code>Function</code> æ„é€ å‡½æ•°</p>
<p>è¯¥æ„é€ å‡½æ•°æ¥æ”¶ä»»æ„å¤šä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œæœ€åä¸€ä¸ªå‚æ•°å§‹ç»ˆä¼šè¢«å½“æˆå‡½æ•°ä½“ã€‚</p>
</li>
</ul>
<h4 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h4><p>ç®­å¤´å‡½æ•°è¯­æ³•ç®€æ´ï¼Œä½†ä¸èƒ½ä½¿ç”¨ <code>arguments</code> ã€ <code>super</code> å’Œ <code>new.target</code> ï¼Œä¹Ÿä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ä¹Ÿæ²¡æœ‰ <code>prototype</code> å±æ€§ã€‚</p>
<h4 id="å‡½æ•°å"><a href="#å‡½æ•°å" class="headerlink" title="å‡½æ•°å"></a>å‡½æ•°å</h4><p>å‡½æ•°åå°±æ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼Œä¸å…¶ä»–åŒ…å«å¯¹è±¡æŒ‡é’ˆçš„å˜é‡å…·æœ‰ç›¸åŒçš„è¡Œä¸ºã€‚ä¸€ä¸ªå‡½æ•°å¯ä»¥æœ‰å¤šä¸ªåç§°ã€‚ä½¿ç”¨ä¸å¸¦æ‹¬å·çš„å‡½æ•°åä¼šè®¿é—®å‡½æ•°æŒ‡é’ˆã€‚</p>
<p><code>ECMAScript6</code> çš„æ‰€æœ‰å‡½æ•°å¯¹è±¡éƒ½ä¼šæš´éœ²ä¸€ä¸ªåªè¯»çš„ <code>name</code> å±æ€§ã€‚å¦‚æœå‡½æ•°æ˜¯ä¸€ä¸ªè·å–å‡½æ•°ã€è®¾ç½®å‡½æ•°æˆ–æ˜¯ä½¿ç”¨ <code>bind()</code> å®ä¾‹åŒ–ï¼Œæ ‡è¯†ç¬¦å‰é¢ä¼šåŠ ä¸Šä¸€ä¸ªå‰ç¼€ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// baz</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// anonymous</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bound foo</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
  years<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>years<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">age</span><span class="token punctuation">(</span>newAge<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>years <span class="token operator">=</span> newAge<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> propertyDescriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>dog<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>propertyDescriptor<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// get age</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>propertyDescriptor<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// set age</span></code></pre>
<h4 id="ç†è§£å‚æ•°"><a href="#ç†è§£å‚æ•°" class="headerlink" title="ç†è§£å‚æ•°"></a>ç†è§£å‚æ•°</h4><p><code>ECMAScript</code> å‡½æ•°çš„å‚æ•°è·Ÿå¤§å¤šæ•°å…¶ä»–è¯­è¨€ä¸åŒï¼Œä¸å…³å¿ƒä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€ç±»å‹ã€‚</p>
<p>åŸå› æ˜¯ <code>ECMAScript</code> å‡½æ•°çš„å‚æ•°åœ¨å†…éƒ¨è¡¨ç°ä¸ºä¸€ä¸ªæ•°ç»„ã€‚å‡½æ•°å¹¶ä¸å…³å¿ƒè¿™ä¸ªæ•°ç»„ä¸­åŒ…å«ä»€ä¹ˆã€‚åœ¨ä½¿ç”¨ <code>function</code> å…³é”®å­—å®šä¹‰éç®­å¤´å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>arguments</code> å¯¹è±¡æ¥è®¿é—®æ¯ä¸ªå‚æ•°ã€‚</p>
<p><code>arguments</code> æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œå¯ä»¥å’Œå‘½åå‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚å®ƒçš„å€¼å§‹ç»ˆä¼šå’Œå¯¹åº”çš„å‘½åå‚æ•°åŒæ­¥ã€‚ä¸¤è€…æ˜¯ç›¸å¯¹åº”çš„ï¼Œä½†ä»…é™äºä¼ å…¥çš„å‚æ•°å¯¹åº”ã€‚æœªä¼ å…¥çš„å‚æ•°ä½ç½®ä½¿ç”¨ <code>arguments</code> ä¿®æ”¹æ˜¯ä¸ä¼šåæ˜ åˆ°å‘½åå‚æ•°ä¸Šçš„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">doAdd</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Arguments [99, length: 1]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 99 undefined</span>
  arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Arguments [5, 1: 10, length: 1]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5 undefined</span>
  num1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  num2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Arguments [1, 1: 10, length: 1]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1 2</span>
<span class="token punctuation">}</span>

<span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»™ <code>aguments[1]</code> èµ‹å€¼ä¸ä¼šå†å½±å“ <code>num2</code> ã€‚åœ¨å‡½æ•°ä¸­é‡å†™ <code>arguments</code> å¯¹è±¡ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚</p>
<h4 id="æ²¡æœ‰é‡è½½"><a href="#æ²¡æœ‰é‡è½½" class="headerlink" title="æ²¡æœ‰é‡è½½"></a>æ²¡æœ‰é‡è½½</h4><p><code>ECMAScript</code> ä¸­åå®šä¹‰çš„åŒåå‡½æ•°ä¼šè¦†ç›–å…ˆå®šä¹‰çš„ã€‚</p>
<h4 id="é»˜è®¤å‚æ•°å€¼"><a href="#é»˜è®¤å‚æ•°å€¼" class="headerlink" title="é»˜è®¤å‚æ•°å€¼"></a>é»˜è®¤å‚æ•°å€¼</h4><p>åœ¨ <code>ECMAScript5.1</code> åŠä»¥å‰ï¼Œå®ç°é»˜è®¤å‚æ•°çš„å¸¸ç”¨æ–¹å¼æ˜¯æ£€æŸ¥æŸä¸ªå‚æ•°æ˜¯å¦ç­‰äº <code>undefined</code> ã€‚</p>
<p><code>ECMAScript6</code> ä¹‹åæ”¯æŒæ˜¾å¼å®šä¹‰é»˜è®¤å‚æ•°ã€‚åœ¨å‡½æ•°å®šä¹‰ä¸­çš„å‚æ•°åé¢ç”¨ <code>=</code> èµ‹é»˜è®¤å€¼ã€‚</p>
<p>åœ¨ä½¿ç”¨é»˜è®¤å‚æ•°æ—¶ï¼Œ <code>arguments</code> å¯¹è±¡çš„å€¼ä¸åæ˜ å‚æ•°çš„é»˜è®¤å€¼ï¼Œåªåæ˜ ä¼ ç»™å‡½æ•°çš„å‚æ•°ã€‚ä¿®æ”¹å‘½åå‚æ•°ä¹Ÿä¸ä¼šå½±å“ <code>arguments</code> å¯¹è±¡ã€‚</p>
<p>é»˜è®¤å‚æ•°å€¼ä¸é™äºåŸå§‹å€¼æˆ–å¯¹è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è°ƒç”¨å‡½æ•°è¿”å›çš„å€¼ã€‚</p>
<p>é»˜è®¤å‚æ•°åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šæ±‚å€¼ï¼Œå®šä¹‰æ—¶ä¸ä¼šæ±‚å€¼ã€‚è®¡ç®—é»˜è®¤å€¼çš„å‡½æ•°åªæœ‰åœ¨è°ƒç”¨å‡½æ•°ä½†æœªä¼ ç›¸åº”å‚æ•°æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>å‡½æ•°å‚æ•°æ˜¯æŸä¸ªä½œç”¨åŸŸä¸­æ±‚å€¼çš„ã€‚ç»™å¤šä¸ªå‚æ•°å®šä¹‰é»˜è®¤å€¼å®é™…ä¸Šå’Œä½¿ç”¨ <code>let</code> å…³é”®å­—é¡ºåºå£°æ˜å˜é‡ä¸€æ ·ï¼Œæ‰€ä»¥åå®šä¹‰é»˜è®¤å€¼çš„å‚æ•°å¯ä»¥å¼•ç”¨å…ˆå®šä¹‰çš„å‚æ•°ã€‚</p>
<p>å‚æ•°åˆå§‹åŒ–é¡ºåºéµå¾ª <strong>â€œæš‚æ—¶æ€§æ­»åŒºâ€</strong> è§„åˆ™ã€‚å‰é¢å®šä¹‰çš„å‚æ•°ä¸èƒ½å¼•ç”¨åé¢å®šä¹‰çš„ã€‚</p>
<p>å‚æ•°å­˜åœ¨äºè‡ªå·±çš„ä½œç”¨åŸŸä¸­ï¼Œä¸èƒ½é¥®ç”¨å‡½æ•°ä½“çš„ä½œç”¨åŸŸã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><p>åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ <code>â€œthis"</code></p>
<p>è¿™é‡Œ <code>makeUser</code> å‡½æ•°è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>è®¿é—® <code>ref</code> çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">makeUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
    ref<span class="token punctuation">:</span> <span class="token keyword">this</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token function">makeUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> user<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</span></code></pre>
<p><code>ref</code> ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯ <code>window</code> ã€‚å› ä¸º <code>this</code> æ˜¯åœ¨è¢«è°ƒç”¨çš„é‚£ä¸€åˆ»ç¡®å®šã€‚è°ƒç”¨ <code>makeUser</code> æ—¶ä½œä¸ºå…¨å±€å‡½æ•°è°ƒç”¨ï¼Œ <code>this</code> ç»‘å®šäº† <code>window</code> ã€‚</p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªè®¡ç®—å™¨</p>
<p>åˆ›å»ºä¸€ä¸ªæœ‰ä¸‰ä¸ªæ–¹æ³•çš„ <code>calculator</code> å¯¹è±¡ï¼š</p>
<ul>
<li><code>read()</code> æç¤ºè¾“å…¥ä¸¤ä¸ªå€¼ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸ºå¯¹è±¡å±æ€§ã€‚</li>
<li><code>sum()</code> è¿”å›ä¿å­˜çš„å€¼çš„å’Œã€‚</li>
<li><code>mul()</code> å°†ä¿å­˜çš„å€¼ç›¸ä¹˜å¹¶è¿”å›è®¡ç®—ç»“æœã€‚</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> calculator <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// â€¦â€¦ä½ çš„ä»£ç â€¦â€¦</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
calculator<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> calculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> calculator<span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> calculator <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  read<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'please enter the first number'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'please enter the second number'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  sum<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mul<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>é“¾å¼(è°ƒç”¨)</p>
<p>æœ‰ä¸€ä¸ªå¯ä»¥ä¸Šä¸‹ç§»åŠ¨çš„ <code>ladder</code> å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> ladder <span class="token operator">=</span> <span class="token punctuation">{</span>
  step<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  showStep<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// æ˜¾ç¤ºå½“å‰çš„ step</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>step <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¦æŒ‰é¡ºåºæ‰§è¡Œå‡ æ¬¡è°ƒç”¨ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">ladder<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ladder<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ladder<span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ladder<span class="token punctuation">.</span><span class="token function">showStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span></code></pre>
<p>ä¿®æ”¹ <code>up</code>ï¼Œ<code>down</code> å’Œ <code>showStep</code> çš„ä»£ç ï¼Œè®©è°ƒç”¨å¯ä»¥é“¾æ¥ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">ladder<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span></code></pre>
<p>è¿™ç§æ–¹æ³•åœ¨ JavaScript åº“ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> ladder <span class="token operator">=</span> <span class="token punctuation">{</span>
  step<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  showStep<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// æ˜¾ç¤ºå½“å‰çš„ step</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>step <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h2 id="MDNå­¦ä¹ è®°å½•"><a href="#MDNå­¦ä¹ è®°å½•" class="headerlink" title="MDNå­¦ä¹ è®°å½•"></a>MDNå­¦ä¹ è®°å½•</h2><h3 id="å¤šåˆ—å¸ƒå±€"><a href="#å¤šåˆ—å¸ƒå±€" class="headerlink" title="å¤šåˆ—å¸ƒå±€"></a>å¤šåˆ—å¸ƒå±€</h3><p>ä½¿ç”¨ <code>column-gap</code> æ”¹å˜åˆ—é—´éš™ã€‚</p>
<p>ä½¿ç”¨ <code>column-rule</code> åœ¨åˆ—é—´åŠ å…¥ä¸€æ¡åˆ†å‰²çº¿ã€‚å±æ€§å€¼ç±»ä¼¼äº <code>border</code> çš„å€¼ã€‚å¹¶ä¸”è¯¥åˆ†å‰²çº¿ä¸å ç”¨å®½åº¦ã€‚</p>
<h4 id="åˆ—ä¸å†…å®¹æŠ˜æ–­"><a href="#åˆ—ä¸å†…å®¹æŠ˜æ–­" class="headerlink" title="åˆ—ä¸å†…å®¹æŠ˜æ–­"></a>åˆ—ä¸å†…å®¹æŠ˜æ–­</h4><p><code>break-inside</code> å±æ€§ç”¨äºè¡¨ç¤ºè¯¥ç›’å­ä¸è¢«æ‹†å¼€ã€‚</p>
<p><code>page-break-inside</code> æ‹¥æœ‰æ›´å¥½çš„æµè§ˆå™¨æ”¯æŒã€‚</p>
<h3 id="å“åº”å¼è®¾è®¡"><a href="#å“åº”å¼è®¾è®¡" class="headerlink" title="å“åº”å¼è®¾è®¡"></a>å“åº”å¼è®¾è®¡</h3><p>å“åº”å¼ç½‘é¡µè®¾è®¡ ( <code>responsive web design</code> )ï¼ŒæŒ‡çš„æ˜¯å…è®¸ <code>Web</code> ç½‘é¡µé€‚åº”ä¸åŒå±å¹•å®½åº¦å› ç´ ç­‰ï¼Œè¿›è¡Œå¸ƒå±€å’Œå¤–è§‚çš„è°ƒæ•´çš„ä¸€ç³»åˆ—å®è·µã€‚</p>
<ol>
<li>æ¶²æ€ç½‘æ ¼ï¼Œè¿™æ—©å…ˆå·²ç”±Gillenwaterè¿›è¡Œæ¢è®¨ï¼Œå¯ä»¥åœ¨Marcotteçš„æ–‡ç« ã€Š<a href="https://alistapart.com/article/fluidgrids/" target="_blank" rel="noopener">Fluid Grids</a>ã€‹ï¼ˆå‡ºç‰ˆäº2009å¹´çš„ã€ŠA List Apartã€‹ä¸Šï¼‰ä¸­è¯»åˆ°ã€‚</li>
<li><a href="http://unstoppablerobotninja.com/entry/fluid-images" target="_blank" rel="noopener">æ¶²æ€å›¾åƒ</a>ã€‚é€šè¿‡ä½¿ç”¨ç›¸å½“ç®€å•çš„å°†è®¾ç½® <code>max-width</code> å±æ€§è®¾ç½®ä¸º <code>100%</code> çš„æŠ€æœ¯ï¼Œå›¾åƒå¯ä»¥åœ¨åŒ…å«å®ƒä»¬çš„åˆ—å˜å¾—æ¯”å›¾åƒåŸå§‹å°ºå¯¸çª„çš„æ—¶å€™ï¼Œç¼©æ”¾å¾—æ›´å°ï¼Œä½†æ€»ä¸ä¼šå˜å¾—æ›´å¤§ã€‚è¿™ä½¿å¾—å›¾åƒå¯ä»¥è¢«ç¼©æ”¾ï¼Œä»¥è¢«æ”¾åˆ°ä¸€ä¸ªçµæ´»å°ºå¯¸çš„åˆ—ï¼Œè€Œä¸æ˜¯æº¢å‡ºå‡ºå»ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šåœ¨åˆ—å®½äºå›¾åƒçš„æ—¶å€™ï¼Œä½¿å›¾åƒå˜å¾—å¤ªå¤§ä»¥è‡³äºç”»è´¨å˜å¾—ç²—ç³™ã€‚</li>
<li>åª’ä½“æŸ¥è¯¢ï¼Œåª’ä½“æŸ¥è¯¢ä½¿ä»¥å¾€ <code>Cameron Adams</code> æ¢è®¨è¿‡çš„ã€ç”± <code>JavaScript</code> å®ç°çš„å¸ƒå±€ç±»å‹åˆ‡æ¢ï¼Œå¯ä»¥åªä½¿ç”¨CSSå®ç°ã€‚å’Œæ‰€æœ‰å°ºå¯¸çš„å±å¹•éƒ½ä½¿ç”¨ä¸€ç§å¸ƒå±€ä¸åŒçš„æ˜¯ï¼Œå¸ƒå±€æ˜¯å¯ä»¥æ”¹å˜çš„ï¼šä¾§æ å¯ä»¥åœ¨å°å±å¹•ä¸Šé‡æ–°å¸ƒå±€ï¼Œè€Œæ›¿ä»£ç”¨çš„å¯¼èˆªæ ä¹Ÿå¯ä»¥æ˜¾ç¤ºå‡ºæ¥ã€‚</li>
</ol>
<h4 id="åª’ä»‹æŸ¥è¯¢"><a href="#åª’ä»‹æŸ¥è¯¢" class="headerlink" title="åª’ä»‹æŸ¥è¯¢"></a>åª’ä»‹æŸ¥è¯¢</h4><p>ä¸‹é¢çš„åª’ä½“æŸ¥è¯¢è¿›è¡Œæµ‹è¯•ï¼Œä»¥çŸ¥æ™“å½“å‰çš„Webé¡µé¢æ˜¯å¦è¢«å±•ç¤ºä¸ºå±å¹•åª’ä½“ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸æ˜¯å°åˆ·æ–‡æ¡£ï¼‰ï¼Œä¸”è§†å£è‡³å°‘æœ‰800åƒç´ å®½ã€‚ç”¨äº <code>.container</code> é€‰æ‹©å™¨çš„CSSå°†åªä¼šåœ¨è¿™ä¸¤ä»¶å‰æå­˜åœ¨çš„æƒ…å†µä¸‹åº”ç”¨ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1</span>em <span class="token number">2</span>em<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>åª’ä½“æŸ¥è¯¢ï¼Œä»¥åŠæ ·å¼æ”¹å˜æ—¶çš„ç‚¹ï¼Œè¢«å«åšæ–­ç‚¹ã€‚</p>
<h3 id="åª’ä½“æŸ¥è¯¢"><a href="#åª’ä½“æŸ¥è¯¢" class="headerlink" title="åª’ä½“æŸ¥è¯¢"></a>åª’ä½“æŸ¥è¯¢</h3><h4 id="åª’ä½“æŸ¥è¯¢åŸºç¡€"><a href="#åª’ä½“æŸ¥è¯¢åŸºç¡€" class="headerlink" title="åª’ä½“æŸ¥è¯¢åŸºç¡€"></a>åª’ä½“æŸ¥è¯¢åŸºç¡€</h4><p>æœ€ç®€å•çš„åª’ä½“æŸ¥è¯¢è¯­æ³•çœ‹èµ·æ¥æ˜¯åƒè¿™æ ·çš„ï¼š</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> media-type and <span class="token punctuation">(</span>media-feature-rule<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* CSS rules go here */</span>
<span class="token punctuation">}</span></code></pre>
<p>å®ƒç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>ä¸€ä¸ªåª’ä½“ç±»å‹ï¼Œå‘Šè¯‰æµè§ˆå™¨è¿™æ®µä»£ç æ˜¯ç”¨åœ¨ä»€ä¹ˆç±»å‹çš„åª’ä½“ä¸Šçš„ï¼ˆä¾‹å¦‚å°åˆ·å“æˆ–è€…å±å¹•ï¼‰ï¼›</li>
<li>ä¸€ä¸ªåª’ä½“è¡¨è¾¾å¼ï¼Œæ˜¯ä¸€ä¸ªè¢«åŒ…å«çš„CSSç”Ÿæ•ˆæ‰€éœ€çš„è§„åˆ™æˆ–è€…æµ‹è¯•ï¼›</li>
<li>ä¸€ç»„CSSè§„åˆ™ï¼Œä¼šåœ¨æµ‹è¯•é€šè¿‡ä¸”åª’ä½“ç±»å‹æ­£ç¡®çš„æ—¶å€™åº”ç”¨ã€‚</li>
</ul>
<p>å¯æŒ‡å®šçš„åª’ä½“ç±»å‹ä¸ºï¼š</p>
<ul>
<li><code>all</code></li>
<li><code>print</code></li>
<li><code>screen</code></li>
<li><code>speech</code></li>
</ul>
<h4 id="æœå‘"><a href="#æœå‘" class="headerlink" title="æœå‘"></a>æœå‘</h4><p>ä¸€ä¸ªå—åˆ°è‰¯å¥½æ”¯æŒçš„åª’ä½“ç‰¹å¾æ˜¯ <code>orientation</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæµ‹å¾—ç«–æ”¾ï¼ˆportrait modeï¼‰å’Œæ¨ªæ”¾ï¼ˆlandscape modeï¼‰æ¨¡å¼ã€‚è¦åœ¨è®¾å¤‡å¤„äºæ¨ªå‘çš„æ—¶å€™æ”¹å˜bodyæ–‡æœ¬é¢œè‰²çš„è¯ï¼Œå¯ä½¿ç”¨ä¸‹é¢çš„åª’ä½“æŸ¥è¯¢ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> landscape<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">body </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="ä½¿ç”¨æŒ‡ç‚¹è®¾å¤‡"><a href="#ä½¿ç”¨æŒ‡ç‚¹è®¾å¤‡" class="headerlink" title="ä½¿ç”¨æŒ‡ç‚¹è®¾å¤‡"></a>ä½¿ç”¨æŒ‡ç‚¹è®¾å¤‡</h4><p>ä½œä¸ºå››çº§è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œ<code>hover</code> åª’ä½“ç‰¹å¾è¢«å¼•å…¥äº†è¿›æ¥ã€‚è¿™ç§ç‰¹å¾æ„å‘³ç€ä½ å¯ä»¥æµ‹è¯•ç”¨æˆ·æ˜¯å¦èƒ½åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šæ‚¬æµ®ï¼Œè¿™ä¹ŸåŸºæœ¬å°±æ˜¯è¯´ä»–ä»¬æ­£åœ¨ä½¿ç”¨æŸç§æŒ‡ç‚¹è®¾å¤‡ï¼Œå› ä¸ºè§¦æ‘¸å±å’Œé”®ç›˜å¯¼èˆªæ˜¯æ²¡æ³•å®ç°æ‚¬æµ®çš„ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">hover</span><span class="token punctuation">:</span> hover<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">body </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>è¿˜æ˜¯åœ¨å››çº§è§„èŒƒä¸­ï¼Œå‡ºç°äº† <code>pointer</code> åª’ä½“ç‰¹å¾ã€‚å®ƒå¯å–ä¸‰ä¸ªå€¼ï¼š<code>none</code>ã€<code>fine</code> å’Œ <code>coarse</code> ã€‚<code>fine</code> æŒ‡é’ˆæ˜¯ç±»ä¼¼äºé¼ æ ‡æˆ–è€…è§¦æ§æ¿çš„ä¸œè¥¿ï¼Œå®ƒè®©ç”¨æˆ·å¯ä»¥ç²¾ç¡®æŒ‡å‘ä¸€ç‰‡å°åŒºåŸŸã€‚<code>coarse</code> æŒ‡é’ˆæ˜¯ä½ åœ¨è§¦æ‘¸å±ä¸Šçš„æ‰‹æŒ‡ã€‚<code>none</code> å€¼æ„å‘³ç€ï¼Œç”¨æˆ·æ²¡æœ‰æŒ‡ç‚¹è®¾å¤‡ï¼Œä¹Ÿè®¸æ˜¯ä»–ä»¬æ­£åªä½¿ç”¨é”®ç›˜å¯¼èˆªï¼Œæˆ–è€…æ˜¯è¯­éŸ³å‘½ä»¤ã€‚</p>
<p>ä½¿ç”¨ <code>pointer</code> å¯ä»¥åœ¨ç”¨æˆ·ä½¿ç”¨å±å¹•æ—¶è¿›è¡Œäº¤äº’æ—¶ï¼Œå¸®ä½ æ›´å¥½åœ°è®¾è®¡å“åº”è¿™ç§äº¤äº’çš„ç•Œé¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çŸ¥é“ç”¨æˆ·æ­£åœ¨ç”¨è§¦æ‘¸å±è®¾å¤‡äº¤äº’çš„æ—¶å€™ï¼Œä½ å¯ä»¥å»ºç«‹æ›´å¤§çš„å“åº”åŒºåŸŸã€‚</p>
<h4 id="åª’ä½“æŸ¥è¯¢é€»è¾‘åˆ¤æ–­"><a href="#åª’ä½“æŸ¥è¯¢é€»è¾‘åˆ¤æ–­" class="headerlink" title="åª’ä½“æŸ¥è¯¢é€»è¾‘åˆ¤æ–­"></a>åª’ä½“æŸ¥è¯¢é€»è¾‘åˆ¤æ–­</h4><ul>
<li>ä¸ <code>and</code></li>
<li>æˆ– <code>,</code></li>
<li>é <code>not</code></li>
</ul>
<h4 id="ç‰¹æ€§æŸ¥è¯¢"><a href="#ç‰¹æ€§æŸ¥è¯¢" class="headerlink" title="ç‰¹æ€§æŸ¥è¯¢"></a>ç‰¹æ€§æŸ¥è¯¢</h4><p>å¯ä»¥é€šè¿‡ç‰¹æ€§æŸ¥è¯¢æ¥åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªç‰¹æ€§ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 24</title>
    <url>/2020/10/24/xue-xi-bi-ji-2020-10-24/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-24"><a href="#å­¦ä¹ ç¬”è®°-2020-10-24" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-24"></a>å­¦ä¹ ç¬”è®° 2020-10-24</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="ä»£ç†ä¸åå°„"><a href="#ä»£ç†ä¸åå°„" class="headerlink" title="ä»£ç†ä¸åå°„"></a>ä»£ç†ä¸åå°„</h3><h4 id="ä»£ç†æ•è·å™¨ä¸åå°„æ–¹æ³•"><a href="#ä»£ç†æ•è·å™¨ä¸åå°„æ–¹æ³•" class="headerlink" title="ä»£ç†æ•è·å™¨ä¸åå°„æ–¹æ³•"></a>ä»£ç†æ•è·å™¨ä¸åå°„æ–¹æ³•</h4><p>ä»£ç†å¯ä»¥æ•è· 13 ç§ä¸åŒçš„åŸºæœ¬æ“ä½œã€‚è¿™äº›æ“ä½œæœ‰å„è‡ªä¸åŒçš„åå°„ <code>API</code> æ–¹æ³•ã€å‚æ•°ã€å…³è” <code>ECMAScript</code> æ“ä½œå’Œä¸å˜å¼ã€‚</p>
<p>æœ‰å‡ ç§ä¸åŒçš„ <code>JavaScript</code> æ“ä½œä¼šè°ƒç”¨åŒä¸€ä¸ªæ•è·å™¨å¤„ç†ç¨‹åºã€‚ä¸è¿‡ï¼Œå¯¹äºåœ¨ä»£ç†å¯¹è±¡ä¸Šæ‰§è¡Œçš„ä»»ä½•ä¸€ç§æ“ä½œï¼Œåªä¼šæœ‰ä¸€ä¸ªæ•è·å¤„ç†ç¨‹åºè¢«è°ƒç”¨ã€‚</p>
<h5 id="get"><a href="#get" class="headerlink" title="get()"></a><code>get()</code></h5><p><code>get()</code> æ•è·å™¨ä¼šåœ¨è·å–å±æ€§å€¼çš„æ“ä½œä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.get()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p>è¿”å›å€¼æ— é™åˆ¶ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>proxy.property</code></li>
<li><code>proxy[property]</code></li>
<li><code>Object.create(proxy)[property]</code></li>
<li><code>Reflect.get(proxy, property, receiver)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å‚æ•°</li>
<li><code>receiver</code> å¤„ç†å¯¹è±¡æˆ–ç»§æ‰¿ä»£ç†å¯¹è±¡çš„å¯¹è±¡</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>target.property</code> ä¸å¯å†™ä¸”ä¸å¯é…ç½®ï¼Œåˆ™å¤„ç†ç¨‹åºè¿”å›çš„å€¼å¿…é¡»ä¸ <code>target.property</code> åŒ¹é…ã€‚</p>
<p>å¦‚æœ <code>target.property</code> ä¸å¯é…ç½®ä¸” <code>[[Get]]</code> ç‰¹æ€§ä¸º <code>undefined</code> ï¼Œå¤„ç†ç¨‹åºä¹Ÿå¿…é¡»è¿”å› <code>undefined</code> ã€‚</p>
</li>
</ol>
<h5 id="set"><a href="#set" class="headerlink" title="set()"></a><code>set()</code></h5><p><code>set()</code> æ•è·å™¨ä¼šåœ¨è®¾ç½®å±æ€§å€¼çš„æ“ä½œä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.set()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p>è¿”å› <code>true</code> è¡¨ç¤ºæˆåŠŸï¼Œè¿”å› <code>false</code> è¡¨ç¤ºå¤±è´¥ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ›å‡º <code>TypeError</code> ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>proxy.property = value</code></li>
<li><code>proxy[property] = value</code></li>
<li><code>Object.create(proxy)[property] = value</code></li>
<li><code>Reflect.set(proxy, property, value, receiver)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å±æ€§ã€‚</li>
<li><code>value</code> è¦èµ‹ç»™å±æ€§çš„å€¼ã€‚</li>
<li><code>receiver</code> æ¥æ”¶æœ€åˆèµ‹å€¼çš„å¯¹è±¡ã€‚</li>
</ul>
</li>
</ol>
<h5 id="has"><a href="#has" class="headerlink" title="has()"></a><code>has()</code></h5><p><code>has()</code> æ•è·å™¨ä¼šåœ¨ <code>in</code> æ“ä½œç¬¦è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.has()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>has()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§æ˜¯å¦å­˜åœ¨ã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><p><code>property in proxy</code></p>
</li>
<li><p><code>property in Object.create(proxy)</code></p>
</li>
<li><p><code>with(proxy) {( property ); }</code></p>
</li>
<li><p><code>Reflect.has(proxy, property)</code></p>
</li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å±æ€§ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>target.property</code> å­˜åœ¨ä¸”ä¸å¯é…ç½®ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>true</code> ã€‚</p>
<p>å¦‚æœ <code>target.property</code> å­˜åœ¨ä¸”ç›®æ ‡å¯¹è±¡ä¸å¯æ‹“å±•ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>true</code> ã€‚</p>
</li>
</ol>
<h5 id="defineProperty"><a href="#defineProperty" class="headerlink" title="defineProperty()"></a><code>defineProperty()</code></h5><p><code>defineProperty()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.defineProperty()</code> è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.defineProperty()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>defineProperty()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§æ˜¯å¦æˆåŠŸå®šä¹‰ã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><p><code>Object.defineProperty(proxy, property, descriptor)</code></p>
</li>
<li><p><code>Reflect.defineProperty(proxy, property, descriptor)</code></p>
</li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å±æ€§ã€‚</li>
<li><code>descriptor</code> åŒ…å«å¯é€‰çš„ <code>enumerable</code> ã€ <code>configurable</code> ã€ <code>writable</code> ã€ <code>value</code> ã€ <code>get</code> å’Œ <code>set</code> å®šä¹‰çš„å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœç›®æ ‡å¯¹è±¡ä¸å¯æ‹“å±•ï¼Œåˆ™æ— æ³•å®šä¹‰å±æ€§ã€‚</p>
<p>å¦‚æœç›®æ ‡å¯¹è±¡æœ‰ä¸€ä¸ªå¯é…ç½®çš„å±æ€§ï¼Œåˆ™ä¸èƒ½æ·»åŠ åŒåçš„ä¸å¯é…ç½®å±æ€§ã€‚</p>
<p>å¦‚æœç›®æ ‡å¯¹è±¡æœ‰ä¸€ä¸ªä¸å¯é…ç½®çš„å±æ€§ï¼Œåˆ™ä¸èƒ½æ·»åŠ åŒåçš„å¯é…ç½®å±æ€§ã€‚</p>
</li>
</ol>
<h5 id="getOwnPropertyDescriptor"><a href="#getOwnPropertyDescriptor" class="headerlink" title="getOwnPropertyDescriptor()"></a><code>getOwnPropertyDescriptor()</code></h5><p><code>getOwnPropertyDescriptor()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.getOwnPropertyDescriptor()</code> ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.getOwnPropertyDscriptor()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>getOwnPropertyDescriptor()</code> å¿…é¡»è¿”å›å¯¹è±¡ï¼Œæˆ–è€…åœ¨å±æ€§ä¸å­˜åœ¨æ—¶è¿”å› <code>undefined</code> ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>Object.getOwnpropertyDescriptor(proxy, property)</code></li>
<li><code>Reflect.getOwnPropertyDescriptor(proxy, property)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å±æ€§</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœè‡ªæœ‰çš„ <code>target.property</code> å­˜åœ¨ä¸”ä¸å¯é…ç½®ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥å±æ€§å­˜åœ¨çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœè‡ªæœ‰çš„ <code>target.property</code> å­˜åœ¨ä¸”å¯é…ç½®ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å›è¡¨ç¤ºè¯¥å±æ€§å¯é…ç½®çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœ <code>target.property</code> å­˜åœ¨ä¸” <code>target</code> ä¸å¯æ‹“å±•ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>undefined</code> è¡¨ç¤ºè¯¥å±æ€§ä¸å­˜åœ¨ã€‚</p>
<p>å¦‚æœ <code>target.property</code> ä¸å­˜åœ¨ï¼Œåˆ™å¤„ç†ç¨‹åºä¸èƒ½è¿”å›è¡¨ç¤ºè¯¥å±æ€§å¯é…ç½®çš„å¯¹è±¡ã€‚</p>
</li>
</ol>
<h5 id="deleteProperty"><a href="#deleteProperty" class="headerlink" title="deleteProperty()"></a><code>deleteProperty()</code></h5><p><code>deleteProperty()</code> æ•è·å™¨ä¼šåœ¨ <code>delete</code> æ“ä½œç¬¦ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.deleteProperty()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>deleteProperty()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤å±æ€§æ˜¯å¦æˆåŠŸã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>delete proxy.property</code></li>
<li><code>delete proxy[property]</code></li>
<li><code>Reflect.deleteProperty(proxy, property)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>property</code> å¼•ç”¨çš„ç›®æ ‡å¯¹è±¡ä¸Šçš„å­—ç¬¦ä¸²é”®å±æ€§ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœè‡ªæœ‰çš„ <code>target.property</code> å­˜åœ¨ä¸”ä¸å¯é…ç½®ï¼Œåˆ™å¤„ç†ç¨‹åºä¸èƒ½åˆ é™¤è¿™ä¸ªå±æ€§ã€‚</p>
</li>
</ol>
<h5 id="ownKeys"><a href="#ownKeys" class="headerlink" title="ownKeys()"></a><code>ownKeys()</code></h5><p><code>ownKeys()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.keys()</code> åŠç±»ä¼¼æ–¹æ³•ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.ownKeys()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>ownKeys()</code> å¿…é¡»è¿”å›åŒ…å«å­—ç¬¦ä¸²æˆ–ç¬¦å·çš„å¯æšä¸¾å¯¹è±¡ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>Object.getOwnPropertyNames(proxy)</code></li>
<li><code>Object.getOwnPropertySymbols(proxy)</code></li>
<li><code>Object.keys(proxy)</code></li>
<li><code>Reflect.ownKeys(proxy)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>è¿”å›çš„å¯æšä¸¾å¯¹è±¡å¿…é¡»åŒ…å« <code>target</code> çš„æ‰€æœ‰ä¸å¯é…ç½®çš„è‡ªç”±å±æ€§ã€‚</p>
<p>å¦‚æœ <code>target</code> ä¸å¯æ‹“å±•ï¼Œåˆ™è¿”å›å¯æšä¸¾å¯¹è±¡å¿…é¡»å‡†ç¡®åœ°åŒ…å«è‡ªæœ‰å±æ€§é”®ã€‚</p>
</li>
</ol>
<h5 id="getPrototypeOf"><a href="#getPrototypeOf" class="headerlink" title="getPrototypeOf()"></a><code>getPrototypeOf()</code></h5><p><code>getPrototypeOf()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.getPrototypeOf()</code> ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.getPrototypeOf()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>getPrototypeOf()</code> å¿…é¡»è¿”å›å¯¹è±¡æˆ– <code>null</code> ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>Object.getPrototypeOf(proxy)</code></li>
<li><code>Reflect.getPrototypeOf(proxy)</code></li>
<li><code>proxy.__proto__</code></li>
<li><code>Object.prototype.isPrototypeOf(proxy)</code></li>
<li><code>proxy instanceof object</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<p><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</p>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>target</code> ä¸å¯æ‹“å±•ï¼Œåˆ™ <code>Object.getPrototypeOf(proxy)</code> å”¯ä¸€æœ‰æ•ˆçš„è¿”å›å€¼å°±æ˜¯ <code>Object.getPrototypeOf(target)</code> çš„è¿”å›å€¼ã€‚</p>
</li>
</ol>
<h5 id="setPrototypeOf"><a href="#setPrototypeOf" class="headerlink" title="setPrototypeOf()"></a><code>setPrototypeOf()</code></h5><p><code>setPrototypeOf()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.setPrototypeOf()</code> ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.setPrototypeOf()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>setPrototypeOf()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåŸå‹èµ‹å€¼æ˜¯å¦æˆåŠŸã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><p><code>Object.setPrototypeOf(proxy)</code></p>
</li>
<li><p><code>Reflect.setPrototypeOf(proxy)</code></p>
</li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>prototype</code> <code>target</code> çš„æ›¿ä»£åŸå‹ï¼Œå¦‚æœæ˜¯é¡¶çº§åŸå‹åˆ™ä¸º <code>null</code> ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>target</code> ä¸å¯æ‹“å±•ï¼Œåˆ™å”¯ä¸€æœ‰æ•ˆçš„ <code>prototype</code> å‚æ•°å°±æ˜¯ <code>Object.getPrototypeOf(target)</code> çš„è¿”å›å€¼ã€‚</p>
</li>
</ol>
<h5 id="isExtensible"><a href="#isExtensible" class="headerlink" title="isExtensible()"></a><code>isExtensible()</code></h5><p><code>isExtensible()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.isExtensible()</code> ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.isExtensible()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>isExtensible()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤º <code>target</code> æ˜¯å¦å¯æ‹“å±•ã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>target.isExtensible(proxy)</code></li>
<li><code>Reflect.isExtensible(proxy)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>target</code> å¯æ‹“å±•ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>true</code> ã€‚</p>
<p>å¦‚æœ <code>target</code> ä¸å¯æ‹“å±•ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>false</code> ã€‚</p>
</li>
</ol>
<h5 id="preventExtensions"><a href="#preventExtensions" class="headerlink" title="preventExtensions()"></a><code>preventExtensions()</code></h5><p><code>preventExtensions()</code> æ•è·å™¨ä¼šåœ¨ <code>Object.preventExtensions()</code> ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.preventExtensions()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>preventExtensions()</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤º <code>target</code> æ˜¯å¦å·²ç»ä¸å¯æ‹“å±•ã€‚è¿”å›éå¸ƒå°”å€¼ä¼šè¢«è½¬å‹ä¸ºå¸ƒå°”å€¼ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>Object.preventExtensions(proxy)</code></li>
<li><code>Reflect.preventExtensions(proxy)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p>å¦‚æœ <code>Object.isExtensible(proxy)</code> æ˜¯ <code>false</code> ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»è¿”å› <code>true</code> ã€‚</p>
</li>
</ol>
<h5 id="apply"><a href="#apply" class="headerlink" title="apply()"></a><code>apply()</code></h5><p><code>apply()</code> æ•è·å™¨ä¼šåœ¨è°ƒç”¨å‡½æ•°æ—¶è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.apply()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p>è¿”å›å€¼æ— é™åˆ¶</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>proxy(...argumentsList)</code></li>
<li><code>Function.prototype.apply(thisArg, argumentsList)</code></li>
<li><code>Function.prototype.call(thisArg, ...argumentsList)</code></li>
<li><code>Reflect.apply(target, thisArgument, argumentsList)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><code>thisArg</code> è°ƒç”¨å‡½æ•°æ—¶çš„ <code>this</code> å‚æ•°ã€‚</li>
<li><code>argumentsList</code> è°ƒç”¨å‡½æ•°æ—¶çš„å‚æ•°åˆ—è¡¨ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p><code>target</code> å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚</p>
</li>
</ol>
<h5 id="construct"><a href="#construct" class="headerlink" title="construct()"></a><code>construct()</code></h5><p><code>construct()</code> æ•è·å™¨ä¼šåœ¨ <code>new</code> æ“ä½œç¬¦ä¸­è¢«è°ƒç”¨ã€‚å¯¹åº”çš„åå°„ <code>API</code> æ–¹æ³•ä¸º <code>Reflect.construct()</code> ã€‚</p>
<ol>
<li><p>è¿”å›å€¼</p>
<p><code>construct()</code> å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li><p>æ‹¦æˆªçš„æ“ä½œ</p>
<ul>
<li><code>new proxy(...argumentsList)</code></li>
<li><code>Reflect.construct(target, argumentsList, newTarget)</code></li>
</ul>
</li>
<li><p>æ•è·å™¨å¤„ç†ç¨‹åºå‚æ•°</p>
<ul>
<li><code>target</code> ç›®æ ‡æ„é€ å‡½æ•°ã€‚</li>
<li><code>argumentsList</code> ä¼ ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚</li>
<li><code>newTarget</code> æœ€åˆè¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><p>æ•è·å™¨ä¸å˜å¼</p>
<p><code>target</code> å¿…é¡»å¯ä»¥ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p>
</li>
</ol>
<h4 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h4><h5 id="è·Ÿè¸ªå±æ€§è®¿é—®"><a href="#è·Ÿè¸ªå±æ€§è®¿é—®" class="headerlink" title="è·Ÿè¸ªå±æ€§è®¿é—®"></a>è·Ÿè¸ªå±æ€§è®¿é—®</h5><p>é€šè¿‡æ•è· <code>get</code> ã€<code>set</code> å’Œ <code>has</code> ç­‰æ“ä½œï¼Œå¯ä»¥çŸ¥é“å¯¹è±¡å±æ€§ä»€ä¹ˆæ—¶å€™è¢«è®¿é—®ã€è¢«æŸ¥è¯¢ã€‚æŠŠå®ç°ç›¸åº”æ•è·å™¨çš„æŸä¸ªå¯¹è±¡ä»£ç†æ”¾åˆ°åº”ç”¨ä¸­ï¼Œå¯ä»¥ç›‘æ§è¿™ä¸ªå¯¹è±¡ä½•æ—¶åœ¨ä½•å¤„è¢«è®¿é—®è¿‡ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Jake'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Getting </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>property<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Setting </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>property<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Getting name</span>
proxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Setting age=27</span></code></pre>
<h5 id="éšè—å±æ€§"><a href="#éšè—å±æ€§" class="headerlink" title="éšè—å±æ€§"></a>éšè—å±æ€§</h5><p>ä»£ç†çš„å†…éƒ¨å®ç°å¯¹å¤–éƒ¨ä»£ç æ˜¯ä¸å¯è§çš„ï¼Œå› æ­¤è¦éšè—ç›®æ ‡å¯¹è±¡ä¸Šçš„å±æ€§ä¹Ÿè½»è€Œæ˜“ä¸¾ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> hiddenProperties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> targetObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  bar<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  baz<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>targetObject<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hiddenProperties<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> undefined<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">has</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hiddenProperties<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// get()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
<span class="token comment" spellcheck="true">// has()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span> <span class="token keyword">in</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span> <span class="token keyword">in</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'baz'</span> <span class="token keyword">in</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<h5 id="å±æ€§éªŒè¯"><a href="#å±æ€§éªŒè¯" class="headerlink" title="å±æ€§éªŒè¯"></a>å±æ€§éªŒè¯</h5><p>æ‰€æœ‰èµ‹å€¼æ“ä½œéƒ½ä¼šè§¦å‘ <code>set()</code> æ•è·å™¨ï¼Œå¯ä»¥æ ¹æ®æ‰€èµ‹å€¼å†³å®šå…è®¸è¿˜æ˜¯æ‹’ç»èµ‹å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  onlyNumbersGoHere<span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>onlyNumbersGoHere <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>onlyNumbersGoHere<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>
proxy<span class="token punctuation">.</span>onlyNumbersGoHere <span class="token operator">=</span> <span class="token string">'2'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>onlyNumbersGoHere<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span></code></pre>
<h5 id="å‡½æ•°ä¸æ„é€ å‡½æ•°å‚æ•°éªŒè¯"><a href="#å‡½æ•°ä¸æ„é€ å‡½æ•°å‚æ•°éªŒè¯" class="headerlink" title="å‡½æ•°ä¸æ„é€ å‡½æ•°å‚æ•°éªŒè¯"></a>å‡½æ•°ä¸æ„é€ å‡½æ•°å‚æ•°éªŒè¯</h5><p>å¯ä»¥å¯¹å‡½æ•°å’Œæ„é€ å‡½æ•°å‚æ•°è¿›è¡Œå®¡æŸ¥ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">median</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>median<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> argumentsList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> arg <span class="token keyword">of</span> argumentsList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> arg <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token string">'Non-number argument provided'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">proxy</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">proxy</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Error: Non-number argument provided</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id_ <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">construct</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> argumentsList<span class="token punctuation">,</span> newTarget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>argumentsList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token string">'User cannot be instantiated without id'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">proxy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Error: User cannot be instantiated without id</span></code></pre>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h3><h4 id="å¯è¾¾æ€§"><a href="#å¯è¾¾æ€§" class="headerlink" title="å¯è¾¾æ€§"></a>å¯è¾¾æ€§</h4><p><code>JS</code> ä¸­ä¸»è¦çš„å†…å­˜ç®¡ç†æ¦‚å¿µæ˜¯ <strong>å¯è¾¾æ€§</strong>ã€‚</p>
<p>å½“ä¸€ä¸ªå€¼ä»¥æŸç§æ–¹å¼å¯è®¿é—®æˆ–å¯ç”¨ï¼Œéƒ½ä¸èƒ½è¢«é‡Šæ”¾ã€‚</p>
<h2 id="MDN-å­¦ä¹ è®°å½•"><a href="#MDN-å­¦ä¹ è®°å½•" class="headerlink" title="MDN å­¦ä¹ è®°å½•"></a>MDN å­¦ä¹ è®°å½•</h2><h3 id="Web-å­—ä½“"><a href="#Web-å­—ä½“" class="headerlink" title="Web å­—ä½“"></a>Web å­—ä½“</h3><p>å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰ä¸€ä¸ª <code>@font-face</code> å—æŒ‡å®šè¿œç¨‹èµ„æºå­—ä½“æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨è¯¥å­—ä½“åº”ç”¨åœ¨é¡µé¢ä¸­ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"myFont"</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url("myFont.ttf")</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"myFont"</span>, <span class="token string">"Bitstream Vera Serif"</span>, serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ <code>WOFF / WOFF2</code> (Web Open Font Format versions 1 and 2ï¼ŒWebå¼€æ”¾å­—ä½“æ ¼å¼ç‰ˆæœ¬1å’Œ2) å­—ä½“ã€‚æ—§ç‰ˆæœ¬ <code>IE</code> åªæ”¯æŒ <code>EOT</code> (Embedded Open Typeï¼ŒåµŒå…¥å¼å¼€æ”¾ç±»å‹) çš„å­—ä½“ã€‚</p>
<blockquote>
<p>è·å¾—å­—ä½“çš„ç½‘ç«™ï¼š</p>
<ul>
<li>å…è´¹çš„å­—ä½“ç»é”€å•†ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ä¸‹è½½å…è´¹å­—ä½“çš„ç½‘ç«™(å¯èƒ½è¿˜æœ‰ä¸€äº›è®¸å¯æ¡ä»¶ï¼Œæ¯”å¦‚å¯¹å­—ä½“åˆ›å»ºè€…çš„ä¿¡èµ–)ã€‚æ¯”å¦‚ï¼š <a href="https://www.fontsquirrel.com/" target="_blank" rel="noopener">Font Squirre</a>ï¼Œ<a href="http://www.dafont.com/" target="_blank" rel="noopener">dafont</a> å’Œ <a href="https://everythingfonts.com/" target="_blank" rel="noopener">Everything Fonts</a>ã€‚</li>
<li>æ”¶è´¹çš„å­—ä½“ç»é”€å•†ï¼šè¿™æ˜¯ä¸€ä¸ªæ”¶è´¹åˆ™å­—ä½“å¯ç”¨çš„ç½‘ç«™ï¼Œä¾‹å¦‚<a href="http://www.fonts.com/" target="_blank" rel="noopener">fonts.com</a>æˆ–<a href="http://www.myfonts.com/" target="_blank" rel="noopener">myfonts.com</a>ã€‚æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä»å­—ä½“é“¸é€ å‚ä¸­è´­ä¹°å­—ä½“ï¼Œä¾‹å¦‚<a href="https://www.linotype.com/" target="_blank" rel="noopener">Linotype</a>ï¼Œ<a href="http://www.monotype.com/" target="_blank" rel="noopener">Monotype</a> æˆ– <a href="http://www.exljbris.com/" target="_blank" rel="noopener">Exljbris</a>ã€‚</li>
<li><a href="https://www.google.com/fonts" target="_blank" rel="noopener">Google Fonts</a></li>
</ul>
</blockquote>
<blockquote>
<p> ç”Ÿæˆæ‰€éœ€ä»£ç </p>
<p>å¯¹äºæ¯ç§å­—ä½“ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ç¡®ä¿å·²ç»æ»¡è¶³äº†ä»»ä½•è®¸å¯è¯çš„è¦æ±‚ï¼Œå¦‚æœæ‰“ç®—åœ¨ä¸€ä¸ªå•†ä¸šå’Œ/æˆ–Webé¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚</li>
<li>å‰å¾€ Fontsquirrel <a href="https://www.fontsquirrel.com/tools/webfont-generator" target="_blank" rel="noopener">Webfont Generator</a>.</li>
<li>ä½¿ç”¨ä¸Šä¼ å­—ä½“æŒ‰é’®ä¸Šä¼ ä½ çš„ä¸¤ä¸ªå­—ä½“æ–‡ä»¶ã€‚</li>
<li>å‹¾é€‰å¤é€‰æ¡†ï¼Œâ€œæ˜¯çš„ï¼Œæˆ‘ä¸Šä¼ çš„å­—ä½“ç¬¦åˆç½‘ç»œåµŒå…¥çš„åˆæ³•æ¡ä»¶ã€‚</li>
<li>ç‚¹å‡»ä¸‹è½½å¥—ä»¶ï¼ˆkitï¼‰ã€‚</li>
</ol>
<p>åœ¨ç”Ÿæˆå™¨å®Œæˆå¤„ç†ä¹‹åï¼Œå¾—åˆ°ä¸€ä¸ªZIPæ–‡ä»¶ï¼Œå°†å®ƒä¿å­˜åœ¨ä¸HTMLå’ŒCSSç›¸åŒçš„ç›®å½•ä¸­ã€‚</p>
</blockquote>
<h3 id="CSS-å¸ƒå±€"><a href="#CSS-å¸ƒå±€" class="headerlink" title="CSS å¸ƒå±€"></a>CSS å¸ƒå±€</h3><h4 id="å¼¹æ€§ç›’å­"><a href="#å¼¹æ€§ç›’å­" class="headerlink" title="å¼¹æ€§ç›’å­"></a>å¼¹æ€§ç›’å­</h4><p>å½“çˆ¶å…ƒç´ è®¾ç½® <code>display: flex</code> æ—¶ï¼Œæ‰€æœ‰å­å…ƒç´ å˜æˆäº† <code>flex items</code> ï¼ŒæŒ‰ç…§çˆ¶å…ƒç´ çš„ <code>flex</code> åˆå€¼è¿›è¡Œæ’åˆ—ã€‚<code>flex-direction</code> åˆå€¼ä¸º <code>row</code> ã€‚æ‰€ä»¥å­å…ƒç´ ä¸€èˆ¬é»˜è®¤æŒ‰è¡Œæ’åˆ—ã€‚ <code>align-items</code> åˆå€¼ä¸º <code>stretch</code> ï¼Œæ‰€ä»¥å­å…ƒç´ ä¼šè¢«æ‹‰ä¼¸è‡³æœ€é«˜çš„å…ƒç´ é«˜åº¦ã€‚</p>
<p>å­å…ƒç´ è®¾ç½® <code>flex: 1</code> ï¼Œä¼šä½¿å¾—æ‰€æœ‰å­å…ƒç´ ä¼¸å±•å¹¶å¡«å……å®¹å™¨ï¼Œä¸ä¼šç•™ä¸‹ç©ºç™½ã€‚ </p>
<h4 id="grid-å¸ƒå±€"><a href="#grid-å¸ƒå±€" class="headerlink" title="grid å¸ƒå±€"></a><code>grid</code> å¸ƒå±€</h4><p><code>grid</code> å¸ƒå±€ç”¨äºåŒæ—¶åœ¨ä¸¤ä¸ªç»´åº¦ä¸ŠæŠŠå…ƒç´ æŒ‰è¡ŒæŒ‰åˆ—æ’åºæ•´é½ã€‚å¼¹æ€§ç›’å­ç”¨äºè®¾è®¡æ¨ªå‘æˆ–çºµå‘çš„å¸ƒå±€ã€‚</p>
<p>è®¾ç½®çˆ¶å…ƒç´ çš„ <code>display</code> å€¼ä¸º <code>grid</code> å³å¯è¿›è¡Œ <code>grid</code> å¸ƒå±€ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>grid-template-rows</code> å’Œ <code>grid-template-columns</code> æ¥å®šä¹‰è¡Œå’Œåˆ—çš„è½¨é“ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.wrapper</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">1</span>fr <span class="token number">1</span>fr <span class="token number">1</span>fr<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token number">100</span>px <span class="token number">100</span>px<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Two<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Three<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Four<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Five<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Six<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024124853197.png" alt="image-20201024124853197"></p>
<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å­å…ƒç´ çš„ <code>grid-column</code> å’Œ <code>grid-row</code> å±æ€§æ¥è®¾ç½®å­å…ƒç´ åœ¨å“ªé‡Œæ‘†æ”¾ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.wrapper</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">1</span>fr <span class="token number">1</span>fr <span class="token number">1</span>fr<span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token number">100</span>px <span class="token number">100</span>px<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.box1</span> </span><span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">2</span> / <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* ä»ç¬¬2åˆ—å¼€å§‹ åˆ°ç¬¬4åˆ—ç»“æŸ */</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* ç¬¬1è¡Œ */</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.box2</span> </span><span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">1</span> / <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.box3</span> </span><span class="token punctuation">{</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Two<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Three<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024125045813.png" alt="image-20201024125045813"></p>
<h4 id="æµ®åŠ¨"><a href="#æµ®åŠ¨" class="headerlink" title="æµ®åŠ¨"></a>æµ®åŠ¨</h4><p>æµ®åŠ¨ä¼šä½¿å¾—å…ƒç´ ä»æ­£å¸¸å¸ƒå±€æµä¸­ç§»é™¤ã€‚å…¶ä»–çš„å‘¨å›´å†…å®¹å°±ä¼šè¢«è¿™ä¸ªæµ®åŠ¨å…ƒç´ ç¯ç»•ã€‚</p>
<p><code>float</code> çš„å€¼ï¼š</p>
<ul>
<li><code>left</code></li>
<li><code>right</code></li>
<li><code>none</code> é»˜è®¤å€¼</li>
<li><code>inherit</code></li>
</ul>
<h4 id="å®šä½æŠ€æœ¯"><a href="#å®šä½æŠ€æœ¯" class="headerlink" title="å®šä½æŠ€æœ¯"></a>å®šä½æŠ€æœ¯</h4><ul>
<li><code>static</code> é™æ€å®šä½</li>
<li><code>relative</code> ç›¸å¯¹å®šä½ï¼Œç›¸å¯¹äºå…ƒç´ åœ¨æ­£å¸¸æ–‡æ¡£æµä¸­çš„ä½ç½®ã€‚</li>
<li><code>absolute</code> ç»å¯¹å®šä½ï¼Œä»æ­£å¸¸æ–‡æ¡£æµç§»é™¤ï¼Œç›¸å¯¹äºè¯¥å…ƒç´ æœ€è¿‘çš„è¢«å®šä½ç¥–å…ˆå…ƒç´ æˆ–æ˜¯é¡µé¢çš„ <code>html</code> å…ƒç´ ã€‚</li>
<li><code>fixed</code> å›ºå®šå®šä½ï¼Œç›¸å¯¹äºæµè§ˆå™¨è§†å£å›ºå®šã€‚</li>
<li><code>sticky</code> ç²˜æ€§å®šä½ï¼Œå…ˆä¿æŒé™æ€å®šä½ï¼Œå½“å®ƒçš„ç›¸å¯¹è§†å£ä½ç½®(<code>offset from the viewport</code>)è¾¾åˆ°æŸä¸€ä¸ªé¢„è®¾å€¼æ—¶ï¼Œä¼šå˜æˆå›ºå®šå®šä½ã€‚</li>
</ul>
<h4 id="è¡¨æ ¼å¸ƒå±€"><a href="#è¡¨æ ¼å¸ƒå±€" class="headerlink" title="è¡¨æ ¼å¸ƒå±€"></a>è¡¨æ ¼å¸ƒå±€</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>First of all, tell us your name and age.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Age:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form div </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-row<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form label, form input </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form label </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form input </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form p </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-caption<span class="token punctuation">;</span>
  <span class="token property">caption-side</span><span class="token punctuation">:</span> bottom<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#999</span><span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024130617494.png" alt="image-20201024130617494"></p>
<h4 id="å¤šåˆ—å¸ƒå±€"><a href="#å¤šåˆ—å¸ƒå±€" class="headerlink" title="å¤šåˆ—å¸ƒå±€"></a>å¤šåˆ—å¸ƒå±€</h4><p>å¤šåˆ—å¸ƒå±€å¯ä»¥å®ç°æŠŠå†…å®¹æŒ‰åˆ—æ’åºï¼Œå°±åƒæ–‡æœ¬åœ¨æŠ¥çº¸ä¸Šæ’åˆ—é‚£æ ·ã€‚</p>
<p>ä½¿ç”¨ <code>column-count</code> å±æ€§æ¥å‘Šè¯‰æµè§ˆå™¨éœ€è¦æŠŠä¸€ä¸ªå¤šåˆ—å®¹å™¨è½¬æˆå¤šå°‘åˆ—ã€‚</p>
<p>ä½¿ç”¨ <code>column-width</code> å±æ€§æ¥å‘Šè¯‰æµè§ˆå™¨ä»¥è‡³å°‘æŸä¸ªå®½åº¦çš„å°½å¯èƒ½å¤šçš„åˆ—æ¥å¡«å……å®¹å™¨ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Multi-column layout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Paragraph 1.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Paragraph 2.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">column-width</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024131059533.png" alt="image-20201024131059533"></p>
<h4 id="æ­£å¸¸å¸ƒå±€æµ"><a href="#æ­£å¸¸å¸ƒå±€æµ" class="headerlink" title="æ­£å¸¸å¸ƒå±€æµ"></a>æ­£å¸¸å¸ƒå±€æµ</h4><p>æ­£å¸¸å¸ƒå±€æµæ˜¯ä¸€å¥—åœ¨æµè§ˆå™¨è§†å£å†…æ”¾ç½®ã€ç»„ç»‡å…ƒç´ çš„ç³»ç»Ÿã€‚é»˜è®¤çš„ï¼Œå—çº§å…ƒç´ æŒ‰ç…§åŸºäºå…¶çˆ¶å…ƒç´ çš„ä¹¦å†™é¡ºåº(é»˜è®¤å€¼ <code>horizontal-tb</code> )çš„å—æµåŠ¨æ–¹å‘æ”¾ç½®ã€‚å†…è”å…ƒç´ ä¼šåœ¨çˆ¶çº§å—å…ƒç´ çš„å®½åº¦å†…æ”¾ç½®ï¼Œæº¢å‡ºçš„æ–‡æœ¬æˆ–å…ƒç´ ç§»åˆ°æ–°çš„ä¸€è¡Œã€‚</p>
<h4 id="å¼¹æ€§ç›’å­-1"><a href="#å¼¹æ€§ç›’å­-1" class="headerlink" title="å¼¹æ€§ç›’å­"></a>å¼¹æ€§ç›’å­</h4><p>è¡Œå†…å…ƒç´ è®¾ç½®ä¸ºå¼¹æ€§ç›’å­ï¼Œå¯ä»¥è®¾ç½® <code>display</code> çš„å€¼ä¸º <code>inline-flex</code> ã€‚</p>
<h5 id="flex-æ¨¡å‹"><a href="#flex-æ¨¡å‹" class="headerlink" title="flex æ¨¡å‹"></a><code>flex</code> æ¨¡å‹</h5><p>å½“å…ƒç´ è¡¨ç°ä¸º flex æ¡†æ—¶ï¼Œå®ƒä»¬æ²¿ç€ä¸¤ä¸ªè½´æ¥å¸ƒå±€ï¼š</p>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024132638213.png" alt="flex_terms"></p>
<ul>
<li><strong>ä¸»è½´ï¼ˆmain axisï¼‰</strong>æ˜¯æ²¿ç€ flex å…ƒç´ æ”¾ç½®çš„æ–¹å‘å»¶ä¼¸çš„è½´ï¼ˆæ¯”å¦‚é¡µé¢ä¸Šçš„æ¨ªå‘çš„è¡Œã€çºµå‘çš„åˆ—ï¼‰ã€‚è¯¥è½´çš„å¼€å§‹å’Œç»“æŸè¢«ç§°ä¸º <strong>main start</strong> å’Œ <strong>main end</strong>ã€‚</li>
<li><strong>äº¤å‰è½´ï¼ˆcross axisï¼‰</strong>æ˜¯å‚ç›´äº flex å…ƒç´ æ”¾ç½®æ–¹å‘çš„è½´ã€‚è¯¥è½´çš„å¼€å§‹å’Œç»“æŸè¢«ç§°ä¸º <strong>cross start</strong> å’Œ <strong>cross end</strong>ã€‚</li>
<li>è®¾ç½®äº† <code>display: flex</code> çš„çˆ¶å…ƒç´ ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯ <code>section</code>ï¼‰è¢«ç§°ä¹‹ä¸º <strong>flex å®¹å™¨ï¼ˆflex containerï¼‰ã€‚</strong></li>
<li>åœ¨ flex å®¹å™¨ä¸­è¡¨ç°ä¸ºæŸ”æ€§çš„ç›’å­çš„å…ƒç´ è¢«ç§°ä¹‹ä¸º <strong>flex é¡¹</strong>ï¼ˆ<strong>flex item</strong>ï¼‰ï¼ˆæœ¬ä¾‹ä¸­æ˜¯ <code>article</code> å…ƒç´ ã€‚</li>
</ul>
<p>å¼¹æ€§ç›’å­æä¾›äº† <code>flex-direction</code> æ¥æŒ‡å®šä¸»è½´çš„æ–¹å‘ã€‚</p>
<ul>
<li><code>row</code></li>
<li><code>column</code></li>
<li><code>row-reverse</code></li>
<li><code>column-reverse</code></li>
</ul>
<h5 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h5><p>å½“å¼¹æ€§ç›’å­å­å…ƒç´ å®šå®½æˆ–å®šé«˜æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å­å…ƒç´ æº¢å‡ºçˆ¶å…ƒç´ ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¯ä»¥è®¾ç½®çˆ¶å…ƒç´ çš„ <code>flex-wrap</code> å±æ€§ä¸º <code>wrap</code> æ¥è‡ªåŠ¨æ¢è¡Œã€‚</p>
<p>å­å…ƒç´ è®¾ç½® <code>flex</code> å€¼ä¸ºå®½åº¦æ—¶ï¼Œä¼šä½¿å¾—å­å…ƒç´ çš„å®½åº¦å¤§äºç­‰äºè¿™ä¸ªå€¼ï¼Œå½“çˆ¶å…ƒç´ æŸä¸€è¡Œæœ‰å¤šä½™å†…å®¹æ—¶ï¼Œä¼šè‡ªåŠ¨ä¼¸å±•æ¥å¡«å……ç©ºä½™å†…å®¹ã€‚</p>
<h5 id="flex-flow-ç¼©å†™"><a href="#flex-flow-ç¼©å†™" class="headerlink" title="flex-flow ç¼©å†™"></a><code>flex-flow</code> ç¼©å†™</h5><p><code>flex-flow</code> æ˜¯ <code>flex-direction</code> å’Œ <code>flex-wrap</code> çš„ç¼©å†™å±æ€§ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
<span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/* === */</span>
<span class="token property">flex-flow</span><span class="token punctuation">:</span> row wrap<span class="token punctuation">;</span></code></pre>
<h5 id="flex-é¡¹çš„åŠ¨æ€å°ºå¯¸"><a href="#flex-é¡¹çš„åŠ¨æ€å°ºå¯¸" class="headerlink" title="flex é¡¹çš„åŠ¨æ€å°ºå¯¸"></a><code>flex</code> é¡¹çš„åŠ¨æ€å°ºå¯¸</h5><p>è®¾ç½®å­å…ƒç´ çš„ <code>flex: 1</code> ã€‚ä¼šä½¿å¾—å­å…ƒç´ å ç”¨ç©ºé—´éƒ½ç›¸ç­‰ã€‚å ç”¨ç©ºé—´æŒ‡åœ¨è®¾ç½® <code>padding</code> å’Œ <code>margin</code> ä¹‹åå‰©ä½™çš„ç©ºé—´ã€‚</p>
<p>å¯ä»¥è®¾ç½®å­å…ƒç´ çš„ <code>flex: 1 xxxpx</code> æ¥è®¾å®šæœ€å°å®½åº¦ã€‚</p>
<p>è¿™ä¼šä½¿å¾—å­å…ƒç´ é¦–å…ˆåˆ†é…æœ€å°å®½åº¦ï¼Œå‰©ä½™ç©ºé—´æŒ‰ç…§æ¯”ä¾‹æ¥åˆ†é…ã€‚</p>
<h5 id="flex-ç¼©å†™ä¸å…¨å†™"><a href="#flex-ç¼©å†™ä¸å…¨å†™" class="headerlink" title="flex ç¼©å†™ä¸å…¨å†™"></a><code>flex</code> ç¼©å†™ä¸å…¨å†™</h5><p><code>flex</code> æ˜¯ä¸‰ä¸ªå€¼çš„ç¼©å†™å±æ€§ï¼š</p>
<ul>
<li><code>flex-grow</code></li>
<li><code>flex-shrink</code></li>
<li><code>flex-basis</code></li>
</ul>
<h5 id="æ°´å¹³å’Œå‚ç›´å¯¹é½"><a href="#æ°´å¹³å’Œå‚ç›´å¯¹é½" class="headerlink" title="æ°´å¹³å’Œå‚ç›´å¯¹é½"></a>æ°´å¹³å’Œå‚ç›´å¯¹é½</h5><p><code>align-items</code> æ§åˆ¶ <code>flex</code> é¡¹åœ¨äº¤å‰è½´ä¸Šçš„ä½ç½®ã€‚</p>
<ul>
<li><p>é»˜è®¤å€¼æ˜¯ <code>stretch</code> ï¼Œä½¿æ‰€æœ‰ <code>flex</code> é¡¹æ²¿ç€äº¤å‰è½´çš„æ–¹å‘æ‹‰ä¼¸ä»¥å¡«å……çˆ¶å®¹å™¨ã€‚å¦‚æœçˆ¶å®¹å™¨åœ¨äº¤å‰è½´ä¸Šæ²¡æœ‰å›ºå®šå®½åº¦ï¼Œåˆ™æ‰€æœ‰ <code>flex</code> é¡¹å°†å˜å¾—ä¸æœ€é•¿çš„ <code>flex</code> é¡¹ä¸€æ ·é•¿ã€‚</p>
</li>
<li><p>å¯ä»¥è®¾ç½® <code>align-self</code> åœ¨æŸä¸ªå­å…ƒç´ ä¸Šè¦†ç›– <code>align-items</code> çš„è¡Œä¸ºã€‚</p>
</li>
</ul>
<p><code>justify-content</code> æ§åˆ¶ <code>flex</code> é¡¹åœ¨ä¸»è½´ä¸Šçš„ä½ç½®ã€‚</p>
<ul>
<li>é»˜è®¤å€¼æ˜¯ <code>flex-start</code> ï¼Œä½¿å¾—æ‰€æœ‰ <code>flex</code> é¡¹ä½äºä¸»è½´çš„å¼€å§‹å¤„ã€‚</li>
<li><code>flex-end</code> ä½¿å¾—<code>flex</code> é¡¹ä½äºç»“å°¾ã€‚</li>
<li><code>center</code> ä½¿å¾—å„é¡¹å±…ä¸­ã€‚</li>
<li><code>space-around</code> è®©å„é¡¹æ²¿ç€ä¸»è½´å‡åŒ€åˆ†å¸ƒï¼Œä»»æ„ä¸€ç«¯éƒ½ç•™ä¸€ç‚¹ç©ºé—´ã€‚</li>
<li><code>space-between</code> ç±»ä¼¼äºä¸Šä¸€ä¸ªï¼Œä½†ä¸ä¼šåœ¨ä¸¤ç«¯ç•™ç©ºé—´ã€‚</li>
</ul>
<h5 id="flex-é¡¹æ’åº"><a href="#flex-é¡¹æ’åº" class="headerlink" title="flex é¡¹æ’åº"></a><code>flex</code> é¡¹æ’åº</h5><p>å¼¹æ€§ç›’å­å¯ä»¥æ”¹å˜ <code>flex</code> é¡¹çš„å¸ƒå±€ä½ç½®ï¼Œè€Œä¸å½±å“åˆ°æºé¡ºåºã€‚</p>
<p>è®¾ç½®å­å…ƒç´ çš„ <code>order</code> å±æ€§å³å¯ã€‚</p>
<ul>
<li><code>order</code> å€¼é»˜è®¤ä¸º <code>0</code> ã€‚</li>
<li><code>order</code> å€¼è¶Šå¤§ï¼Œåœ¨æ˜¾ç¤ºé¡ºåºä¸­è¶Šé åã€‚</li>
<li>ç›¸åŒ <code>order</code> å€¼æŒ‰æºé¡ºåºæ˜¾ç¤ºã€‚</li>
</ul>
<h4 id="ç½‘æ ¼å¸ƒå±€"><a href="#ç½‘æ ¼å¸ƒå±€" class="headerlink" title="ç½‘æ ¼å¸ƒå±€"></a>ç½‘æ ¼å¸ƒå±€</h4><p>è®¾ç½®çˆ¶å…ƒç´ çš„ <code>display</code> ä¸º <code>grid</code> åé»˜è®¤åˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€åˆ—çš„ç½‘æ ¼ï¼Œç½‘é¡µå¸ƒå±€ä¸ä¼šé©¬ä¸Šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p>è®¾ç½® <code>grid-template-columns</code> å¯ä»¥åˆ›å»ºç½‘æ ¼åˆ—çš„æ¨¡æ¿ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector">div </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">200</span>px <span class="token number">200</span>px <span class="token number">200</span>px<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">/* åˆ›å»ºäº†ä¸‰åˆ—ï¼Œæ¯åˆ—200px */</span>
<span class="token punctuation">}</span></code></pre>
<h5 id="fr-å•ä½"><a href="#fr-å•ä½" class="headerlink" title="fr å•ä½"></a><code>fr</code> å•ä½</h5><p><code>fr</code> è¡¨ç¤ºä¸€ä¸ªæ¯”ä¾‹å•ä½ã€‚åˆ†é…çˆ¶å…ƒç´ çš„å¯ç”¨ç©ºé—´ã€‚å¯ç”¨ç©ºé—´æŒ‡çš„æ˜¯é™¤å»é‚£äº›ç¡®å®šè¢«å ç”¨çš„ç©ºé—´å¤–çš„ç©ºé—´ã€‚</p>
<h5 id="ç½‘æ ¼é—´éš™"><a href="#ç½‘æ ¼é—´éš™" class="headerlink" title="ç½‘æ ¼é—´éš™"></a>ç½‘æ ¼é—´éš™</h5><p><code>grid-column-gap</code> å®šä¹‰åˆ—é—´éš™ã€‚ <code>grid-row-gap</code> å®šä¹‰è¡Œé—´éš™ã€‚</p>
<p><code>grid-gap</code> åŒæ—¶è®¾å®šä¸¤è€…ã€‚</p>
<p><code>grid-</code> å‰ç¼€å·²ç»è¢«ä¿®æ”¹ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ <code>gap</code> å±æ€§ã€‚</p>
<h5 id="é‡å¤æ„å»ºè¡Œ-åˆ—"><a href="#é‡å¤æ„å»ºè¡Œ-åˆ—" class="headerlink" title="é‡å¤æ„å»ºè¡Œ/åˆ—"></a>é‡å¤æ„å»ºè¡Œ/åˆ—</h5><p>å¯ä»¥ä½¿ç”¨ <code>repeat</code> æ¥é‡å¤æ„å»ºç›¸åŒå®½åº¦é…ç½®çš„åˆ—ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span>, <span class="token number">1</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* === 1fr 1fr 1fr; */</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h5 id="æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼"><a href="#æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼" class="headerlink" title="æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼"></a>æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼</h5><p>æ˜¾å¼ç½‘æ ¼æ˜¯ä½¿ç”¨ <code>grid-template-columns</code> æˆ– <code>grid-template-rows</code> åˆ›å»ºçš„ã€‚</p>
<p>éšå¼ç½‘æ ¼æ˜¯å½“æœ‰å†…å®¹æ”¾åˆ°ç½‘æ ¼å¤–æ—¶æ‰ä¼šç”Ÿæˆã€‚</p>
<p>éšå¼ç½‘æ ¼ä¸­ç”Ÿæˆçš„è¡Œ/åˆ—å¤§å°æ˜¯å‚æ•°é»˜è®¤ <code>auto</code> ï¼Œå¤§å°ä¼šæ ¹æ®æ”¾å…¥çš„å†…å®¹è‡ªåŠ¨è°ƒæ•´ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>grid-auto-rows</code> å’Œ <code>grid-auto-columns</code> å±æ€§æ‰‹åŠ¨è®¾å®šéšå¼ç½‘æ ¼çš„å¤§å°ã€‚</p>
<h5 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a><code>minmax()</code></h5><p><code>minmax</code> å‡½æ•°ä¸ºä¸€ä¸ªè¡Œ/åˆ—çš„å°ºå¯¸è®¾ç½®äº†å–å€¼èŒƒå›´ã€‚æ¯”å¦‚è®¾å®šä¸º <code>minmax(100px, auto)</code>ï¼Œé‚£ä¹ˆå°ºå¯¸å°±è‡³å°‘ä¸º100åƒç´ ï¼Œå¹¶ä¸”å¦‚æœå†…å®¹å°ºå¯¸å¤§äº100åƒç´ åˆ™ä¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´ã€‚åœ¨è¿™é‡Œè¯•ä¸€ä¸‹æŠŠ <code>grid-auto-rows</code> å±æ€§è®¾ç½®ä¸º<code>minmax</code>å‡½æ•°ã€‚</p>
<h5 id="è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……"><a href="#è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……" class="headerlink" title="è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……"></a>è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……</h5><pre class=" language-css"><code class="language-css"><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fill, <span class="token function">minmax</span><span class="token punctuation">(</span><span class="token number">200</span>px, <span class="token number">1</span>fr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¯ä»¥å®ç°è‡ªåŠ¨å¡«å……å¤šåˆ—ï¼Œ<code>auto-fill</code> è‡ªåŠ¨ç¡®å®šé‡å¤æ¬¡æ•°ï¼Œ<code>minmax</code> æ¥ç¡®å®šåˆ—å®½ã€‚</p>
<p>æ­¤æ—¶çš„å­å…ƒç´ ä¼šè‡³å°‘å¤§äº <code>200px</code> ï¼Œä¸”è‡ªåŠ¨å¡«æ»¡çˆ¶å®¹å™¨ã€‚</p>
<h5 id="åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®"><a href="#åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®" class="headerlink" title="åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®"></a>åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®</h5><ul>
<li><p><code>grid-column-start</code></p>
</li>
<li><p><code>grid-column-end</code></p>
</li>
<li><p><code>grid-row-start</code></p>
</li>
<li><p><code>grid-row-end</code></p>
<p>ä»¥ä¸Šå±æ€§æŒ‡å®šå…ƒç´ ä»å“ªæ¡çº¿æ”¾ç½®åˆ°å“ªæ¡çº¿ã€‚å±æ€§å€¼ä¸ºåˆ†éš”çº¿åºå·ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™å½¢å¼:</p>
</li>
<li><p><code>grid-column</code></p>
</li>
<li><p><code>grid-row</code></p>
</li>
</ul>
<p>åºå·ä¹‹é—´éœ€è¦ä½¿ç”¨ <code>/</code> åˆ†å¼€ã€‚</p>
<h5 id="ä½¿ç”¨-grid-template-areas-æ”¾ç½®å…ƒç´ "><a href="#ä½¿ç”¨-grid-template-areas-æ”¾ç½®å…ƒç´ " class="headerlink" title="ä½¿ç”¨ grid-template-areas æ”¾ç½®å…ƒç´ "></a>ä½¿ç”¨ <code>grid-template-areas</code> æ”¾ç½®å…ƒç´ </h5><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-areas</span><span class="token punctuation">:</span> <span class="token string">'header header'</span> <span class="token string">'sidebar content'</span> <span class="token string">'footer footer'</span><span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">1</span>fr <span class="token number">3</span>fr<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">header </span><span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> header<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">article </span><span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">aside </span><span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> sidebar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">footer </span><span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> footer<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/24/xue-xi-bi-ji-2020-10-24/image-20201024145718630.png" alt="image-20201024145718630"></p>
<p>ä½ éœ€è¦å¡«æ»¡ç½‘æ ¼çš„æ¯ä¸ªæ ¼å­ï¼Œå¯¹äºæ¨ªè·¨å¤šä¸ªæ ¼å­çš„å…ƒç´ ï¼Œéœ€è¦é‡å¤å†™è¯¥å…ƒç´ çš„åŒºåŸŸåã€‚æ¯ä¸ªåŒºåŸŸååªèƒ½å‡ºç°åœ¨ä¸€ä¸ªè¿ç»­çš„åŒºåŸŸã€‚ä¸€ä¸ªè¿ç»­çš„åŒºåŸŸå¿…é¡»æ˜¯ä¸€ä¸ªçŸ©å½¢ã€‚ä½¿ç”¨ <code>.</code> ç¬¦å·è®©æ ¼å­ç•™ç©ºã€‚</p>
<h5 id="æ‰‹åŠ¨å®ç°ç½‘æ ¼ç³»ç»Ÿ"><a href="#æ‰‹åŠ¨å®ç°ç½‘æ ¼ç³»ç»Ÿ" class="headerlink" title="æ‰‹åŠ¨å®ç°ç½‘æ ¼ç³»ç»Ÿ"></a>æ‰‹åŠ¨å®ç°ç½‘æ ¼ç³»ç»Ÿ</h5><p>åœ¨è¿‡å»ï¼Œä¸€èˆ¬ä½¿ç”¨æµ®åŠ¨æ¥æ‰‹åŠ¨å®ç°ç½‘æ ¼ã€‚ç»™å‡ºå¤–éƒ¨å®¹å™¨çš„æ€»å®½åº¦ï¼Œä½¿ç”¨ <code>12</code> åˆ—å¸ƒå±€ï¼Œè®¡ç®—å‡ºæ¯ä¸ªç½‘æ ¼çš„å®½åº¦ï¼Œç„¶åé…ç½®ä¸€ä¸ªç½‘æ ¼ç±»ã€‚</p>
<p>ä½†è¿™æ ·çš„ç½‘æ ¼ç³»ç»Ÿå®½åº¦å›ºå®šï¼Œè‹¥æ˜¯æƒ³è¦å®ç°æµä½“ç½‘æ ¼ï¼Œéœ€è¦ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½ã€‚</p>
<p>å°†å›ºå®šå€¼é™¤ä»¥é¢„è®¾çš„å¤–éƒ¨å®¹å™¨å®½åº¦å¾—åˆ°ç™¾åˆ†æ¯”è¿›è¡Œæ›¿æ¢ã€‚åŒæ—¶ç»™äºˆå¤–éƒ¨å®¹å™¨ <code>width</code> ç™¾åˆ†æ¯”ä¸ <code>max-width</code> é¢„è®¾å€¼ã€‚</p>
<p>æ‰‹åŠ¨å®ç°ç½‘æ ¼çš„æ–¹å¼æ— æ³•æ§åˆ¶è·¨è¶Šè¡Œï¼Œä¸”éš¾ä»¥æ§åˆ¶å…ƒç´ çš„é«˜åº¦ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 23</title>
    <url>/2020/10/23/xue-xi-bi-ji-2020-10-23/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-23"><a href="#å­¦ä¹ ç¬”è®°-2020-10-23" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-23"></a>å­¦ä¹ ç¬”è®° 2020-10-23</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="ä»£ç†ä¸åå°„"><a href="#ä»£ç†ä¸åå°„" class="headerlink" title="ä»£ç†ä¸åå°„"></a>ä»£ç†ä¸åå°„</h3><h4 id="ä»£ç†åŸºç¡€"><a href="#ä»£ç†åŸºç¡€" class="headerlink" title="ä»£ç†åŸºç¡€"></a>ä»£ç†åŸºç¡€</h4><p>ä»£ç†æ˜¯ç›®æ ‡å¯¹è±¡çš„æŠ½è±¡ã€‚</p>
<p>ä½¿ç”¨ <code>Proxy</code> æ„é€ å‡½æ•°åˆ›å»ºä»£ç†ã€‚è¿™ä¸ªæ„é€ å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šç›®æ ‡å¯¹è±¡å’Œå¤„ç†ç¨‹åºå¯¹è±¡ã€‚ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¿…é¡»çš„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">'target'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// id å±æ€§ä¼šè®¿é—®åŒä¸€ä¸ªå€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// target</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// target</span>
<span class="token comment" spellcheck="true">// ç»™ç›®æ ‡å±æ€§èµ‹å€¼ä¼šåæ˜ åœ¨ä¸¤ä¸ªå¯¹è±¡ä¸Š</span>
<span class="token comment" spellcheck="true">// å› ä¸ºä¸¤ä¸ªå¯¹è±¡è®¿é—®çš„æ˜¯åŒä¸€ä¸ªå€¼</span>
target<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
<span class="token comment" spellcheck="true">// ç»™ä»£ç†å±æ€§èµ‹å€¼ä¼šåæ˜ åœ¨ä¸¤ä¸ªå¯¹è±¡ä¸Š</span>
<span class="token comment" spellcheck="true">// å› ä¸ºè¿™ä¸ªèµ‹å€¼ä¼šè½¬ç§»åˆ°ç›®æ ‡å¯¹è±¡</span>
proxy<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
<span class="token comment" spellcheck="true">// hasOwnProperty()æ–¹æ³•åœ¨ä¸¤ä¸ªåœ°æ–¹</span>
<span class="token comment" spellcheck="true">// éƒ½ä¼šåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// Proxy.prototype æ˜¯ undefined</span>
<span class="token comment" spellcheck="true">// å› æ­¤ä¸èƒ½ä½¿ç”¨ instanceof æ“ä½œç¬¦</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target <span class="token keyword">instanceof</span> <span class="token class-name">Proxy</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TypeError: Function has non-object prototype 'undefined' in instanceof check</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy <span class="token keyword">instanceof</span> <span class="token class-name">Proxy</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TypeError: Function has non-object prototype 'undefined' in instanceof check</span>
<span class="token comment" spellcheck="true">// ä¸¥æ ¼ç›¸ç­‰å¯ä»¥ç”¨æ¥åŒºåˆ†ä»£ç†å’Œç›®æ ‡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target <span class="token operator">===</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre>
<p>ä½¿ç”¨ä»£ç†çš„ä¸»è¦ç›®çš„æ˜¯å¯ä»¥å®šä¹‰ <strong>æ•è·å™¨</strong> ã€‚æ•è·å™¨å°±æ˜¯åœ¨å¤„ç†ç¨‹åºå¯¹è±¡ä¸­å®šä¹‰çš„ <strong>â€œåŸºæœ¬æ“ä½œçš„æ‹¦æˆªå™¨â€</strong> ã€‚æ¯æ¬¡åœ¨ä»£ç†å¯¹è±¡ä¸Šè°ƒç”¨æ•è·å™¨å¯¹åº”çš„åŸºæœ¬æ“ä½œæ—¶ï¼Œä»£ç†å¯ä»¥åœ¨è¿™äº›æ“ä½œä¼ æ’­åˆ°ç›®æ ‡å¯¹è±¡ä¹‹å‰å…ˆè°ƒç”¨æ•è·å™¨å‡½æ•°ï¼Œä»è€Œæ‹¦æˆªå¹¶ä¿®æ”¹ç›¸åº”çš„è¡Œä¸ºã€‚</p>
<p>å®šä¹‰ <code>get()</code> æ•è·å™¨ã€‚åœ¨ä»£ç†å¯¹è±¡ä¸Š <code>proxy[property]</code> ã€ <code>proxy.property</code> æˆ– <code>object.create(proxy)[property]</code> ç­‰æ“ä½œéƒ½ä¼šè§¦å‘åŸºæœ¬çš„ <code>get()</code> æ“ä½œä»¥è·å–å±æ€§ã€‚</p>
<p>æ•è·å™¨æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œç›®æ ‡å¯¹è±¡ã€è¦æŸ¥è¯¢çš„å±æ€§å’Œä»£ç†å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>trapTarget<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>trapTarget <span class="token operator">===</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>receiver <span class="token operator">===</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// foo</span>
<span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å¯ä»¥ä½¿ç”¨å…¨å±€ <code>Reflect</code> å¯¹è±¡çš„åŒåæ–¹æ³•æ¥é‡å»ºåŸå§‹æ“ä½œã€‚</p>
<p>å¤„ç†ç¨‹åºå¯¹è±¡ä¸­æ‰€æœ‰å¯ä»¥æ•è·çš„æ–¹æ³•éƒ½æœ‰å¯¹åº”çš„ <code>Reflect</code> <code>API</code> æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸æ‹¦æˆªå™¨æ•è·çš„æ–¹æ³•å…·æœ‰ç›¸åŒçš„åç§°å’Œå‡½æ•°ç­¾åï¼Œå…·æœ‰ä¸è¢«æ‹¦æˆªæ–¹æ³•ç›¸åŒçš„è¡Œä¸ºã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// const handler = { </span>
<span class="token comment" spellcheck="true">//   get: Reflect.get </span>
<span class="token comment" spellcheck="true">// };</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span></code></pre>
<p>åˆ›å»ºä¸€ä¸ªå¯ä»¥æ•è·æ‰€æœ‰æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½è½¬å‘ç»™å¯¹åº”åå°„ <code>API</code> çš„ç©ºä»£ç†ï¼Œåªéœ€è¦ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> Reflect<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span></code></pre>
<h4 id="æ•è·å™¨ä¸å˜å¼"><a href="#æ•è·å™¨ä¸å˜å¼" class="headerlink" title="æ•è·å™¨ä¸å˜å¼"></a>æ•è·å™¨ä¸å˜å¼</h4><p>æ•è·å¤„ç†ç¨‹åºçš„è¡Œä¸ºå¿…é¡»éµå®ˆ <strong>â€æ•è·å™¨ä¸å˜å¼â€œ</strong> ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç›®æ ‡å¯¹è±¡æœ‰ä¸€ä¸ªä¸å¯é…ç½®ä¸”ä¸å¯å†™çš„æ•°æ®å±æ€§ã€‚æ•è·å™¨åœ¨è¿”å›ä¸€ä¸ªä¸è¯¥å±æ€§ä¸åŒçš„å€¼æ—¶ï¼Œä¼šæŠ›å‡º <code>TypeError</code> ã€‚</p>
<h4 id="å¯æ’¤é”€ä»£ç†"><a href="#å¯æ’¤é”€ä»£ç†" class="headerlink" title="å¯æ’¤é”€ä»£ç†"></a>å¯æ’¤é”€ä»£ç†</h4><p>æ™®é€šä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡ä¹‹é—´çš„è”ç³»ä¼šåœ¨ä»£ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…ä¸€ç›´æŒç»­å­˜åœ¨ã€‚</p>
<p><code>Proxy</code> æš´éœ²äº† <code>revocable()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ”¯æŒæ’¤é”€ä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡çš„å…³è”ã€‚æ’¤é”€ä»£ç†çš„æ“ä½œæ˜¯ä¸å¯é€†çš„ã€‚æ’¤é”€å‡½æ•°æ˜¯å¹‚ç­‰çš„ï¼Œè°ƒç”¨å¤šå°‘æ¬¡çš„ç»“æœéƒ½ä¸€æ ·ã€‚æ’¤é”€ä»£ç†ä¹‹åå†æ¬¡è°ƒç”¨ä»£ç†ä¼šæŠ›å‡º <code>TypeError</code> ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'intercepted'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// intercepted</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TypeError</span></code></pre>
<h4 id="å®ç”¨åå°„-API"><a href="#å®ç”¨åå°„-API" class="headerlink" title="å®ç”¨åå°„ API"></a>å®ç”¨åå°„ <code>API</code></h4><ol>
<li><p>åå°„ <code>API</code> å’Œå¯¹è±¡ <code>API</code></p>
<p>åå°„ <code>API</code> å¹¶ä¸é™äºæ•è·å¤„ç†ç¨‹åºã€‚å¤§å¤šæ•°åå°„ <code>API</code> åœ¨ <code>Object</code> ç±»å‹ä¸Šæœ‰å¯¹åº”çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>çŠ¶æ€æ ‡è®°</p>
<p>å¾ˆå¤šåå°„æ–¹æ³•è¿”å›ç§°ä½œ <strong>â€çŠ¶æ€æ ‡è®°â€œ</strong> çš„å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ„å›¾æ‰§è¡Œçš„æ“ä½œæ˜¯å¦æˆåŠŸã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆå§‹ä»£ç </span>
<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'failure'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// é‡æ„åçš„ä»£ç </span>
<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'failure'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ä»¥ä¸‹æ–¹æ³•éƒ½ä¼šæä¾›çŠ¶æ€æ ‡è®°ï¼š</p>
<ul>
<li><code>Reflect.defineProperty()</code></li>
<li><code>Reflect.preventExtensions()</code></li>
<li><code>Reflect.setPrototypeOf()</code></li>
<li><code>Reflect.set()</code></li>
<li><code>Reflect.deleteProperty()</code></li>
</ul>
</li>
<li><p>ç”¨ä¸€ç­‰å‡½æ•°æ›¿ä»£æ“ä½œç¬¦</p>
<p>ä»¥ä¸‹åå°„æ–¹æ³•æä¾›åªæœ‰é€šè¿‡æ“ä½œç¬¦æ‰èƒ½å®Œæˆçš„æ“ä½œï¼š</p>
<ul>
<li><code>Reflect.get()</code> å¯ä»¥æ›¿ä»£å¯¹è±¡å±æ€§è®¿é—®æ“ä½œç¬¦ã€‚</li>
<li><code>Reflect.set()</code> å¯ä»¥æ›¿ä»£ = èµ‹å€¼æ“ä½œç¬¦ã€‚</li>
<li><code>Reflect.has()</code> å¯ä»¥æ›¿ä»£ <code>in</code> æ“ä½œç¬¦æˆ– <code>with()</code> ã€‚</li>
<li><code>Reflect.deleteProperty()</code> å¯ä»¥æ›¿ä»£ <code>delete</code> æ“ä½œç¬¦ã€‚</li>
<li><code>Reflect.construct()</code> å¯ä»¥æ›¿ä»£ <code>new</code> æ“ä½œç¬¦ã€‚</li>
</ul>
</li>
<li><p>å®‰å…¨åœ°åº”ç”¨å‡½æ•°</p>
<p>åœ¨é€šè¿‡ <code>apply</code> æ–¹æ³•è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¢«è°ƒç”¨çš„å‡½æ•°å¯èƒ½ä¹Ÿå®šä¹‰äº†è‡ªå·±çš„ <code>apply</code> å±æ€§ã€‚ä¸ºç»•è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å®šä¹‰åœ¨ <code>Function</code> åŸå‹ä¸Šçš„ <code>apply</code> æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<pre class=" language-js"><code class="language-js">Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>apply<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>myFunc<span class="token punctuation">,</span> thisVal<span class="token punctuation">,</span> argumentList<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ”¹ä¸ºï¼š</p>
<pre class=" language-js"><code class="language-js">Reflect<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>myFunc<span class="token punctuation">,</span> thisVal<span class="token punctuation">,</span> argumentsList<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="ä»£ç†å¦ä¸€ä¸ªä»£ç†"><a href="#ä»£ç†å¦ä¸€ä¸ªä»£ç†" class="headerlink" title="ä»£ç†å¦ä¸€ä¸ªä»£ç†"></a>ä»£ç†å¦ä¸€ä¸ªä»£ç†</h4><p>é€šè¿‡ä»£ç†å¦ä¸€ä¸ªä»£ç†ï¼Œå¯ä»¥å½¢æˆå¤šå±‚ä»£ç†ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> firstProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'first proxy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> secondProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>firstProxy<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'second proxy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondProxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// second proxy</span>
<span class="token comment" spellcheck="true">// first proxy</span>
<span class="token comment" spellcheck="true">// bar</span></code></pre>
<h4 id="ä»£ç†çš„é—®é¢˜ä¸ä¸è¶³"><a href="#ä»£ç†çš„é—®é¢˜ä¸ä¸è¶³" class="headerlink" title="ä»£ç†çš„é—®é¢˜ä¸ä¸è¶³"></a>ä»£ç†çš„é—®é¢˜ä¸ä¸è¶³</h4><ol>
<li><p>ä»£ç†çš„ <code>this</code> é—®é¢˜</p>
<p>æ–¹æ³•ä¸­çš„ <code>this</code> æŒ‡å‘è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">thisValEqualsProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">===</span> proxy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">thisValEqualsProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">thisValEqualsProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>è°ƒç”¨ä»£ç†ä¸Šçš„ä»»ä½•æ–¹æ³•ï¼Œæ¯”å¦‚ <code>proxy.outerMethod()</code> ï¼Œè€Œè¿™ä¸ªæ–¹æ³•åˆä¼šè°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œ <code>this.innerMethod()</code> ã€‚å®é™…ä¸Šä¼šè°ƒç”¨ <code>proxy.innerMethod()</code> ã€‚å½“ç›®æ ‡å¯¹è±¡ä¾èµ–äºå¯¹è±¡æ ‡è¯†ï¼Œå°±ä¼šå‡ºç°æ„å¤–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">id</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å½“ä¸€ä¸ª <code>WeakMap</code> å®ä¾‹è¢«ä»£ç†ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">id</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123</span>
<span class="token keyword">const</span> userInstanceProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInstanceProxy<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre>
<p>å› ä¸º <code>User</code> å®ä¾‹ä¸€å¼€å§‹ä½¿ç”¨ç›®æ ‡å¯¹è±¡ä½œä¸º <code>WeakMap</code> çš„é”®ã€‚ä»£ç†å¯¹è±¡å°è¯•ä»è‡ªèº«å–å¾—è¿™ä¸ªå®ä¾‹ã€‚æ¢å¥è¯è¯´ï¼Œæ„é€ å‡½æ•°ä¸­è®¾ç½® <code>wm</code> ä¸­çš„é”®åä¸º <code>user</code> å®ä¾‹ã€‚ä»£ç†å¯¹è±¡è·å–æ—¶å´ä½¿ç”¨è‡ªèº«æ¥ä½œä¸ºé”®åè·å–ï¼Œè‡ªç„¶æ— æ³•è·å–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">id</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> UserClassProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxyUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserClassProxy</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxyUser<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 456</span></code></pre>
<p>æŠŠä»£ç† <code>User</code> å®ä¾‹æ”¹ä¸ºä»£ç† <code>User</code> ç±»æœ¬èº«ã€‚æ­¤æ—¶ä½¿ç”¨çš„é”®åå°±æ˜¯ä»£ç†çš„å®ä¾‹ã€‚</p>
</li>
<li><p>ä»£ç†ä¸å†…éƒ¨æ§½ä½</p>
<p>ä»£ç†ä¸å†…ç½®å¼•ç”¨ç±»å‹çš„å®ä¾‹é€šå¸¸å¯ä»¥å¾ˆå¥½åœ°ååŒã€‚ä½†æœ‰äº›å†…ç½®ç±»å‹å¯èƒ½ä¼šä¾èµ–ä»£ç†æ— æ³•æ§åˆ¶çš„æœºåˆ¶ï¼Œå¯¼è‡´åœ¨ä»£ç†ä¸Šè°ƒç”¨æŸäº›æ–¹æ³•ä¼šå‡ºé”™ã€‚</p>
<p>ä¾‹å¦‚ <code>Date</code> ç±»å‹ã€‚æ ¹æ® <code>ECMAScript</code> è§„èŒƒï¼Œè¯¥ç±»å‹æ–¹æ³•çš„æ‰§è¡Œä¾èµ– <code>this</code> å€¼ä¸Šçš„å†…éƒ¨æ§½ä½ <code>[[NumberDate]]</code> ã€‚ä»£ç†å¯¹è±¡ä¸Šä¸å­˜åœ¨è¿™ä¸ªå†…éƒ¨æ§½ä½ï¼Œè¿™ä¸ªå†…éƒ¨æ§½ä½çš„å€¼ä¹Ÿä¸èƒ½é€šè¿‡æ™®é€šçš„ <code>get()</code> å’Œ <code>set()</code> æ“ä½œè®¿é—®åˆ°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
proxy<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TypeError: 'this' is not a Date objec</span></code></pre>
</li>
</ol>
<h2 id="MDN-å­¦ä¹ è®°å½•"><a href="#MDN-å­¦ä¹ è®°å½•" class="headerlink" title="MDN å­¦ä¹ è®°å½•"></a>MDN å­¦ä¹ è®°å½•</h2><h4 id="å›¾åƒã€åª’ä½“å’Œè¡¨å•å…ƒç´ "><a href="#å›¾åƒã€åª’ä½“å’Œè¡¨å•å…ƒç´ " class="headerlink" title="å›¾åƒã€åª’ä½“å’Œè¡¨å•å…ƒç´ "></a>å›¾åƒã€åª’ä½“å’Œè¡¨å•å…ƒç´ </h4><p>ä½¿ç”¨ <code>object-fit</code> å±æ€§ï¼Œå¯ä»¥è®¾ç½®æ›¿æ¢å…ƒç´ ä»¥ä¸åŒæ–¹å¼è°ƒæ•´åˆ°åˆä¹ç›’å­çš„å¤§å°ã€‚</p>
<ul>
<li><code>cover</code> ä½¿å›¾ç‰‡è¦†ç›–ç›’å­</li>
<li><code>contain</code> ä½¿å›¾ç‰‡å®Œå…¨å±•ç¤ºåœ¨ç›’å­å†…éƒ¨</li>
<li><code>fill</code> ä¸æŒ‰æ¯”ä¾‹æ”¾ç¼©æ¥è¦†ç›–ç›’å­</li>
</ul>
<p>åœ¨ä¸€äº›æµè§ˆå™¨ä¸­ï¼Œè¡¨å•å…ƒç´ é»˜è®¤ä¸ä¼šç»§æ‰¿å­—ä½“æ ·å¼ã€‚</p>
<p>ä¸åŒæµè§ˆå™¨ä¸­ï¼Œå¯¹äº <code>form</code> å…ƒç´ ä½¿ç”¨ä¸åŒçš„ç›’å­æ¨¡å‹ã€‚</p>
<p>å¯¹è¡¨æ ¼è®¾ç½® <code>css</code> å±æ€§ <code>table-layout</code> ä¸º <code>fixed</code> ï¼Œç„¶åå¯ä»¥è‡ªå®šä¹‰ <code>thead</code> ä¸­çš„å•å…ƒæ ¼å®½åº¦ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 22</title>
    <url>/2020/10/22/xue-xi-bi-ji-2020-10-22/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-22"><a href="#å­¦ä¹ ç¬”è®°-2020-10-22" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-22"></a>å­¦ä¹ ç¬”è®° 2020-10-22</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><h5 id="å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜"><a href="#å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜" class="headerlink" title="å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜"></a>å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜</h5><ol>
<li><p>å®ä¾‹æˆå‘˜</p>
</li>
<li><p>åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨</p>
<p>åœ¨ç±»å—ä¸­å®šä¹‰çš„æ–¹æ³•ä½œä¸ºåŸå‹æ–¹æ³•ã€‚</p>
<p>å¯ä»¥æŠŠæ–¹æ³•å®šä¹‰åœ¨ç±»æ„é€ å‡½æ•°ä¸­æˆ–è€…ç±»å—ä¸­ï¼Œä½†ä¸èƒ½åœ¨ç±»å—ä¸­ç»™åŸå‹æ·»åŠ åŸå§‹å€¼æˆ–å¯¹è±¡ä½œä¸ºæˆå‘˜æ•°æ®ã€‚</p>
<p>ç±»æ–¹æ³•ç­‰åŒäºå¯¹è±¡å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ã€ç¬¦å·æˆ–è®¡ç®—çš„å€¼ä½œä¸ºé”®ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> symbolKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'symbolKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">stringKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'invoked stringKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>symbolKey<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'invoked symbolKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span><span class="token string">'computed'</span> <span class="token operator">+</span> <span class="token string">'Key'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'invoked computedKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">stringKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// invoked stringKey</span>
p<span class="token punctuation">[</span>symbolKey<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// invoked symbolKey</span>
p<span class="token punctuation">.</span><span class="token function">computedKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// invoked computedKey</span></code></pre>
<p>ç±»å®šä¹‰ä¹Ÿæ”¯æŒè·å–å’Œè®¾ç½®è®¿é—®å™¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name_ <span class="token operator">=</span> newName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name_<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jake'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Jake</span></code></pre>
</li>
<li><p>é™æ€ç±»æ–¹æ³•</p>
<p>é™æ€ç±»æˆå‘˜åœ¨ç±»å®šä¹‰ä¸­ä½¿ç”¨ <code>static</code> å…³é”®å­—ä½œä¸ºå‰ç¼€ã€‚åœ¨é™æ€æˆå‘˜ä¸­ï¼Œ <code>this</code> å¼•ç”¨ç±»è‡ªèº«ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æ·»åŠ åˆ° this çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå­˜åœ¨äºä¸åŒçš„å®ä¾‹ä¸Š</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>locate <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'instance'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// å®šä¹‰åœ¨ç±»çš„åŸå‹å¯¹è±¡ä¸Š</span>
  <span class="token function">locate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'prototype'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// å®šä¹‰åœ¨ç±»æœ¬èº«ä¸Š</span>
  <span class="token keyword">static</span> <span class="token function">locate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">locate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// instance, Person {}</span>
Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">locate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// prototype, {constructor: ... }</span>
Person<span class="token punctuation">.</span><span class="token function">locate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// class, class Person {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>é™æ€ç±»æ–¹æ³•é€‚åˆä½œä¸ºå®ä¾‹å·¥å‚ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age_ <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age_<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ä½¿ç”¨éšæœºå¹´é¾„åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª Person å®ä¾‹</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Person { age_: ... }</span></code></pre>
</li>
<li><p>éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜</p>
<p>åœ¨ç±»çš„å¤–éƒ¨ï¼Œå¯ä»¥ç»™åŸå‹æ‰‹åŠ¨æ·»åŠ å±æ€§ã€‚</p>
</li>
<li><p>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨è¯­æ³•</p>
<p>ç±»å®šä¹‰è¯­æ³•æ”¯æŒåœ¨åŸå‹å’Œç±»æœ¬èº«ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// åœ¨åŸå‹ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•</span>
  <span class="token operator">*</span><span class="token function">createNicknameIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'Jake'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'J-Dog'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// åœ¨ç±»ä¸Šå®šä¹‰ç”Ÿæˆå™¨æ–¹æ³•</span>
  <span class="token keyword">static</span> <span class="token operator">*</span><span class="token function">createJobIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">'Butcher'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'Baker'</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">'Candlestick maker'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> jobIter <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">createJobIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jobIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Butcher</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jobIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Baker</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jobIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Candlestick maker</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nicknameIter <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">createNicknameIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nicknameIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Jack</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nicknameIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Jake</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nicknameIter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// J-Dog</span></code></pre>
<p>ä¹Ÿå¯ä»¥æ·»åŠ ä¸€ä¸ªé»˜è®¤çš„è¿­ä»£å™¨ï¼ŒæŠŠç±»å®ä¾‹å˜æˆå¯è¿­ä»£å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nicknames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token string">'Jake'</span><span class="token punctuation">,</span> <span class="token string">'J-Dog'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nicknames<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>idx<span class="token punctuation">,</span> nickname<span class="token punctuation">]</span> <span class="token keyword">of</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nickname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Jack</span>
<span class="token comment" spellcheck="true">// Jake</span>
<span class="token comment" spellcheck="true">// J-Dog</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nicknames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token string">'Jake'</span><span class="token punctuation">,</span> <span class="token string">'J-Dog'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nicknames<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>idx<span class="token punctuation">,</span> nickname<span class="token punctuation">]</span> <span class="token keyword">of</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nickname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// Jack</span>
<span class="token comment" spellcheck="true">// Jake</span>
<span class="token comment" spellcheck="true">// J-Dog</span></code></pre>
</li>
</ol>
<h5 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h5><p><code>ES6</code> çš„ç±»ç»§æ‰¿ä½¿ç”¨äº†æ–°è¯­æ³•ï¼Œä½†èƒŒåä¾ç„¶ä½¿ç”¨åŸå‹é“¾ã€‚</p>
<ol>
<li><p>ç»§æ‰¿åŸºç¡€</p>
<p><code>ES6</code> ç±»æ”¯æŒå•ç»§æ‰¿ã€‚ä½¿ç”¨ <code>extends</code> å…³é”®å­—ï¼Œå°±å¯ä»¥ç»§æ‰¿ä»»ä½•æ‹¥æœ‰ <code>[[Construct]]</code> å’ŒåŸå‹çš„å¯¹è±¡ã€‚ä¸ä»…å¯ä»¥ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿æ™®é€šçš„æ„é€ å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç»§æ‰¿ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b <span class="token keyword">instanceof</span> <span class="token class-name">Bus</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b <span class="token keyword">instanceof</span> <span class="token class-name">Vehicle</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç»§æ‰¿æ™®é€šæ„é€ å‡½æ•°</span>
<span class="token keyword">class</span> <span class="token class-name">Engineer</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Engineer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Engineer</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>æ´¾ç”Ÿç±»å¯ä»¥é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°ç±»å’ŒåŸå‹ä¸Šå®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p><code>extends</code> å…³é”®å­—ä¹Ÿå¯ä»¥åœ¨ç±»è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚</p>
</li>
<li><p>æ„é€ å‡½æ•°ã€ <code>HomeObject</code> å’Œ <code>super()</code></p>
<p>åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨ <code>super</code> æ¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ <code>super</code> æ¥è°ƒç”¨ç»§æ‰¿çš„ç±»ä¸Šå®šä¹‰çš„é™æ€æ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'vehicle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Bus<span class="token punctuation">.</span><span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// vehicle</span></code></pre>
<p><code>ES6</code> ç»™ç±»æ„é€ å‡½æ•°å’Œé™æ€æ–¹æ³•æ·»åŠ äº†å†…éƒ¨ç‰¹æ€§ <code>[[HomeObject]]</code> ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å®šä¹‰è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªæŒ‡é’ˆæ˜¯è‡ªåŠ¨èµ‹å€¼çš„ï¼Œåªèƒ½åœ¨ <code>JavaScript</code> å¼•æ“å†…éƒ¨è®¿é—®ã€‚ <code>super</code> å§‹ç»ˆä¼šå®šä¹‰ä¸º <code>[[HomeObject]]</code> çš„åŸå‹ã€‚</p>
<ul>
<li><code>super</code> åªèƒ½åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°å’Œé™æ€æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</li>
<li>ä¸èƒ½å•ç‹¬å¼•ç”¨ <code>super</code> å…³é”®å­—ï¼Œè¦ä¹ˆç”¨å®ƒè°ƒç”¨æ„é€ å‡½æ•°ï¼Œè¦ä¹ˆç”¨å®ƒå¼•ç”¨é™æ€æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ <code>super()</code> ä¼šè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå¹¶å°†è¿”å›çš„å®ä¾‹èµ‹å€¼ç»™ <code>this</code> ã€‚</li>
<li><code>super()</code> çš„è¡Œä¸ºå¦‚åŒè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå¦‚æœéœ€è¦ç»™çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨ä¼ å…¥ã€‚</li>
<li>å¦‚æœæ²¡æœ‰å®šä¹‰ç±»æ„é€ å‡½æ•°ï¼Œåœ¨å®ä¾‹åŒ–æ´¾ç”Ÿç±»æ—¶ä¼šè°ƒç”¨ <code>super()</code> ï¼Œè€Œä¸”ä¼šä¼ å…¥æ‰€æœ‰ä¼ ç»™æ´¾ç”Ÿç±»çš„å‚æ•°ã€‚</li>
<li>åœ¨ç±»æ„é€ å‡½æ•°ä¸­ï¼Œä¸èƒ½åœ¨è°ƒç”¨ <code>super()</code> ä¹‹å‰å¼•ç”¨ <code>this</code> ã€‚</li>
<li>å¦‚æœæ´¾ç”Ÿç±»æ˜¾å¼å®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œåˆ™å¿…é¡»è°ƒç”¨ <code>super()</code> ï¼Œè¦ä¹ˆå¿…é¡»åœ¨å…¶ä¸­è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>æŠ½è±¡åŸºç±»</p>
<p>æŠ½è±¡åŸºç±»æ˜¯æŒ‡å¯è¢«å…¶ä»–ç±»ç»§æ‰¿ä½†è‡ªèº«ä¸ä¼šè¢«å®ä¾‹åŒ–çš„ç±»ã€‚ <code>ECMAScript</code> ä¸­æ²¡æœ‰ä¸“é—¨æ”¯æŒè¿™ç§ç±»çš„è¯­æ³•ã€‚ä½†å¯ä»¥é€šè¿‡ <code>new.target</code> æ¥å®ç°ã€‚</p>
<p><code>new.target</code> ä¿å­˜é€šè¿‡ <code>new</code> å…³é”®å­—è°ƒç”¨çš„ç±»æˆ–å‡½æ•°ã€‚é€šè¿‡åœ¨å®ä¾‹åŒ–æ—¶æ£€æŸ¥ <code>new.target</code> æ˜¯ä¸æ˜¯æŠ½è±¡åŸºç±»ï¼Œå¯ä»¥é˜»æ­¢å¯¹æŠ½è±¡åŸºç±»çš„å®ä¾‹åŒ–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æŠ½è±¡åŸºç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Vehicle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Vehicle cannot be directly instantiated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// æ´¾ç”Ÿç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// class Bus {}</span>
<span class="token keyword">new</span> <span class="token class-name">Vehicle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// class Vehicle {}</span>
<span class="token comment" spellcheck="true">// Error: Vehicle cannot be directly instantiated</span></code></pre>
<p>å¯ä»¥é€šè¿‡åœ¨æŠ½è±¡åŸºç±»æ„é€ å‡½æ•°ä¸­è¿›è¡Œæ£€æŸ¥ï¼Œå¯ä»¥è¦æ±‚æ´¾ç”Ÿç±»å¿…é¡»å®šä¹‰æŸä¸ªæ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æŠ½è±¡åŸºç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Vehicle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Vehicle cannot be directly instantiated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Inheriting class must define foo()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// æ´¾ç”Ÿç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// æ´¾ç”Ÿç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Van</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// success!</span>
<span class="token keyword">new</span> <span class="token class-name">Van</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Error: Inheriting class must define foo()</span></code></pre>
<p>æ­¤å¤„çš„åŸç†æ˜¯åŸå‹å‡½æ•°åœ¨è°ƒç”¨ç±»æ„é€ å‡½æ•°ä¹‹å‰å°±å·²ç»å­˜åœ¨ï¼Œä»¥æ­¤æ¥è¿›è¡Œåˆ¤æ–­ã€‚</p>
</li>
<li><p>ç»§æ‰¿å†…ç½®ç±»å‹</p>
<p><code>ES6</code> ç±»å¯ä»¥æ–¹ä¾¿åœ°æ‹“å±•å†…ç½®ç±»å‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">SuperArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æ´—ç‰Œç®—æ³•</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> j <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">SuperArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5]</span>
a<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3, 1, 4, 5, 2]</span></code></pre>
<p>å†…ç½®ç±»å‹çš„æ–¹æ³•è¿”å›äº†æ–°çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹ç±»å‹ä¾ç„¶ä¿æŒä¸å˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">SuperArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 3, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1 <span class="token keyword">instanceof</span> <span class="token class-name">SuperArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2 <span class="token keyword">instanceof</span> <span class="token class-name">SuperArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å¯ä»¥é€šè¿‡è¦†ç›– <code>Symbol.species</code> è®¿é—®å™¨æ¥è¦†ç›–è¿™ä¸ªé»˜è®¤è¡Œä¸ºã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">SuperArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 3, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1 <span class="token keyword">instanceof</span> <span class="token class-name">SuperArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2 <span class="token keyword">instanceof</span> <span class="token class-name">SuperArray</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre>
</li>
<li><p>ç±»æ··å…¥</p>
<p>æŠŠä¸åŒç±»çš„è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªç±»æ˜¯ä¸€ç§å¸¸è§çš„ <code>JavaScript</code> æ¨¡å¼ã€‚<code>ES6</code> æ²¡æœ‰æ˜¾å¼æ”¯æŒå¤šç±»ç»§æ‰¿ï¼Œä½†å¯ä»¥é€šè¿‡ç°æœ‰ç‰¹å¾æ¨¡æ‹Ÿã€‚</p>
<p><code>extends</code> åå¯ä»¥è·Ÿä»»ä½•èƒ½å¤Ÿè§£æä¸ºä¸€ä¸ªç±»æˆ–ä¸€ä¸ªæ„é€ å‡½æ•°çš„è¡¨è¾¾å¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getParentClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'evaluated expression'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Vehicle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">getParentClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// å¯æ±‚å€¼çš„è¡¨è¾¾å¼</span></code></pre>
<p>å¤šç±»ç»§æ‰¿å¯ä»¥é€šè¿‡åµŒå¥—å¤šä¸ªå‡½æ•°æ¥å®ç°ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> FooMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> BarMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> BazMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">FooMixin</span><span class="token punctuation">(</span><span class="token function">BarMixin</span><span class="token punctuation">(</span><span class="token function">BazMixin</span><span class="token punctuation">(</span>Vehicle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
b<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
b<span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// baz</span></code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡è¾…åŠ©å‡½æ•°æ¥å±•å¼€åµŒå¥—è°ƒç”¨ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> FooMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> BarMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> BazMixin <span class="token operator">=</span> Superclass <span class="token operator">=</span><span class="token operator">></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> Superclass <span class="token punctuation">{</span>
    <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">mix</span><span class="token punctuation">(</span>BaseClass<span class="token punctuation">,</span> <span class="token operator">...</span>Mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Mixins<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">current</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">)</span><span class="token punctuation">,</span> BaseClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">mix</span><span class="token punctuation">(</span>Vehicle<span class="token punctuation">,</span> FooMixin<span class="token punctuation">,</span> BarMixin<span class="token punctuation">,</span> BazMixin<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
b<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
b<span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// baz</span></code></pre>
<blockquote>
<p>å¾ˆå¤š <code>JS</code> æ¡†æ¶ (ä¾‹å¦‚ <code>React</code> ) å·²ç»æŠ›å¼ƒæ··å…¥æ¨¡å¼ï¼Œè½¬å‘äº†ç»„åˆæ¨¡å¼ã€‚æŠŠæ–¹æ³•æå–åˆ°ç‹¬ç«‹çš„ç±»å’Œè¾…åŠ©å¯¹è±¡ä¸­ï¼Œç„¶åæŠŠå®ƒä»¬ç»„åˆèµ·æ¥ï¼Œä½†ä¸ä½¿ç”¨ç»§æ‰¿ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><h4 id="ä½ å¥½ï¼Œå¯¹è±¡"><a href="#ä½ å¥½ï¼Œå¯¹è±¡" class="headerlink" title="ä½ å¥½ï¼Œå¯¹è±¡"></a>ä½ å¥½ï¼Œå¯¹è±¡</h4><p>æŒ‰ä¸‹é¢çš„è¦æ±‚å†™ä»£ç ï¼Œä¸€æ¡å¯¹åº”ä¸€è¡Œä»£ç ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ <code>user</code>ã€‚</li>
<li>ä¸ºè¿™ä¸ªå¯¹è±¡å¢åŠ ä¸€ä¸ªå±æ€§ï¼Œé”®æ˜¯ <code>name</code>ï¼Œå€¼æ˜¯ <code>John</code>ã€‚</li>
<li>å†å¢åŠ ä¸€ä¸ªå±æ€§ï¼Œé”®æ˜¯ <code>surname</code>ï¼Œå€¼æ˜¯ <code>Smith</code>ã€‚</li>
<li>æŠŠé”®ä¸º <code>name</code> çš„å±æ€§çš„å€¼æ”¹æˆ <code>Pete</code>ã€‚</li>
<li>åˆ é™¤è¿™ä¸ªå¯¹è±¡ä¸­é”®ä¸º <code>name</code> çš„å±æ€§ã€‚</li>
</ol>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'John'</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>surname <span class="token operator">=</span> <span class="token string">'Smith'</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Pete'</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> user<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ£€æŸ¥ç©ºå¯¹è±¡</p>
<p>å†™ä¸€ä¸ª <code>isEmpty(obj)</code> å‡½æ•°ï¼Œå½“å¯¹è±¡æ²¡æœ‰å±æ€§çš„æ—¶å€™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p>åº”è¯¥åƒè¿™æ ·ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> schedule <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>schedule<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
schedule<span class="token punctuation">[</span><span class="token string">"8:30"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"get up"</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>schedule<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>å¯¹è±¡å±æ€§æ±‚å’Œ</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªä¿å­˜ç€å›¢é˜Ÿæˆå‘˜å·¥èµ„çš„å¯¹è±¡ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> salaries <span class="token operator">=</span> <span class="token punctuation">{</span>
  John<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  Ann<span class="token punctuation">:</span> <span class="token number">160</span><span class="token punctuation">,</span>
  Pete<span class="token punctuation">:</span> <span class="token number">130</span>
<span class="token punctuation">}</span></code></pre>
<p>å†™ä¸€æ®µä»£ç æ±‚å‡ºæˆ‘ä»¬çš„å·¥èµ„æ€»å’Œï¼Œå°†è®¡ç®—ç»“æœä¿å­˜åˆ°å˜é‡ <code>sum</code>ã€‚ä»æ‰€ç»™çš„ä¿¡æ¯æ¥çœ‹ï¼Œç»“æœåº”è¯¥æ˜¯ <code>390</code>ã€‚</p>
<p>å¦‚æœ <code>salaries</code> æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œé‚£ç»“æœå°±ä¸º <code>0</code>ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> salaries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  sum <span class="token operator">+</span><span class="token operator">=</span> salaries<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>æ•°å€¼å±æ€§éƒ½ä¹˜ä»¥2</p>
<p>åˆ›å»ºä¸€ä¸ª <code>multiplyNumeric(obj)</code> å‡½æ•°ï¼ŒæŠŠ <code>obj</code> æ‰€æœ‰çš„æ•°å€¼å±æ€§éƒ½ä¹˜ä»¥ <code>2</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// åœ¨è°ƒç”¨ä¹‹å‰</span>
<span class="token keyword">let</span> menu <span class="token operator">=</span> <span class="token punctuation">{</span>
  width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  title<span class="token punctuation">:</span> <span class="token string">"My menu"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">multiplyNumeric</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨å‡½æ•°ä¹‹å</span>
menu <span class="token operator">=</span> <span class="token punctuation">{</span>
  width<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
  title<span class="token punctuation">:</span> <span class="token string">"My menu"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ³¨æ„ <code>multiplyNumeric</code> å‡½æ•°ä¸éœ€è¦è¿”å›ä»»ä½•å€¼ï¼Œå®ƒåº”è¯¥å°±åœ°ä¿®æ”¹å¯¹è±¡ã€‚</p>
<p>P.S. ç”¨ <code>typeof</code> æ£€æŸ¥å€¼ç±»å‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">multiplyNumeric</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prev <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> prev <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="MDN-å­¦ä¹ è®°å½•"><a href="#MDN-å­¦ä¹ è®°å½•" class="headerlink" title="MDN å­¦ä¹ è®°å½•"></a>MDN å­¦ä¹ è®°å½•</h2><h3 id="é‡è®¾æ‰€æœ‰å±æ€§å€¼"><a href="#é‡è®¾æ‰€æœ‰å±æ€§å€¼" class="headerlink" title="é‡è®¾æ‰€æœ‰å±æ€§å€¼"></a>é‡è®¾æ‰€æœ‰å±æ€§å€¼</h3><p>å¯ä»¥è®¾ç½®ä¸€ä¸ªå±æ€§å« <code>all</code> ï¼Œæ¥è¿›è¡Œæ‰€æœ‰å±æ€§çš„ä¿®æ”¹ï¼Œå€¼å¯ä»¥æ˜¯ <code>inherit</code> <code>initial</code> <code>unset</code> <code>revert</code> ã€‚</p>
<h3 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h3><p>åœ¨ <code>CSS</code> è§„åˆ™ä¸­ï¼Œä¸€ä¸ªé€‰æ‹©å™¨æ— æ•ˆï¼Œè¯¥é€‰æ‹©å™¨æ‰€å¯¹åº”çš„å±æ€§éƒ½å°†ä¸ç”Ÿæ•ˆã€‚</p>
<h3 id="å€¼é€‰æ‹©å™¨"><a href="#å€¼é€‰æ‹©å™¨" class="headerlink" title="å€¼é€‰æ‹©å™¨"></a>å€¼é€‰æ‹©å™¨</h3><p>è¿™äº›é€‰æ‹©å™¨å…è®¸åŸºäºä¸€ä¸ªå…ƒç´ è‡ªèº«æ˜¯å¦å­˜åœ¨ï¼ˆä¾‹å¦‚<code>href</code>ï¼‰æˆ–è€…åŸºäºå„å¼ä¸åŒçš„æŒ‰å±æ€§å€¼çš„åŒ¹é…ï¼Œæ¥é€‰å–å…ƒç´ ã€‚</p>
<table>
<thead>
<tr>
<th align="left">é€‰æ‹©å™¨</th>
<th align="left">ç¤ºä¾‹</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[attr]</code></td>
<td align="left"><code>a[title]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´ â€”â€”æ–¹æ‹¬å·é‡Œçš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><code>[attr=value]</code></td>
<td align="left"><code>a[href="https://example.com"]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´ ï¼Œå…¶å€¼æ­£ä¸º<em>value</em>â€”â€”å¼•å·ä¸­çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left"><code>[attr~=value]</code></td>
<td align="left"><code>p[class~="special"]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´  ï¼Œå…¶å€¼æ­£ä¸º <code>value</code> ï¼Œæˆ–è€…åŒ¹é…å¸¦æœ‰ä¸€ä¸ª <code>attr</code> å±æ€§çš„å…ƒç´ ï¼Œå…¶å€¼æœ‰ä¸€ä¸ªæˆ–è€…æ›´å¤šï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå’Œ<em>value</em>åŒ¹é…ã€‚æ³¨æ„ï¼Œåœ¨ä¸€åˆ—ä¸­çš„å¥½å‡ ä¸ªå€¼ï¼Œæ˜¯ç”¨ç©ºæ ¼éš”å¼€çš„ã€‚</td>
</tr>
<tr>
<td align="left">`[attr</td>
<td align="left">=value]`</td>
<td align="left">`div[lang</td>
</tr>
</tbody></table>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Attribute presence and value selectors<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ab<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Item 4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a-c<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Item 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">li<span class="token attribute">[class]</span> </span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">200%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li<span class="token attribute">[class="a"]</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li<span class="token attribute">[class~="a"]</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li<span class="token attribute">[class|="a"]</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/22/xue-xi-bi-ji-2020-10-22/image-20201022130858506.png" alt="image-20201022130858506"></p>
<h3 id="å­å­—ç¬¦ä¸²åŒ¹é…é€‰æ‹©å™¨"><a href="#å­å­—ç¬¦ä¸²åŒ¹é…é€‰æ‹©å™¨" class="headerlink" title="å­å­—ç¬¦ä¸²åŒ¹é…é€‰æ‹©å™¨"></a>å­å­—ç¬¦ä¸²åŒ¹é…é€‰æ‹©å™¨</h3><p>è¿™äº›é€‰æ‹©å™¨è®©æ›´é«˜çº§çš„å±æ€§çš„å€¼çš„å­å­—ç¬¦ä¸²çš„åŒ¹é…å˜å¾—å¯è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰<code>box-warning</code>å’Œ<code>box-error</code>ç±»ï¼Œæƒ³æŠŠå¼€å¤´ä¸ºâ€œbox-â€å­—ç¬¦ä¸²çš„æ¯ä¸ªç‰©ä»¶éƒ½åŒ¹é…ä¸Šçš„è¯ï¼Œä½ å¯ä»¥ç”¨<code>[class^="box-"]</code>æ¥æŠŠå®ƒä»¬ä¸¤ä¸ªéƒ½é€‰ä¸­ã€‚</p>
<table>
<thead>
<tr>
<th align="left">é€‰æ‹©å™¨</th>
<th align="left">ç¤ºä¾‹</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[attr^=value]</code></td>
<td align="left"><code>li[class^="box-"]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´ ï¼Œå…¶å€¼å¼€å¤´ä¸º <code>value</code> å­å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left"><code>[attr$=value]</code></td>
<td align="left"><code>li[class$="-box"]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´ ï¼Œå…¶å€¼ç»“å°¾ä¸º <code>value</code> å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left"><code>[attr*=value]</code></td>
<td align="left"><code>li[class*="box"]</code></td>
<td align="left">åŒ¹é…å¸¦æœ‰ä¸€ä¸ªåä¸º <code>attr</code> çš„å±æ€§çš„å…ƒç´ ï¼Œå…¶å€¼çš„å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œè‡³å°‘å‡ºç°äº†ä¸€æ¬¡ <code>value</code> å­å­—ç¬¦ä¸²ã€‚</td>
</tr>
</tbody></table>
<h3 id="å¤§å°å†™æ•æ„Ÿ"><a href="#å¤§å°å†™æ•æ„Ÿ" class="headerlink" title="å¤§å°å†™æ•æ„Ÿ"></a>å¤§å°å†™æ•æ„Ÿ</h3><p>å¯ä»¥åœ¨ä¸­æ‹¬å·å†…ï¼ŒåŒ¹é…æ¡ä»¶ååŠ å…¥ <code>i</code> è¡¨ç¤ºå¿½ç•¥å¤§å°å†™ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector">li<span class="token attribute">[class^="a"]</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li<span class="token attribute">[class^="a" i]</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h3><table>
<thead>
<tr>
<th align="left">é€‰æ‹©å™¨</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:active" target="_blank" rel="noopener"><code>:active</code></a></td>
<td align="left">åœ¨ç”¨æˆ·æ¿€æ´»ï¼ˆä¾‹å¦‚ç‚¹å‡»ï¼‰å…ƒç´ çš„æ—¶å€™åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:any-link" target="_blank" rel="noopener"><code>:any-link</code></a></td>
<td align="left">åŒ¹é…ä¸€ä¸ªé“¾æ¥çš„<code>:link</code>å’Œ<code>:visited</code>çŠ¶æ€ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:blank" target="_blank" rel="noopener"><code>:blank</code></a></td>
<td align="left">åŒ¹é…ç©ºè¾“å…¥å€¼çš„<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank" rel="noopener"><code>&lt;input&gt;</code>å…ƒç´ </a>ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:checked" target="_blank" rel="noopener"><code>:checked</code></a></td>
<td align="left">åŒ¹é…å¤„äºé€‰ä¸­çŠ¶æ€çš„å•é€‰æˆ–è€…å¤é€‰æ¡†ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:current" target="_blank" rel="noopener"><code>:current</code></a></td>
<td align="left">åŒ¹é…æ­£åœ¨å±•ç¤ºçš„å…ƒç´ ï¼Œæˆ–è€…å…¶ä¸Šçº§å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:default" target="_blank" rel="noopener"><code>:default</code></a></td>
<td align="left">åŒ¹é…ä¸€ç»„ç›¸ä¼¼çš„å…ƒç´ ä¸­é»˜è®¤çš„ä¸€ä¸ªæˆ–è€…æ›´å¤šçš„UIå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:dir" target="_blank" rel="noopener"><code>:dir</code></a></td>
<td align="left">åŸºäºå…¶æ–¹å‘æ€§ï¼ˆHTML<code>dir</code>å±æ€§æˆ–è€…CSS<code>direction</code>å±æ€§çš„å€¼ï¼‰åŒ¹é…ä¸€ä¸ªå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:disabled" target="_blank" rel="noopener"><code>:disabled</code></a></td>
<td align="left">åŒ¹é…å¤„äºå…³é—­çŠ¶æ€çš„ç”¨æˆ·ç•Œé¢å…ƒç´ </td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty" target="_blank" rel="noopener"><code>:empty</code></a></td>
<td align="left">åŒ¹é…é™¤äº†å¯èƒ½å­˜åœ¨çš„ç©ºæ ¼å¤–ï¼Œæ²¡æœ‰å­å…ƒç´ çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:enabled" target="_blank" rel="noopener"><code>:enabled</code></a></td>
<td align="left">åŒ¹é…å¤„äºå¼€å¯çŠ¶æ€çš„ç”¨æˆ·ç•Œé¢å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:first" target="_blank" rel="noopener"><code>:first</code></a></td>
<td align="left">åŒ¹é…<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Paged_Media" target="_blank" rel="noopener">åˆ†é¡µåª’ä½“</a>çš„ç¬¬ä¸€é¡µã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:first-child" target="_blank" rel="noopener"><code>:first-child</code></a></td>
<td align="left">åŒ¹é…å…„å¼Ÿå…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:first-of-type" target="_blank" rel="noopener"><code>:first-of-type</code></a></td>
<td align="left">åŒ¹é…å…„å¼Ÿå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªæŸç§ç±»å‹çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus" target="_blank" rel="noopener"><code>:focus</code></a></td>
<td align="left">å½“ä¸€ä¸ªå…ƒç´ æœ‰ç„¦ç‚¹çš„æ—¶å€™åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus-visible" target="_blank" rel="noopener"><code>:focus-visible</code></a></td>
<td align="left">å½“å…ƒç´ æœ‰ç„¦ç‚¹ï¼Œä¸”ç„¦ç‚¹å¯¹ç”¨æˆ·å¯è§çš„æ—¶å€™åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus-within" target="_blank" rel="noopener"><code>:focus-within</code></a></td>
<td align="left">åŒ¹é…æœ‰ç„¦ç‚¹çš„å…ƒç´ ï¼Œä»¥åŠå­ä»£å…ƒç´ æœ‰ç„¦ç‚¹çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:future" target="_blank" rel="noopener"><code>:future</code></a></td>
<td align="left">åŒ¹é…å½“å‰å…ƒç´ ä¹‹åçš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:hover" target="_blank" rel="noopener"><code>:hover</code></a></td>
<td align="left">å½“ç”¨æˆ·æ‚¬æµ®åˆ°ä¸€ä¸ªå…ƒç´ ä¹‹ä¸Šçš„æ—¶å€™åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:indeterminate" target="_blank" rel="noopener"><code>:indeterminate</code></a></td>
<td align="left">åŒ¹é…æœªå®šæ€å€¼çš„UIå…ƒç´ ï¼Œé€šå¸¸ä¸º<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox" target="_blank" rel="noopener">å¤é€‰æ¡†</a>ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:in-range" target="_blank" rel="noopener"><code>:in-range</code></a></td>
<td align="left">ç”¨ä¸€ä¸ªåŒºé—´åŒ¹é…å…ƒç´ ï¼Œå½“å€¼å¤„äºåŒºé—´ä¹‹å†…æ—¶åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:invalid" target="_blank" rel="noopener"><code>:invalid</code></a></td>
<td align="left">åŒ¹é…è¯¸å¦‚<code>&lt;input&gt;</code>çš„ä½äºä¸å¯ç”¨çŠ¶æ€çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:lang" target="_blank" rel="noopener"><code>:lang</code></a></td>
<td align="left">åŸºäºè¯­è¨€ï¼ˆHTML<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/lang" target="_blank" rel="noopener">lang</a>å±æ€§çš„å€¼ï¼‰åŒ¹é…å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:last-child" target="_blank" rel="noopener"><code>:last-child</code></a></td>
<td align="left">åŒ¹é…å…„å¼Ÿå…ƒç´ ä¸­æœ€æœ«çš„é‚£ä¸ªå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:last-of-type" target="_blank" rel="noopener"><code>:last-of-type</code></a></td>
<td align="left">åŒ¹é…å…„å¼Ÿå…ƒç´ ä¸­æœ€åä¸€ä¸ªæŸç§ç±»å‹çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:left" target="_blank" rel="noopener"><code>:left</code></a></td>
<td align="left">åœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Pages" target="_blank" rel="noopener">åˆ†é¡µåª’ä½“</a>ä¸­ï¼ŒåŒ¹é…å·¦æ‰‹è¾¹çš„é¡µã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:link" target="_blank" rel="noopener"><code>:link</code></a></td>
<td align="left">åŒ¹é…æœªæ›¾è®¿é—®çš„é“¾æ¥ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:local-link" target="_blank" rel="noopener"><code>:local-link</code></a></td>
<td align="left">åŒ¹é…æŒ‡å‘å’Œå½“å‰æ–‡æ¡£åŒä¸€ç½‘ç«™é¡µé¢çš„é“¾æ¥ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:is" target="_blank" rel="noopener"><code>:is()</code></a></td>
<td align="left">åŒ¹é…ä¼ å…¥çš„é€‰æ‹©å™¨åˆ—è¡¨ä¸­çš„ä»»ä½•é€‰æ‹©å™¨ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:not" target="_blank" rel="noopener"><code>:not</code></a></td>
<td align="left">åŒ¹é…ä½œä¸ºå€¼ä¼ å…¥è‡ªèº«çš„é€‰æ‹©å™¨æœªåŒ¹é…çš„ç‰©ä»¶ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:nth-child" target="_blank" rel="noopener"><code>:nth-child</code></a></td>
<td align="left">åŒ¹é…ä¸€åˆ—å…„å¼Ÿå…ƒç´ ä¸­çš„å…ƒç´ â€”â€”å…„å¼Ÿå…ƒç´ æŒ‰ç…§an+bå½¢å¼çš„å¼å­è¿›è¡ŒåŒ¹é…ï¼ˆæ¯”å¦‚2n+1åŒ¹é…å…ƒç´ 1ã€3ã€5ã€7ç­‰ã€‚å³æ‰€æœ‰çš„å¥‡æ•°ä¸ªï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:nth-of-type" target="_blank" rel="noopener"><code>:nth-of-type</code></a></td>
<td align="left">åŒ¹é…æŸç§ç±»å‹çš„ä¸€åˆ—å…„å¼Ÿå…ƒç´ ï¼ˆæ¯”å¦‚ï¼Œ<code>&lt;p&gt;</code>å…ƒç´ ï¼‰â€”â€”å…„å¼Ÿå…ƒç´ æŒ‰ç…§an+bå½¢å¼çš„å¼å­è¿›è¡ŒåŒ¹é…ï¼ˆæ¯”å¦‚2n+1åŒ¹é…å…ƒç´ 1ã€3ã€5ã€7ç­‰ã€‚å³æ‰€æœ‰çš„å¥‡æ•°ä¸ªï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:nth-last-child" target="_blank" rel="noopener"><code>:nth-last-child</code></a></td>
<td align="left">åŒ¹é…ä¸€åˆ—å…„å¼Ÿå…ƒç´ ï¼Œä»åå¾€å‰å€’æ•°ã€‚å…„å¼Ÿå…ƒç´ æŒ‰ç…§an+bå½¢å¼çš„å¼å­è¿›è¡ŒåŒ¹é…ï¼ˆæ¯”å¦‚2n+1åŒ¹é…æŒ‰ç…§é¡ºåºæ¥çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå¾€å‰ä¸¤ä¸ªï¼Œå†å¾€å‰ä¸¤ä¸ªï¼Œè¯¸å¦‚æ­¤ç±»ã€‚ä»åå¾€å‰æ•°çš„æ‰€æœ‰å¥‡æ•°ä¸ªï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:nth-last-of-type" target="_blank" rel="noopener"><code>:nth-last-of-type</code></a></td>
<td align="left">åŒ¹é…æŸç§ç±»å‹çš„ä¸€åˆ—å…„å¼Ÿå…ƒç´ ï¼ˆæ¯”å¦‚ï¼Œ<code>&lt;p&gt;</code>å…ƒç´ ï¼‰ï¼Œä»åå¾€å‰å€’æ•°ã€‚å…„å¼Ÿå…ƒç´ æŒ‰ç…§an+bå½¢å¼çš„å¼å­è¿›è¡ŒåŒ¹é…ï¼ˆæ¯”å¦‚2n+1åŒ¹é…æŒ‰ç…§é¡ºåºæ¥çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå¾€å‰ä¸¤ä¸ªï¼Œå†å¾€å‰ä¸¤ä¸ªï¼Œè¯¸å¦‚æ­¤ç±»ã€‚ä»åå¾€å‰æ•°çš„æ‰€æœ‰å¥‡æ•°ä¸ªï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:only-child" target="_blank" rel="noopener"><code>:only-child</code></a></td>
<td align="left">åŒ¹é…æ²¡æœ‰å…„å¼Ÿå…ƒç´ çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:only-of-type" target="_blank" rel="noopener"><code>:only-of-type</code></a></td>
<td align="left">åŒ¹é…å…„å¼Ÿå…ƒç´ ä¸­æŸç±»å‹ä»…æœ‰çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:optional" target="_blank" rel="noopener"><code>:optional</code></a></td>
<td align="left">åŒ¹é…ä¸æ˜¯å¿…å¡«çš„formå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:out-of-range" target="_blank" rel="noopener"><code>:out-of-range</code></a></td>
<td align="left">æŒ‰åŒºé—´åŒ¹é…å…ƒç´ ï¼Œå½“å€¼ä¸åœ¨åŒºé—´å†…çš„çš„æ—¶å€™åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:past" target="_blank" rel="noopener"><code>:past</code></a></td>
<td align="left">åŒ¹é…å½“å‰å…ƒç´ ä¹‹å‰çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:placeholder-shown" target="_blank" rel="noopener"><code>:placeholder-shown</code></a></td>
<td align="left">åŒ¹é…æ˜¾ç¤ºå ä½æ–‡å­—çš„inputå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:playing" target="_blank" rel="noopener"><code>:playing</code></a></td>
<td align="left">åŒ¹é…ä»£è¡¨éŸ³é¢‘ã€è§†é¢‘æˆ–è€…ç›¸ä¼¼çš„èƒ½â€œæ’­æ”¾â€æˆ–è€…â€œæš‚åœâ€çš„èµ„æºçš„ï¼Œä¸”æ­£åœ¨â€œæ’­æ”¾â€çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:paused" target="_blank" rel="noopener"><code>:paused</code></a></td>
<td align="left">åŒ¹é…ä»£è¡¨éŸ³é¢‘ã€è§†é¢‘æˆ–è€…ç›¸ä¼¼çš„èƒ½â€œæ’­æ”¾â€æˆ–è€…â€œæš‚åœâ€çš„èµ„æºçš„ï¼Œä¸”æ­£åœ¨â€œæš‚åœâ€çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:read-only" target="_blank" rel="noopener"><code>:read-only</code></a></td>
<td align="left">åŒ¹é…ç”¨æˆ·ä¸å¯æ›´æ”¹çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:read-write" target="_blank" rel="noopener"><code>:read-write</code></a></td>
<td align="left">åŒ¹é…ç”¨æˆ·å¯æ›´æ”¹çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:required" target="_blank" rel="noopener"><code>:required</code></a></td>
<td align="left">åŒ¹é…å¿…å¡«çš„formå…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:right" target="_blank" rel="noopener"><code>:right</code></a></td>
<td align="left">åœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Pages" target="_blank" rel="noopener">åˆ†é¡µåª’ä½“</a>ä¸­ï¼ŒåŒ¹é…å³æ‰‹è¾¹çš„é¡µã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:root" target="_blank" rel="noopener"><code>:root</code></a></td>
<td align="left">åŒ¹é…æ–‡æ¡£çš„æ ¹å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:scope" target="_blank" rel="noopener"><code>:scope</code></a></td>
<td align="left">åŒ¹é…ä»»ä½•ä¸ºå‚è€ƒç‚¹å…ƒç´ çš„çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:valid" target="_blank" rel="noopener"><code>:valid</code></a></td>
<td align="left">åŒ¹é…è¯¸å¦‚<code>&lt;input&gt;</code>å…ƒç´ çš„å¤„äºå¯ç”¨çŠ¶æ€çš„å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:target" target="_blank" rel="noopener"><code>:target</code></a></td>
<td align="left">åŒ¹é…å½“å‰URLç›®æ ‡çš„å…ƒç´ ï¼ˆä¾‹å¦‚å¦‚æœå®ƒæœ‰ä¸€ä¸ªåŒ¹é…å½“å‰<a href="https://en.wikipedia.org/wiki/Fragment_identifier" target="_blank" rel="noopener">URLåˆ†æ®µ</a>çš„å…ƒç´ ï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:visited" target="_blank" rel="noopener"><code>:visited</code></a></td>
<td align="left">åŒ¹é…å·²è®¿é—®é“¾æ¥ã€‚</td>
</tr>
</tbody></table>
<h3 id="ä¼ªå…ƒç´ "><a href="#ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªå…ƒç´ "></a>ä¼ªå…ƒç´ </h3><table>
<thead>
<tr>
<th align="left">é€‰æ‹©å™¨</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::after" target="_blank" rel="noopener"><code>::after</code></a></td>
<td align="left">åŒ¹é…å‡ºç°åœ¨åŸæœ‰å…ƒç´ çš„å®é™…å†…å®¹ä¹‹åçš„ä¸€ä¸ªå¯æ ·å¼åŒ–å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::before" target="_blank" rel="noopener"><code>::before</code></a></td>
<td align="left">åŒ¹é…å‡ºç°åœ¨åŸæœ‰å…ƒç´ çš„å®é™…å†…å®¹ä¹‹å‰çš„ä¸€ä¸ªå¯æ ·å¼åŒ–å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::first-letter" target="_blank" rel="noopener"><code>::first-letter</code></a></td>
<td align="left">åŒ¹é…å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­—æ¯ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::first-line" target="_blank" rel="noopener"><code>::first-line</code></a></td>
<td align="left">åŒ¹é…åŒ…å«æ­¤ä¼ªå…ƒç´ çš„å…ƒç´ çš„ç¬¬ä¸€è¡Œã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::grammar-error" target="_blank" rel="noopener"><code>::grammar-error</code></a></td>
<td align="left">åŒ¹é…æ–‡æ¡£ä¸­åŒ…å«äº†æµè§ˆå™¨æ ‡è®°çš„è¯­æ³•é”™è¯¯çš„é‚£éƒ¨åˆ†ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::selection" target="_blank" rel="noopener"><code>::selection</code></a></td>
<td align="left">åŒ¹é…æ–‡æ¡£ä¸­è¢«é€‰æ‹©çš„é‚£éƒ¨åˆ†ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::spelling-error" target="_blank" rel="noopener"><code>::spelling-error</code></a></td>
<td align="left">åŒ¹é…æ–‡æ¡£ä¸­åŒ…å«äº†æµè§ˆå™¨æ ‡è®°çš„æ‹¼å†™é”™è¯¯çš„é‚£éƒ¨åˆ†ã€‚</td>
</tr>
</tbody></table>
<h3 id="ä¹¦å†™æ¨¡å¼ã€å—çº§å¸ƒå±€å’Œå†…è”å¸ƒå±€"><a href="#ä¹¦å†™æ¨¡å¼ã€å—çº§å¸ƒå±€å’Œå†…è”å¸ƒå±€" class="headerlink" title="ä¹¦å†™æ¨¡å¼ã€å—çº§å¸ƒå±€å’Œå†…è”å¸ƒå±€"></a>ä¹¦å†™æ¨¡å¼ã€å—çº§å¸ƒå±€å’Œå†…è”å¸ƒå±€</h3><p>è®¾ç½® <code>writing-mode</code> å±æ€§å¯ä»¥æ›´æ”¹å…ƒç´ çš„å¸ƒå±€æ–¹å‘ã€‚</p>
<p><code>writing-mode</code>çš„ä¸‰ä¸ªå€¼åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>horizontal-tb</code>: å—æµå‘ä»ä¸Šè‡³ä¸‹ã€‚å¯¹åº”çš„æ–‡æœ¬æ–¹å‘æ˜¯æ¨ªå‘çš„ã€‚</li>
<li><code>vertical-rl</code>: å—æµå‘ä»å³å‘å·¦ã€‚å¯¹åº”çš„æ–‡æœ¬æ–¹å‘æ˜¯çºµå‘çš„ã€‚</li>
<li><code>vertical-lr</code>: å—æµå‘ä»å·¦å‘å³ã€‚å¯¹åº”çš„æ–‡æœ¬æ–¹å‘æ˜¯çºµå‘çš„ã€‚</li>
</ul>
<p>ä¹¦å†™æ¨¡å¼åˆ‡æ¢æ—¶ï¼Œä¹Ÿåœ¨æ”¹å˜å—å¸ƒå±€å’Œå†…è”å¸ƒå±€ã€‚</p>
<p>å¸¸è§çš„ç½‘é¡µæ˜¯å—å¸ƒå±€åœ¨å‚ç›´æ–¹å‘ï¼Œå†…è”å¸ƒå±€åœ¨æ°´å¹³æ–¹å‘ã€‚</p>
<p>çºµå‘ä¹¦å†™æ¨¡å¼ä¸‹å—å¸ƒå±€åœ¨æ°´å¹³æ–¹å‘ï¼Œå†…è”å¸ƒå±€åœ¨å‚ç›´æ–¹å‘ã€‚</p>
<p><img src="https://mdn.mozillademos.org/files/17148/horizontal-tb-zh.png" alt="img"></p>
<p><img src="https://mdn.mozillademos.org/files/17149/vertical-zh.png" alt="img"></p>
<blockquote>
<p>ä»¥ä¸Šå›¾ç‰‡æ¥æºäº MDN</p>
</blockquote>
<h3 id="é€»è¾‘å±æ€§å’Œé€»è¾‘å€¼"><a href="#é€»è¾‘å±æ€§å’Œé€»è¾‘å€¼" class="headerlink" title="é€»è¾‘å±æ€§å’Œé€»è¾‘å€¼"></a>é€»è¾‘å±æ€§å’Œé€»è¾‘å€¼</h3><p>åœ¨ä¸åŒä¹¦å†™æ¨¡å¼ä¸‹ï¼Œ <code>width</code> å’Œ <code>height</code> å¤±å»äº†åŸæœ¬çš„æ„ä¹‰ï¼Œä¼šå¯¼è‡´é”™è¯¯çš„å®½é«˜æ˜¾ç¤ºã€‚äºæ˜¯è¯ç”Ÿäº†æ–°çš„æ¦‚å¿µå±æ€§ï¼Œå«åš <code>inline-size</code> å’Œ <code>block-size</code> ã€‚åˆ†åˆ«å¯¹åº”å—å¸ƒå±€çš„é•¿åº¦å’Œå†…è”å¸ƒå±€çš„é•¿åº¦ã€‚</p>
<p>è€Œå¤–è¾¹è·ã€å†…è¾¹è·ä¹Ÿæœ‰äº†å¯¹åº”çš„æ˜ å°„å±æ€§ï¼š</p>
<p><code>margin-top</code> å±æ€§çš„æ˜ å°„æ˜¯ <code>margin-block-start</code> â€”â€”æ€»æ˜¯æŒ‡å‘å—çº§ç»´åº¦å¼€å§‹å¤„çš„è¾¹è·ã€‚</p>
<p><code>padding-left</code> å±æ€§æ˜ å°„åˆ° <code>padding-inline-start</code> ï¼Œè¿™æ˜¯åº”ç”¨åˆ°å†…è”å¼€å§‹æ–¹å‘ï¼ˆè¿™æ˜¯è¯¥ä¹¦å†™æ¨¡å¼æ–‡æœ¬å¼€å§‹çš„åœ°æ–¹ï¼‰ä¸Šçš„å†…è¾¹è·ã€‚</p>
<p><code>border-bottom</code> å±æ€§æ˜ å°„åˆ°çš„æ˜¯ <code>border-block-end</code> ï¼Œä¹Ÿå°±æ˜¯å—çº§ç»´åº¦ç»“å°¾å¤„çš„è¾¹æ¡†ã€‚</p>
<p>å±æ€§ä¸­çš„ <code>top</code> ç­‰å€¼ä¹Ÿæœ‰é€»è¾‘æ˜ å°„å€¼ï¼š</p>
<p><code>top</code>ã€<code>right</code>ã€<code>bottom</code>å’Œ<code>left</code> å¯¹åº” <code>block-start</code>ã€<code>inline-end</code>ã€<code>block-end</code>å’Œ<code>inline-start</code>ã€‚</p>
<h3 id="HSL-å’Œ-HSLA-çš„å€¼"><a href="#HSL-å’Œ-HSLA-çš„å€¼" class="headerlink" title="HSL å’Œ HSLA çš„å€¼"></a>HSL å’Œ HSLA çš„å€¼</h3><p><code>hsl()</code> æ¥å—è‰²è°ƒã€é¥±å’Œåº¦å’Œäº®åº¦ä½œä¸ºå‚æ•°ã€‚</p>
<ul>
<li><strong>è‰²è°ƒ</strong>ï¼š é¢œè‰²çš„åº•è‰²ã€‚è¿™ä¸ªå€¼åœ¨0å’Œ360ä¹‹é—´ï¼Œè¡¨ç¤ºè‰²è½®å‘¨å›´çš„è§’åº¦ã€‚</li>
<li><strong>é¥±å’Œåº¦</strong>ï¼š é¢œè‰²æœ‰å¤šé¥±å’Œï¼Ÿ å®ƒçš„å€¼ä¸º0 - 100%ï¼Œå…¶ä¸­0ä¸ºæ— é¢œè‰²(å®ƒå°†æ˜¾ç¤ºä¸ºç°è‰²é˜´å½±)ï¼Œ100%ä¸ºå…¨è‰²é¥±å’Œåº¦</li>
<li><strong>äº®åº¦</strong>ï¼šé¢œè‰²æœ‰å¤šäº®ï¼Ÿ å®ƒä»0 - 100%ä¸­è·å–ä¸€ä¸ªå€¼ï¼Œå…¶ä¸­0è¡¨ç¤ºæ²¡æœ‰å…‰(å®ƒå°†å®Œå…¨æ˜¾ç¤ºä¸ºé»‘è‰²)ï¼Œ100%è¡¨ç¤ºå®Œå…¨äº®(å®ƒå°†å®Œå…¨æ˜¾ç¤ºä¸ºç™½è‰²)</li>
</ul>
<p><code>hsla()</code> é¢å¤–æ¥å—ä¸€ä¸ªä¸é€æ˜åº¦é€šé“ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 21</title>
    <url>/2020/10/21/xue-xi-bi-ji-2020-10-21/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-21"><a href="#å­¦ä¹ ç¬”è®°-2020-10-21" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-21"></a>å­¦ä¹ ç¬”è®° 2020-10-21</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><h5 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h5><p>åŸå‹å¼ç»§æ‰¿çš„æ–¹å¼ä¸ºï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  F<span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Nicholas'</span><span class="token punctuation">,</span>
  friends<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Shelby'</span><span class="token punctuation">,</span> <span class="token string">'Court'</span><span class="token punctuation">,</span> <span class="token string">'Van'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> anotherPerson <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
anotherPerson<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Greg'</span><span class="token punctuation">;</span>
anotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Rob'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> yetAnotherPerson <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
yetAnotherPerson<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Linda'</span><span class="token punctuation">;</span>
yetAnotherPerson<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Barbie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Shelby,Court,Van,Rob,Barbie"</span></code></pre>
<p>ç»§æ‰¿æ—¶åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ„é€ å‡½æ•°ï¼Œå°†ä¼ å…¥çš„å¯¹è±¡èµ‹å€¼ç»™è¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹ï¼Œè¿”å›è¿™ä¸ªä¸´æ—¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>
<p>è¿™ç§ç»§æ‰¿æ–¹å¼é€‚ç”¨äºä½ åœ¨ä¸€ä¸ªå¯¹è±¡çš„åŸºç¡€ä¸Šå†åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡çš„æƒ…å†µã€‚</p>
<p>è¿™ç§æ–¹å¼å·²ç»æœ‰äº†è§„èŒƒåŒ–çš„æ–¹æ³•ï¼Œå³ <code>Object.create()</code> ã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä½œä¸ºæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå¯é€‰å‚æ•°ä¸ºç»™æ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡ï¼Œä»¥è¿™ç§æ–¹å¼æ·»åŠ çš„å±æ€§ä¼šé®è”½åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§ã€‚</p>
<p>åŸå‹å¼ç»§æ‰¿è·Ÿä½¿ç”¨åŸå‹æ¨¡å¼æ˜¯ä¸€æ ·çš„ã€‚</p>
<h5 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»§æ‰¿</h5><p>å¯„ç”Ÿå¼ç»§æ‰¿èƒŒåçš„æ€è·¯ç±»ä¼¼äºå¯„ç”Ÿæ„é€ å‡½æ•°å’Œå·¥å‚æ¨¡å¼ï¼šåˆ›å»ºä¸€ä¸ªå®ç°ç»§æ‰¿çš„å‡½æ•°ï¼Œä»¥æŸç§æ–¹å¼å¢å¼ºå¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createAnother</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> clone <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é€šè¿‡è°ƒç”¨å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
  clone<span class="token punctuation">.</span>sayHi <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ä»¥æŸç§æ–¹å¼å¢å¼ºè¿™ä¸ªå¯¹è±¡</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> clone<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¿”å›è¿™ä¸ªå¯¹è±¡</span>
<span class="token punctuation">}</span></code></pre>
<h5 id="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</h5><p>ç»„åˆç»§æ‰¿çš„æ•ˆç‡é—®é¢˜æ˜¯çˆ¶ç±»æ„é€ å‡½æ•°å§‹ç»ˆä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯åœ¨åˆ›å»ºå­ç±»åŸå‹æ—¶è°ƒç”¨ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SuperType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  SuperType<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¬¬äºŒæ¬¡è°ƒç”¨ SuperType()</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SubType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¬¬ä¸€æ¬¡è°ƒç”¨ SuperType()</span>
SubType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> SubType<span class="token punctuation">;</span>
SubType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayAge <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿é€šè¿‡ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿å±æ€§ï¼Œä½†ä½¿ç”¨æ··åˆå¼åŸå‹é“¾ç»§æ‰¿æ–¹æ³•ã€‚ä¸é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ç»™å­ç±»åŸå‹èµ‹å€¼ï¼Œè€Œæ˜¯å–å¾—çˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</p>
<p>å³ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿çˆ¶ç±»åŸå‹ï¼Œç„¶åå°†è¿”å›çš„æ–°å¯¹è±¡èµ‹å€¼ç»™å­ç±»åŸå‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  F<span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inheritPrototype</span><span class="token punctuation">(</span>subType<span class="token punctuation">,</span> superType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> prototype <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>superType<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ›å»ºå¯¹è±¡</span>
  prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> subType<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¢å¼ºå¯¹è±¡</span>
  subType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> prototype<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// èµ‹å€¼å¯¹è±¡</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SuperType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  SuperType<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">inheritPrototype</span><span class="token punctuation">(</span>SubType<span class="token punctuation">,</span> SuperType<span class="token punctuation">)</span><span class="token punctuation">;</span>
SubType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayAge <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>åªè°ƒç”¨äº†ä¸€æ¬¡ <code>SuperType</code> æ„é€ å‡½æ•°ï¼Œé¿å…äº† <code>SubType.prototype</code> ä¸Šä¸å¿…è¦ä¹Ÿç”¨ä¸åˆ°çš„å±æ€§ã€‚åŸå‹é“¾ä¿æŒä¸å˜ï¼Œ <code>instanceof</code> æ“ä½œç¬¦å’Œ <code>isPrototypeOf()</code> æ–¹æ³•æ­£å¸¸æœ‰æ•ˆã€‚</p>
<h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><p><code>ES6</code> æ–°å¼•å…¥äº† <code>class</code> å…³é”®å­—æ¥æ­£å¼å®šä¹‰ç±»ã€‚</p>
<h5 id="ç±»å®šä¹‰"><a href="#ç±»å®šä¹‰" class="headerlink" title="ç±»å®šä¹‰"></a>ç±»å®šä¹‰</h5><p>ç±»å¯ä»¥ä½¿ç”¨å£°æ˜æˆ–æ˜¯è¡¨è¾¾å¼æ¥å®šä¹‰ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ç±»å£°æ˜</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç±»è¡¨è¾¾å¼</span>
<span class="token keyword">const</span> Animal <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¹¶ä¸”ç±»å®šä¹‰æ— æ³•æå‡ï¼Œä¸”å—å—ä½œç”¨åŸŸé™åˆ¶ã€‚</p>
<p>ç±»è¡¨è¾¾å¼æœ‰å¯é€‰çš„åç§°ï¼Œåœ¨ç±»è¡¨è¾¾å¼ä½œç”¨åŸŸå†…éƒ¨å¯ä»¥ä½¿ç”¨ <code>name</code> å±æ€§å–å¾—åç§°å­—ç¬¦ä¸²ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> Person <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">PersonName</span> <span class="token punctuation">{</span>
  <span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>name<span class="token punctuation">,</span> PersonName<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// PersonName PersonName</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// PersonName</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>PersonName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError: PersonName is not defined</span></code></pre>
<h5 id="ç±»æ„é€ å‡½æ•°"><a href="#ç±»æ„é€ å‡½æ•°" class="headerlink" title="ç±»æ„é€ å‡½æ•°"></a>ç±»æ„é€ å‡½æ•°</h5><p><code>constructor</code> å…³é”®å­—ç”¨äºå®šä¹‰ç±»çš„æ„é€ å‡½æ•°ã€‚æ„é€ å‡½æ•°çš„å®šä¹‰æ˜¯å¯é€‰çš„ï¼Œä¸åˆ›å»ºç›¸å½“äºå®šä¹‰ä¸ºç©ºå‡½æ•°ã€‚</p>
<p>ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦å®ä¾‹åŒ–ç›¸å½“äºè°ƒç”¨äº†å…¶æ„é€ å‡½æ•°ã€‚</p>
<p>ä½¿ç”¨ <code>new</code> è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ä¼šæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„ <code>[[Prototype]]</code> æŒ‡é’ˆè¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ã€‚</li>
<li>æ„é€ å‡½æ•°å†…éƒ¨çš„ <code>this</code> è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ã€‚</li>
<li>å¦‚æœæ„é€ å‡½æ•°è¿”å›éç©ºå¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™ï¼Œè¿”å›åˆšåˆ›å»ºçš„å¯¹è±¡ã€‚</li>
</ol>
<p>è°ƒç”¨ç±»æ„é€ å‡½æ•°å¦‚æœå¿˜äº†ä½¿ç”¨ <code>new</code> ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>åœ¨ <code>ECMAScript</code> ä¸­æ²¡æœ‰æ­£å¼çš„ç±»è¿™ä¸ªç±»å‹ã€‚å¯ä»¥æŠŠ <code>class</code> ç†è§£ä¸ºä¸€ç§ç‰¹æ®Šå‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// class Person {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// function</span></code></pre>
<p>ç±»æ ‡è¯†ç¬¦æœ‰ <code>prototype</code> å±æ€§ï¼Œè€ŒåŸå‹æœ‰ä¸€ä¸ª <code>constructor</code> å±æ€§æŒ‡å‘ç±»æœ¬èº«ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { constructor: f() }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person <span class="token operator">===</span> Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person<span class="token punctuation">.</span>constructor</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2 <span class="token keyword">instanceof</span> <span class="token class-name">Person<span class="token punctuation">.</span>constructor</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>ç±»å¯ä»¥åƒå…¶ä»–å¯¹è±¡æˆ–å‡½æ•°å¼•ç”¨ä¸€æ ·ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ç±»å¯ä»¥åƒå‡½æ•°ä¸€æ ·åœ¨ä»»ä½•åœ°æ–¹å®šä¹‰ï¼Œæ¯”å¦‚åœ¨æ•°ç»„ä¸­</span>
<span class="token keyword">let</span> classList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>id_ <span class="token operator">=</span> id<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`instance </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>id_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createInstance</span><span class="token punctuation">(</span>classDefinition<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">classDefinition</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token function">createInstance</span><span class="token punctuation">(</span>classList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3141</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// instance 3141</span></code></pre>
<p>ç±»ä¹Ÿå¯ä»¥ç«‹å³å®ä¾‹åŒ–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å› ä¸ºæ˜¯ä¸€ä¸ªç±»è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ç±»åæ˜¯å¯é€‰çš„</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Foo {}</span></code></pre>
<h5 id="å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜"><a href="#å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜" class="headerlink" title="å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜"></a>å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜</h5><p>ç±»çš„è¯­æ³•å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šä¹‰åº”è¯¥å­˜åœ¨äºå®ä¾‹ä¸Šçš„æˆå‘˜ã€åº”è¯¥å­˜åœ¨äºåŸå‹ä¸Šçš„æˆå‘˜ï¼Œä»¥åŠåº”è¯¥å­˜åœ¨äºç±»æœ¬èº«çš„æˆå‘˜ã€‚</p>
<ol>
<li><p>å®ä¾‹æˆå‘˜</p>
<p>åœ¨æ„é€ å‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰å®ä¾‹æˆå‘˜ã€‚</p>
</li>
</ol>
<h2 id="MDNå­¦ä¹ è®°å½•"><a href="#MDNå­¦ä¹ è®°å½•" class="headerlink" title="MDNå­¦ä¹ è®°å½•"></a>MDNå­¦ä¹ è®°å½•</h2><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><p>è¡¨æ ¼æ ‡ç­¾ï¼š</p>
<ul>
<li><code>table</code></li>
<li><code>tr</code> table row</li>
<li><code>td</code> table description</li>
<li><code>th</code> table header</li>
<li><code>caption</code> æ ‡é¢˜</li>
<li><code>thead</code> è¡¨æ ¼å¤´éƒ¨ç»“æ„</li>
<li><code>tfoot</code> è¡¨æ ¼å°¾éƒ¨ç»“æ„</li>
<li><code>tbody</code> è¡¨æ ¼ä¸»ä½“ç»“æ„</li>
</ul>
<p>æœ€åä¸‰ä¸ªæ ‡ç­¾ä¸éœ€è¦æŒ‰é¡ºåºæ”¾ç½®ã€‚</p>
<p>å•å…ƒæ ¼è·¨è¶Šå¤šè¡Œå’Œåˆ—çš„æ–¹æ³•æ˜¯åœ¨éœ€è¦å˜é•¿æˆ–å˜é«˜çš„å•å…ƒæ ¼ <code>td</code> æ ‡ç­¾ä¸Šè®¾ç½® <code>colspan</code> å’Œ <code>rowspan</code> å±æ€§ã€‚</p>
<h4 id="ä¸ºè¡¨æ ¼ä¸­çš„åˆ—æä¾›ç›¸åŒæ ·å¼"><a href="#ä¸ºè¡¨æ ¼ä¸­çš„åˆ—æä¾›ç›¸åŒæ ·å¼" class="headerlink" title="ä¸ºè¡¨æ ¼ä¸­çš„åˆ—æä¾›ç›¸åŒæ ·å¼"></a>ä¸ºè¡¨æ ¼ä¸­çš„åˆ—æä¾›ç›¸åŒæ ·å¼</h4><p>è®¾ç½® <code>col</code> å’Œ <code>colgroup</code> æ ‡ç­¾å¯ä»¥ç»™è¡¨æ ¼çš„åˆ—è®¾ç½®ç›¸åŒçš„å±æ€§ã€‚ä¼šä½œç”¨åœ¨å¯¹åº”çš„é‚£ä¸€åˆ—ä¸Šã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>colgroup</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>col</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>col</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background-color</span><span class="token punctuation">:</span> yellow</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>colgroup</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Data 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Data 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Calcutta<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Orange<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Robots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Jazz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2020/10/21/xue-xi-bi-ji-2020-10-21/image-20201021144251069.png" alt="è¡¨æ ¼æ¼”ç¤º"></p>
<h4 id="scope-å±æ€§"><a href="#scope-å±æ€§" class="headerlink" title="scope å±æ€§"></a><code>scope</code> å±æ€§</h4><p>å¯ä»¥åœ¨ <code>th</code> å…ƒç´ ä¸­æ·»åŠ  <code>scope</code> å±æ€§æ¥å¸®åŠ©å±å¹•é˜…è¯»è®¾å¤‡æ›´å¥½åœ°ç†è§£é‚£äº›æ ‡é¢˜å•å…ƒæ ¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥è¡¨ç¤ºå½“å‰çš„ <code>th</code> æ ‡ç­¾åˆ°åº•æ˜¯è¡Œæ ‡é¢˜è¿˜æ˜¯åˆ—æ ‡é¢˜ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Purchase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Location<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Evaluation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Cost (â‚¬)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Haircut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Hairdresser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>12/09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Great idea<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></code></pre>
<p><code>scope</code> è¿˜æœ‰ä¸¤ä¸ªå¯é€‰çš„å€¼ï¼š <code>colgroup</code> <code>rowgroup</code> ã€‚</p>
<p>è¿˜å¯ä»¥ä½¿ç”¨ <code>id</code> å’Œ <code>headers</code> æ¥åˆ›å»ºæ ‡é¢˜ä¸å•å…ƒæ ¼ä¹‹é—´çš„è”ç³»ã€‚</p>
<ol>
<li>ä¸ºæ¯ä¸ª <code>&lt;th&gt;</code> å…ƒç´ æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„ <code>id</code> ã€‚</li>
<li>ä¸ºæ¯ä¸ª <code>&lt;td&gt;</code> å…ƒç´ æ·»åŠ ä¸€ä¸ª <code>headers</code> å±æ€§ã€‚éœ€è¦åŒ…å«å®ƒä»å±äºçš„æ‰€æœ‰æ ‡é¢˜çš„ <code>id</code> ã€‚</li>
</ol>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>purchase<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Purchase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>location<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Location<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evaluation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Evaluation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cost<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Cost (â‚¬)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>haircut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Haircut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>location haircut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hairdresser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date haircut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>12/09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evaluation haircut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Great idea<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cost haircut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>

  ...

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 20</title>
    <url>/2020/10/20/xue-xi-bi-ji-2020-10-20/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-20"><a href="#å­¦ä¹ ç¬”è®°-2020-10-20" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-20"></a>å­¦ä¹ ç¬”è®° 2020-10-20</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="å¯¹è±¡è¿­ä»£"><a href="#å¯¹è±¡è¿­ä»£" class="headerlink" title="å¯¹è±¡è¿­ä»£"></a>å¯¹è±¡è¿­ä»£</h4><ol>
<li><h5 id="å…¶ä»–åŸå‹è¯­æ³•"><a href="#å…¶ä»–åŸå‹è¯­æ³•" class="headerlink" title="å…¶ä»–åŸå‹è¯­æ³•"></a>å…¶ä»–åŸå‹è¯­æ³•</h5><p>å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡å­—é¢é‡æ¥é‡å†™åŸå‹ã€‚</p>
<p>é‡å†™åï¼Œæ„é€ å‡½æ•°åŸå‹çš„ <code>constructor</code> ä¾¿ä¸å†æŒ‡å‘æ„é€ å‡½æ•°ã€‚å¿…è¦æ—¶å¯ä»¥ä¸“é—¨è®¾ç½®ï¼Œå¦‚æœé€‰æ‹©ç›´æ¥åœ¨é‡å†™åŸå‹å¯¹è±¡æ—¶å†™å…¥ <code>constructor</code> ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§ä¼šè¢«è®¾ç½®ä¸ºå¯æšä¸¾çš„ã€‚æœ€å¥½é€‰æ‹© <code>Object.defineProperty</code> æ¥å®šä¹‰è¿™ä¸ªå±æ€§ã€‚</p>
</li>
<li><h5 id="åŸå‹çš„åŠ¨æ€æ€§"><a href="#åŸå‹çš„åŠ¨æ€æ€§" class="headerlink" title="åŸå‹çš„åŠ¨æ€æ€§"></a>åŸå‹çš„åŠ¨æ€æ€§</h5><p>ä»åŸå‹ä¸Šæœç´¢å€¼çš„è¿‡ç¨‹æ˜¯åŠ¨æ€çš„ã€‚å¯¹åŸå‹åšäº†ä¿®æ”¹ï¼Œå³ä½¿æ˜¯å·²ç»è¢«åˆ›å»ºå‡ºæ¥çš„å®ä¾‹ä¹Ÿå¯ä»¥åæ˜ å‡ºè¿™ä¸ªå˜åŒ–ã€‚ä½†æ˜¯å¦‚æœæ˜¯é‡å†™äº†æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡çš„è¯ï¼ŒåŸæœ¬çš„å®ä¾‹ä¾ç„¶æŒ‡å‘æœ€åˆçš„åŸå‹ï¼Œè€Œæ— æ³•åæ˜ è¿™ä¸ªæ”¹å†™çš„åŸå‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> friend <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Person<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> Person<span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'Nicholas'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">29</span><span class="token punctuation">,</span>
  job<span class="token punctuation">:</span> <span class="token string">'Software Engineer'</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
friend<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught TypeError: friend.sayName is not a function</span></code></pre>
<p>åŸå› æ˜¯å¯¹åŸå‹åšèµ‹å€¼æ“ä½œï¼Œæ˜¯ç›´æ¥ä¿®æ”¹äº†æŒ‡é’ˆæŒ‡å‘ï¼Œä½†æ— æ³•ä¿®æ”¹åˆ°å·²åˆ›å»ºå®ä¾‹çš„åŸå‹æŒ‡é’ˆã€‚</p>
</li>
<li><h5 id="åŸç”Ÿå¯¹è±¡åŸå‹"><a href="#åŸç”Ÿå¯¹è±¡åŸå‹" class="headerlink" title="åŸç”Ÿå¯¹è±¡åŸå‹"></a>åŸç”Ÿå¯¹è±¡åŸå‹</h5><p>æ‰€æœ‰åŸç”Ÿå¼•ç”¨ç±»å‹éƒ½é‡‡ç”¨åŸå‹æ¨¡å¼å®ç°ã€‚æ‰€æœ‰åŸç”Ÿå¼•ç”¨ç±»å‹çš„æ„é€ å‡½æ•°éƒ½åœ¨åŸå‹ä¸Šå®šä¹‰äº†å®ä¾‹æ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js">String<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>startsWith <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">'Hello world!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚</p>
</li>
<li><h5 id="åŸå‹çš„é—®é¢˜"><a href="#åŸå‹çš„é—®é¢˜" class="headerlink" title="åŸå‹çš„é—®é¢˜"></a>åŸå‹çš„é—®é¢˜</h5><p>åŸå‹æ¨¡å¼å¼±åŒ–äº†å‘æ„é€ å‡½æ•°ä¼ é€’åˆå§‹åŒ–å‚æ•°çš„èƒ½åŠ›ï¼Œä¼šå¯¼è‡´æ‰€æœ‰å®ä¾‹éƒ½å–å¾—ç›¸åŒçš„å±æ€§å€¼ã€‚</p>
<p>åŸå‹æœ€å¤§çš„é—®é¢˜æ˜¯å®ƒçš„å…±äº«ç‰¹æ€§ï¼ŒåŸå‹å¯¹è±¡ä¸Šå­˜åœ¨çš„å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œä¹Ÿèƒ½è¢«æ‰€æœ‰å®ä¾‹ä¿®æ”¹ã€‚è€Œä¸åŒçš„å®ä¾‹åº”è¯¥æœ‰è‡ªå·±å•ç‹¬çš„å±æ€§å‰¯æœ¬ã€‚</p>
</li>
</ol>
<h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>ç»§æ‰¿ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼šæ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿ã€‚<code>ECMAScript</code> ä¸­ä¸å­˜åœ¨æ¥å£ç»§æ‰¿ï¼Œå‡½æ•°æ²¡æœ‰ç­¾åã€‚å› æ­¤ï¼Œ<code>ECMAScript</code> æ”¯æŒå®ç°ç»§æ‰¿ï¼Œé€šè¿‡åŸå‹é“¾å®ç°ã€‚</p>
<h5 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SuperType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getSuperValue <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>subproperty <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç»§æ‰¿ SuperType</span>
SubType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SubType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getSubValue <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subproperty<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getSuperValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>ç¤ºä¾‹ä¸­é‡å†™äº† <code>SubType</code> çš„åŸå‹ï¼Œæ›¿æ¢ä¸ºäº† <code>SuperType</code> çš„å®ä¾‹ã€‚æ„æˆäº†ä¸€æ¡åŸå‹é“¾ã€‚</p>
<ol>
<li><h5 id="é»˜è®¤åŸå‹"><a href="#é»˜è®¤åŸå‹" class="headerlink" title="é»˜è®¤åŸå‹"></a>é»˜è®¤åŸå‹</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½ç»§æ‰¿è‡ª <code>Object</code> ã€‚ä»»ä½•å‡½æ•°çš„é»˜è®¤åŸå‹éƒ½æ˜¯ä¸€ä¸ª <code>Object</code> çš„å®ä¾‹ã€‚</p>
</li>
<li><h5 id="åŸå‹ä¸ç»§æ‰¿å…³ç³»"><a href="#åŸå‹ä¸ç»§æ‰¿å…³ç³»" class="headerlink" title="åŸå‹ä¸ç»§æ‰¿å…³ç³»"></a>åŸå‹ä¸ç»§æ‰¿å…³ç³»</h5><p>åŸå‹ä¸å®ä¾‹çš„å…³ç³»å¯ä»¥é€šè¿‡ <code>instanceof</code> æ“ä½œç¬¦ç¡®å®šï¼Œåªè¦ä¸€ä¸ªå®ä¾‹çš„åŸå‹é“¾ä¸­å‡ºç°è¿‡ç›¸åº”çš„æ„é€ å‡½æ•°ï¼Œè¯¥æ“ä½œç¬¦å°±ä¼šè¿”å› <code>true</code> ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡ <code>isPrototypeOf()</code> æ–¹æ³•ã€‚ç”±åŸå‹é“¾ä¸Šçš„åŸå‹æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåªè¦è¢«ä¼ å…¥çš„å®ä¾‹å‚æ•°åŸå‹é“¾ä¸­åŒ…å«è¿™ä¸ªåŸå‹ï¼Œå°±ä¼šè¿”å› <code>true</code> ã€‚</p>
</li>
<li><h5 id="å…³äºæ–¹æ³•"><a href="#å…³äºæ–¹æ³•" class="headerlink" title="å…³äºæ–¹æ³•"></a>å…³äºæ–¹æ³•</h5><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡çš„æ–¹å¼åˆ›å»ºåŸå‹æ–¹æ³•ä¼šç ´åä¹‹å‰çš„åŸå‹é“¾ã€‚</p>
</li>
<li><h5 id="åŸå‹é“¾çš„é—®é¢˜"><a href="#åŸå‹é“¾çš„é—®é¢˜" class="headerlink" title="åŸå‹é“¾çš„é—®é¢˜"></a>åŸå‹é“¾çš„é—®é¢˜</h5><p>åŸå‹é“¾çš„é—®é¢˜åœ¨äºåŸå‹ä¸­åŒ…å«å¼•ç”¨å€¼å¾—æ—¶å€™ï¼Œè¯¥å¼•ç”¨å€¼ä¼šåœ¨æ‰€æœ‰å®ä¾‹é—´å…±äº«ã€‚è™½ç„¶æˆ‘ä»¬åŸå…ˆæ˜¯åœ¨å¯¹è±¡å®ä¾‹ä¸Šå®šä¹‰å±æ€§ï¼Œä½†è¿™ä¸ªç±»å‹ä¸€æ—¦è¢«ç»§æ‰¿ï¼Œå®ƒçš„å®ä¾‹å±æ€§å°±æˆäº†å­ç±»çš„åŸå‹å±æ€§ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å­ç±»å®ä¾‹åŒ–çš„æ—¶å€™ç»™çˆ¶ç±»å‹çš„æ„é€ å‡½æ•°ä¼ å‚ã€‚</p>
</li>
</ol>
<h5 id="ç›—ç”¨æ„é€ å‡½æ•°"><a href="#ç›—ç”¨æ„é€ å‡½æ•°" class="headerlink" title="ç›—ç”¨æ„é€ å‡½æ•°"></a>ç›—ç”¨æ„é€ å‡½æ•°</h5><p>ä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œå¼•ç”¨äº†ä¸€ç§å«ç›—ç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ï¼Œä¹Ÿç§°å¯¹è±¡ä¼ªè£…æˆ–ç»å…¸ç»§æ‰¿ã€‚æ€è·¯ä¸ºï¼šåœ¨å­ç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç»§æ‰¿ SuperType</span>
  SuperType<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "red,blue,green,black"</span>
<span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "red,blue,green"</span></code></pre>
<ol>
<li><h5 id="ä¼ é€’å‚æ•°"><a href="#ä¼ é€’å‚æ•°" class="headerlink" title="ä¼ é€’å‚æ•°"></a>ä¼ é€’å‚æ•°</h5><p>ä½¿ç”¨ <code>call</code> æˆ–æ˜¯ <code>apply</code> çš„å¥½å¤„å°±åœ¨äºæˆ‘ä»¬å¯ä»¥ä¼ å‚ï¼Œå°±å®ç°äº†å­ç±»æ„é€ å‡½æ•°ç»™çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚</p>
</li>
<li><h5 id="ç›—ç”¨æ„é€ å‡½æ•°çš„é—®é¢˜"><a href="#ç›—ç”¨æ„é€ å‡½æ•°çš„é—®é¢˜" class="headerlink" title="ç›—ç”¨æ„é€ å‡½æ•°çš„é—®é¢˜"></a>ç›—ç”¨æ„é€ å‡½æ•°çš„é—®é¢˜</h5><p>é—®é¢˜åœ¨äºï¼Œå¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰æ–¹æ³•ï¼Œå‡½æ•°ä¸èƒ½è¢«é‡ç”¨ã€‚</p>
</li>
</ol>
<h5 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h5><p>ç»„åˆç»§æ‰¿ç»¼åˆäº†åŸå‹é“¾å’Œç›—ç”¨æ„é€ å‡½æ•°ï¼Œæ€è·¯ä¸ºä½¿ç”¨åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œé€šè¿‡ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹å±æ€§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SuperType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç»§æ‰¿å±æ€§</span>
  SuperType<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç»§æ‰¿æ–¹æ³•</span>
SubType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SubType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayAge <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">'Nicholas'</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "red,blue,green,black"</span>
instance1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Nicholas";</span>
instance1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 29</span>
<span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">'Greg'</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "red,blue,green"</span>
instance2<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Greg";</span>
instance2<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 27</span></code></pre>
<p>è¿™æ ·ï¼Œå„ä¸ªå®ä¾‹æœ‰è‡ªå·±çš„å®ä¾‹å±æ€§ï¼Œä¹Ÿå¯ä»¥å…±äº«çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<h2 id="MDNå­¦ä¹ è®°å½•"><a href="#MDNå­¦ä¹ è®°å½•" class="headerlink" title="MDNå­¦ä¹ è®°å½•"></a>MDNå­¦ä¹ è®°å½•</h2><h3 id="lt-video-gt-ä¸-lt-audio-gt"><a href="#lt-video-gt-ä¸-lt-audio-gt" class="headerlink" title="<video> ä¸ <audio>"></a>&lt;video&gt; ä¸ &lt;audio&gt;</h3><p>åœ¨ç½‘é¡µä¸­æ·»åŠ è§†é¢‘æˆ–éŸ³é¢‘å¯ä»¥ç”¨ <code>html5</code> æ–°å¢çš„æ ‡ç­¾ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šå•ç‹¬çš„ <code>video</code> æˆ– <code>audio</code> æ ‡ç­¾ä½¿ç”¨ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./friday.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span></code></pre>
<p><code>src</code> å±æ€§æŒ‡å®šè§†é¢‘æºï¼Œ <code>controls</code>  æŒ‡å®šæ˜¯å¦å±•ç¤ºæ§åˆ¶æ¡ã€‚</p>
<p>ä½†å› ä¸ºè§†é¢‘æ ¼å¼å¤šç§å¤šæ ·ï¼Œä¸åŒæµè§ˆå™¨é‡‡ç”¨çš„ç¼–ç å™¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°½å¯èƒ½å…¼å®¹å„ç§æ ¼å¼çš„è§†é¢‘ã€‚å¯ä»¥åœ¨ <code>video</code> æ ‡ç­¾å†…éƒ¨æ”¾å…¥ <code>source</code> æ ‡ç­¾æ¥æŒ‡å®šä¸åŒçš„è§†é¢‘æºã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./friday.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 è§†é¢‘ã€‚å¯ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>friday.mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ­¤é“¾æ¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>è§‚çœ‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span></code></pre>
<p>å½“æµè§ˆå™¨è§£ææ—¶ä¼šå¯»æ‰¾åŒ¹é…çš„è§†é¢‘æ ¼å¼æ¥è§£ç ã€‚åŒæ—¶å¯ä»¥åœ¨å†…éƒ¨æ”¾å…¥ä¸€ä¸ªåå¤‡å†…å®¹ç”¨äºè§†é¢‘ä¸å¯ç”¨æ—¶çš„å±•ç¤ºã€‚</p>
<p><code>video</code> æ ‡ç­¾çš„å…¶ä½™å±æ€§ï¼š</p>
<ul>
<li><p><code>width</code> <code>height</code> </p>
<p>å¯ä»¥æ‰‹åŠ¨è®¾å®šè§†é¢‘çš„å®½é«˜ã€‚</p>
</li>
<li><p><code>autoplay</code></p>
<p>è§†é¢‘åŠ è½½å®Œåè‡ªåŠ¨æ’­æ”¾ã€‚</p>
</li>
<li><p><code>loop</code></p>
<p>è§†é¢‘å¾ªç¯æ’­æ”¾ã€‚</p>
</li>
<li><p><code>muted</code></p>
<p>è§†é¢‘é»˜è®¤å…³é—­å£°éŸ³ã€‚</p>
</li>
<li><p><code>poster</code></p>
<p>æŒ‡å®šè§†é¢‘æ’­æ”¾å‰çš„è§†é¢‘å°é¢ã€‚</p>
</li>
<li><p><code>preload</code></p>
<p>ç”¨äºç¼“å†²è¾ƒå¤§çš„æ–‡ä»¶ï¼š</p>
<ul>
<li><code>none</code> ä¸ç¼“å†²ã€‚</li>
<li><code>auto</code> é¡µé¢åŠ è½½åç¼“å†²åª’ä½“æ–‡ä»¶ã€‚</li>
<li><code>metadata</code> ä»…ç¼“å†²æ–‡ä»¶çš„å…ƒæ•°æ®ã€‚</li>
</ul>
</li>
</ul>
<p><code>audio</code> æ ‡ç­¾ä¸ <code>video</code> ç±»ä¼¼ï¼Œä½†æ²¡æœ‰ <code>width/height</code> å±æ€§ï¼Œä¸æ”¯æŒ <code>poster</code> å±æ€§ã€‚</p>
<p>ä¸¤ä¸ªæ ‡ç­¾å¯¹åº”çš„ <code>dom</code> å…ƒç´ éƒ½å¯ä»¥è°ƒç”¨ <code>load()</code> æ–¹æ³•æ¥é‡ç½®æ’­æ”¾ã€‚</p>
<p>å¯ä»¥é€šè¿‡ç›‘å¬ <code>addtrack</code> äº‹ä»¶æ¥ç›‘å¬éŸ³é¢‘è½¨é“çš„å¢åˆ ã€‚</p>
<p><code>video</code> æ ‡ç­¾æ”¯æŒæ˜¾ç¤ºéŸ³è½¨æ–‡æœ¬ï¼Œé…ç½®ä¸€ä¸ªéŸ³è½¨æ–‡æœ¬çš„ <code>vtt</code> æ–‡ä»¶ã€‚</p>
<pre class=" language-tex"><code class="language-tex">WEBVTT

00:00:00.000 --> 00:00:00.999  line:80%
Hildy!

00:00:01.000 --> 00:00:01.499 line:80%
How are you?

00:00:01.500 --> 00:00:02.999 line:80%
Tell me, is the lord of the universe in?

00:00:03.000 --> 00:00:04.299 line:80%
Yes, he's in - in a bad humor

00:00:04.300 --> 00:00:06.000 line:80%
Somebody must've stolen the crown jewels</code></pre>
<p>ç„¶ååœ¨ <code>video</code> ä¸­é…ç½® <code>track</code> æ ‡ç­¾æŒ‡æ˜éŸ³è½¨æ–‡æœ¬æ¥æºã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">controls</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token attr-name">muted</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./friday.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>track</span> <span class="token attr-name">default</span> <span class="token attr-name">kind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>captions<span class="token punctuation">"</span></span> <span class="token attr-name">srclang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>friday.vtt<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 è§†é¢‘ã€‚å¯ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rabbit320.mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ­¤é“¾æ¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>è§‚çœ‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2020/10/20/xue-xi-bi-ji-2020-10-20/20201020_181134.gif" alt="è§†é¢‘é¢„è§ˆ"></p>
<h3 id="lt-picture-gt"><a href="#lt-picture-gt" class="headerlink" title="<picture>"></a>&lt;picture&gt;</h3><p><code>picture</code> æ ‡ç­¾å¯ç”¨äºå“åº”å¼å›¾ç‰‡ã€‚ä½† <code>img</code> æœ¬èº«ä¹Ÿæ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œå…ˆçœ‹ä¸€ä¸‹ <code>img</code> çš„ä¾‹å­ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-480w.jpg 480w,
             elva-800w.jpg 800w<span class="token punctuation">"</span></span>
     <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(max-width: 320px) 280px,
            (max-width: 480px) 440px,
            800px<span class="token punctuation">"</span></span>
     <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-800w.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p><code>srcset</code> æŒ‡å®šäº†å›¾åƒé›†ä»¥åŠæ¯å¼ å›¾ç‰‡çš„å¤§å°ï¼Œæ­¤å¤„çš„ <code>480w</code> æŒ‡çš„æ˜¯å›¾ç‰‡çœŸå®å®½åº¦ä¸º <code>480px</code> ã€‚</p>
<p><code>sizes</code> æŒ‡å®šäº†ä¸€ç»„åª’ä½“æ¡ä»¶ï¼Œå½“æŸä¸ªåª’ä½“æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œå®ƒå¯¹åº”çš„å®½åº¦ä¼šèµ‹ç»™è¯¥ <code>img</code> æ ‡ç­¾ã€‚</p>
<p>åœ¨å¤šæ¬¡æµ‹è¯•è¿™ä¸ªåŠŸèƒ½åï¼Œæˆ‘å‘ç° <code>img</code> çš„æ ‡ç­¾çš„å“åº”å¼é€‰æ‹©å›¾ç‰‡ä»…åœ¨<strong>åˆæ¬¡åŠ è½½</strong>æ—¶æ‰§è¡Œã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæµè§ˆå™¨åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶æ¥æ ¹æ®è®¾å¤‡å®½åº¦é€‰æ‹©å›¾ç‰‡ï¼Œåœ¨æ­¤ä¹‹åæ— è®ºè®¾å¤‡å®½åº¦å¦‚ä½•å˜åŒ–ï¼Œå®ƒåªä¼šæ ¹æ®æˆ‘ä»¬è®¾å®šå¥½çš„æ¡ä»¶æ¥æ”¹å˜å›¾ç‰‡çš„å¤§å°è€Œä¸ä¼šæ›´æ¢å›¾ç‰‡ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>ä¸Šè¿°è¿™ä¸ªå…ƒæ•°æ®æ ‡ç­¾æŒ‡å®šäº†æµè§ˆå™¨é‡‡ç”¨çœŸå®å¯è§†å®½åº¦æ¥åŠ è½½ç½‘é¡µã€‚</p>
<p>ä¹Ÿå¯ä»¥å®ç°ç›¸åŒå°ºå¯¸ä¸åŒåˆ†è¾¨ç‡çš„æƒ…å†µã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-480w.jpg,
             elva-800w.jpg 2x<span class="token punctuation">"</span></span>
     <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-800w.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>è¿™ä¸ªä¾‹å­å»æ‰äº† <code>sizes</code> ã€‚æˆ‘ä»¬ä¸ä¿®æ”¹ <code>img</code> æ ‡ç­¾çš„å¤§å°ã€‚åœ¨ä¸åŒå°ºå¯¸ä¸‹åŠ è½½ä¸åŒå›¾ç‰‡ï¼Œä»¥é€‚åº”ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡æ›´å¥½çš„æ˜¾ç¤ºã€‚</p>
<h4 id="å“åº”å¼åˆ‡æ¢"><a href="#å“åº”å¼åˆ‡æ¢" class="headerlink" title="å“åº”å¼åˆ‡æ¢"></a>å“åº”å¼åˆ‡æ¢</h4><p>å¦‚æœéœ€è¦å®Œæˆå“åº”å¼åˆ‡æ¢å›¾ç‰‡çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ <code>picture</code> æ ‡ç­¾ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(max-width: 799px)<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-480w.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(min-width: 800px)<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-800w.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>elva-800w.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span></code></pre>
<p>åœ¨ <code>picture</code> æ ‡ç­¾å†…éƒ¨ä½¿ç”¨ <code>source</code> æ ‡ç­¾æŒ‡å®šå›¾ç‰‡ï¼Œ <code>media</code> å±æ€§è®¾ç½®æ¿€æ´»çš„åª’ä½“æ¡ä»¶ï¼Œ <code>srcset</code> æŒ‡å®šç”Ÿæ•ˆçš„å›¾ç‰‡ã€‚</p>
<p>æœ€åçš„ <code>img</code> æ ‡ç­¾ä½œä¸ºåå¤‡å†…å®¹ã€‚</p>
<h3 id="Mozillaé†’ç›®é¡µé¢"><a href="#Mozillaé†’ç›®é¡µé¢" class="headerlink" title="Mozillaé†’ç›®é¡µé¢"></a>Mozillaé†’ç›®é¡µé¢</h3><p>å®ç°ä¸€ä¸ªç½‘é¡µï¼Œåœ¨è®¾å¤‡å®½åº¦ä¸åŒçš„æƒ…å†µä¸‹ï¼ŒåŠ è½½ä¸åŒçš„å›¾ç‰‡ã€‚</p>
<p><img src="/2020/10/20/xue-xi-bi-ji-2020-10-20/image-20201020193827564.png" alt="è®¾å¤‡å®½åº¦å¤§äº 600px"></p>
<p><img src="/2020/10/20/xue-xi-bi-ji-2020-10-20/image-20201020193841095.png" alt="å›¾ç‰‡å°äº 480px"></p>
<p>åœ¨è®¾å¤‡å®½åº¦å°äº <code>480px</code> æ—¶ï¼Œå››ä¸ªå¯¼èˆªçš„å›¾ç‰‡åŠ è½½ <code>120px</code> ç‰ˆæœ¬ã€‚</p>
<p>å¤§äº <code>480px</code> æ—¶ï¼ŒåŠ è½½ <code>400px</code> ç‰ˆæœ¬ã€‚</p>
<p>å®½åº¦å°äº <code>600px</code> æ—¶ï¼ŒåŠ è½½ <code>600px</code> ç‰ˆæœ¬çš„å°ç†ŠçŒ«å›¾ç‰‡ï¼Œå¦åˆ™åŠ è½½ <code>1200px</code> ç‰ˆæœ¬ã€‚</p>
<p>åˆ—å‡ºä¸»è¦ä»£ç ï¼š</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./images/firefoxlogo120.png 120w, ./images/firefoxlogo400.png 400w<span class="token punctuation">"</span></span>
  <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(max-width: 480px) 120px,
         (min-width: 481px) 400px<span class="token punctuation">"</span></span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./images/firefoxlogo400.png<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./images/redpanda600.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(max-width: 600px)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./images/redpanda1200.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(min-width: 601px)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./images/redpanda1200.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 19</title>
    <url>/2020/10/19/xue-xi-bi-ji-2020-10-19/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-19"><a href="#å­¦ä¹ ç¬”è®°-2020-10-19" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-19"></a>å­¦ä¹ ç¬”è®° 2020-10-19</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h4><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ã€‚è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªåŒ…å«åº”è¯¥ç”±ç‰¹å®šå¼•ç”¨ç±»å‹çš„å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚åœ¨åŸå‹å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥è¢«å¯¹è±¡å®ä¾‹å…±äº«ã€‚</p>
<ol>
<li><h5 id="ç†è§£åŸå‹"><a href="#ç†è§£åŸå‹" class="headerlink" title="ç†è§£åŸå‹"></a>ç†è§£åŸå‹</h5><p>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰ç…§ç‰¹å®šçš„è§„åˆ™ä¸ºè¿™ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ª <code>prototype</code> çš„å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡è‡ªåŠ¨è·å¾—ä¸€ä¸ª <code>constructor</code> å±æ€§ï¼ŒæŒ‡å›ä¸ä¹‹å…³è”çš„æ„é€ å‡½æ•°ã€‚å¦‚ï¼Œ<code>Person.prototype.constructor</code> æŒ‡å‘ <code>Person</code> ã€‚</p>
<p>è‡ªå®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼ŒåŸå‹å¯¹è±¡é»˜è®¤åªä¼šè·å¾— <code>constructor</code> å±æ€§ï¼Œå…¶ä»–çš„æ‰€æœ‰æ–¹æ³•éƒ½ç»§æ‰¿è‡ª <code>Object</code> ã€‚è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ–°å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹çš„å†…éƒ¨ <code>[[Prototype]]</code> æŒ‡é’ˆå°±ä¼šè¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚<code>Firefox</code> ã€<code>Safari</code> å’Œ <code>Chrome</code> ä¼šåœ¨å¯¹è±¡ä¸Šæš´éœ² <code>__proto__</code> å±æ€§æ¥è®¿é—®åŸå‹å¯¹è±¡ã€‚</p>
<p>å®ä¾‹ä¸æ„é€ å‡½æ•°åŸå‹ä¹‹é—´æœ‰ç›´æ¥çš„è”ç³»ï¼Œä½†å®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´æ²¡æœ‰ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/**
 * æ„é€ å‡½æ•°å¯ä»¥æ˜¯å‡½æ•°è¡¨è¾¾å¼
 * ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°å£°æ˜ï¼Œå› æ­¤ä»¥ä¸‹ä¸¤ç§å½¢å¼éƒ½å¯ä»¥ï¼š
 * function Person() {}
 * let Person = function() {}
 */</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/**
 * å£°æ˜ä¹‹åï¼Œæ„é€ å‡½æ•°å°±æœ‰äº†ä¸€ä¸ª
 * ä¸ä¹‹å…³è”çš„åŸå‹å¯¹è±¡ï¼š
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// {</span>
<span class="token comment" spellcheck="true">// constructor: f Person(),</span>
<span class="token comment" spellcheck="true">// __proto__: Object</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token comment" spellcheck="true">/**
 * å¦‚å‰æ‰€è¿°ï¼Œæ„é€ å‡½æ•°æœ‰ä¸€ä¸ª prototype å±æ€§
 * å¼•ç”¨å…¶åŸå‹å¯¹è±¡ï¼Œè€Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª
 * constructor å±æ€§ï¼Œå¼•ç”¨è¿™ä¸ªæ„é€ å‡½æ•°
 * æ¢å¥è¯è¯´ï¼Œä¸¤è€…å¾ªç¯å¼•ç”¨ï¼š
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">/**
 * æ­£å¸¸çš„åŸå‹é“¾éƒ½ä¼šç»ˆæ­¢äº Object çš„åŸå‹å¯¹è±¡
 * Object åŸå‹çš„åŸå‹æ˜¯ null
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// {</span>
<span class="token comment" spellcheck="true">// constructor: f Object(),</span>
<span class="token comment" spellcheck="true">// toString: ...</span>
<span class="token comment" spellcheck="true">// hasOwnProperty: ...</span>
<span class="token comment" spellcheck="true">// isPrototypeOf: ...</span>
<span class="token comment" spellcheck="true">// ...</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
 * æ„é€ å‡½æ•°ã€åŸå‹å¯¹è±¡å’Œå®ä¾‹
 * æ˜¯ 3 ä¸ªå®Œå…¨ä¸åŒçš„å¯¹è±¡ï¼š
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">!==</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">!==</span> Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype <span class="token operator">!==</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">/**
 * å®ä¾‹é€šè¿‡__proto__é“¾æ¥åˆ°åŸå‹å¯¹è±¡ï¼Œ
 * å®ƒå®é™…ä¸ŠæŒ‡å‘éšè—ç‰¹æ€§[[Prototype]]
 *
 * æ„é€ å‡½æ•°é€šè¿‡ prototype å±æ€§é“¾æ¥åˆ°åŸå‹å¯¹è±¡
 *
 * å®ä¾‹ä¸æ„é€ å‡½æ•°æ²¡æœ‰ç›´æ¥è”ç³»ï¼Œä¸åŸå‹å¯¹è±¡æœ‰ç›´æ¥è”ç³»
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">/**
 * åŒä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ä¸¤ä¸ªå®ä¾‹
 * å…±äº«åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼š
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> person2<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">/**
 * instanceof æ£€æŸ¥å®ä¾‹çš„åŸå‹é“¾ä¸­
 * æ˜¯å¦åŒ…å«æŒ‡å®šæ„é€ å‡½æ•°çš„åŸå‹ï¼š
 */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å¯ä»¥ä½¿ç”¨ <code>isPrototypeOf()</code> æ–¹æ³•æ£€æŸ¥æ˜¯å¦æ˜¯è¯¥æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.getPrototypeOf()</code> æ–¹æ³•è¿”å›å‚æ•°çš„å†…éƒ¨ç‰¹æ€§ <code>[[Prototype]]</code> çš„å€¼ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>setPrototypeOf()</code> æ–¹æ³•æ¥å†™å…¥åŸå‹å¯¹è±¡ã€‚ä½†è¯¥æ–¹æ³•å¯èƒ½ä¼šä¸¥é‡å½±å“ä»£ç æ€§èƒ½ã€‚å¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>Object.create()</code> æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ºå…¶æŒ‡å®šåŸå‹ã€‚</p>
</li>
<li><h5 id="åŸå‹å±‚çº§"><a href="#åŸå‹å±‚çº§" class="headerlink" title="åŸå‹å±‚çº§"></a>åŸå‹å±‚çº§</h5><p>åœ¨é€šè¿‡å¯¹è±¡è®¿é—®å±æ€§æ—¶ï¼Œä¼šæŒ‰ç…§è¿™ä¸ªå±æ€§çš„åç§°å¼€å§‹æœç´¢ï¼Œé¦–å…ˆå¼€å§‹äºå¯¹è±¡å®ä¾‹æœ¬èº«ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æ²¿ç€æŒ‡é’ˆè¿›å…¥åŸå‹å¯¹è±¡æœç´¢ã€‚</p>
<p>é€šè¿‡å®ä¾‹æ— æ³•é‡å†™åŸå‹çš„å€¼ã€‚åœ¨å®ä¾‹ä¸Šæ·»åŠ äº†åŒåçš„å±æ€§ï¼Œä¼šåœ¨å®ä¾‹è‡ªèº«ä¸Šåˆ›å»ºè¿™ä¸ªå±æ€§ï¼Œæ©ç›–ä½åŸå‹å¯¹è±¡ä¸Šå¯¹åº”çš„å±æ€§ã€‚</p>
<p>å½“å®ä¾‹ä¸Šé®è”½äº†åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§æ—¶ï¼Œé™¤éä½¿ç”¨ <code>delete</code> åˆ é™¤è¿™ä¸ªå®ä¾‹ä¸Šçš„å±æ€§ï¼Œå¦åˆ™æ— æ³•å†è®¿é—®åˆ°åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>hasOwnProperty</code> æ¥ç¡®å®šæŸä¸ªå±æ€§å­˜åœ¨äºå®ä¾‹è¿˜æ˜¯åŸå‹å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•ç»§æ‰¿äº <code>Object</code> ã€‚è¯¥æ–¹æ³•åªå¯¹å®ä¾‹å±æ€§æœ‰æ•ˆï¼Œè¦å–å¾—åŸå‹å±æ€§çš„æè¿°ç¬¦ï¼Œå°±å¿…é¡»ç›´æ¥åœ¨åŸå‹å¯¹è±¡ä¸Šè°ƒç”¨ <code>Object.getOwnPropertyDescriptor()</code> ã€‚</p>
</li>
<li><h5 id="åŸå‹å’Œ-in-æ“ä½œç¬¦"><a href="#åŸå‹å’Œ-in-æ“ä½œç¬¦" class="headerlink" title="åŸå‹å’Œ in æ“ä½œç¬¦"></a>åŸå‹å’Œ <code>in</code> æ“ä½œç¬¦</h5><p><code>in</code> æ“ä½œç¬¦å¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–æ˜¯åœ¨ <code>for-in</code> å¾ªç¯ä¸­ä½¿ç”¨ã€‚</p>
<p>å•ç‹¬ä½¿ç”¨æ—¶ï¼Œ <code>in</code> æ“ä½œç¬¦ä¼šåœ¨å¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®æŒ‡å®šå±æ€§æ—¶è¿”å› <code>true</code> ï¼Œæ— è®ºè¯¥å±æ€§æ˜¯åœ¨å®ä¾‹ä¸Šè¿˜æ˜¯åœ¨åŸå‹ä¸Šã€‚</p>
<p>åœ¨ <code>for-in</code> å¾ªç¯ä¸­ä½¿ç”¨ <code>in</code> æ“ä½œç¬¦æ—¶ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ä¸”å¯ä»¥è¢«æšä¸¾çš„å±æ€§éƒ½ä¼šè¿”å›ï¼ŒåŒ…æ‹¬å®ä¾‹å±æ€§å’ŒåŸå‹å±æ€§ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.keys()</code> æ–¹æ³•æ¥è·å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æšä¸¾çš„å®ä¾‹å±æ€§ã€‚æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›åŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰å¯æšä¸¾å±æ€§åç§°çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.getOwnPropertyNames()</code> æ¥è·å¾—æ‰€æœ‰å®ä¾‹å±æ€§ï¼Œæ— è®ºæ˜¯å¦å¯ä»¥æšä¸¾ã€‚</p>
<p><code>ES6</code> æ–°å¢äº†ä¸€ä¸ª <code>Object.getOwnPropertySymbols()</code> æ–¹æ³•æ¥è·å–ç¬¦å·ä¸ºé”®çš„å±æ€§ã€‚</p>
</li>
<li><h5 id="å±æ€§æšä¸¾é¡ºåº"><a href="#å±æ€§æšä¸¾é¡ºåº" class="headerlink" title="å±æ€§æšä¸¾é¡ºåº"></a>å±æ€§æšä¸¾é¡ºåº</h5><p><code>for-in</code> å¾ªç¯å’Œ <code>Object.keys()</code> çš„æšä¸¾é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚</p>
<p><code>Object.getOwnpropertyNames()</code> ã€ <code>Object.getOwnPropertySymbols()</code> å’Œ <code>Object.assign()</code> çš„æšä¸¾é¡ºåºæ˜¯ç¡®å®šæ€§çš„ã€‚å…ˆä»¥å‡åºæšä¸¾æ•°å€¼é”®ï¼Œå†ä»¥æ’å…¥é¡ºåºæšä¸¾å­—ç¬¦ä¸²å’Œç¬¦å·é”®ã€‚</p>
</li>
</ol>
<h4 id="å¯¹è±¡è¿­ä»£"><a href="#å¯¹è±¡è¿­ä»£" class="headerlink" title="å¯¹è±¡è¿­ä»£"></a>å¯¹è±¡è¿­ä»£</h4><p><code>ES8</code> æ–°å¢äº†ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºå°†å¯¹è±¡å†…å®¹è½¬æ¢ä¸ºåºåˆ—åŒ–çš„ã€å¯è¿­ä»£çš„æ ¼å¼ã€‚åˆ†åˆ«æ˜¯ <code>Object.values()</code> å’Œ <code>Object.entries()</code> ï¼Œéƒ½æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ç›¸åº”å†…å®¹çš„æ•°ç»„ã€‚</p>
<p><code>Object.values()</code> è¿”å›å¯¹è±¡å€¼çš„æ•°ç»„ï¼Œ <code>Object.entries()</code> è¿”å›é”®å€¼å¯¹çš„æ•°ç»„ã€‚</p>
<p>éå­—ç¬¦ä¸²å±æ€§ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¾“å‡ºã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ‰§è¡Œå¯¹è±¡çš„æµ…å¤åˆ¶ã€‚ç¬¦å·å±æ€§ä¼šè¢«å¿½ç•¥ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 18</title>
    <url>/2020/10/18/xue-xi-bi-ji-2020-10-18/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-18"><a href="#å­¦ä¹ ç¬”è®°-2020-10-18" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-18"></a>å­¦ä¹ ç¬”è®° 2020-10-18</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="å¢å¼ºçš„å¯¹è±¡è¯­æ³•"><a href="#å¢å¼ºçš„å¯¹è±¡è¯­æ³•" class="headerlink" title="å¢å¼ºçš„å¯¹è±¡è¯­æ³•"></a>å¢å¼ºçš„å¯¹è±¡è¯­æ³•</h4><p><code>ES6</code> æ–°å¢äº†å¾ˆå¤šæå…¶æœ‰ç”¨çš„è¯­æ³•ç³–ç‰¹æ€§ã€‚</p>
<ol>
<li><h5 id="å±æ€§å€¼ç®€å†™"><a href="#å±æ€§å€¼ç®€å†™" class="headerlink" title="å±æ€§å€¼ç®€å†™"></a>å±æ€§å€¼ç®€å†™</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {name: "Sirine"}</span></code></pre>
<p>ç®€å†™å±æ€§ååªè¦ä½¿ç”¨å˜é‡åå°±ä¼šè‡ªåŠ¨è§£é‡Šä¸ºåŒåçš„å±æ€§é”®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒåå˜é‡ï¼Œåˆ™ä¼šæŠ›å‡º <code>ReferenceError</code> ã€‚</p>
</li>
<li><h5 id="å¯è®¡ç®—å±æ€§"><a href="#å¯è®¡ç®—å±æ€§" class="headerlink" title="å¯è®¡ç®—å±æ€§"></a>å¯è®¡ç®—å±æ€§</h5><p>ä»¥å‰ï¼Œæƒ³ä½¿ç”¨å˜é‡çš„å€¼ä½œä¸ºå±æ€§ï¼Œå¿…é¡»å…ˆå£°æ˜å¯¹è±¡ï¼Œä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•æ¥æ·»åŠ å±æ€§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> nameKey <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ageKey <span class="token operator">=</span> <span class="token string">'age'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jobKey <span class="token operator">=</span> <span class="token string">'job'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">[</span>nameKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>
person<span class="token punctuation">[</span>ageKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span>
person<span class="token punctuation">[</span>jobKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'student'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {name: "Sirine", age: 27, job: "student"}</span></code></pre>
<p>å¯è®¡ç®—å±æ€§çš„ç”¨æ³•ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> nameKey <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ageKey <span class="token operator">=</span> <span class="token string">'age'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jobKey <span class="token operator">=</span> <span class="token string">'job'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>nameKey<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>ageKey<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>jobKey<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'student'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {name: "Sirine", age: 27, job: "student"}</span></code></pre>
<p>å¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­å®ŒæˆåŠ¨æ€å±æ€§èµ‹å€¼ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> nameKey <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ageKey <span class="token operator">=</span> <span class="token string">'age'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jobKey <span class="token operator">=</span> <span class="token string">'job'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uniqueToken <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getUniqueKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>uniqueToken<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token function">getUniqueKey</span><span class="token punctuation">(</span>nameKey<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">getUniqueKey</span><span class="token punctuation">(</span>ageKey<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">getUniqueKey</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'Student'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { name_0: 'Sirine', age_1: 27, job_2: 'Student' }</span></code></pre>
</li>
<li><h5 id="ç®€å†™æ–¹æ³•å"><a href="#ç®€å†™æ–¹æ³•å" class="headerlink" title="ç®€å†™æ–¹æ³•å"></a>ç®€å†™æ–¹æ³•å</h5><p>æ—§çš„æ–¹æ³•å®šä¹‰æ–¹å¼ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  sayName<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token string">'Sirine'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// My name is Sirine</span></code></pre>
<p>æ–°çš„æ–¹æ³•å®šä¹‰æ–¹å¼ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token string">'Sirine'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// My name is Sirine</span>
<span class="token comment" spellcheck="true">// å¯¹è·å–å‡½æ•°å’Œè®¾ç½®å‡½æ•°åŒæ ·é€‚ç”¨ã€‚</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name_<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name_<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name_ <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// My name is Sirine</span></code></pre>
<p>åŒæ—¶ï¼Œç®€å†™æ–¹æ³•åä¸å¯è®¡ç®—å±æ€§é”®ç›¸äº’å…¼å®¹</p>
</li>
</ol>
<h4 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h4><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ä¸ä½¿ç”¨å¯¹è±¡è§£æ„</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> personName <span class="token operator">=</span> person<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
  personAge <span class="token operator">=</span> person<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personAge<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 27</span>
<span class="token comment" spellcheck="true">// ä½¿ç”¨å¯¹è±¡è§£æ„</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> personName<span class="token punctuation">,</span> age<span class="token punctuation">:</span> personAge <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personAge<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 27</span></code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å†™è¯­æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 27</span></code></pre>
<p>è‹¥å¼•ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¯¥å˜é‡çš„å€¼å°±æ˜¯ <code>undefined</code> ã€‚</p>
<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é»˜è®¤å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> job <span class="token operator">=</span> <span class="token string">'Student'</span> <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Student</span></code></pre>
<p>è§£æ„åœ¨å†…éƒ¨ä½¿ç”¨å‡½æ•° <code>ToObject()</code> æŠŠæºæ•°æ®ç»“æ„è½¬æ¢ä¸ºå¯¹è±¡ã€‚è¿™æ„å‘³ç€ï¼ŒåŸå§‹å€¼ä¼šè¢«å½“æˆå¯¹è±¡ã€‚ <code>null</code>  å’Œ <code>undefined</code> ä¸èƒ½è§£æ„ã€‚å¦åˆ™ä¼šæŠ›å‡º <code>TypeError</code> ã€‚</p>
<p>å¦‚æœæ˜¯ç»™äº‹å…ˆå£°æ˜çš„å˜é‡èµ‹å€¼ï¼Œåˆ™èµ‹å€¼è¡¨è¾¾å¼éœ€è¦åŒ…å«åœ¨ä¸€å¯¹æ‹¬å·ä¸­ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> personName<span class="token punctuation">,</span> personAge<span class="token punctuation">;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> personName<span class="token punctuation">,</span> age<span class="token punctuation">:</span> personAge <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personName<span class="token punctuation">,</span> personAge<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine, 27</span></code></pre>
<ol>
<li><h5 id="åµŒå¥—è§£æ„"><a href="#åµŒå¥—è§£æ„" class="headerlink" title="åµŒå¥—è§£æ„"></a>åµŒå¥—è§£æ„</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Student'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> personCopy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> personCopy<span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token punctuation">:</span> personCopy<span class="token punctuation">.</span>age<span class="token punctuation">,</span> job<span class="token punctuation">:</span> personCopy<span class="token punctuation">.</span>job <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// å› ä¸ºä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è¢«èµ‹å€¼ç»™ personCopyï¼Œæ‰€ä»¥ä¿®æ”¹</span>
<span class="token comment" spellcheck="true">// person.job å¯¹è±¡çš„å±æ€§ä¹Ÿä¼šå½±å“ personCopy</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>job<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Hacker'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// { name: 'Sirine', age: 21, job: { title: 'Hacker' } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// { name: 'Sirine', age: 27, job: { title: 'Hacker' } }</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Student'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Student</span></code></pre>
<p>å¤–å±‚å±æ€§æ²¡æœ‰å®šä¹‰çš„æƒ…å†µä¸‹ä¸èƒ½ä½¿ç”¨åµŒå¥—è§£æ„ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Student'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> personCopy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// foo åœ¨æºå¯¹è±¡ä¸Šæ˜¯ undefined</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> personCopy<span class="token punctuation">.</span>bar <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// TypeError: Cannot destructure property 'bar' of 'undefined' or 'null'.</span>
<span class="token comment" spellcheck="true">// job åœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ˜¯ undefined</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>
  job<span class="token punctuation">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> personCopy<span class="token punctuation">.</span>job<span class="token punctuation">.</span>title <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// TypeError: Cannot set property 'title' of undefined</span></code></pre>
</li>
<li><h5 id="éƒ¨åˆ†è§£æ„"><a href="#éƒ¨åˆ†è§£æ„" class="headerlink" title="éƒ¨åˆ†è§£æ„"></a>éƒ¨åˆ†è§£æ„</h5><p>æ¶‰åŠå¤šä¸ªå±æ€§çš„è§£æ„èµ‹å€¼æ˜¯ä¸€ä¸ªè¾“å‡ºæ— å…³çš„é¡ºåºåŒ–æ“ä½œã€‚å¦‚æœå¼€å§‹èµ‹å€¼æˆåŠŸè€Œåé¢èµ‹å€¼å‡ºé”™ï¼Œè§£æ„èµ‹å€¼åªèƒ½å®Œæˆä¸€éƒ¨åˆ†ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> personName<span class="token punctuation">,</span> personBar<span class="token punctuation">,</span> personAge<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// person.foo æ˜¯ undefinedï¼Œå› æ­¤ä¼šæŠ›å‡ºé”™è¯¯</span>
  <span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> personName<span class="token punctuation">,</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> personBar <span class="token punctuation">}</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> personAge
  <span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personName<span class="token punctuation">,</span> personBar<span class="token punctuation">,</span> personAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Sirine, undefined, undefined</span></code></pre>
</li>
<li><h5 id="å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…"><a href="#å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…" class="headerlink" title="å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…"></a>å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…</h5><p>åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œä¸ä¼šå½±å“ <code>arguments</code> å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">27</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">printPerson</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span><span class="token punctuation">,</span> bar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">printPerson2</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> personName<span class="token punctuation">,</span> age<span class="token punctuation">:</span> personAge <span class="token punctuation">}</span><span class="token punctuation">,</span> bar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personName<span class="token punctuation">,</span> personAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token string">'1st'</span><span class="token punctuation">,</span> person<span class="token punctuation">,</span> <span class="token string">'2nd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ['1st', { name: 'Sirine', age: 27 }, '2nd']</span>
<span class="token comment" spellcheck="true">// 'Sirine', 27</span>
<span class="token function">printPerson2</span><span class="token punctuation">(</span><span class="token string">'1st'</span><span class="token punctuation">,</span> person<span class="token punctuation">,</span> <span class="token string">'2nd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ['1st', { name: 'Sirine', age: 27 }, '2nd']</span>
<span class="token comment" spellcheck="true">// 'Sirine', 27</span></code></pre>
</li>
</ol>
<h4 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h4><p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§ä¼—æ‰€å‘¨çŸ¥çš„è®¾è®¡æ¨¡å¼ï¼Œå¹¿æ³›åº”ç”¨äºè½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œç”¨äºæŠ½è±¡åˆ›å»ºç‰¹å®šå¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>sayName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">'Sirine'</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token string">'Student'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">'Severus'</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token string">'Teacher'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ­¤å¤„ï¼Œå¯ä»¥é€šè¿‡å¤šæ¬¡è°ƒç”¨ä¸åŒå‚æ•°çš„ <code>createPerson</code> æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚ä½†æ²¡æœ‰è§£å†³å¯¹è±¡æ ‡è¯†é—®é¢˜ï¼Œå³æ–°åˆ›å»ºçš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåˆ›å»ºçš„å¯¹è±¡å…¨éƒ¨ä¸º <code>object</code> ç±»å‹ã€‚</p>
<h4 id="æ„é€ å‡½æ•°æ¨¡å¼"><a href="#æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼"></a>æ„é€ å‡½æ•°æ¨¡å¼</h4><p>åœ¨ <code>js</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œä»¥å‡½æ•°çš„å½¢å¼ä¸ºè‡ªå·±çš„å¯¹è±¡ç±»å‹å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sayName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Sirine'</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token string">'Student'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Severus'</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token string">'Teacher'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine</span>
person2<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Severus</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>æ„é€ å‡½æ•°å’Œå·¥å‚å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼š</p>
<ul>
<li>æ²¡æœ‰æ˜¾å¼åœ°åˆ›å»ºå¯¹è±¡ã€‚</li>
<li>å±æ€§å’Œæ–¹æ³•ç›´æ¥èµ‹å€¼ç»™äº† <code>this</code> ã€‚</li>
<li>æ²¡æœ‰ <code>return</code>  ã€‚</li>
<li>å‡½æ•°åé¦–å­—æ¯å¤§å†™ã€‚å€Ÿé‰´äºé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ã€‚</li>
</ul>
<p>åˆ›å»ºå®ä¾‹ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦ã€‚ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„ <code>[[Prototype]]</code> ç‰¹æ€§è¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ã€‚</li>
<li>æ„é€ å‡½æ•°å†…éƒ¨çš„ <code>this</code> è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ã€‚</li>
<li>å¦‚æœæ„é€ å‡½æ•°è¿”å›éç©ºå¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™ï¼Œè¿”å›åˆšåˆ›å»ºçš„æ–°å¯¹è±¡ã€‚</li>
</ol>
<p>å®šä¹‰è‡ªå®šä¹‰æ„é€ å‡½æ•°å¯ä»¥ç¡®ä¿å®ä¾‹è¢«æ ‡è¯†ä¸ºç‰¹å®šç±»å‹ã€‚</p>
<p>æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯è¢«èµ‹å€¼ç»™å˜é‡çš„å‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<p>åœ¨å®ä¾‹åŒ–æ—¶ï¼Œæ„é€ å‡½æ•°åçš„æ‹¬å·ä¸åŠ ä¹Ÿå¯ä»¥ã€‚åªè¦æœ‰ <code>new</code> æ“ä½œç¬¦ï¼Œå°±å¯ä»¥è°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°ã€‚</p>
<ol>
<li><h5 id="æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°"><a href="#æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°"></a>æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°</h5><p>ä»»ä½•å‡½æ•°åªè¦ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦è°ƒç”¨å°±æ˜¯æ„é€ å‡½æ•°ï¼Œä¸ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦è°ƒç”¨å°±æ˜¯æ™®é€šå‡½æ•°ã€‚</p>
</li>
<li><h5 id="æ„é€ å‡½æ•°çš„é—®é¢˜"><a href="#æ„é€ å‡½æ•°çš„é—®é¢˜" class="headerlink" title="æ„é€ å‡½æ•°çš„é—®é¢˜"></a>æ„é€ å‡½æ•°çš„é—®é¢˜</h5><p>æ„é€ å‡½æ•°çš„é—®é¢˜æ˜¯å®šä¹‰çš„æ–¹æ³•ä¼šåœ¨æ¯ä¸ªå®ä¾‹ä¸Šåˆ›å»ºä¸€éã€‚æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œè€Œè¿™äº›æ–¹æ³•å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œå´æŒ‡å‘ä¸åŒçš„å¼•ç”¨ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚å¦‚æœæˆ‘ä»¬é€‰æ‹©æŠŠæ–¹æ³•æŠ½ç¦»åˆ°å…¨å±€ï¼Œè®©æ¯ä¸ªå®ä¾‹çš„æ–¹æ³•éƒ½æŒ‡å‘è¿™ä¸ªå…¨å±€æ–¹æ³•ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šé‡å¤å£°æ˜å‡½æ•°ï¼Œä½†è¿™æ ·æ±¡æŸ“äº†å…¨å±€ä½œç”¨åŸŸï¼Œå½“æ„é€ å‡½æ•°çš„æ–¹æ³•è¾ƒå¤šæ—¶ï¼Œå…¨å±€ä¸Šå°±ä¼šå¤šå‡ºå¾ˆå¤šä¸å¿…è¦çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°æ˜æ˜åªæ˜¯å±äºæˆ‘ä»¬çš„å®ä¾‹å¯¹è±¡ï¼Œå´å®šä¹‰åœ¨äº†å…¨å±€ã€‚</p>
</li>
</ol>
<h2 id="CSS-çŸ¥è¯†ç‚¹"><a href="#CSS-çŸ¥è¯†ç‚¹" class="headerlink" title="CSS çŸ¥è¯†ç‚¹"></a>CSS çŸ¥è¯†ç‚¹</h2><p>åˆå›é¡¾åˆ°äº†æµ®åŠ¨ä¸æ¸…é™¤æµ®åŠ¨çš„çŸ¥è¯†ï¼Œå¯¹äº <code>clearfix</code> è¿™ç§æ¸…é™¤æ–¹æ³•ä¸æ˜¯ç‰¹åˆ«ç†è§£ã€‚è‡ªå·±å†™äº†å†™æ¥å°è¯•åŠ æ·±ç†è§£ã€‚</p>
<p>é¦–å…ˆæŸ¥é˜…äº† <code>MDN</code> å…³äº <code>clear</code> çš„æ–‡æ¡£ï¼š ğŸ‘‰<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/clear" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<blockquote>
<p><strong><code>clear</code></strong> <a href="https://developer.mozilla.org/en-US/docs/CSS" target="_blank" rel="noopener">CSS</a> å±æ€§æŒ‡å®šä¸€ä¸ªå…ƒç´ æ˜¯å¦å¿…é¡»ç§»åŠ¨(æ¸…é™¤æµ®åŠ¨å)åˆ°åœ¨å®ƒä¹‹å‰çš„æµ®åŠ¨å…ƒç´ ä¸‹é¢ã€‚<code>clear</code> å±æ€§é€‚ç”¨äºæµ®åŠ¨å’Œéæµ®åŠ¨å…ƒç´ ã€‚</p>
</blockquote>
<p>æ–‡æ¡£ä¸­æŒ‡å‡ºï¼Œ <code>clear</code> å±æ€§åŒæ—¶é€‚ç”¨äºæµ®åŠ¨ä¸éæµ®åŠ¨å…ƒç´ ã€‚</p>
<blockquote>
<p>å½“åº”ç”¨äºéæµ®åŠ¨å—æ—¶ï¼Œå®ƒå°†éæµ®åŠ¨å—çš„<a href="https://developer.mozilla.org/en-US/docs/CSS/box_model" target="_blank" rel="noopener">è¾¹æ¡†è¾¹ç•Œ</a>ç§»åŠ¨åˆ°æ‰€æœ‰ç›¸å…³æµ®åŠ¨å…ƒç´ <a href="https://developer.mozilla.org/en-US/docs/CSS/box_model" target="_blank" rel="noopener">å¤–è¾¹ç•Œ</a>çš„ä¸‹æ–¹ã€‚è¿™ä¸ªéæµ®åŠ¨å—çš„<a href="https://developer.mozilla.org/en-US/docs/CSS/margin_collapsing" target="_blank" rel="noopener">å‚ç›´å¤–è¾¹è·</a>ä¼šæŠ˜å ã€‚</p>
</blockquote>
<p>è¿™ä¸ªç‰¹æ€§ç»™äº†è§£å†³æµ®åŠ¨å¯¼è‡´çˆ¶å…ƒç´ é«˜åº¦å¡Œé™·çš„æ–¹æ³•ã€‚</p>
<p>å½“çˆ¶å…ƒç´ å†…çš„æ‰€æœ‰å­å…ƒç´ éƒ½æµ®åŠ¨ï¼Œå¯¼è‡´çˆ¶å…ƒç´ å†…éƒ¨é«˜åº¦æ— æ³•è¢«è‡ªåŠ¨æ’‘å¼€ã€‚</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™çˆ¶å…ƒç´ å†…éƒ¨æœ€åæ·»åŠ ä¸€ä¸ªå…ƒç´ (ç»éªŒè¯ï¼Œæ­¤å…ƒç´ éœ€è¦ä¸ºå—çº§å…ƒç´ )ï¼Œç„¶åè®¾ç½® <code>clear: both</code> ï¼Œè¡¨ç¤ºå½“å·¦å³æœ‰æµ®åŠ¨å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨åˆ°ä¸‹é¢ã€‚è¯¥ä¼ªå…ƒç´ ä¼šè‡ªåŠ¨ç§»åŠ¨åˆ°å·¦å³æµ®åŠ¨å…ƒç´ æœ€é•¿çš„é‚£ä¸ªåº•ä¸‹ã€‚</p>
<p>äºæ˜¯ï¼Œçˆ¶å…ƒç´ å†…éƒ¨æœ‰äº†ä¸€ä¸ªå—çº§å…ƒç´ ï¼Œä¸”æœ‰ä½ç½®è¦æ±‚ï¼Œçˆ¶å…ƒç´ å°±è¢«æ’‘å¼€äº†ã€‚</p>
<p>ä¸ºäº†ç®€ä¾¿ï¼Œå¯ä»¥ç›´æ¥å°†è¯¥å…ƒç´ å®šä¹‰ä¸ºçˆ¶å…ƒç´ çš„ä¼ªå…ƒç´  <code>:after</code> ã€‚</p>
<p>ä¸”æ–‡æ¡£ä¸­æåˆ°ä¸€ç‚¹ï¼Œç§»åŠ¨å…ƒç´ çš„å‚ç›´å¤–è¾¹è·ä¼šè¢«æŠ˜å ã€‚</p>
<p>ç®€å•éªŒè¯äº†ä¸€ä¸‹ï¼Œè¯¥å…ƒç´ çš„é¡¶éƒ¨å¤–è¾¹è·ä¼šè¢«æŠ˜å ï¼Œä½†åº•éƒ¨å¤–è¾¹è·ä¸ä¼šã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>left container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>right container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>to clearfix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>another right container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#000</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">800</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.bottom</span> </span><span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid blue<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/18/xue-xi-bi-ji-2020-10-18/image-20201018112427598.png" alt="image-20201018112427598"></p>
<p>å¦å¤–ï¼Œæµ‹è¯•äº†ä¸€ä¸‹æµ®åŠ¨å…ƒç´ åº”ç”¨ <code>clear</code> å±æ€§çš„æ•ˆæœã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>left container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>right container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>to clearfix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>another left container<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#000</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">800</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.bottom</span> </span><span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid blue<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/18/xue-xi-bi-ji-2020-10-18/image-20201018111957887.png" alt="image-20201018111957887"></p>
<p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæµ®åŠ¨å…ƒç´ æ¸…é™¤æµ®åŠ¨åä¼šå½±å“åˆ°åç»­çš„å…ƒç´ ï¼Œåç»­çš„å…ƒç´ åªä¼šè·Ÿç€å®ƒè¿›è¡Œæ’åˆ—ã€‚ä¸ä¼šé«˜äºå®ƒã€‚</p>
<p>å°† <code>.bottom</code> çš„ <code>clear</code> ä¿®æ”¹ä¸º <code>left</code> ã€‚</p>
<p><img src="/2020/10/18/xue-xi-bi-ji-2020-10-18/image-20201018112058725.png" alt="image-20201018112058725"></p>
<p>å°†åº•éƒ¨çš„æœ€åé‚£ä¸ªå…ƒç´ ä¿®æ”¹ä¸ºå³æµ®åŠ¨ã€‚</p>
<p><img src="/2020/10/18/xue-xi-bi-ji-2020-10-18/image-20201018112132997.png" alt="image-20201018112132997"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹å†™ Promise</title>
    <url>/2020/10/17/shou-xie-promise/</url>
    <content><![CDATA[<p>å°è¯•ä½¿ç”¨ <code>js</code> æ‰‹å†™ <code>Promise</code> ç±»ï¼Œå®ç°éƒ¨åˆ†åŠŸèƒ½ï¼Œéµå®ˆ <code>Promises/A+</code> è§„èŒƒï¼Œä¾‹å¦‚ <code>then, catch, all, race, resolve, reject</code> ç­‰ã€‚</p>
<h2 id="ä½¿ç”¨åŸç”Ÿ-Promise-æŸ¥çœ‹æ•ˆæœ"><a href="#ä½¿ç”¨åŸç”Ÿ-Promise-æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="ä½¿ç”¨åŸç”Ÿ Promise æŸ¥çœ‹æ•ˆæœ"></a>ä½¿ç”¨åŸç”Ÿ <code>Promise</code> æŸ¥çœ‹æ•ˆæœ</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

promise1
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 1ç§’å</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// Error</span></code></pre>
<p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡º <code>promise</code> çš„å‡ ä¸ªæ€§è´¨ï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªç±»ï¼Œå¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæœ‰ <code>resolve</code> å’Œ <code>reject</code> ä¸¤ä¸ªå‚æ•°ã€‚å½“æœŸæœ›çš„äº‹æƒ…å®Œæˆåï¼Œè°ƒç”¨ <code>resolve</code> è¡¨æ˜æˆåŠŸï¼Œè°ƒç”¨ <code>reject</code> è¡¨æ˜å¤±è´¥ã€‚æˆåŠŸåå¯ä»¥è°ƒç”¨ <code>.then</code> æ¥è¿›è¡Œåç»­æ“ä½œï¼Œé»˜è®¤å‚æ•°ä¸º <code>resolve</code> å‡½æ•°çš„å‚æ•°ã€‚è¿”å›å€¼å¯ä»¥æ˜¯ä¸€ä¸ªæ–°çš„ <code>promise</code> ï¼Œåç»­æ“ä½œä¼šç­‰å¾…è¿™ä¸ª <code>promise</code> çš„å®Œæˆã€‚æŠ›å‡ºé”™è¯¯æ—¶æˆ–æ˜¯æ‰‹åŠ¨è°ƒç”¨ <code>reject</code> éƒ½ä¼šè¿›å…¥ <code>catch</code> å›è°ƒï¼Œæˆ–æ˜¯ <code>.then</code> æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥å®ç°ã€‚</p>
<h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><ol>
<li><h3 id="å®šä¹‰-promise-æ„é€ å‡½æ•°"><a href="#å®šä¹‰-promise-æ„é€ å‡½æ•°" class="headerlink" title="å®šä¹‰ promise æ„é€ å‡½æ•°"></a>å®šä¹‰ <code>promise</code> æ„é€ å‡½æ•°</h3><p>é¦–å…ˆå®šä¹‰ä¸‰ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºçŠ¶æ€ï¼Œ<code>Promises/A+</code> è§„èŒƒä¸­æåˆ°ï¼š</p>
<blockquote>
<p>A promise must be in one of three states: pending, fulfilled, or rejected.</p>
<ol>
<li><p>When pending, a promise:</p>
<ol>
<li>may transition to either the fulfilled or rejected state.</li>
</ol>
</li>
<li><p>When fulfilled, a promise:</p>
<ol>
<li>must not transition to any other state.</li>
<li>must have a value, which must not change.</li>
</ol>
</li>
<li><p>When rejected, a promise:</p>
<ol>
<li>must not transition to any other state.</li>
<li>must have a reason, which must not change.</li>
</ol>
</li>
</ol>
<p>Here, â€œmust not changeâ€ means immutable identity (i.e. <code>===</code>), but does not imply deep immutability.</p>
</blockquote>
<p><code>promise</code> ä»…æœ‰ä¸‰ç§çŠ¶æ€ï¼Œè¡¨ç¤ºè¿˜æœªå®Œæˆï¼Œå·²æˆåŠŸæˆ–æ˜¯å·²å¤±è´¥ã€‚å½“å¤„äº <code>pending</code> çŠ¶æ€æ—¶ï¼Œå¯èƒ½ä¼šè½¬æ¢ä¸ºå¦å¤–ä¸¤ç§çŠ¶æ€ã€‚å½“å¤„äº <code>fulfilled</code> çŠ¶æ€æ—¶ï¼Œä¸ä¼šå†è½¬ä¸ºå…¶ä½™çŠ¶æ€ï¼Œå¿…é¡»æ‹¥æœ‰ä¸€ä¸ª <code>value</code> å±æ€§ä¸”ä¸å†å˜åŒ–ã€‚å½“å¤„äº <code>rejected</code> çŠ¶æ€æ—¶ï¼ŒåŒæ ·ä¸ä¼šå†è½¬å˜ï¼Œä¸”å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª <code>reason</code> å±æ€§ä¸å†å˜åŒ–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> PENDING <span class="token operator">=</span> <span class="token string">'pending'</span><span class="token punctuation">,</span>
  FULFILLED <span class="token operator">=</span> <span class="token string">'fulfilled'</span><span class="token punctuation">,</span>
  REJECTED <span class="token operator">=</span> <span class="token string">'rejected'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>executor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> PENDING<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> undefined<span class="token punctuation">;</span>

    <span class="token keyword">const</span> resolve <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> reject <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">executor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>æ‰€ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸‰ä¸ªå˜é‡ï¼Œåˆå§‹åŒ–æ­¤æ—¶çš„çŠ¶æ€ä¸º <code>pending</code> ï¼Œå¹¶ä¸”ä¼ å…¥çš„ <code>executor</code> å‡½æ•°æˆ‘ä»¬éœ€è¦è¿›è¡Œè°ƒç”¨ï¼Œä¼ å…¥å®šä¹‰çš„ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p>
<p>ç„¶åå®šä¹‰ <code>resolve</code> å’Œ <code>reject</code> çš„å†…å®¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> resolve <span class="token operator">=</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">!==</span> PENDING<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> FULFILLED<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> reject <span class="token operator">=</span> reason <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">!==</span> PENDING<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> REJECTED<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> reason<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>éµå¾ªè§„èŒƒï¼Œè‹¥å½“å‰çŠ¶æ€ä¸æ˜¯ <code>pending</code> ï¼Œä¸æ‰§è¡Œåç»­æ“ä½œã€‚</p>
</li>
<li><h3 id="å®šä¹‰-then-æ–¹æ³•"><a href="#å®šä¹‰-then-æ–¹æ³•" class="headerlink" title="å®šä¹‰ then æ–¹æ³•"></a>å®šä¹‰ <code>then</code> æ–¹æ³•</h3><p>é¦–å…ˆæŸ¥çœ‹è§„èŒƒï¼š</p>
<blockquote>
<p>A promiseâ€™s <code>then</code> method accepts two arguments:</p>
<pre><code>promise.then(onFulfilled, onRejected)</code></pre><ol>
<li><p>Both <code>onFulfilled</code>  and <code>onRejected</code>  are optional arguments:</p>
<ol>
<li>If <code>onFulfilled</code> is not a function, it must be ignored.</li>
<li>If <code>onRejected</code> is not a function, it must be ignored.</li>
</ol>
</li>
<li><p>If <code>onFulfilled</code> is a function:</p>
<ol>
<li>it must be called after <code>promise</code> is fulfilled, with <code>promise</code>â€™s value as its first argument.</li>
<li>it must not be called before <code>promise</code> is fulfilled.</li>
<li>it must not be called more than once.</li>
</ol>
</li>
<li><p>If <code>onRejected</code> is a function,</p>
<ol>
<li>it must be called after <code>promise</code> is rejected, with <code>promise</code>â€™s reason as its first argument.</li>
<li>it must not be called before <code>promise</code> is rejected.</li>
<li>it must not be called more than once.</li>
</ol>
</li>
<li><p><code>onFulfilled</code> or <code>onRejected</code> must not be called until the <a href="https://es5.github.io/#x10.3" target="_blank" rel="noopener">execution context</a> stack contains only platform code. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.1</a>].</p>
</li>
<li><p><code>onFulfilled</code> and <code>onRejected</code> must be called as functions (i.e. with no <code>this</code> value). [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.2</a>]</p>
</li>
<li><p><code>then</code>may be called multiple times on the same promise.</p>
<ol>
<li>If/when <code>promise</code> is fulfilled, all respective <code>onFulfilled</code> callbacks must execute in the order of their originating calls to <code>then</code>.</li>
<li>If/when <code>promise</code> is rejected, all respective <code>onRejected</code> callbacks must execute in the order of their originating calls to <code>then</code>.</li>
</ol>
</li>
<li><p><code>then</code> must return a promise [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.3</a>].</p>
<pre><code> promise2 = promise1.then(onFulfilled, onRejected);</code></pre><ol>
<li>If either <code>onFulfilled</code> or <code>onRejected</code> returns a value <code>x</code>, run the Promise Resolution Procedure <code>[[Resolve]](promise2, x)</code>.</li>
<li>If either <code>onFulfilled</code> or <code>onRejected</code> throws an exception <code>e</code>, <code>promise2</code> must be rejected with <code>e</code> as the reason.</li>
<li>If <code>onFulfilled</code> is not a function and <code>promise1</code> is fulfilled, <code>promise2</code> must be fulfilled with the same value as <code>promise1</code>.</li>
<li>If <code>onRejected</code> is not a function and <code>promise1</code> is rejected, <code>promise2</code> must be rejected with the same reason as <code>promise1</code>.</li>
</ol>
</li>
</ol>
</blockquote>
<p>è§„èŒƒæåˆ°ï¼Œ<code>then</code> æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œä½†å¿…é¡»æ˜¯å‡½æ•°ï¼Œä¸æ˜¯å‡½æ•°çš„è¯å°†è¢«å¿½ç•¥ã€‚</p>
<p> <code>onFulfilled</code> å°†åœ¨ <code>promise</code> çŠ¶æ€ä¸º <code>fulfilled</code> ä¹‹åè°ƒç”¨ï¼Œ<code>promise</code> çš„ <code>value</code> ä½œä¸ºå®ƒçš„å‚æ•°ï¼Œåœ¨ <code>promise</code> è½¬ä¸º <code>fulfilled</code> ä¹‹å‰ä¸å…è®¸è°ƒç”¨ï¼Œä¸”åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ <code>onRejected</code> ç±»ä¼¼ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½åªèƒ½åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡è°ƒç”¨æ ˆä»…åŒ…å« <code>platform code</code> æ—¶è°ƒç”¨ï¼Œéœ€è¦ç¡®ä¿ä¸¤ä¸ªå‡½æ•°éƒ½æ˜¯å¼‚æ­¥è°ƒç”¨çš„ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½å¿…é¡»ä»¥å‡½æ•°å½¢å¼è°ƒç”¨ï¼Œä¸å…è®¸åŒ…å« <code>this</code> ã€‚</p>
<p>åŒä¸€ä¸ª <code>promise</code> å¯ä»¥å¤šæ¬¡è°ƒç”¨ <code>then</code> æ–¹æ³•(æ­¤å¤„ä¸æ˜¯æŒ‡é“¾å¼è°ƒç”¨)ï¼Œéœ€è¦ç¡®ä¿å¤šæ¬¡è°ƒç”¨æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ã€‚</p>
<p><code>then</code> æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ª <code>promise</code> ã€‚</p>
<p><code>onFulfilled</code> æˆ–æ˜¯ <code>onRejected</code> çš„è¿”å›å€¼éœ€è¦æ‰§è¡Œ <code>Promise Resolution Procedure</code> ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°è‹¥æ˜¯æŠ›å‡ºäº†é”™è¯¯ï¼Œ<code>promise2</code> éœ€è¦ä»¥è¯¥é”™è¯¯ä¸ºå‚æ•°è¢«æ‹’ç»ã€‚</p>
<p>è‹¥æ²¡æœ‰ä¼ å…¥ä¸¤ä¸ªå‡½æ•°ï¼Œ<code>promise</code> å€¼éœ€è¦åŒæ ·å¾€åç»­ä¼ é€’ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token function">then</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> FULFILLED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> REJECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>é¦–å…ˆç®€å•å®ç°åŒæ­¥å›è°ƒï¼Œåˆ¤æ–­å½“å‰çš„ <code>status</code> æ¥æ‰§è¡Œç›¸åº”çš„å›è°ƒã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘å¼‚æ­¥æ‰§è¡Œï¼Œè‹¥æ˜¯ <code>executor</code> å†…éƒ¨æ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œï¼Œå¼‚æ­¥æ‰§è¡Œä¸­æ‰ä¼šè°ƒç”¨ <code>resolve</code> æˆ–æ˜¯ <code>reject</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è°ƒç”¨ <code>then</code> æ—¶ï¼Œ <code>status</code> è¿˜æ²¡æœ‰å¾—åˆ°è½¬æ¢ï¼Œæ­¤æ—¶æ— æ³•æ­£ç¡®æ‰§è¡Œï¼Œä¸”éœ€è¦åœ¨å¼‚æ­¥åœ°æ›´æ”¹ <code>status</code> åå†æ‰§è¡Œå›è°ƒã€‚</p>
<p>ä¿®æ”¹ä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>executor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onFulfilledCallList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCallList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> resolve <span class="token operator">=</span> value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// ...</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>onFulfilledCallList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fn <span class="token operator">=</span><span class="token operator">></span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> reject <span class="token operator">=</span> reason <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// ...</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCallList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fn <span class="token operator">=</span><span class="token operator">></span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token function">then</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> PENDING<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>onFulfilledCallList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCallList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>æ­¤æ—¶çš„å¼‚æ­¥ <code>resolve</code> å·²ç»å¯ä»¥æ­£ç¡®æ‰§è¡Œã€‚</p>
<p>å†æ¥è€ƒè™‘é”™è¯¯æ•è·çš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„ <code>executor</code> ä¸­å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦ç›´æ¥æ‰§è¡Œ <code>reject</code> æ¥æ‹’ç»ã€‚</p>
<p>ä¿®æ”¹ä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>executor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">executor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span></code></pre>
<p>åœ¨æ‰§è¡Œ <code>executor</code> æ—¶å°±å°è¯•æ•è·é”™è¯¯ï¼Œè‹¥æ˜¯æ•è·åˆ°äº†å°±ç›´æ¥ <code>reject</code> ï¼Œæ­¤æ—¶éœ€è¦å®šä¹‰ <code>then</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ¥å¤„ç†ã€‚</p>
<p>æ­¤æ—¶è‹¥æ˜¯å¯¹ <code>promise</code> å®ä¾‹å¤šæ¬¡è°ƒç”¨ <code>then</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ­£ç¡®ä¸”æŒ‰åºæ‰§è¡Œã€‚</p>
<p>æ¥ä¸‹æ¥å¤„ç†ä¸¤ä¸ªå‚æ•°ä¸ºç©ºçš„æƒ…å†µã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token function">then</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    onFulfilled <span class="token operator">=</span> <span class="token keyword">typeof</span> onFulfilled <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> onFulfilled <span class="token punctuation">:</span> value <span class="token operator">=</span><span class="token operator">></span> value<span class="token punctuation">;</span>
    onRejected <span class="token operator">=</span>
      <span class="token keyword">typeof</span> onRejected <span class="token operator">===</span> <span class="token string">'function'</span>
        <span class="token operator">?</span> onRejected
        <span class="token punctuation">:</span> reason <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> reason<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>æ¥ä¸‹æ¥å¤„ç† <code>then</code> çš„è¿”å›å€¼é—®é¢˜ï¼Œå³å®ç°é“¾å¼è°ƒç”¨ã€‚</p>
<p>å‚è€ƒåŸç”Ÿ <code>promise</code> çš„è¡¨ç°å½¢å¼ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

promise1
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10 1</span>
      <span class="token keyword">return</span> <span class="token string">'11'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'16'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 16 11</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'24'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 24 18</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ª <code>then</code> æ–¹æ³•çš„å‚æ•°éƒ½æ˜¯å‰ä¸€æ¬¡ <code>then</code> çš„è¿”å›å€¼ï¼Œè¿”å›å€¼è‹¥æ˜¯ <code>promise</code> ï¼Œåˆ™æ˜¯ <code>resolve</code> çš„å€¼ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬éœ€è¦å¤„ç†ä¸¤ç§çŠ¶å†µï¼Œ<code>return</code> äº†åŸå§‹å€¼æˆ–æ˜¯ <code>promise</code>  ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬å¯¹ <code>onFulfilled</code> å’Œ <code>onRejected</code> è¿”å›å€¼è¿›è¡Œä¸€ä¸ªå¤„ç†ã€‚</p>
<p>åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ³¨æ„è‹¥æ˜¯ <code>onFulfilled</code> å’Œ <code>onRejected</code> å‡½æ•°å†…éƒ¨æ‰§è¡Œæ—¶æŠ›å‡ºäº†é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œ <code>reject</code> ã€‚æ‰€ä»¥ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">function</span> <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token function">then</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>

    <span class="token keyword">let</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> FULFILLED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> REJECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> PENDING<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>onFulfilledCallList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCallList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> promise2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>æ­¤å¤„åšäº†è¾ƒå¤šä¿®æ”¹ï¼Œåœ¨ <code>then</code> æ–¹æ³•ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ <code>promise</code> å®ä¾‹ï¼Œç„¶åè¿›è¡ŒçŠ¶æ€åˆ¤å®šï¼Œè‹¥æ˜¯å·²å®Œæˆï¼Œåˆ™è¿›è¡Œç›¸åº”æ“ä½œã€‚è‹¥æ˜¯æœªå®Œæˆï¼Œåˆ™æŠŠå›è°ƒè¿›è¡Œè®¢é˜…ï¼Œåœ¨å®Œæˆæ—¶è¿›è¡Œå‘å¸ƒã€‚è°ƒç”¨å›è°ƒæ—¶éœ€è¦å¾—åˆ°è¿”å›å€¼ï¼Œç„¶åè¿›è¡Œè¿”å›å€¼çš„å¤„ç†ã€‚äºæ˜¯å®šä¹‰äº†ä¸€ä¸ª <code>resolvePromise</code> æ–¹æ³•æ¥å¤„ç†ï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨è¿›è¡Œ <code>resolve</code> æˆ–æ˜¯ <code>reject</code> ï¼Œæ‰€ä»¥éœ€è¦ä¼ å…¥å¯¹åº”å‡½æ•°ã€‚åŒæ—¶ä¼ å…¥ <code>promise</code> æœ¬èº«å’Œ <code>x</code> è¿™ä¸ªè¿”å›å€¼æ¥è‡ªäºè§„èŒƒå†…çš„è§„å®šã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨è°ƒç”¨ <code>promiseResolve</code> æ—¶ï¼Œæˆ‘ä»¬çš„ <code>promise2</code> è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¼‚æ­¥æ–¹æ³• <code>setTimeout</code> æ¥å»¶è¿Ÿè¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œç¡®ä¿å¯ä»¥æ­£ç¡®å¾—åˆ° <code>promise2</code> ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦å¯¹å›è°ƒå‡½æ•°çš„æ‰§è¡Œè¿›è¡Œé”™è¯¯æ•è·ï¼Œè‹¥æ˜¯æ•è·åˆ°é”™è¯¯å°± <code>reject</code> ã€‚</p>
<p>ä¸ºä»€ä¹ˆè®¢é˜…å›è°ƒæ—¶ä¸éœ€è¦å¼‚æ­¥æ¥è°ƒç”¨å¤„ç†å‡½æ•°å‘¢ï¼Ÿå› ä¸ºè®¢é˜…çš„å›è°ƒå‘å¸ƒæ—¶å·²ç»æ˜¯å¼‚æ­¥çŠ¶æ€ã€‚</p>
<p>ç„¶åå¼€å§‹å¤„ç† <code>promiseResolve</code> å‡½æ•°ã€‚</p>
<p>é¦–å…ˆçœ‹è§„èŒƒï¼š</p>
<blockquote>
<p>The <strong>promise resolution procedure</strong> is an abstract operation taking as input a promise and a value, which we denote as  <code>[[Resolve]](promise, x)</code>. If  <code>x</code>  is a thenable, it attempts to make <code>promise</code> adopt the state of <code>x</code>, under the assumption that <code>x</code> behaves at least somewhat like a promise. Otherwise, it fulfills <code>promise</code> with the value <code>x</code>.</p>
<p>This treatment of thenables allows promise implementations to interoperate, as long as they expose a Promises/A+-compliant <code>then</code> method. It also allows Promises/A+ implementations to â€œassimilateâ€ nonconformant implementations with reasonable <code>then</code> methods.</p>
<p>To run <code>[[Resolve]](promise, x)</code>, perform the following steps:</p>
<ol>
<li><p>If <code>promise</code> and <code>x</code> refer to the same object, reject <code>promise</code> with a <code>TypeError</code> as the reason.</p>
</li>
<li><p>If <code>x</code> is a promise, adopt its state :</p>
<ol>
<li>If <code>x</code> is pending, <code>promise</code> must remain pending until <code>x</code> is fulfilled or rejected.</li>
<li>If/when <code>x</code> is fulfilled, fulfill <code>promise</code> with the same value.</li>
<li>If/when <code>x</code> is rejected, reject <code>promise</code> with the same reason.</li>
</ol>
</li>
<li><p>Otherwise, if <code>x</code> is an object or function,</p>
<ol>
<li><p>Let <code>then</code> be <code>x.then</code>. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.5</a>]</p>
</li>
<li><p>If retrieving the property <code>x.then</code> results in a thrown exception <code>e</code>, reject <code>promise</code> with <code>e</code> as the reason.</p>
</li>
<li><p>If <code>then</code> is a function, call it with <code>x</code> as <code>this</code>, first argument <code>resolvePromise</code> , and second argument <code>rejectPromise</code> , where:</p>
<ol>
<li><p>If/when <code>resolvePromise</code> is called with a value <code>y</code>, run <code>[[Resolve]](promise, y)</code>.</p>
</li>
<li><p>If/when <code>rejectPromise</code> is called with a reason <code>r</code>, reject <code>promise</code> with <code>r</code>.</p>
</li>
<li><p>If both <code>resolvePromise</code> and <code>rejectPromise</code> are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored.</p>
</li>
<li><p>If calling <code>then</code> throws an exception <code>e</code> , </p>
<ol>
<li><p>If <code>resolvePromise</code> or <code>rejectPromise</code> have been called, ignore it.</p>
</li>
<li><p>Otherwise, reject <code>promise</code> with <code>e</code> as the reason.</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>If <code>then</code> is not a function, fulfill <code>promise</code> with <code>x</code>.</p>
</li>
</ol>
</li>
<li><p>If <code>x</code> is not an object or function, fulfill <code>promise</code> with <code>x</code>.</p>
</li>
</ol>
<p>If a promise is resolved with a thenable that participates in a circular thenable chain, such that the recursive nature of <code>[[Resolve]](promise, thenable)</code> eventually causes <code>[[Resolve]](promise, thenable)</code> to be called again, following the above algorithm will lead to infinite recursion. Implementations are encouraged, but not required, to detect such recursion and reject <code>promise</code> with an informative <code>TypeError</code> as the reason. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.6</a>]</p>
</blockquote>
<p>ç®€å•ç¿»è¯‘ä¸€ä¸‹ï¼š</p>
<blockquote>
<p> æ­¤å¤„ä½¿ç”¨ <code>promise2</code> æŒ‡ä»£ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
</blockquote>
<ol>
<li><p>å¦‚æœ <code>promise2</code> å’Œ <code>x</code> å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä»¥ç±»å‹é”™è¯¯ <code>reject</code> ã€‚</p>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯ä¸€ä¸ª <code>promise</code> ï¼š</p>
<ol>
<li>å¦‚æœ <code>x</code> çš„çŠ¶æ€æ˜¯ <code>pending</code> ï¼Œé‚£ä¹ˆ <code>promise2</code> éœ€è¦ä¿æŒç›´åˆ° <code>x</code> è½¬ä¸º <code>fulfilled</code> æˆ–è€…æ˜¯ <code>rejected</code> ã€‚</li>
<li>å¦‚æœ <code>x</code> çš„çŠ¶æ€æ˜¯ <code>fulfilled</code> ï¼Œä½¿ç”¨ <code>x</code> çš„ <code>value</code> å»è½¬æ¢ <code>promise2</code> ä¸º <code>fulfilled</code> ã€‚</li>
<li><code>reject</code> åŒä¸Šã€‚</li>
</ol>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ï¼š</p>
<ol>
<li>å°† <code>x.then</code> èµ‹å€¼ç»™ <code>then</code> ã€‚</li>
<li>è‹¥æ˜¯ <code>x.then</code> çš„ç»“æœæŠ›å‡ºäº†é”™è¯¯ï¼Œä½¿ç”¨è¿™ä¸ªé”™è¯¯æ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
<li>å¦‚æœ <code>then</code> æ˜¯ä¸€ä¸ªå‡½æ•°å°±è°ƒç”¨å®ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>resolvePromise</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º <code>rejectPromise</code> ã€‚<ul>
<li><code>resolvePromise</code> æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>y</code> ï¼Œå®ƒçš„ç±»å‹ä¹Ÿå¯èƒ½æ˜¯ <code>promise</code> ï¼Œæ‰€ä»¥è°ƒç”¨ <code>promiseResolve</code> æ¥å¤„ç†å®ƒã€‚</li>
<li><code>rejectPromise</code> æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>r</code> ï¼Œä½¿ç”¨å®ƒæ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå›è°ƒå‚æ•°éƒ½è¢«è°ƒç”¨ï¼Œæˆ–æ˜¯å¤šæ¬¡ä½¿ç”¨ç›¸åŒå‚æ•°é‡å¤è°ƒç”¨ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨ç”Ÿæ•ˆï¼Œå…¶ä½™çš„ä¼šè¢«å¿½ç•¥ã€‚</li>
<li>å¦‚æœè°ƒç”¨ <code>x.then</code> æŠ›å‡ºé”™è¯¯ï¼š<ul>
<li>å¦‚æœå›è°ƒå‚æ•°å·²ç»è¢«è°ƒç”¨äº†ï¼Œå¿½ç•¥ã€‚</li>
<li>å…¶ä½™æƒ…å†µï¼Œä½¿ç”¨é”™è¯¯æ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚æœ <code>then</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨ <code>x</code> æ¥ <code>fulfilled</code>  <code>promise2</code> ã€‚</li>
</ol>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯å…¶ä»–ç±»å‹ï¼Œä½¿ç”¨ <code>x</code> æ¥ <code>fulfilled</code> <code>promise2</code> ã€‚</p>
</li>
</ol>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">function</span> <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>promise2 <span class="token operator">===</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Chaining cycle detected for promise #&lt;Promise>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> called <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> then <span class="token operator">=</span> x<span class="token punctuation">.</span>then<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> then <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        then<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
          x<span class="token punctuation">,</span>
          y <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>called<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            called <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token function">promiseResolve</span><span class="token punctuation">(</span>promise2<span class="token punctuation">,</span> y<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          r <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>called<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            called <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>called<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      called <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span></code></pre>
<p>æ­¤å¤„å·²ç»å¯ä»¥æ­£ç¡®å¤„ç†é“¾å¼è°ƒç”¨ï¼Œè¿”å›æ–°çš„ <code>promise</code> å®ä¾‹çš„æƒ…å†µã€‚ä¸”åµŒå¥—è¿”å›ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> err<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
promise2
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'19'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 19 1</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>
          <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'23'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'34'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 34 19</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'36'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'40'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'45'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 45 34</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'48'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ¥ä¸‹æ¥å®ç° <code>catch</code> æ–¹æ³•ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token keyword">catch</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>catch</code> çš„é€»è¾‘å…¶å®ä¸ <code>then</code> ç±»ä¼¼ï¼Œåªæ˜¯æ²¡æœ‰ä¼ å…¥ <code>onFulfilled</code> å›è°ƒè€Œå·²ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç° <code>Promise.resolve</code> <code>Promise.reject</code> æ–¹æ³•ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token keyword">static</span> <span class="token function">resolve</span><span class="token punctuation">(</span>onResolved<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>onResolved <span class="token keyword">instanceof</span> <span class="token class-name">MyPromise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        onResolved<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>onResolved<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">reject</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½è¿”å›ä¸€ä¸ª <code>promise</code> å³å¯ã€‚ <code>resolve</code> å†…éƒ¨éœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¼ å…¥çš„å€¼ä¸ºä¸€ä¸ª <code>promise</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¿›è¡Œå¤„ç†ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç° <code>Promise.all</code> æ–¹æ³•ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token keyword">static</span> <span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> resolvedCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      promises<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>p <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        MyPromise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
          res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            resolvedCount<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>resolvedCount <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><code>all</code> æ–¹æ³•ç­‰å¾…ä¼ å…¥çš„å‚æ•°å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¿”å›æ‰€æœ‰è¿”å›å€¼çš„æ•°ç»„ã€‚</p>
<p>æˆ‘ä»¬éå†å‚æ•°åˆ—è¡¨ï¼Œå¯¹æ¯ä¸€ä¸ªå‚æ•°è¿›è¡Œ <code>resolve</code> ã€‚å°†ç»“æœåŠ å…¥ <code>value</code> æ•°ç»„ä¸­ï¼Œå¹¶è®¡æ•°ã€‚å½“è¿”å›å€¼æ•°é‡ç­‰äºå‚æ•°æ•°é‡æ—¶ï¼Œå¯ä»¥ <code>resolve</code> è¿”å›å€¼ã€‚</p>
<p>æœ€åå®ç° <code>race</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åªéœ€è¦ <code>resolve</code> æœ€å…ˆå¾—åˆ°ç»“æœçš„å€¼å³å¯ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ...</span>

<span class="token keyword">class</span> <span class="token class-name">MyPromise</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token keyword">static</span> <span class="token function">race</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      promises<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>p <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        MyPromise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
          res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å†™å®Œä»¥åçœ‹äº†ä¸€ä¸‹æ—¶é—´ï¼Œå®Œæˆæ—¶é—´æ˜¯ <code>15:58</code> ã€‚èŠ±äº†ä¸¤ä¸ªåŠå°æ—¶ï¼Œä¸­é—´ä¹Ÿæœ‰ä¸€äº›åœ°æ–¹å†™ä¹±äº†ï¼Œç„¶ååˆå»æŸ¥èµ„æ–™ã€‚æ„Ÿè§‰å¯¹ <code>promise</code> ç†è§£åŠ æ·±äº†ä¸€äº›ï¼Œä½†åˆå¥½åƒè¿˜æ˜¯å¾ˆæ··ä¹±ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œ <code>promise</code> æ”¹å–„äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›è°ƒä¸­å°†ç»“æœæŠ›å‡ºï¼Œç„¶ååœ¨åç»­é“¾å¼è°ƒç”¨è·å–ç»“æœã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 17</title>
    <url>/2020/10/17/xue-xi-bi-ji-2020-10-17/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-17"><a href="#å­¦ä¹ ç¬”è®°-2020-10-17" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-17"></a>å­¦ä¹ ç¬”è®° 2020-10-17</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><p><code>ECMA-262</code> å°†å¯¹è±¡å®šä¹‰ä¸ºä¸€ç»„å±æ€§çš„æ— åºé›†åˆï¼Œä½¿ç”¨ä¸€äº›å†…éƒ¨ç‰¹æ€§æ¥æè¿°å±æ€§çš„ç‰¹å¾ï¼Œè¿™äº›ç‰¹æ€§ç”±ä¸¤ä¸ªä¸­æ‹¬å·æ‹¬èµ·æ¥ã€‚</p>
<ol>
<li><h4 id="æ•°æ®å±æ€§"><a href="#æ•°æ®å±æ€§" class="headerlink" title="æ•°æ®å±æ€§"></a>æ•°æ®å±æ€§</h4><ul>
<li><p><code>[[Configurable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å¹¶é‡æ–°å®šä¹‰ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Enumerable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Writeble]]</code></p>
<p>è¡¨ç¤ºå±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Value]]</code></p>
<p>åŒ…å«å±æ€§å®é™…çš„å€¼ã€‚é»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
</ul>
<p>ä¿®æ”¹å±æ€§çš„é»˜è®¤ç‰¹å¾ï¼Œä½¿ç”¨ <code>Object.defineProperty</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œè¦æ·»åŠ å±æ€§çš„å¯¹è±¡ã€å±æ€§çš„åç§°å’Œä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚æè¿°ç¬¦å¯¹è±¡çš„å±æ€§å¯ä»¥åŒ…æ‹¬ä¸Šè¿°å››ä¸ªå±æ€§åï¼š<code>configurable</code> ã€ <code>enumerable</code> ã€Â· <code>writable</code> å’Œ <code>value</code> ã€‚è°ƒç”¨æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šå±æ€§å€¼ï¼Œåˆ™éƒ½é»˜è®¤ä¸º <code>false</code> ã€‚</p>
</li>
<li><h4 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h4><p>è®¿é—®å™¨å±æ€§åŒ…å«ä¸€ä¸ª <code>getter</code> å’Œä¸€ä¸ª <code>setter</code> å‡½æ•°ã€‚æœ‰ 4 ä¸ªç‰¹æ€§æè¿°å®ƒä»¬çš„è¡Œä¸ºã€‚</p>
<ul>
<li><p><code>[[Configurable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å¹¶é‡æ–°å®šä¹‰ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºæ•°æ®å±æ€§ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Enumerable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Get]]</code></p>
<p>è·å–å‡½æ•°ï¼Œè¯»å–å±æ€§æ—¶è°ƒç”¨ï¼Œé»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
<li><p><code>[[Set]]</code></p>
<p>è®¾ç½®å‡½æ•°ï¼Œå†™å…¥å±æ€§æ—¶è°ƒç”¨ï¼Œé»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<p>å¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ªå±æ€§ï¼Œåªéœ€è¦ä½¿ç”¨ <code>Object.defineProperties</code> æ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œæ·»åŠ æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡å’Œå¦ä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚</p>
<h4 id="è¯»å–å±æ€§çš„ç‰¹å¾"><a href="#è¯»å–å±æ€§çš„ç‰¹å¾" class="headerlink" title="è¯»å–å±æ€§çš„ç‰¹å¾"></a>è¯»å–å±æ€§çš„ç‰¹å¾</h4><p>ä½¿ç”¨ <code>Object.getOwnPropertyDescriptor()</code> æ–¹æ³•å¯ä»¥å–å¾—æŒ‡å®šå±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå±æ€§æ‰€åœ¨çš„å¯¹è±¡å’Œè¦å–å¾—å…¶æè¿°ç¬¦çš„å±æ€§åã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  year_<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">2017</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  edition<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  year<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>year_<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">></span> <span class="token number">2017</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>year_ <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edition <span class="token operator">+</span><span class="token operator">=</span> newValue <span class="token operator">-</span> <span class="token number">2017</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token string">'year_'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2017</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>configurable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> descriptor<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "undefined"</span>
<span class="token keyword">let</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>enumerable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> descriptor<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "function"</span></code></pre>
<p><code>ES8</code> æ–°å¢äº† <code>Object.getOwnpropertyDescriptors()</code> é™æ€æ–¹æ³•ã€‚ä¼šåœ¨æ¯ä¸ªè‡ªæœ‰å±æ€§ä¸Šè°ƒç”¨ <code>Object.getOwnpeopertyDescriptor()</code> å¹¶åœ¨ä¸€ä¸ªæ–°å¯¹è±¡ä¸­è¿”å›å®ƒä»¬ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  year_<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">2017</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  edition<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  year<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>year_<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">></span> <span class="token number">2017</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>year_ <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edition <span class="token operator">+</span><span class="token operator">=</span> newValue <span class="token operator">-</span> <span class="token number">2017</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// {</span>
<span class="token comment" spellcheck="true">// edition: {</span>
<span class="token comment" spellcheck="true">// configurable: false,</span>
<span class="token comment" spellcheck="true">// enumerable: false,</span>
<span class="token comment" spellcheck="true">// value: 1,</span>
<span class="token comment" spellcheck="true">// writable: false</span>
<span class="token comment" spellcheck="true">// },</span>
<span class="token comment" spellcheck="true">// year: {</span>
<span class="token comment" spellcheck="true">// configurable: false,</span>
<span class="token comment" spellcheck="true">// enumerable: false,</span>
<span class="token comment" spellcheck="true">// get: f(),</span>
<span class="token comment" spellcheck="true">// set: f(newValue),</span>
<span class="token comment" spellcheck="true">// },</span>
<span class="token comment" spellcheck="true">// year_: {</span>
<span class="token comment" spellcheck="true">// configurable: false,</span>
<span class="token comment" spellcheck="true">// enumerable: false,</span>
<span class="token comment" spellcheck="true">// value: 2017,</span>
<span class="token comment" spellcheck="true">// writable: false</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token comment" spellcheck="true">// }</span></code></pre>
<h4 id="åˆå¹¶å¯¹è±¡"><a href="#åˆå¹¶å¯¹è±¡" class="headerlink" title="åˆå¹¶å¯¹è±¡"></a>åˆå¹¶å¯¹è±¡</h4><p><code>ES6</code> ä¸“é—¨ä¸ºåˆå¹¶å¯¹è±¡æä¾›äº† <code>Object.assign()</code> æ–¹æ³•ã€‚æ¥æ”¶ä¸€ä¸ªç›®æ ‡å¯¹è±¡å’Œä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†æ¯ä¸ªæºå¯¹è±¡ä¸­å¯æšä¸¾( <code>Object.propertyIsEnumerable()</code> è¿”å› <code>true</code> ) å’Œè‡ªæœ‰ ( <code>Object.hasOwnProperty()</code> è¿”å› <code>true</code> ) å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚ä»¥å­—ç¬¦ä¸²å’Œç¬¦å·ä¸ºé”®çš„å±æ€§ä¼šè¢«å¤åˆ¶ã€‚å¯¹æ¯ä¸ªç¬¦åˆæ¡ä»¶çš„å±æ€§ï¼Œä¼šä½¿ç”¨æºå¯¹è±¡ä¸Šçš„ <code>[[Get]]</code> å–å¾—å±æ€§çš„å€¼ï¼Œç„¶åä½¿ç”¨ç›®æ ‡å¯¹è±¡ä¸Šçš„ <code>[[Set]]</code> è®¾ç½®å±æ€§çš„å€¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> dest<span class="token punctuation">,</span> src<span class="token punctuation">,</span> result<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/**
 * ç®€å•å¤åˆ¶
 */</span>
dest <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
src <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'src'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Object.assign ä¿®æ”¹ç›®æ ‡å¯¹è±¡</span>
<span class="token comment" spellcheck="true">// ä¹Ÿä¼šè¿”å›ä¿®æ”¹åçš„ç›®æ ‡å¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dest <span class="token operator">===</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dest <span class="token operator">!==</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { id: src }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { id: src }</span>
dest<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {id: "123"}</span>
<span class="token comment" spellcheck="true">/**
 * å¤šä¸ªæºå¯¹è±¡
 */</span>
dest <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: foo, b: bar }</span>
<span class="token comment" spellcheck="true">/**
 * è·å–å‡½æ•°ä¸è®¾ç½®å‡½æ•°
 */</span>
dest <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span> <span class="token function">a</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Invoked dest setter with param </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
src <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Invoked src getter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨ src çš„è·å–æ–¹æ³•</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨ dest çš„è®¾ç½®æ–¹æ³•å¹¶ä¼ å…¥å‚æ•°"foo"</span>
<span class="token comment" spellcheck="true">// å› ä¸ºè¿™é‡Œçš„è®¾ç½®å‡½æ•°ä¸æ‰§è¡Œèµ‹å€¼æ“ä½œ</span>
<span class="token comment" spellcheck="true">// æ‰€ä»¥å®é™…ä¸Šå¹¶æ²¡æœ‰æŠŠå€¼è½¬ç§»è¿‡æ¥</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { set a(val) {...} }</span></code></pre>
<p>å¤åˆ¶è¿‡ç¨‹æ‰§è¡Œçš„æ˜¯æµ…å¤åˆ¶ã€‚å¤šä¸ªæºå¯¹è±¡è‹¥å­˜åœ¨ç›¸åŒçš„å±æ€§ï¼Œæœ€åä¸€ä¸ªä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚</p>
<h4 id="å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š"><a href="#å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š" class="headerlink" title="å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š"></a>å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š</h4><p><code>ES6</code> æ–°å¢äº† <code>Object.is()</code> ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token comment" spellcheck="true">// æ­£ç¡®çš„ 0ã€-0ã€+0 ç›¸ç­‰/ä¸ç­‰åˆ¤å®š</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
<span class="token comment" spellcheck="true">// æ­£ç¡®çš„ NaN ç›¸ç­‰åˆ¤å®š</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// è¦æ£€æŸ¥è¶…è¿‡ä¸¤ä¸ªå€¼ï¼Œé€’å½’åœ°åˆ©ç”¨ç›¸ç­‰æ€§ä¼ é€’å³å¯ï¼š</span>
<span class="token keyword">function</span> <span class="token function">recursivelyCheckEqual</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> rest<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>rest<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token function">recursivelyCheckEqual</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><h4 id="ä¸å¥½çš„é£æ ¼"><a href="#ä¸å¥½çš„é£æ ¼" class="headerlink" title="ä¸å¥½çš„é£æ ¼"></a>ä¸å¥½çš„é£æ ¼</h4><p>ä¸‹é¢çš„ä»£ç é£æ ¼æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>result<span class="token operator">*</span><span class="token operator">=</span>x<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x<span class="token operator">=</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"x?"</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"n?"</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Power </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is not supported, please enter an integer number greater than zero`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
<span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>æ”¹ä¸ºï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"x?"</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    n<span class="token operator">=</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"n?"</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Power </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is not supported, please enter an integer number greater than zero`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="çŸ¥è¯†ç‚¹è®°å½•"><a href="#çŸ¥è¯†ç‚¹è®°å½•" class="headerlink" title="çŸ¥è¯†ç‚¹è®°å½•"></a>çŸ¥è¯†ç‚¹è®°å½•</h2><ol>
<li><p><code>vertical-align</code> ç”¨äºè¡Œå†…å—å…ƒç´ å’Œå†…è”å…ƒç´ å¯¹é½ã€‚</p>
</li>
<li><p><code>table</code> å•å…ƒæ ¼é»˜è®¤å‚ç›´å±…ä¸­ã€‚</p>
</li>
<li><p>å‚ç›´å±…ä¸­çš„ä¸€ç§æ€è·¯</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>
    è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#000</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.container</span> span </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><p>è¡Œå†…å—å…ƒç´ æ’åˆ—æ—¶æœ‰ <code>4px</code> çš„ç©ºæ ¼è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>çˆ¶çº§å®¹å™¨ <code>font-size: 0</code> ï¼Œå­çº§å®¹å™¨ä¸­è‹¥å­˜åœ¨æ–‡æœ¬ï¼Œéœ€è¦é‡è®¾å­—ä½“å¤§å°ï¼Œä¸è§„èŒƒã€‚</li>
<li>è¡Œå†…å—å…ƒç´ è®¾ç½® <code>margin-left: -4px</code> æˆ–æ˜¯å…¶ä½™æ•°å€¼ï¼Œä½†æ–‡ä»¶å‹ç¼©åä¼šå‡ºç°é—®é¢˜ã€‚å› ä¸ºç©ºæ ¼æ¥æºäºæ ‡ç­¾çš„æ¢è¡Œæˆ–æ˜¯ç©ºæ ¼ç¬¦ï¼Œå‹ç¼©åè¿™äº›ä¸œè¥¿ä¸å­˜åœ¨ï¼Œå·¦ç§»çš„æ ·å¼å°±ä¼šå¤šä½™ã€‚</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 16</title>
    <url>/2020/10/16/xue-xi-bi-ji-2020-10-16/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-16"><a href="#å­¦ä¹ ç¬”è®°-2020-10-16" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-16"></a>å­¦ä¹ ç¬”è®° 2020-10-16</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><p><code>yield</code> å…³é”®å­—å¯ä»¥è®©ç”Ÿæˆå™¨åœæ­¢å’Œå¼€å§‹æ‰§è¡Œã€‚</p>
<p>ç”Ÿæˆå™¨å‡½æ•°åœ¨é‡åˆ° <code>yield</code> å…³é”®å­—ä¹‹å‰ä¼šæ­£å¸¸æ‰§è¡Œã€‚é‡åˆ°ä¹‹åï¼Œæ‰§è¡Œä¼šåœæ­¢ï¼Œä¿ç•™å‡½æ•°ä½œç”¨åŸŸçš„çŠ¶æ€ã€‚</p>
<p>åœ¨ç”Ÿæˆå™¨å¯¹è±¡ä¸Šè°ƒç”¨ <code>next()</code> æ–¹æ³•æ¥æ¢å¤æ‰§è¡Œã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'baz'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generatorObject <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'foo' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'bar' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: true, value: 'baz' }</span></code></pre>
<p>é€šè¿‡ <code>yield</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº <code>done: false</code> çŠ¶æ€ï¼Œé€šè¿‡ <code>return</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº <code>done: true</code> çŠ¶æ€ã€‚</p>
<p>ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨ä¼šé’ˆå¯¹æ¯ä¸ªç”Ÿæˆå™¨å¯¹è±¡åŒºåˆ†ä½œç”¨åŸŸã€‚</p>
<p><code>yield</code> å…³é”®å­—åªèƒ½ç›´æ¥ä½äºç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å‡ºç°åœ¨åµŒå¥—çš„éç”Ÿæˆå™¨å‡½æ•°ä¸­ã€‚</p>
<ol>
<li><h5 id="ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡"><a href="#ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡"></a>ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span></code></pre>
</li>
<li><h5 id="ä½¿ç”¨-yield-å®ç°è¾“å…¥å’Œè¾“å‡º"><a href="#ä½¿ç”¨-yield-å®ç°è¾“å…¥å’Œè¾“å‡º" class="headerlink" title="ä½¿ç”¨ yield å®ç°è¾“å…¥å’Œè¾“å‡º"></a>ä½¿ç”¨ yield å®ç°è¾“å…¥å’Œè¾“å‡º</h5><p><code>yield</code> å¯ä»¥ä½œä¸ºå‡½æ•°çš„ä¸­é—´å‚æ•°ä½¿ç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">yield</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">yield</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generatorObject <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// baz</span>
generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'qux'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// qux</span></code></pre>
<p>ä¸Šä¸€æ¬¡è®©ç”Ÿæˆå™¨å‡½æ•°æš‚åœçš„ <code>yield</code> å…³é”®å­—ä¼šæ¥æ”¶åˆ°ä¼ ç»™ <code>next</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå€¼ã€‚</p>
<p>ä½†ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼ å…¥çš„å€¼ä¸ä¼šè¢«ä½¿ç”¨ï¼Œè¿™ä¸€æ¬¡æ˜¯ä¸ºäº†å¼€å§‹æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ã€‚</p>
</li>
<li><h5 id="äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡"><a href="#äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡"></a>äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡</h5><p>å¯ä»¥ä½¿ç”¨æ˜Ÿå·å¢å¼º <code>yield</code> çš„è¡Œä¸ºï¼Œè®©å®ƒè¿­ä»£ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generatorObject <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span></code></pre>
<p><code>yield*</code> çš„å€¼æ˜¯å…³è”è¿­ä»£å™¨è¿”å› <code>done: true</code> æ—¶çš„ <code>value</code> å±æ€§ã€‚</p>
</li>
<li><h5 id="ä½¿ç”¨-yield-å®ç°é€’å½’ç®—æ³•"><a href="#ä½¿ç”¨-yield-å®ç°é€’å½’ç®—æ³•" class="headerlink" title="ä½¿ç”¨ yield* å®ç°é€’å½’ç®—æ³•"></a>ä½¿ç”¨ yield* å®ç°é€’å½’ç®—æ³•</h5><p><code>yield*</code> æœ€æœ‰ç”¨çš„åœ°æ–¹æ˜¯å®ç°é€’å½’æ“ä½œã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">nTimes</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">nTimes</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token function">nTimes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 0</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span></code></pre>
<p>æ¯ä¸ªç”Ÿæˆå™¨é¦–å…ˆä¼šä»æ–°åˆ›å»ºçš„ç”Ÿæˆå™¨å¯¹è±¡äº§å‡ºæ¯ä¸ªå€¼ï¼Œå†äº§å‡ºä¸€ä¸ªæ•´æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå›¾çš„ä¾‹å­ï¼Œç”¨äºç”Ÿæˆéšæœºçš„åŒå‘å›¾ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>neighbors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">connect</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>neighbors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
      node<span class="token punctuation">.</span>neighbors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">RandomGraph</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// åˆ›å»ºèŠ‚ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// éšæœºè¿æ¥èŠ‚ç‚¹</span>
    <span class="token keyword">const</span> threshold <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> size<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> y <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          x<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ–¹æ³•ä»…ç”¨äºè°ƒè¯•</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> node <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>node<span class="token punctuation">.</span>neighbors<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=</span><span class="token operator">></span> n<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>node<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ids<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">isConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> visitedNodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">traverse</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> node <span class="token keyword">of</span> nodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visitedNodes<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">yield</span> node<span class="token punctuation">;</span>
          <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">traverse</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>neighbors<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// å–å¾—é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span>
    <span class="token keyword">const</span> firstNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ä½¿ç”¨é€’å½’ç”Ÿæˆå™¨è¿­ä»£æ¯ä¸ªèŠ‚ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> node <span class="token keyword">of</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token punctuation">[</span>firstNode<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      visitedNodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> visitedNodes<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodes<span class="token punctuation">.</span>size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RandomGraph</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ç¤ºä¾‹è¾“å‡ºï¼š</span>
<span class="token comment" spellcheck="true">// 0: 2,3,5</span>
<span class="token comment" spellcheck="true">// 1: 2,3,4,5</span>
<span class="token comment" spellcheck="true">// 2: 1,3</span>
<span class="token comment" spellcheck="true">// 3: 0,1,2,4</span>
<span class="token comment" spellcheck="true">// 4: 2,3</span>
<span class="token comment" spellcheck="true">// 5: 0,4</span></code></pre>
</li>
</ol>
<h4 id="ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨"><a href="#ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨" class="headerlink" title="ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨"></a>ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>values<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span></code></pre>
<h4 id="æå‰ç»ˆæ­¢ç”Ÿæˆå™¨"><a href="#æå‰ç»ˆæ­¢ç”Ÿæˆå™¨" class="headerlink" title="æå‰ç»ˆæ­¢ç”Ÿæˆå™¨"></a>æå‰ç»ˆæ­¢ç”Ÿæˆå™¨</h4><p>ä¸€ä¸ªå®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡ä¸€å®šæœ‰ <code>next()</code> æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„ <code>return()</code> æ–¹æ³•ç”¨äºæå‰ç»ˆæ­¢è¿­ä»£å™¨ã€‚ç”Ÿæˆå™¨å¯¹è±¡è¿˜æœ‰ç¬¬ä¸‰ä¸ªæ–¹æ³•ï¼Œ<code>throw()</code> ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// generatorFn {&lt;suspended>}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f next() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token keyword">return</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f return() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f throw() { [native code] }</span></code></pre>
<p><code>return</code> å’Œ <code>throw</code> éƒ½å¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚</p>
<p><code>throw</code> æ–¹æ³•ä¼šåœ¨æš‚åœçš„æ—¶å€™å°†ä¸€ä¸ªæä¾›çš„é”™è¯¯æ³¨å…¥åˆ°ç”Ÿæˆå™¨å¯¹è±¡ã€‚å¦‚æœé”™è¯¯æœªè¢«å¤„ç†ï¼Œç”Ÿæˆå™¨å°±ä¼šè¢«å…³é—­ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// generatorFn {&lt;suspended>}</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  g<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// foo</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// generatorFn {&lt;closed>}</span></code></pre>
<p>å¦‚æœç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¤„ç†äº†é”™è¯¯ï¼Œç”Ÿæˆå™¨å°±ä¸ä¼šè¢«å…³é—­ï¼Œå¯ä»¥æ¢å¤æ‰§è¡Œã€‚é”™è¯¯å¤„ç†ä¼šè·³è¿‡å¯¹åº”çš„ <code>yield</code> ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 1}</span>
g<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 3}</span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 15</title>
    <url>/2020/10/15/xue-xi-bi-ji-2020-10-15/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-15"><a href="#å­¦ä¹ ç¬”è®°-2020-10-15" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-15"></a>å­¦ä¹ ç¬”è®° 2020-10-15</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><h4 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼"></a>è¿­ä»£å™¨æ¨¡å¼</h4><p>ä¸€äº›ç»“æ„å¯ä»¥ç§°ä¸º <code>å¯è¿­ä»£å¯¹è±¡</code> ï¼Œå› ä¸ºå®ƒä»¬å®ç°äº†æ­£å¼çš„ <code>Iterable</code> æ¥å£ã€‚</p>
<p>å¯è¿­ä»£å¯¹è±¡åŒ…å«æœ‰é™çš„å…ƒç´ ï¼Œä¸”å…·æœ‰æ— æ­§ä¹‰çš„éå†é¡ºåºã€‚</p>
<p>ä»»ä½•å®ç°äº† <code>Iterable</code> æ¥å£çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥è¢«å®ç° <code>Iterator</code> æ¥å£çš„ç»“æ„æ¶ˆè´¹ã€‚</p>
<p>è¿­ä»£å™¨æ˜¯æŒ‰éœ€åˆ›å»ºçš„ä¸€æ¬¡æ€§å¯¹è±¡ï¼Œå…³è”ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œè¿­ä»£å™¨ä¼šæš´éœ²è¿­ä»£å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ <code>API</code> ï¼Œæ— éœ€äº†è§£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ç»“æ„ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•å–å¾—è¿ç»­çš„å€¼ã€‚</p>
<ol>
<li><h5 id="å¯è¿­ä»£åè®®"><a href="#å¯è¿­ä»£åè®®" class="headerlink" title="å¯è¿­ä»£åè®®"></a>å¯è¿­ä»£åè®®</h5><p>å®ç° <code>Iterable</code> æ¥å£è¦æ±‚åŒæ—¶å…·å¤‡ä¸¤ç§èƒ½åŠ›ï¼šæ”¯æŒè¿­ä»£çš„è‡ªæˆ‘è¯†åˆ«èƒ½åŠ›å’Œåˆ›å»ºå®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡çš„èƒ½åŠ›ã€‚åœ¨ <code>ECMAScript</code> ä¸­ï¼Œå¿…é¡»æš´éœ²ä¸€ä¸ªå±æ€§ä½œä¸º <code>é»˜è®¤è¿­ä»£å™¨</code> ï¼Œå¿…é¡»ä½¿ç”¨ <code>Symbol.iterator</code> ä½œä¸ºé”®ï¼Œå¿…é¡»å¼•ç”¨ä¸€ä¸ªè¿­ä»£å™¨å·¥å‚å‡½æ•°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªæ–°è¿­ä»£å™¨ã€‚</p>
<p>å®ç°äº† <code>Iterable</code> æ¥å£çš„å†…ç½®ç±»å‹ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²</li>
<li>æ•°ç»„</li>
<li>æ˜ å°„</li>
<li>é›†åˆ</li>
<li><code>arguments</code> å¯¹è±¡</li>
<li><code>NodeList</code> ç­‰ <code>DOM</code> é›†åˆç±»å‹</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// è¿™äº›ç±»å‹éƒ½å®ç°äº†è¿­ä»£å™¨å·¥å‚å‡½æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>els<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// StringIterator {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ArrayIterator {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// MapIterator {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// SetIterator {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>els<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ArrayIterator {}</span></code></pre>
<p>æˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°æ¥ç”Ÿæˆè¿­ä»£å™¨ï¼Œå®ç°å¯è¿­ä»£åè®®çš„æ‰€æœ‰ç±»å‹éƒ½ä¼šè‡ªåŠ¨å…¼å®¹æ¥æ”¶å¯è¿­ä»£å¯¹è±¡çš„ä»»ä½•è¯­è¨€ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>for-of</code> å¾ªç¯</li>
<li>æ•°ç»„è§£æ„</li>
<li>æ‹“å±•æ“ä½œç¬¦</li>
<li><code>Array.from()</code></li>
<li>åˆ›å»ºé›†åˆ</li>
<li>åˆ›å»ºæ˜ å°„</li>
<li><code>Promise.all()</code> </li>
<li><code>Promise.race()</code></li>
<li><code>yield*</code></li>
</ul>
<p>è¿™äº›åŸç”Ÿè¯­è¨€ç»“æ„ä¼šåœ¨åå°è°ƒç”¨æä¾›çš„å¯è¿­ä»£å¯¹è±¡çš„å·¥å‚å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ã€‚</p>
<p>å¦‚æœå¯¹è±¡åŸå‹é“¾ä¸Šçš„çˆ¶ç±»å®ç°äº† <code>Iterable</code> æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¹Ÿå°±å®ç°äº†è¿™ä¸ªæ¥å£ã€‚</p>
</li>
<li><h5 id="è¿­ä»£å™¨åè®®"><a href="#è¿­ä»£å™¨åè®®" class="headerlink" title="è¿­ä»£å™¨åè®®"></a>è¿­ä»£å™¨åè®®</h5><p>è¿­ä»£å™¨æ˜¯ä¸€ç§ä¸€æ¬¡æ€§ä½¿ç”¨çš„å¯¹è±¡ï¼Œç”¨äºè¿­ä»£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<p>ä½¿ç”¨ <code>next()</code> æ–¹æ³•åœ¨å¯è¿­ä»£å¯¹è±¡ä¸­éå†æ•°æ®ã€‚æ¯æ¬¡æˆåŠŸè°ƒç”¨ <code>next()</code> ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª <code>IteratorResult</code> å¯¹è±¡ï¼ŒåŒ…å«è¿­ä»£å™¨è¿”å›çš„ ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p><code>IteratorResult</code> åŒ…å«ä¸¤ä¸ªå±æ€§ï¼Œ <code>done</code> å’Œ <code>value</code> ã€‚</p>
<p><code>done</code> è¡¨ç¤ºæ˜¯å¦è¿˜å¯ä»¥å†æ¬¡è°ƒç”¨ <code>next()</code> ã€‚</p>
<p><code>value</code> è¡¨ç¤ºåŒ…å«å¯è¿­ä»£å¯¹è±¡çš„ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p><code>done</code> ä¸º <code>false</code> æ—¶å¯ä»¥å–å¾— <code>value</code> ï¼Œ<code>done</code> ä¸º <code>true</code> æ—¶ <code>value</code> è¿”å› <code>undefined</code> ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å¯è¿­ä»£å¯¹è±¡</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¿­ä»£å™¨å·¥å‚å‡½æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
<span class="token comment" spellcheck="true">// è¿­ä»£å™¨</span>
<span class="token keyword">let</span> iter <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ArrayIterator {}</span>
<span class="token comment" spellcheck="true">// æ‰§è¡Œè¿­ä»£</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'foo' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'bar' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: true, value: undefined }</span></code></pre>
<p>è¿­ä»£å™¨åˆ°è¾¾ <code>done: true</code> çŠ¶æ€åï¼Œå†æ¬¡è°ƒç”¨ <code>next()</code> ä¼šä¸€ç›´è¿”å›ç›¸åŒçš„å€¼ï¼Œå³ <code>undefined</code> ã€‚</p>
<p>å¦‚æœå¯è¿­ä»£å¯¹è±¡åœ¨è¿­ä»£æœŸé—´è¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨ä¹Ÿä¼šåæ˜ ç›¸åŒçš„å˜åŒ–ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iter <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'foo' }</span>
<span class="token comment" spellcheck="true">// åœ¨æ•°ç»„ä¸­é—´æ’å…¥å€¼</span>
arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'bar' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: false, value: 'baz' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: true, value: undefined }</span></code></pre>
<p>è¿­ä»£å™¨ç»´æŠ¤ç€ä¸€ä¸ªæŒ‡å‘å¯è¿­ä»£å¯¹è±¡çš„å¼•ç”¨ï¼Œä¼šé˜»æ­¢åƒåœ¾å›æ”¶ç¨‹åºå›æ”¶å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// è¿™ä¸ªç±»å®ç°äº†å¯è¿­ä»£æ¥å£ï¼ˆIterableï¼‰</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨é»˜è®¤çš„è¿­ä»£å™¨å·¥å‚å‡½æ•°ä¼šè¿”å›</span>
<span class="token comment" spellcheck="true">// ä¸€ä¸ªå®ç°è¿­ä»£å™¨æ¥å£ï¼ˆIteratorï¼‰çš„è¿­ä»£å™¨å¯¹è±¡</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> f<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ‰“å°å‡ºå®ç°äº†è¿­ä»£å™¨æ¥å£çš„å¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { next: f() {} }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {done: false, value: "foo"}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {done: false, value: "foo"}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {done: false, value: "foo"}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {done: false, value: "foo"}</span>
<span class="token comment" spellcheck="true">// Array ç±»å‹å®ç°äº†å¯è¿­ä»£æ¥å£ï¼ˆIterableï¼‰</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨ Array ç±»å‹çš„é»˜è®¤è¿­ä»£å™¨å·¥å‚å‡½æ•°</span>
<span class="token comment" spellcheck="true">// ä¼šåˆ›å»ºä¸€ä¸ª ArrayIterator çš„å®ä¾‹</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ‰“å°å‡º ArrayIterator çš„å®ä¾‹</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Array Iterator {}</span></code></pre>
</li>
<li><h5 id="è‡ªå®šä¹‰è¿­ä»£å™¨"><a href="#è‡ªå®šä¹‰è¿­ä»£å™¨" class="headerlink" title="è‡ªå®šä¹‰è¿­ä»£å™¨"></a>è‡ªå®šä¹‰è¿­ä»£å™¨</h5><p>ä»»ä½•å®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Counter çš„å®ä¾‹åº”è¯¥è¿­ä»£ limit æ¬¡</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>limit <span class="token operator">=</span> limit<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> undefined <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// (nothing logged)</span></code></pre>
<p>ä»¥ä¸Šä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰è¿­ä»£æ¬¡æ•°çš„è¿­ä»£å™¨ï¼Œä½†å®ƒçš„æ¯ä¸ªå®ä¾‹åªèƒ½è¢«è¿­ä»£ä¸€æ¬¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>limit <span class="token operator">=</span> limit<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
      limit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>limit<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> count<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> undefined <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span></code></pre>
<p><code>Symbol.iterator</code> å±æ€§å¼•ç”¨çš„å·¥å‚å‡½æ•°è¿”å›ç›¸åŒçš„è¿­ä»£å™¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iter1 <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter1<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// f values() { [native code] }</span>
<span class="token keyword">let</span> iter2 <span class="token operator">=</span> iter1<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter1 <span class="token operator">===</span> iter2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
</li>
<li><h5 id="æå‰ç»ˆæ­¢è¿­ä»£å™¨"><a href="#æå‰ç»ˆæ­¢è¿­ä»£å™¨" class="headerlink" title="æå‰ç»ˆæ­¢è¿­ä»£å™¨"></a>æå‰ç»ˆæ­¢è¿­ä»£å™¨</h5><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯é€‰çš„ <code>return</code> æ–¹æ³•æ¥æŒ‡å®šè¿­ä»£å™¨æå‰å…³é—­æ—¶çš„æ‰§è¡Œé€»è¾‘ã€‚</p>
<p>ä»¥ä¸‹æƒ…å†µå¯ä»¥è§¦å‘ <code>return</code> ï¼š</p>
<ul>
<li><code>for-of</code> å¾ªç¯é€šè¿‡ <code>break</code> ã€ <code>continue</code> ã€ <code>return</code> ã€ <code>throw</code> </li>
<li>è§£æ„æ“ä½œå¹¶æœªæ¶ˆè´¹æ‰€æœ‰å€¼</li>
</ul>
<p><code>return</code> æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„ <code>IteratorResult</code> å¯¹è±¡ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>limit <span class="token operator">=</span> limit<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
      limit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>limit<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> count<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Exiting early'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> counter1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// Exiting early</span>
<span class="token keyword">let</span> counter2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> counter2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token string">'err'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// Exiting early</span>
<span class="token keyword">let</span> counter3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> counter3<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Exiting early</span></code></pre>
<p>æ•°ç»„çš„è¿­ä»£å™¨ä¸èƒ½å…³é—­ï¼Œå¯ä»¥ç»§ç»­ä»ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iter <span class="token operator">=</span> a<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 4</span>
<span class="token comment" spellcheck="true">// 5</span></code></pre>
<p>æ‰‹åŠ¨ç»™ä¸å¯å…³é—­çš„è¿­ä»£å™¨æ·»åŠ  <code>return</code> æ–¹æ³•å¯è¡Œï¼Œåœ¨è¿­ä»£å™¨æå‰ç»ˆæ­¢æ—¶ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½†å¹¶ä¸èƒ½è®©è¿™ä¸ªè¿­ä»£å™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iter <span class="token operator">=</span> a<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iter<span class="token punctuation">.</span><span class="token keyword">return</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Exiting early'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token comment" spellcheck="true">// Exiting early</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 4</span>
<span class="token comment" spellcheck="true">// 5</span></code></pre>
</li>
</ol>
<h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><p>ç”Ÿæˆå™¨æ˜¯ <code>ES6</code> æ–°å¢çš„ç»“æ„ï¼Œæ‹¥æœ‰åœ¨ä¸€ä¸ªå‡½æ•°å—å†…æš‚åœå’Œæ¢å¤ä»£ç æ‰§è¡Œçš„èƒ½åŠ›ã€‚</p>
<ol>
<li><h5 id="ç”Ÿæˆå™¨åŸºç¡€"><a href="#ç”Ÿæˆå™¨åŸºç¡€" class="headerlink" title="ç”Ÿæˆå™¨åŸºç¡€"></a>ç”Ÿæˆå™¨åŸºç¡€</h5><p>ç”Ÿæˆå™¨çš„å½¢å¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°åç§°å‰åŠ ä¸€ä¸ªæ˜Ÿå·è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ç”Ÿæˆå™¨å‡½æ•°å£°æ˜</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼</span>
<span class="token keyword">let</span> generatorFn <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä½œä¸ºå¯¹è±¡å­—é¢é‡æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä½œä¸ºç±»å®ä¾‹æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ä½œä¸ºç±»é™æ€æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token operator">*</span><span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç­‰ä»·çš„ç”Ÿæˆå™¨å‡½æ•°ï¼š</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFnA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">generatorFnB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">generatorFnC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ç­‰ä»·çš„ç”Ÿæˆå™¨æ–¹æ³•ï¼š</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">generatorFnD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token operator">*</span> <span class="token function">generatorFnE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨äºå®šä¹‰ç”Ÿæˆå™¨å‡½æ•°ã€‚</p>
<p>è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œä¸€å¼€å§‹å¤„äºæš‚åœæ‰§è¡Œçš„çŠ¶æ€ã€‚</p>
<p>ç”Ÿæˆå™¨å¯¹è±¡ä¹Ÿå®ç°äº† <code>Iterator</code> æ¥å£ï¼Œå…·æœ‰ <code>next()</code> æ–¹æ³•ã€‚</p>
<p><code>next</code> æ–¹æ³•è¿”å›å€¼ç±»ä¼¼äºè¿­ä»£å™¨ï¼Œæœ‰ä¸€ä¸ª <code>done</code> å±æ€§å’Œä¸€ä¸ª <code>value</code> å±æ€§ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generatorObject <span class="token operator">=</span> <span class="token function">generatorFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// generatorFn {&lt;suspended>}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: true, value: 'foo' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generatorObject<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { done: true, value: undefined }</span></code></pre>
<p>ç”Ÿæˆå™¨å‡½æ•°åªä¼šåœ¨åˆæ¬¡è°ƒç”¨ <code>next</code> æ–¹æ³•åå¼€å§‹æ‰§è¡Œã€‚</p>
</li>
</ol>
<h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><ol>
<li><h5 id="è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚"><a href="#è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚" class="headerlink" title="è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚"></a>è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> template <span class="token operator">=</span>
  <span class="token string">'æˆ‘ä»¬çš„å…¬å¸æ˜¯{{company}},æˆ‘ä»¬å±äº{{group.name}},æˆ‘ä»¬ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬{{group.job[0]}}ã€{{group["job"][1]}}'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  company<span class="token punctuation">:</span> <span class="token string">'xxxxè‚¡ä»½æœ‰é™å…¬å¸'</span><span class="token punctuation">,</span>
  group<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'xxç ”å‘éƒ¨'</span><span class="token punctuation">,</span>
    job<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">tmpReplace</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> tmp<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/{{(.*?)}}/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>node<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">||</span> obj<span class="token punctuation">;</span>
    keys <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        keys<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">...</span>i<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[\[|\]]/</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> keys <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[\[|\]]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      i <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\"/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> j <span class="token operator">=</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span> res <span class="token operator">=</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tmpReplace</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æˆ‘ä»¬çš„å…¬å¸æ˜¯xxxxè‚¡ä»½æœ‰é™å…¬å¸,æˆ‘ä»¬å±äºxxç ”å‘éƒ¨,æˆ‘ä»¬ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬aaaã€bbb</span></code></pre>
</li>
<li><h5 id="è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚"><a href="#è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚" class="headerlink" title="è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚"></a>è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚</h5><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// script start</span>
<span class="token comment" spellcheck="true">// script end</span>
<span class="token comment" spellcheck="true">// promise1</span>
<span class="token comment" spellcheck="true">// promise2</span>
<span class="token comment" spellcheck="true">// setTimeout</span></code></pre>
<p>æ­¤é¢˜éœ€è¦ç†è§£å®ä»»åŠ¡å¾®ä»»åŠ¡çš„æ¦‚å¿µï¼Œç¬¬ä¸€è¡Œå’Œç¬¬åäº”è¡Œçš„æ‰“å°éƒ½æ˜¯åŒæ­¥ä»»åŠ¡ï¼Œæ‰€ä»¥ç›´æ¥æ‰“å¼•ã€‚ç¬¬ä¸‰è¡Œçš„å®šæ—¶å™¨æ˜¯å®ä»»åŠ¡ï¼Œæ‰§è¡Œåˆ°æ­¤å¤„ä¼šå°†å›è°ƒå‡½æ•°æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œ<code>Promise</code> æ˜¯å¾®ä»»åŠ¡ï¼Œç¬¬å…«è¡Œçš„ <code>.then</code> çš„å›è°ƒå±äºå¼‚æ­¥ï¼Œå…ˆæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œæ‰€ä»¥ç¬¬åäº”è¡Œå…ˆäº <code>promise</code> æ‰“å°ã€‚æ‰§è¡Œå®ŒåŒæ­¥ä»»åŠ¡ï¼Œå¼€å§‹ç¡®è®¤å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…ˆæ‰“å° <code>promise1</code> ï¼Œç„¶åæ‰§è¡Œç¬¬äºŒä¸ª <code>.then</code> ï¼Œå†æ¬¡å¢åŠ ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œç»§ç»­æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæœ€åå†å»ç¡®è®¤å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å®šæ—¶å™¨çš„è¾“å‡ºã€‚</p>
</li>
<li><h5 id="ç”¨-css-å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„-150px-ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚"><a href="#ç”¨-css-å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„-150px-ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚" class="headerlink" title="ç”¨ css å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„ 150px ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚"></a>ç”¨ <code>css</code> å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„ <code>150px</code> ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚</h5><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">// ä½¿ç”¨ flex å¸ƒå±€
<span class="token class">.box</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> > div </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.center</span> </span><span class="token punctuation">{</span>
  <span class="token property">flex-grow</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgoldenrodyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// ä½¿ç”¨ç»å¯¹å®šä½
<span class="token class">.box</span> </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> > div </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.center</span> </span><span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgoldenrodyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// ä½¿ç”¨ table å¸ƒå±€
<span class="token class">.box</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> > div </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.center</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgoldenrodyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// ä½¿ç”¨ grid å¸ƒå±€
<span class="token class">.box</span> </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">150</span>px auto <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> > div </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.left</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.center</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.box</span> <span class="token class">.right</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgoldenrodyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2020/10/15/xue-xi-bi-ji-2020-10-15/image-20201015111101303.png" alt="image-20201015111101303"></p>
</li>
<li><h5 id="è¯·ç”¨-promise-å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº-5-ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº-5-ï¼Œåˆ™-60-ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚"><a href="#è¯·ç”¨-promise-å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº-5-ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº-5-ï¼Œåˆ™-60-ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚" class="headerlink" title="è¯·ç”¨ promise å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº 5 ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº 5 ï¼Œåˆ™ 60 ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚"></a>è¯·ç”¨ promise å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº 5 ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº 5 ï¼Œåˆ™ 60 ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">_fx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">_fx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‡½æ•°ç«‹å³ç»“æŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‡½æ•° 60s åç»“æŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">myRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å…¶å®è¿™é“é¢˜æ²¡å¤ªçœ‹æ‡‚é¢˜ç›®è¦æ±‚ï¼Œä¸å¤ªæ‡‚è¿™ä¸ªé€»è¾‘ï¼Œå¥½åƒè¿™ä¸ªå‡½æ•°çš„éšæœºæ•°åªä¼šè·å–ä¸€æ¬¡ï¼Œä¸€æ¬¡åè¿™ä¸ªæ•°å¿…å®šä¼šæœ‰ä¸ªç»“æŸï¼Œè¦ä¹ˆæ˜¯ç«‹å³è¦ä¹ˆæ˜¯å»¶æ—¶ã€‚åˆæˆ–è€…æ˜¯åªæ˜¯å•çº¯å»¶è¿Ÿè¿™ä¸€æ¬¡çš„éšå³è°ƒç”¨ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 14</title>
    <url>/2020/10/14/xue-xi-bi-ji-2020-10-14/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-14"><a href="#å­¦ä¹ ç¬”è®°-2020-10-14" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-14"></a>å­¦ä¹ ç¬”è®° 2020-10-14</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><ol>
<li><h5 id="é¡ºåºä¸è¿­ä»£"><a href="#é¡ºåºä¸è¿­ä»£" class="headerlink" title="é¡ºåºä¸è¿­ä»£"></a>é¡ºåºä¸è¿­ä»£</h5><p><code>Set</code> ä¼šç»´æŠ¤å€¼æ’å…¥æ—¶çš„é¡ºåºï¼Œæ”¯æŒæŒ‰é¡ºåºè¿­ä»£ã€‚å¯ä»¥é€šè¿‡ <code>values()</code> <code>keys()</code> æ–¹æ³•æˆ–æ˜¯ <code>Symbol.iterator</code> å–å¾—è¿™ä¸ªè¿­ä»£å™¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'val1'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">,</span> <span class="token string">'val3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>values <span class="token operator">===</span> s<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>keys <span class="token operator">===</span> s<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> s<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// val1 val2 val3</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> s<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// val1 val2 val3</span></code></pre>
<p><code>values</code> æ˜¯é»˜è®¤è¿­ä»£å™¨ï¼Œå¯ä»¥é€šè¿‡æ‹“å±•æ“ä½œå°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<p><code>entries</code> æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºäº§ç”ŸåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'val1'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">,</span> <span class="token string">'val3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> pair <span class="token keyword">of</span> s<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ["val1", "val1"]</span>
<span class="token comment" spellcheck="true">// ["val2", "val2"]</span>
<span class="token comment" spellcheck="true">// ["val3", "val3"]</span></code></pre>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Set<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// add: Æ’ add()</span>
<span class="token comment" spellcheck="true">// clear: Æ’ clear()</span>
<span class="token comment" spellcheck="true">// constructor: Æ’ Set()</span>
<span class="token comment" spellcheck="true">// delete: Æ’ delete()</span>
<span class="token comment" spellcheck="true">// entries: Æ’ entries()</span>
<span class="token comment" spellcheck="true">// forEach: Æ’ forEach()</span>
<span class="token comment" spellcheck="true">// has: Æ’ has()</span>
<span class="token comment" spellcheck="true">// keys: Æ’ values()</span>
<span class="token comment" spellcheck="true">// size: (...)</span>
<span class="token comment" spellcheck="true">// values: Æ’ values()</span>
<span class="token comment" spellcheck="true">// Symbol(Symbol.iterator): Æ’ values()</span>
<span class="token comment" spellcheck="true">// Symbol(Symbol.toStringTag): "Set"</span>
<span class="token comment" spellcheck="true">// get size: Æ’ size()</span>
<span class="token comment" spellcheck="true">// __proto__: Object</span></code></pre>
<p><code>Set</code> çš„ <code>forEach</code> æ–¹æ³•ä¸æ•°ç»„çš„ç±»ä¼¼ï¼Œä¼ å…¥å›è°ƒå‚æ•°ä»¥åŠå¯é€‰çš„ <code>this</code> å€¼ã€‚</p>
</li>
<li><h5 id="å®šä¹‰æ­£å¼é›†åˆæ“ä½œ"><a href="#å®šä¹‰æ­£å¼é›†åˆæ“ä½œ" class="headerlink" title="å®šä¹‰æ­£å¼é›†åˆæ“ä½œ"></a>å®šä¹‰æ­£å¼é›†åˆæ“ä½œ</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">XSet</span> <span class="token keyword">extends</span> <span class="token class-name">Set</span> <span class="token punctuation">{</span>
  <span class="token function">union</span><span class="token punctuation">(</span><span class="token operator">...</span>sets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>sets<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">intersection</span><span class="token punctuation">(</span><span class="token operator">...</span>sets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>sets<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">difference</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">symmetricDifference</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">symmetricDifference</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">cartesianProduct</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">cartesianProduct</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">powerSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> XSet<span class="token punctuation">.</span><span class="token function">powerSet</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸¤ä¸ªæˆ–æ›´å¤šé›†åˆçš„å¹¶é›†</span>
  <span class="token keyword">static</span> <span class="token function">union</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>bSets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> unionSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> b <span class="token keyword">of</span> bSets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> bValue <span class="token keyword">of</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        unionSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>bValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> unionSet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸¤ä¸ªæˆ–æ›´å¤šé›†åˆçš„äº¤é›†</span>
  <span class="token keyword">static</span> <span class="token function">intersection</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>bSets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> intersectionSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> aValue <span class="token keyword">of</span> intersectionSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> b <span class="token keyword">of</span> bSets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>aValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          intersectionSet<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>aValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> intersectionSet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸¤ä¸ªé›†åˆçš„å·®é›†</span>
  <span class="token keyword">static</span> <span class="token function">difference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> differenceSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> bValue <span class="token keyword">of</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>bValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        differenceSet<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>bValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> differenceSet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸¤ä¸ªé›†åˆçš„å¯¹ç§°å·®é›†</span>
  <span class="token keyword">static</span> <span class="token function">symmetricDifference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æŒ‰ç…§å®šä¹‰ï¼Œå¯¹ç§°å·®é›†å¯ä»¥è¡¨è¾¾ä¸º</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸¤ä¸ªé›†åˆï¼ˆæ•°ç»„å¯¹å½¢å¼ï¼‰çš„ç¬›å¡å„¿ç§¯</span>
  <span class="token comment" spellcheck="true">// å¿…é¡»è¿”å›æ•°ç»„é›†åˆï¼Œå› ä¸ºç¬›å¡å„¿ç§¯å¯èƒ½åŒ…å«ç›¸åŒå€¼çš„å¯¹</span>
  <span class="token keyword">static</span> <span class="token function">cartesianProduct</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cartesianProductSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> aValue <span class="token keyword">of</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> bValue <span class="token keyword">of</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cartesianProductSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>aValue<span class="token punctuation">,</span> bValue<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> cartesianProductSet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è¿”å›ä¸€ä¸ªé›†åˆçš„å¹‚é›†</span>
  <span class="token keyword">static</span> <span class="token function">powerSet</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> powerSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> aValue <span class="token keyword">of</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">set</span> <span class="token keyword">of</span> <span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span>powerSet<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        powerSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XSet</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>aValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> powerSet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h4 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h4><p><code>ES6</code> æ–°å¢çš„å¼±é›†åˆç±»å‹ï¼Œå…¶ <code>API</code> æ˜¯ <code>Set</code> çš„å­é›†ã€‚</p>
<p>å¼±é›†åˆçš„å€¼åªèƒ½æ˜¯ <code>Object</code> æˆ–æ˜¯ç»§æ‰¿è‡ª <code>Object</code> çš„ç±»å‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> val1 <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  val2 <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  val3 <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä½¿ç”¨æ•°ç»„åˆå§‹åŒ–å¼±é›†åˆ</span>
<span class="token keyword">const</span> ws1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span>val1<span class="token punctuation">,</span> val2<span class="token punctuation">,</span> val3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ws1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>val1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ws1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>val2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ws1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>val3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token comment" spellcheck="true">// åˆå§‹åŒ–æ˜¯å…¨æœ‰æˆ–å…¨æ— çš„æ“ä½œ</span>
<span class="token comment" spellcheck="true">// åªè¦æœ‰ä¸€ä¸ªå€¼æ— æ•ˆå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¯¼è‡´æ•´ä¸ªåˆå§‹åŒ–å¤±è´¥</span>
<span class="token keyword">const</span> ws2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span>val1<span class="token punctuation">,</span> <span class="token string">'BADVAL'</span><span class="token punctuation">,</span> val3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// TypeError: Invalid value used in WeakSet</span>
<span class="token keyword">typeof</span> ws2<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ReferenceError: ws2 is not defined</span>
<span class="token comment" spellcheck="true">// åŸå§‹å€¼å¯ä»¥å…ˆåŒ…è£…æˆå¯¹è±¡å†ç”¨ä½œå€¼</span>
<span class="token keyword">const</span> stringVal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'val1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ws3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span>stringVal<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ws3<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>stringVal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<p>å¯ç”¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li><code>add()</code></li>
<li><code>has()</code></li>
<li><code>delete()</code></li>
</ul>
<p><code>WeakSet</code> åŒæ ·å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œå…¶å€¼ä¸å±äºæ­£å¼å¼•ç”¨ï¼Œä¸ä¼šå½±å“åƒåœ¾å›æ”¶ï¼Œæ²¡æœ‰è¿­ä»£èƒ½åŠ›ã€‚å¯ä»¥ç”¨äºæ ‡è®° <code>DOM</code> å…ƒç´ æ˜¯å¦å¤„äºæŸç§çŠ¶æ€ã€‚</p>
<h4 id="è¿­ä»£ä¸æ‹“å±•æ“ä½œ"><a href="#è¿­ä»£ä¸æ‹“å±•æ“ä½œ" class="headerlink" title="è¿­ä»£ä¸æ‹“å±•æ“ä½œ"></a>è¿­ä»£ä¸æ‹“å±•æ“ä½œ</h4><p><code>ES6</code> ä¸­æ–°å¢äº†è¿­ä»£å™¨ä¸æ‹“å±•æ“ä½œç¬¦ã€‚</p>
<p><code>Array</code> ã€å®šå‹æ•°ç»„ã€<code>Map</code> ã€<code>Set</code> å®šä¹‰äº†é»˜è®¤è¿­ä»£å™¨ï¼Œå¯ä»¥ä¼ å…¥ <code>for-of</code> å¾ªç¯ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> iterableThings <span class="token operator">=</span> <span class="token punctuation">[</span>
  Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>typedArr <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> iterableThing <span class="token keyword">of</span> iterableThings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> x <span class="token keyword">of</span> iterableThing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
<span class="token comment" spellcheck="true">// 4</span>
<span class="token comment" spellcheck="true">// [5, 6]</span>
<span class="token comment" spellcheck="true">// [7, 8]</span>
<span class="token comment" spellcheck="true">// 9</span>
<span class="token comment" spellcheck="true">// 10</span></code></pre>
<p>åŒæ ·çš„ï¼Œè¿™äº›ç±»å‹éƒ½å…¼å®¹æ‹“å±•æ“ä½œç¬¦ã€‚</p>
<p>æ‹“å±•æ“ä½œç¬¦å¯ç”¨äºå¯è¿­ä»£å¯¹è±¡æ‰§è¡Œæµ…å¤åˆ¶ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1 <span class="token operator">===</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>

<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">]</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { foo: 'bar' }</span>

<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æŠŠæ•°ç»„å¤åˆ¶åˆ°å®šå‹æ•°ç»„</span>
<span class="token keyword">let</span> typedArr1 <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token operator">...</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> typedArr2 <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>typedArr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array [1, 2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>typedArr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array [1, 2, 3]</span>
<span class="token comment" spellcheck="true">// æŠŠæ•°ç»„å¤åˆ¶åˆ°æ˜ å°„</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token string">'val'</span> <span class="token operator">+</span> x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Map {1 => 'val 1', 2 => 'val 2', 3 => 'val 3'}</span>
<span class="token comment" spellcheck="true">// æŠŠæ•°ç»„å¤åˆ¶åˆ°é›†åˆ</span>
<span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>typedArr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Set {1, 2, 3}</span>
<span class="token comment" spellcheck="true">// æŠŠé›†åˆå¤åˆ¶å›æ•°ç»„</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">set</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3]</span></code></pre>
<h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><p>å¾ªç¯æ˜¯è¿­ä»£æœºåˆ¶çš„åŸºç¡€ï¼Œå¯ä»¥æŒ‡å®šè¿­ä»£æ¬¡æ•°ä»¥åŠæ¯æ¬¡è¿­ä»£çš„æ“ä½œã€‚</p>
<p>è¿­ä»£ä¼šåœ¨ä¸€ä¸ªæœ‰åºé›†åˆä¸Šè¿›è¡Œã€‚æ­¤å¤„æœ‰åºç†è§£ä¸ºé›†åˆä¸­æ‰€æœ‰é¡¹éƒ½å¯ä»¥æŒ‰ç…§æ—¢å®šçš„é¡ºåºè¢«éå†åˆ°ï¼Œç‰¹åˆ«æ˜¯å¼€å§‹å’Œç»“æŸé¡¹æœ‰æ˜ç¡®çš„å®šä¹‰ã€‚</p>
<p>å¾ªç¯è¿­ä»£ä¸æ˜¯ç†æƒ³çš„æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆçŸ¥é“å¦‚ä½•ä½¿ç”¨æ•°æ®ç»“æ„ï¼Œé€šè¿‡é€’å¢ç´¢å¼•æ¥è®¿é—®æ•°æ®æ˜¯æ•°ç»„ç‹¬æœ‰çš„æ–¹å¼ï¼Œå¹¶ä¸é€šç”¨ã€‚</p>
<p><code>ES5</code> æ–°å¢äº† <code>Array.prototype.forEach</code> æ–¹æ³•ï¼Œè§£å†³äº†å•ç‹¬è®°å½•ç´¢å¼•æ¥å–å€¼çš„é—®é¢˜ï¼Œä½†æ²¡æœ‰åŠæ³•æ ‡è¯†è¿­ä»£ä½•æ—¶ç»ˆæ­¢ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><h4 id="ç”¨ç®­å¤´å‡½æ•°é‡å†™"><a href="#ç”¨ç®­å¤´å‡½æ•°é‡å†™" class="headerlink" title="ç”¨ç®­å¤´å‡½æ•°é‡å†™"></a>ç”¨ç®­å¤´å‡½æ•°é‡å†™</h4><p>ç”¨ç®­å¤´å‡½æ•°é‡å†™ä¸‹é¢çš„å‡½æ•°è¡¨è¾¾å¼ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">ask</span><span class="token punctuation">(</span>question<span class="token punctuation">,</span> yes<span class="token punctuation">,</span> no<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span>question<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">yes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span> <span class="token function">no</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">ask</span><span class="token punctuation">(</span>
  <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>Do you agree<span class="token operator">?</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>You agreed<span class="token punctuation">.</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>You canceled the execution<span class="token punctuation">.</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>`</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> ask <span class="token operator">=</span> <span class="token punctuation">(</span>question<span class="token punctuation">,</span> yes<span class="token punctuation">,</span> no<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">confirm</span><span class="token punctuation">(</span>question<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">yes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">no</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">ask</span><span class="token punctuation">(</span>
  <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>Do you agree<span class="token operator">?</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"You agreed."</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"You canceled the execution."</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 13</title>
    <url>/2020/10/13/xue-xi-bi-ji-2020-10-13/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-13"><a href="#å­¦ä¹ ç¬”è®°-2020-10-13" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-13"></a>å­¦ä¹ ç¬”è®° 2020-10-13</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>set</code> æ–¹æ³•è¿”å›æ˜ å°„å®ä¾‹ï¼Œå› æ­¤å¯ä»¥é“¾å¼è°ƒç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"key1"</span><span class="token punctuation">,</span> <span class="token string">"val1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"key2"</span><span class="token punctuation">,</span> <span class="token string">"val2"</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">"key3"</span><span class="token punctuation">,</span> <span class="token string">"val3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span></code></pre>
<p><code>Map</code> å¯ä»¥ä½¿ç”¨ä»»ä½•æ•°æ®ç±»å‹ä½œä¸ºé”®ï¼Œä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰æ¥åŒ¹é…ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> functionKey <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> symbolKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objectKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>functionKey<span class="token punctuation">,</span> <span class="token string">"functionValue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>symbolKey<span class="token punctuation">,</span> <span class="token string">"symbolValue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>objectKey<span class="token punctuation">,</span> <span class="token string">"objectValue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>functionKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// functionValue</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>symbolKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// symbolValue </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>objectKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// objectValue </span>
<span class="token comment" spellcheck="true">// SameValueZero æ¯”è¾ƒæ„å‘³ç€ç‹¬ç«‹å®ä¾‹ä¸å†²çª</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre>
<p><code>Map</code> ä¿æŒæ’å…¥é¡ºåºä¸å˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span> <span class="token string">'val1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key3'</span><span class="token punctuation">,</span> <span class="token string">'val3'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>entries <span class="token operator">===</span> m<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> pair <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// [key1,val1]</span>
<span class="token comment" spellcheck="true">// [key2,val2]</span>
<span class="token comment" spellcheck="true">// [key3,val3]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> pair <span class="token keyword">of</span> m<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// [key1,val1]</span>
<span class="token comment" spellcheck="true">// [key2,val2]</span>
<span class="token comment" spellcheck="true">// [key3,val3]</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span> <span class="token string">'val1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key3'</span><span class="token punctuation">,</span> <span class="token string">'val3'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [[key1,val1],[key2,val2],[key3,val3]]</span></code></pre>
<p><code>Map</code> çš„ <code>keys()</code> <code>values()</code> æ–¹æ³•åˆ†åˆ«è¿”å›æ’å…¥é¡ºåºç”Ÿæˆçš„é”®å’Œå€¼çš„è¿­ä»£å™¨ã€‚</p>
<h4 id="é€‰æ‹©-Object-è¿˜æ˜¯-Map"><a href="#é€‰æ‹©-Object-è¿˜æ˜¯-Map" class="headerlink" title="é€‰æ‹© Object è¿˜æ˜¯ Map"></a>é€‰æ‹© Object è¿˜æ˜¯ Map</h4><p>åœ¨å†…å­˜å ç”¨æ–¹é¢ï¼Œä¸¤ç§ç±»å‹éƒ½ä¼šéšé”®çš„æ•°é‡çº¿æ€§å¢åŠ ã€‚ä½†ç»™å®šå›ºå®šå¤§å°çš„å†…å­˜ï¼Œ <code>Map</code> å¯ä»¥å¤šå­˜å‚¨ <code>50%</code> çš„é”®å€¼å¯¹ã€‚</p>
<p>åœ¨æ’å…¥æ€§èƒ½æ–¹é¢ï¼Œæ¶ˆè€—ç›¸å½“ã€‚ä½†æ’å…¥ <code>Map</code> ä¼šç¨å¿«ã€‚</p>
<p>åœ¨æŸ¥æ‰¾é€Ÿåº¦æ–¹é¢ï¼Œæ€§èƒ½å·®å¼‚æå°ï¼Œæ¶‰åŠå¤§é‡æŸ¥æ‰¾æ—¶ï¼Œ<code>Object</code> ä¼šæ›´å¥½ã€‚</p>
<p>åœ¨åˆ é™¤æ€§èƒ½æ–¹é¢ï¼Œ<code>Map</code> è¡¨ç°æ›´å¥½ã€‚</p>
<h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><p><code>ES6</code> æ–°å¢çš„é›†åˆç±»å‹ï¼Œå¼±æ˜ å°„ã€‚å…¶ <code>Api</code> æ˜¯ <code>Map</code> çš„å­é›†ã€‚</p>
<p>å¼±æ˜ å°„çš„é”®åªèƒ½æ˜¯ <code>Object</code> æˆ–æ˜¯ç»§æ‰¿è‡ª <code>Object</code> çš„ç±»å‹ã€‚å€¼çš„ç±»å‹æ²¡æœ‰é™åˆ¶ã€‚</p>
<p>å¯ä»¥å°†åŸå§‹å€¼åŒ…è£…æˆå¯¹è±¡ç”¨ä½œé”®ã€‚</p>
<p><code>WeakMap</code> çš„é”®ä¸å±äºæ­£å¼å¼•ç”¨ï¼Œä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ã€‚å½“é”®æ²¡æœ‰å…¶ä½™æŒ‡å‘å®ƒçš„å¼•ç”¨æ—¶ï¼Œåœ¨ä»£ç æ‰§è¡Œå®Œæˆåï¼Œå°±ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œé”®å€¼å¯¹å°±ä¼šä»å¼±æ˜ å°„ä¸­æ¶ˆå¤±ã€‚</p>
<p><code>WeakMap</code> æ²¡æœ‰è¿­ä»£æ–¹æ³•ï¼Œæ²¡æœ‰ä¸€æ¬¡æ€§é”€æ¯æ‰€æœ‰é”®å€¼çš„æ–¹æ³•ã€‚</p>
<p>å¼±æ˜ å°„çš„ç”¨å¤„ï¼š</p>
<ul>
<li><p>ç§æœ‰å˜é‡</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>idProperty <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">setPrivate</span><span class="token punctuation">(</span>property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> privateMembers <span class="token operator">=</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    privateMembers<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> privateMembers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getPrivate</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123</span>
user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 456</span>
<span class="token comment" spellcheck="true">// å¹¶ä¸æ˜¯çœŸæ­£ç§æœ‰çš„</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">[</span>user<span class="token punctuation">.</span>idProperty<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 456</span></code></pre>
<p>ä¸ºäº†é˜²æ­¢å¤–éƒ¨è·å–åˆ°å¼±æ˜ å°„è€Œç ´åäº†ç§æœ‰æ€§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>idProperty <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setPrivate</span><span class="token punctuation">(</span>property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> privateMembers <span class="token operator">=</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      privateMembers<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      wm<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> privateMembers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getPrivate</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> User<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123</span>
user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 456</span></code></pre>
</li>
<li><p><code>DOM</code> èŠ‚ç‚¹å…ƒæ•°æ®</p>
<p>å¦‚æœä½¿ç”¨å¸¸è§„çš„ <code>Map</code> æ¥ä¿å­˜ <code>DOM</code> èŠ‚ç‚¹ï¼Œå½“ <code>DOM</code> èŠ‚ç‚¹åœ¨ <code>DOM</code> æ ‘ä¸­è¢«é”€æ¯ï¼Œæˆ‘ä»¬ä¾ç„¶ä¿å­˜ç€å®ƒçš„å¼•ç”¨ï¼Œ<code>DOM</code> èŠ‚ç‚¹ä¾ç„¶ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚è‹¥æ˜¯é‡‡ç”¨å¼±æ˜ å°„ï¼Œå°±ä¸ä¼šå‘ç”Ÿè¿™ç§çŠ¶å†µã€‚</p>
</li>
</ul>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p><code>ES6</code> æ–°å¢çš„é›†åˆç±»å‹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"val1"</span><span class="token punctuation">,</span> <span class="token string">"val2"</span><span class="token punctuation">,</span> <span class="token string">"val3"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
<span class="token keyword">const</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">"val1"</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">"val2"</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">"val3"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span></code></pre>
<p>åŸºæœ¬ <code>API</code> :</p>
<ul>
<li><p><code>add()</code></p>
</li>
<li><p><code>has()</code></p>
</li>
<li><p><code>size</code></p>
</li>
<li><p><code>delete()</code></p>
<p>è¿”å›é›†åˆä¸­æ˜¯å¦å­˜åœ¨è¦åˆ é™¤çš„å€¼ã€‚</p>
</li>
<li><p><code>clear()</code></p>
</li>
</ul>
<p><code>add</code> æ–¹æ³•åŒæ ·è¿”å›é›†åˆå®ä¾‹ï¼Œå¯ä»¥é“¾å¼è°ƒç”¨ã€‚ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰æ¥è¿›è¡ŒåŒ¹é…ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«"><a href="#å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«"></a>å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«</h3><ol>
<li>å‡½æ•°å£°æ˜æ˜¯ä¸€æ®µä»£ç å—ï¼Œå‡½æ•°è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ã€‚</li>
<li>å‡½æ•°è¡¨è¾¾å¼ä»…åœ¨ä»£ç æ‰§è¡Œåˆ°è¾¾æ—¶æ‰ä¼šåˆ›å»ºè¯¥å‡½æ•°ï¼Œä¸”ä»æ­¤åˆ»å¼€å§‹å¯ç”¨ã€‚å‡½æ•°å£°æ˜ä¼šåœ¨è„šæœ¬å¼€å§‹è¿è¡Œæ—¶è¢«åˆ›å»ºï¼Œåœ¨å£°æ˜è¯­å¥ä¹‹å‰ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚</li>
</ol>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled="" type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueæºç  æ•°æ®åŠ«æŒ</title>
    <url>/2020/10/12/vue-yuan-ma-shu-ju-jie-chi/</url>
    <content><![CDATA[<p>åŒå‘æ•°æ®ç»‘å®šæ˜¯ <code>Vue</code> çš„ä¸€å¤§äº®ç‚¹å’Œé‡ç‚¹ï¼Œè¿™é‡Œè®²è§£ä¸€ä¸‹åŸç†å¹¶ä¸”é‡å†™ä¸€éã€‚ç‰ˆæœ¬ä¸º <code>2.x</code> ã€‚</p>
<a id="more"></a>

<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><code>Vue 2.x</code> ä¸­çš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ¥æºäºä¸€ä¸ªå¯¹è±¡æ–¹æ³•ï¼Œ <code>Object.defineProperty</code> ï¼Œ é€šè¿‡è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬å¯ä»¥å®šä¹‰å¯¹è±¡å±æ€§çš„ <code>getter</code> å’Œ <code>setter</code> ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨æ•°æ®è¢«é‡æ–°è®¾ç½®(å³è°ƒç”¨ <code>setter</code> æ—¶)è¿›è¡Œè§†å›¾æ›´æ–°ç­‰æ“ä½œã€‚</p>
<h2 id="å¤§è‡´æ€è·¯"><a href="#å¤§è‡´æ€è·¯" class="headerlink" title="å¤§è‡´æ€è·¯"></a>å¤§è‡´æ€è·¯</h2><p>ä½¿ç”¨ <code>Vue</code> æ—¶æˆ‘ä»¬ä¼šå¼•å…¥ <code>vue</code> çš„é»˜è®¤å¯¼å‡ºï¼Œè¿™ä¸ªé»˜è®¤å¯¼å‡ºæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ª <code>vue</code> å®ä¾‹ï¼Œå¹¶ä¼ å…¥æˆ‘ä»¬çš„é…ç½®å‚æ•°ï¼Œä¾‹å¦‚ç®¡ç†çš„ <code>dom</code> å…ƒç´ ä»¥åŠ <code>data</code> ç­‰å‚æ•°ï¼Œè™½ç„¶åœ¨ä¸€èˆ¬å¼€å‘ä¸­æˆ‘ä»¬ä¸ä¼šåœ¨æ ¹å®ä¾‹ä¸ŠæŒ‚è½½æ•°æ®ï¼Œä½†æ­¤å¤„ä»…åšä¸€ä¸ªç®€å•è¿˜åŸã€‚</p>
<p>ä¼ å…¥å‚æ•°åï¼Œæˆ‘ä»¬åœ¨æ„é€ å‡½æ•°å†…è°ƒç”¨åˆå§‹åŒ–å‡½æ•°ï¼Œåˆå§‹åŒ–æ“ä½œä¸€èˆ¬ä¸ºæŒ‚è½½é…ç½®é¡¹ï¼Œåˆå§‹åŒ–å„ç§æ•°æ®ï¼Œä¾‹å¦‚ <code>data</code> , <code>computed</code> <code>props</code> ç­‰ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹<code>data</code> åšä¸€å±‚ä»£ç†ï¼Œå› ä¸ºåœ¨é…ç½®é¡¹ä¸­ä¼ å…¥çš„ <code>data</code> ä¸€èˆ¬ä¸ºå‡½æ•°ï¼Œä»¥é˜²æ­¢ç»„ä»¶å¤ç”¨æ—¶å› ä¸ºå¼•ç”¨ç›¸åŒè€Œæ•°æ®æ··ä¹±ã€‚å¹¶ä¸”åœ¨ <code>vue</code> å®ä¾‹ä¸­æ— æ³•ç›´æ¥è®¿é—®åˆ°æ•°æ®ï¼Œæˆ‘ä»¬æŠŠ <code>data</code> æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œå¹¶ä½¿ç”¨ <code>Object.defineProperty</code> ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>this</code> ç›´æ¥è®¿é—®åˆ°å„é¡¹ <code>data</code> ã€‚</p>
<p>åšå®Œä»£ç†ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œå³è§‚å¯Ÿæ•°æ®é¡¹çš„ä¿®æ”¹ã€‚é¦–å…ˆæ˜¯ <code>data</code> æœ¬èº«ï¼Œæˆ‘ä»¬æŠ½å‡ºä¸€ä¸ª <code>observe</code> å‡½æ•°æ¥è¿›è¡Œè§‚å¯Ÿæ“ä½œï¼Œé¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„è§‚å¯Ÿå¯¹è±¡çš„ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å¼•ç”¨ç±»å‹å…¶å®æ²¡æœ‰è§‚å¯Ÿçš„å¿…è¦ï¼Œå› ä¸ºæ™®é€šç±»å‹çš„ä¿®æ”¹å·²ç»åœ¨çˆ¶çº§åšäº†è§‚å¯Ÿï¼Œæˆ‘ä»¬éœ€è¦æ·±å±‚è§‚å¯Ÿçš„æ˜¯å­å¯¹è±¡ã€å­æ•°ç»„ã€å­å¯¹è±¡å­æ•°ç»„å†…éƒ¨çš„å¼•ç”¨ç±»å‹ç­‰ã€‚</p>
<p>å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªè§‚å¯Ÿè€…æ¥è¿›è¡Œè§‚å¯Ÿã€‚åœ¨è§‚å¯Ÿè€…å†…éƒ¨ï¼Œæˆ‘ä»¬è¿­ä»£ä¼ å…¥çš„å¼•ç”¨ç±»å‹ï¼Œå¯¹æ¯ä¸ª <code>key</code> å’Œ <code>value</code> åšä¸€ä¸ªå“åº”å¼å¤„ç†ï¼Œå½“è®¿é—®å½“å‰å¯¹è±¡çš„ <code>key</code> å±æ€§æ—¶ï¼Œæˆ‘ä»¬è¿”å› <code>value</code> ã€‚æ­¤å¤„å¯ä»¥åšä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ”¶é›†ä¾èµ–ã€‚å½“è®¾ç½®å½“å‰å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å»ä¿®æ”¹ <code>value</code> çš„å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„ä¸èƒ½å¤Ÿç›´æ¥å»è·å–æˆ–è€…ä¿®æ”¹ <code>obj[key]</code> ( <code>obj</code> æŒ‡ä»£åšå“åº”å¼å¤„ç†çš„å¯¹è±¡æˆ–æ•°ç»„)ï¼Œå› ä¸ºæˆ‘ä»¬æ­£æ˜¯å¯¹ <code>obj[key]</code> åšäº†è§‚å¯Ÿï¼Œå½“æˆ‘ä»¬è§‚å¯Ÿåˆ°éœ€è¦è·å– <code>key</code> å±æ€§æ—¶ï¼Œ<code>getter</code> å†…éƒ¨åˆæ˜¯è·å– <code>key</code> å±æ€§ï¼Œä¼šé€ æˆæ­»å¾ªç¯ã€‚<code>setter</code> åŒç†ã€‚</p>
<p>æ•°ç»„æ— æ³•ç›´æ¥åšå“åº”å¼å¤„ç†ï¼Œæˆ‘ä»¬é€‰æ‹©éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ å•ç‹¬è§‚å¯Ÿã€‚ä½†æ­¤å¤„åˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸º <code>Object.defineProperty</code> æ— æ³•å“åº”æ•°ç»„çš„å˜åŒ–ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†æ•°ç»„ï¼Œä¾‹å¦‚å¢åŠ äº†æ–°çš„å…ƒç´ ï¼Œæ–°å¢çš„å…ƒç´ æ²¡æœ‰è¢«è§‚å¯Ÿï¼Œæ•°ç»„çš„ä¿®æ”¹ä¹Ÿæ²¡æœ‰è¢«è§‚å¯Ÿåˆ°ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é‡æ–°å®šä¹‰æ•°ç»„çš„ä¿®æ”¹æ–¹æ³•ï¼Œå°±æ˜¯ <code>push</code> <code>pop</code> <code>sort</code> <code>splice</code> <code>shift</code> <code>unshift</code> <code>reverse</code> ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°ç»„åŸå‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œé‡å†™è¿™ä¸ªæ•°ç»„å¯¹è±¡ä¸Šçš„ä¸ƒä¸ªæ–¹æ³•ï¼Œåœ¨æ–¹æ³•å†…éƒ¨è¿˜æ˜¯ä¾ç„¶æ‰§è¡ŒåŸæœ¬çš„å‡½æ•°å†…å®¹ï¼Œä½†æ­¤å¤„æˆ‘ä»¬å°±å¯ä»¥å¢åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œï¼Œä¾‹å¦‚è§†å›¾åˆ·æ–°ç­‰ã€‚å®šä¹‰å®Œè¿™ä¸ªæ•°ç»„å¯¹è±¡åï¼Œæˆ‘ä»¬å°†å®ƒèµ‹å€¼ç»™éœ€è¦è¢«å“åº”å¼å¤„ç†çš„æ•°ç»„çš„åŸå‹ï¼Œé‚£ä¹ˆå°±å•ç‹¬å½±å“äº†æˆ‘ä»¬å“åº”å¼çš„æ•°ç»„ï¼Œè€Œä¸å¯¹å…¶ä½™çš„æ™®é€šæ•°ç»„äº§ç”Ÿå½±å“ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜æœ‰ä¸€äº›å°ç‚¹ï¼Œå°±æ˜¯æ¯æ¬¡å¯¹å¯¹è±¡çš„å€¼æˆ–æ˜¯æ•°ç»„çš„å…ƒç´ è§‚å¯Ÿæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„è¿™ä¸ªå…ƒç´ æ˜¯å¦ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦å†å¯¹è¿™ä¸ªå…ƒç´ è¿›è¡Œè§‚å¯Ÿã€‚</p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>é¦–å…ˆé…ç½®ä¸€ä¸ª <code>webpack</code> ç¯å¢ƒï¼Œä¸‹è½½ <code>webpack</code> <code>webpack-cli</code> <code>webpack-dev-server</code> ä»¥åŠ <code>html-webpack-plugin</code> ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•é…ç½® <code>webpack.config.js</code> ã€‚æˆ‘ä»¬éœ€è¦é…ç½®é¡¹ç›®çš„å…¥å£ï¼Œå‡ºå£ï¼Œæ’ä»¶ï¼Œä»¥åŠæ¨¡å—å¼•å…¥çš„è§„åˆ™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// /webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å®šä¹‰å…¥å£</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'index.js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å®šä¹‰å‡ºå£çš„æ–‡ä»¶å</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å®šä¹‰å‡ºå£è·¯å¾„</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public/index.html'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å®šä¹‰æ–‡ä»¶æ¨¡æ¿ä½ç½®</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// é…ç½®æ¨¡å—å¼•å…¥çš„è§„åˆ™ï¼Œé¦–å…ˆä» src ç›®å½•å¯»æ‰¾ï¼Œå†å» node_modules ä¸­å¯»æ‰¾ã€‚</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å†æ¥çœ‹å…¥å£æ–‡ä»¶ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// å®ä¾‹åŒ– Vue</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">"Sirine' working time"</span><span class="token punctuation">,</span>
      time<span class="token punctuation">:</span> <span class="token string">'2020-10-11'</span><span class="token punctuation">,</span>
      info<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'zhao'</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
        isGood<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      say<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token number">123</span><span class="token punctuation">,</span>
        <span class="token string">'456'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          a<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
          b<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          c<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            today<span class="token punctuation">:</span> <span class="token string">'is'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ­¤å¤„åªæ˜¯ç®€å•åˆ›å»ºäº†å®ä¾‹ã€‚</p>
<p>ç„¶åçœ‹ <code>vue</code> æ–‡ä»¶å¤¹ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/index.js</span>
<span class="token keyword">import</span> initState <span class="token keyword">from</span> <span class="token string">'./init'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥åˆå§‹åŒ–æ•°æ®çš„å‡½æ•°ã€‚</span>
<span class="token keyword">function</span> <span class="token function">Vue</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// vue çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å®ä¾‹ã€‚</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_init</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>_init <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// åœ¨åŸå‹ä¸ŠæŒ‚è½½åˆå§‹åŒ–å‡½æ•°ï¼Œå°†ä¼ å…¥çš„å‚æ•°æŒ‚è½½åˆ°å®ä¾‹ä¸Šã€‚</span>
  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> options<span class="token punctuation">;</span>
  <span class="token function">initState</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è°ƒç”¨åˆå§‹åŒ–æ•°æ®çš„å‡½æ•°ã€‚</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">;</span></code></pre>
<p>æ¥ä¸‹æ¥çœ‹ <code>initState</code> è¿™ä¸ªå‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/init.js</span>
<span class="token keyword">import</span> observe <span class="token keyword">from</span> <span class="token string">'./observe'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> proxyData <span class="token keyword">from</span> <span class="token string">'./proxy'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// å¼•å…¥è§‚å¯Ÿå‡½æ•°å’Œä»£ç†æ•°æ®å‡½æ•°ã€‚</span>

<span class="token keyword">function</span> <span class="token function">initState</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> options <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// é¦–å…ˆå–å‡º options</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// åˆ¤æ–­å‚æ•°ä¸­æ˜¯å¦æœ‰ data ï¼Œæœ‰æ‰æ‰§è¡Œåˆå§‹åŒ–ã€‚</span>
    <span class="token function">initData</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">initData</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _data <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å–å‡ºæ•°æ®</span>
  _data <span class="token operator">=</span> vm<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token keyword">typeof</span> _data <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> _data<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token punctuation">:</span> _data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// å°†æ•°æ®æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯å¦æ˜¯å‡½æ•°ï¼Œæ˜¯çš„è¯è°ƒç”¨å®ƒï¼Œå¦çš„è¯ä¿æŒåŸæ ·ï¼Œå¹¶ç¡®ä¿è‡³å°‘æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> _data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// éå† data åšä¸€å±‚ä»£ç†ã€‚</span>
    <span class="token function">proxyData</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'_data'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// è§‚å¯Ÿè¿™ä¸ª data</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> initState<span class="token punctuation">;</span></code></pre>
<p>é¦–å…ˆçœ‹ <code>proxyData</code> å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/proxy.js</span>
<span class="token keyword">function</span> <span class="token function">proxyData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ä¼ å…¥çš„å‚æ•°åˆ†åˆ«æ˜¯åšä»£ç†çš„å¯¹è±¡ï¼ŒæŒ‚è½½çš„å±æ€§åï¼Œå’Œå½“å‰çš„å±æ€§å</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// å½“æˆ‘ä»¬è·å– data[key] æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä» data[target][key] ä¸­è·å–ã€‚</span>
      <span class="token keyword">return</span> data<span class="token punctuation">[</span>target<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// å½“æˆ‘ä»¬è®¾ç½® data[key] æ—¶ï¼Œå®é™…ä¸Šè®¾ç½®åœ¨äº† data[target][key]ã€‚</span>
      data<span class="token punctuation">[</span>target<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> proxyData<span class="token punctuation">;</span></code></pre>
<p>æ­¤å¤„åšä¸€ä¸ªè§£é‡Šï¼Œæˆ‘ä»¬åœ¨ <code>initData</code> ä¸­å°† <code>options</code> ä¸­çš„ <code>data</code> æŒ‚è½½åˆ°äº† <code>vm._data</code> ä¸Šï¼Œè€Œæˆ‘ä»¬æƒ³è¦ç›´æ¥è°ƒç”¨ <code>vm.xxx</code> æ¥è·å–ï¼Œä½†æ˜¯ <code>vm</code> ä¸Šå¹¶æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œå®ƒå®é™…ä¸Šæ˜¯åœ¨ <code>vm._data.xxx</code> ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬åšä¸€å±‚ä»£ç†ï¼Œå½“è®¿é—® <code>vm.xxx</code> æ—¶ï¼Œæˆ‘ä»¬è¿”å› <code>vm._data.xxx</code> ï¼Œå½“è®¾ç½® <code>vm.xxx = yyy</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ‰§è¡Œäº† <code>vm._data.xxx = yyy</code> ã€‚</p>
<p>ç„¶åå†çœ‹ <code>observe</code> å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/observe.js</span>
<span class="token keyword">import</span> Observer <span class="token keyword">from</span> <span class="token string">'./observer'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥å®é™…çš„è§‚å¯Ÿè€…</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// é¦–å…ˆåˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸éœ€è¦å†æ·±å…¥è§‚å¯Ÿäº†ã€‚</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªè§‚å¯Ÿè€…å®ä¾‹ã€‚</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> observe<span class="token punctuation">;</span></code></pre>
<p>å½“æˆ‘ä»¬æƒ³è¦æ·±å…¥è§‚å¯Ÿæ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ <code>observe</code> å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ¤æ–­ç±»å‹ï¼ŒåŸå§‹ç±»å‹å·²ç»åœ¨çˆ¶çº§ä¸­è¢«è§‚å¯Ÿäº†ï¼Œä¸éœ€è¦ç»§ç»­æ·±å…¥ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/observer.js</span>
<span class="token keyword">import</span> defineReactiveData <span class="token keyword">from</span> <span class="token string">'./reactive'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> observeArr <span class="token keyword">from</span> <span class="token string">'./observeArr'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> arrMethods <span class="token keyword">from</span> <span class="token string">'./array'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºæ•°ç»„ï¼Œæ˜¯æ•°ç»„çš„è¯ï¼Œç»™å®ƒèµ‹äºˆå˜å¼‚æ•°ç»„æ–¹æ³•ï¼Œå†è§‚å¯Ÿè¿™ä¸ªæ•°ç»„ã€‚</span>
    data<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> arrMethods<span class="token punctuation">;</span>
    <span class="token function">observeArr</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è§‚å¯Ÿæ•°ç»„çš„æ–¹æ³•ã€‚</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// å¦‚æœæ˜¯å¯¹è±¡çš„è¯ã€‚</span>
    <span class="token keyword">var</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// éå†å¯¹è±¡çš„é”®å€¼</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> value <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è·å–æ¯ä¸ªå€¼</span>
      <span class="token function">defineReactiveData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// å°†å¯¹è±¡ï¼Œé”®åï¼Œé”®å€¼ä¼ å…¥å“åº”å¼å‡½æ•°è¿›è¡Œå“åº”å¼ç»‘å®šã€‚</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Observer<span class="token punctuation">;</span></code></pre>
<p>æ­¤å¤„å¼•å…¥çš„å‡½æ•°è¾ƒå¤šï¼Œä¸€ä¸ªä¸ªçœ‹ã€‚</p>
<p>å…ˆçœ‹å¯¹è±¡éƒ¨åˆ†ï¼Œé€»è¾‘å·²ç»éå¸¸æ¸…æ™°ï¼Œå¯¹è¿™ä¸ªå¯¹è±¡çš„æ¯ä¸ªé”®å€¼è¿›è¡Œ <code>getter</code> <code>setter</code> é‡å†™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå–å‡ºæ¯ä¸ªå€¼å½¢æˆé—­åŒ…ç”¨æ¥è®¿é—®ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»å¾ªç¯é—®é¢˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/reactive.js</span>
<span class="token keyword">import</span> observe <span class="token keyword">from</span> <span class="token string">'./observe'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">defineReactiveData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç»§ç»­è§‚å¯Ÿè¿™ä¸ªä¼ å…¥çš„å€¼ï¼Œå¯èƒ½éœ€è¦æ·±å…¥è§‚å¯Ÿã€‚</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å“åº”å¼ get'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å“åº”å¼ set'</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> newVal<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      value <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> defineReactiveData<span class="token punctuation">;</span></code></pre>
<p>ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„è‡ªå®šä¹‰ <code>setter</code> å’Œ <code>getter</code> ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥å†™å…¥è®¸å¤šå…¶ä½™é€»è¾‘æ¥è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p>
<p>æ­¤å¤„è°ƒç”¨ <code>observe(value)</code> æ˜¯å› ä¸ºï¼Œ<code>data[key]</code> çš„å€¼å¯èƒ½æ˜¯æ•°ç»„å’Œå¯¹è±¡ï¼Œå®ƒä»¬çš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨åœ°å€ï¼Œä¸æ˜¯è¦†ç›–çš„æƒ…å†µä¸‹æ— æ³•ç›‘å¬åˆ°å˜åŒ–ï¼Œ æˆ‘ä»¬éœ€è¦å†æ¬¡è§‚å¯Ÿå®ƒï¼Œä½¿ç”¨ <code>observe</code> æ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ä¼šæ·±å…¥è§‚å¯Ÿï¼Œä¸æ˜¯çš„è¯å°±ç›´æ¥è¿”å›ã€‚</p>
<p>è°ˆå®Œäº†å¯¹è±¡ï¼Œå†æ¥çœ‹æ•°ç»„ã€‚</p>
<p><code>Object.defineProperty</code> æ— æ³•ç›‘å¬åˆ°æ•°ç»„çš„å˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦éå†æ•°ç»„ï¼Œè¿›è¡Œå•ç‹¬çš„ç›‘å¬ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/observeArr.js</span>
<span class="token keyword">import</span> observe <span class="token keyword">from</span> <span class="token string">'./observe'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">observeArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> observeArr<span class="token punctuation">;</span></code></pre>
<p>è€Œæ•°ç»„å¯¹äºè‡ªèº«å˜åŒ–çš„æ–¹æ³•æˆ‘ä»¬éœ€è¦è¿›è¡Œé‡å†™ï¼Œå¦åˆ™æ•°ç»„çš„ä¿®æ”¹æ²¡æœ‰åŠæ³•ç›‘å¬ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// src/vue/array.js</span>
<span class="token keyword">import</span> ARRAY_METHODS <span class="token keyword">from</span> <span class="token string">'./config'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> observe <span class="token keyword">from</span> <span class="token string">'./observe'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> arrayPrototype <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å–å‡ºæ•°ç»„çš„åŸå‹å¯¹è±¡</span>
<span class="token keyword">var</span> arrMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayPrototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ ¹æ®è¿™ä¸ªåŸå‹å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ•°ç»„</span>

ARRAY_METHODS<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>m <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// éå†ä¸ƒä¸ªæ•°ç»„æ–¹æ³•ï¼Œå¯¹æˆ‘ä»¬åˆ›å»ºçš„è¿™ä¸ªæ•°ç»„ä¸Šå†™å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</span>
  arrMethods<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> arrayPrototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è½¬æ¢ä¼ å…¥çš„å‚æ•°ä¸ºæ•°ç»„ã€‚</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> arrayPrototype<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è°ƒç”¨åŸæœ¬çš„æ–¹æ³•ã€‚</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åŠ¨æ€ä¿®æ”¹æ•°ç»„'</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> newItem<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ­¤å¤„ç”¨äºç›‘å¬æ–°å¢çš„æ•°æ®ã€‚</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'push'</span><span class="token punctuation">:</span>
      <span class="token keyword">case</span> <span class="token string">'unshift'</span><span class="token punctuation">:</span>
        newItem <span class="token operator">=</span> args<span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// å¦‚æœæ˜¯ push unshift æ–¹æ³•ï¼Œåªéœ€è¦ç›‘å¬æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°å³å¯ã€‚</span>
      <span class="token keyword">case</span> <span class="token string">'splice'</span><span class="token punctuation">:</span>
        newItem <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// å¦‚æœæ˜¯ splice æ–¹æ³•ï¼Œæˆ‘ä»¬ç›‘å¬å¯èƒ½å­˜åœ¨çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä»¥åŠæ›´å¤šã€‚</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    newItem <span class="token operator">&amp;&amp;</span> <span class="token function">observe</span><span class="token punctuation">(</span>newItem<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¦‚æœå­˜åœ¨æ–°çš„æ•°æ®ï¼Œæˆ‘ä»¬è¿›è¡Œç›‘å¬ã€‚</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å°†åŸæœ¬æ•°ç»„çš„è¿”å›æŒ‡è¿”å›ã€‚</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> arrMethods<span class="token punctuation">;</span></code></pre>
<p>åˆ°æ­¤å·®ä¸å¤šå®Œæˆäº†ç®€å•çš„æ•°æ®åŠ«æŒï¼Œå½“æˆ‘ä»¬åŠ¨æ€ä¿®æ”¹è¿™äº›æ•°æ®çš„æ—¶å€™ï¼Œä¼šè¢«ç›‘å¬åˆ°å¹¶ä¸”è¿›è¡Œä¸€äº›éœ€è¦çš„æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 12</title>
    <url>/2020/10/12/xue-xi-bi-ji-2020-10-12/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-12"><a href="#å­¦ä¹ ç¬”è®°-2020-10-12" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-12"></a>å­¦ä¹ ç¬”è®° 2020-10-12</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ol>
<li><h5 id="å½’å¹¶æ–¹æ³•"><a href="#å½’å¹¶æ–¹æ³•" class="headerlink" title="å½’å¹¶æ–¹æ³•"></a>å½’å¹¶æ–¹æ³•</h5><ul>
<li><p><code>reduce</code></p>
</li>
<li><p><code>reduceRight</code></p>
<p>ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œæ„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›å€¼ã€‚åŒºåˆ«æ˜¯ <code>reduce</code> ä»å¤´éå†åˆ°å°¾ï¼Œ <code>reduceRight</code> ä»å°¾éå†åˆ°å¤´ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå½’å¹¶å‡½æ•°å’Œå½’å¹¶èµ·ç‚¹çš„åˆå§‹å€¼ã€‚å½’å¹¶å‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œä¸Šä¸€ä¸ªå½’å¹¶å€¼ï¼Œå½“å‰é¡¹ï¼Œå½“å‰é¡¹çš„ç´¢å¼•å’Œæ•°ç»„æœ¬èº«ã€‚å‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºä¸‹ä¸€æ¬¡éå†çš„å½’å¹¶å€¼å³ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è¿­ä»£é»˜è®¤ä»æ•°ç»„ç¬¬äºŒé¡¹å¼€å§‹ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="å®šå‹æ•°ç»„"><a href="#å®šå‹æ•°ç»„" class="headerlink" title="å®šå‹æ•°ç»„"></a>å®šå‹æ•°ç»„</h4><p>äººä»¬æœŸæœ›å¼€å‘ä¸€å¥— <code>JavaScript API</code> æ¥åˆ©ç”¨ <code>3D</code> å›¾å½¢ <code>API</code> å’Œ <code>GPU</code> åŠ é€Ÿï¼Œä»¥ä¾¿æ¸²æŸ“è¿è¡Œå¤æ‚çš„ <code>3D</code> åº”ç”¨ç¨‹åºã€‚åŸºäº <code>OpenGL ES 2.0</code> è§„èŒƒå¼€å‘äº†ä¸€ä¸ª <code>API</code> åä¸º <code>WebGL</code> ã€‚æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå®ƒä¸åŸç”Ÿæ•°ç»„ä¹‹é—´æ ¼å¼ä¸åŒ¹é…ï¼Œå‡ºç°äº†æ€§èƒ½é—®é¢˜ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ <code>Mozilla</code> å®ç°äº† <code>CanvasFloatArray</code> ï¼Œæœ€ç»ˆå˜æˆ <code>Float32Array</code> ã€‚</p>
<ol>
<li><h5 id="ArrayBuffer"><a href="#ArrayBuffer" class="headerlink" title="ArrayBuffer"></a><code>ArrayBuffer</code></h5><p><code>ArrayBuffer</code> æ˜¯æ‰€æœ‰å®šå‹æ•°ç»„åŠè§†å›¾å¼•ç”¨çš„åŸºæœ¬å•ä½ï¼Œæ˜¯ä¸€ä¸ªæ™®é€šçš„ <code>JavaScript</code> æ„é€ å‡½æ•°ï¼Œå¯ç”¨äºåœ¨å†…å­˜ä¸­åˆ†é…ç‰¹å®šæ•°é‡çš„å­—èŠ‚ç©ºé—´ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 16</span></code></pre>
<p><code>ArrayBuffeer</code> åˆ›å»ºåæ— æ³•æ”¹å˜å¤§å°ï¼Œä½†å¯ä»¥åˆ©ç”¨ <code>slice</code> æ–¹æ³•å¤åˆ¶éƒ¨åˆ†æˆä¸ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
<p>æŸ¥çœ‹ <code>ArrayBuffer</code> çš„åŸå‹å¯¹è±¡ï¼š</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ArrayBuffer<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  byteLength<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
  constructor<span class="token punctuation">:</span> Æ’ <span class="token function">ArrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  slice<span class="token punctuation">:</span> Æ’ <span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token string">"ArrayBuffer"</span>
  <span class="token keyword">get</span> byteLength<span class="token punctuation">:</span> Æ’ <span class="token function">byteLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  __proto__<span class="token punctuation">:</span> Object
<span class="token punctuation">}</span></code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼Œ<code>ArrayBuffer</code> å…¶å®å’Œæ•°ç»„æ²¡æœ‰ç‰¹åˆ«å¤§çš„å…³ç³»ï¼Œåªæ˜¯åŸå‹å¯¹è±¡ä¸ŠæŒ‚è½½äº† <code>slice</code> æ–¹æ³•ä»¥åŠ <code>byteLength</code> å±æ€§ï¼Œå®ƒçš„åŸå‹æŒ‡å‘äº† <code>Object.prototype</code> ã€‚</p>
<ul>
<li><code>ArrayBuffer</code> åˆ†é…å¤±è´¥æ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
<li>åˆ†é…çš„å†…å­˜ä¸èƒ½è¶…è¿‡ <code>Number.MAX_SAFE_INTEGER</code> å³ (2^53 - 1) å­—èŠ‚ã€‚</li>
<li>å£°æ˜ <code>ArrayBuffer</code> ä¼šå°†æ‰€æœ‰äºŒè¿›åˆ¶ä½åˆå§‹åŒ–ä¸º <code>0</code> ã€‚</li>
<li>åˆ†é…çš„å †å†…å­˜å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ã€‚</li>
</ul>
</li>
<li><h5 id="DataView"><a href="#DataView" class="headerlink" title="DataView"></a><code>DataView</code></h5><p>å…è®¸è¯»å†™ <code>ArrayBuffer</code> çš„è§†å›¾ã€‚ä¸“ä¸ºæ–‡ä»¶ <code>I/O</code> å’Œç½‘ç»œ <code>I/O</code> è®¾è®¡ï¼Œæ”¯æŒå¯¹ç¼“å†²æ•°æ®çš„é«˜åº¦æ§åˆ¶ï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œå¯¹ç¼“å†²å†…å®¹æ²¡æœ‰ä»»ä½•é¢„è®¾ï¼Œä¹Ÿä¸èƒ½è¿­ä»£ã€‚</p>
<p>æŸ¥çœ‹ <code>DataView</code> çš„æ„é€ å‡½æ•°å®šä¹‰ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token function">DataView</span><span class="token punctuation">(</span>buffer<span class="token punctuation">:</span> ArrayBuffer<span class="token punctuation">,</span> byteOffset<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span> byteLength<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> DataView</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¿…å¡«çš„ <code>ArrayBuffer</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåç§»é‡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå­—èŠ‚é•¿åº¦ã€‚è‹¥ä¸æŒ‡å®šï¼Œåç§»é‡é»˜è®¤ä» <code>0</code> å¼€å§‹ï¼Œå­—èŠ‚é•¿åº¦é»˜è®¤ä¸ºå‰©ä½™ç¼“å†²ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fullDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 16</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

<span class="token keyword">const</span> firstHalfDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>

<span class="token keyword">const</span> secondHalfDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<ul>
<li><p><code>ElementType</code></p>
<p>ç”¨äºå®ç° <code>JavaScript</code> ä¸­çš„ <code>Number</code> ç±»å‹åˆ°ç¼“å†²å†…äºŒè¿›åˆ¶æ ¼å¼çš„è½¬æ¢ã€‚æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p>
<ul>
<li><code>Int8</code></li>
<li><code>Uint8</code></li>
<li><code>Int16</code></li>
<li><code>Uint16</code></li>
<li><code>Int32</code></li>
<li><code>Uint32</code></li>
<li><code>Float32</code></li>
<li><code>Float64</code></li>
</ul>
<p>æ¯ç§ç±»å‹éƒ½æœ‰ <code>get</code> å’Œ <code>set</code> æ–¹æ³•ï¼Œä½¿ç”¨ <code>byteOffset</code> å®šä½ä½ç½®è¿›è¡Œè¯»å†™ã€‚ç±»å‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// åˆ†é…äº†ä¸¤ä¸ªå­—èŠ‚</span>
<span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å®šä¹‰ä¸€ä¸ªè§†å›¾</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>

view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -256</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0xff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -1</span></code></pre>
</li>
<li><p>å­—èŠ‚åº</p>
<p>å­—èŠ‚åºæŒ‡è®¡ç®—ç³»ç»Ÿç»´æŠ¤çš„ä¸€ç§å­—èŠ‚é¡ºåºçš„çº¦å®šã€‚</p>
<p><code>DataView</code> æ”¯æŒä¸¤ç§çº¦å®šï¼Œå¤§ç«¯å­—èŠ‚åºå’Œå°ç«¯å­—èŠ‚åºã€‚</p>
<p>å¤§ç«¯å­—èŠ‚åºæŒ‡æœ€é«˜æœ‰æ•ˆä½ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œæœ€ä½æœ‰æ•ˆä½ä¿å­˜åœ¨æœ€åä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿç§°ç½‘ç»œå­—èŠ‚åºã€‚</p>
<p>å°ç«¯å­—èŠ‚åºåˆ™ç›¸åã€‚</p>
<p><code>DataView</code> ä¸éµå®ˆ <code>JavaScript</code> è¿è¡Œæ—¶æ‰€åœ¨ç³»ç»Ÿçš„åŸç”Ÿå­—èŠ‚åºã€‚å®ƒé»˜è®¤ä¸ºå¤§ç«¯å­—èŠ‚åºï¼Œä¹Ÿå¯ä»¥æ¥æ”¶å‚æ•°ä¿®æ”¹ä¸ºå°ç«¯å­—èŠ‚åºã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å¡«å……ç¼“å†²ï¼Œè®©ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½éƒ½æ˜¯ 1</span>
view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0x80</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è®¾ç½®æœ€å·¦è¾¹çš„ä½ç­‰äº 1</span>
view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0x01</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è®¾ç½®æœ€å³è¾¹çš„ä½ç­‰äº 1</span>
<span class="token comment" spellcheck="true">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span>
<span class="token comment" spellcheck="true">// 0x8 0x0 0x0 0x1</span>
<span class="token comment" spellcheck="true">// 1000 0000 0000 0001</span>
<span class="token comment" spellcheck="true">// æŒ‰å¤§ç«¯å­—èŠ‚åºè¯»å– Uint16</span>
<span class="token comment" spellcheck="true">// 0x80 æ˜¯é«˜å­—èŠ‚ï¼Œ0x01 æ˜¯ä½å­—èŠ‚</span>
<span class="token comment" spellcheck="true">// 0x8001 = 2^15 + 2^0 = 32768 + 1 = 32769</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 32769</span>
<span class="token comment" spellcheck="true">// æŒ‰å°ç«¯å­—èŠ‚åºè¯»å– Uint16</span>
<span class="token comment" spellcheck="true">// 0x01 æ˜¯é«˜å­—èŠ‚ï¼Œ0x80 æ˜¯ä½å­—èŠ‚</span>
<span class="token comment" spellcheck="true">// 0x0180 = 2^8 + 2^7 = 256 + 128 = 384</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 384</span>
<span class="token comment" spellcheck="true">// æŒ‰å¤§ç«¯å­—èŠ‚åºå†™å…¥ Uint16</span>
view<span class="token punctuation">.</span><span class="token function">setUint16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0x0004</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span>
<span class="token comment" spellcheck="true">// 0x0 0x0 0x0 0x4</span>
<span class="token comment" spellcheck="true">// 0000 0000 0000 0100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4</span>
<span class="token comment" spellcheck="true">// æŒ‰å°ç«¯å­—èŠ‚åºå†™å…¥ Uint16</span>
view<span class="token punctuation">.</span><span class="token function">setUint16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0x0002</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span>
<span class="token comment" spellcheck="true">// 0x0 0x2 0x0 0x0</span>
<span class="token comment" spellcheck="true">// 0000 0010 0000 0000</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0</span></code></pre>
</li>
<li><p>è¾¹ç•Œæƒ…å½¢</p>
<p><code>DataView</code> çš„æ“ä½œéœ€è¦åœ¨ç¼“å†²åŒºèŒƒå›´å†…ï¼Œå¦åˆ™ä¼šæŠ›å‡º <code>RangeError</code> ã€‚</p>
<p>å†™ç¼“å†²çš„æ—¶å€™ä¼šå°†å†™å…¥å€¼è½¬ä¸ºé€‚å½“ç±»å‹ï¼Œè‹¥æ˜¯æ— æ³•è½¬æ¢åˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="å®šå‹æ•°ç»„-1"><a href="#å®šå‹æ•°ç»„-1" class="headerlink" title="å®šå‹æ•°ç»„"></a>å®šå‹æ•°ç»„</h5><p>å®šå‹æ•°ç»„æ˜¯å¦ä¸€ç§å½¢å¼çš„ <code>ArrayBuffer</code> è§†å›¾ã€‚å®ƒç‰¹å®šäºä¸€ç§ <code>ElementType</code> ä¸”éµå¾ªç³»ç»ŸåŸç”Ÿçš„å­—èŠ‚åºã€‚ç›®çš„åœ¨äºæé«˜ä¸ <code>WebGL</code> ç­‰åŸç”Ÿåº“äº¤æ¢äºŒè¿›åˆ¶æ•°æ®çš„æ•ˆç‡ã€‚</p>
<p>åˆ›å»ºå®šå‹æ•°ç»„çš„æ–¹å¼åŒ…æ‹¬è¯»å–å·²æœ‰çš„ç¼“å†²ã€ä½¿ç”¨è‡ªæœ‰ç¼“å†²ã€å¡«å……å¯è¿­ä»£ç»“æ„ï¼Œä»¥åŠå¡«å……åŸºäºä»»æ„ç±»å‹çš„å®šå‹æ•°ç»„ã€‚å¦å¤–ï¼Œé€šè¿‡ <code>&lt;ElementType&gt;.from()</code> å’Œ <code>&lt;ElementType&gt;.of()</code> ä¹Ÿå¯ä»¥åˆ›å»ºå®šå‹æ•°ç»„</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ª 12 å­—èŠ‚çš„ç¼“å†²</span>
<span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªå¼•ç”¨è¯¥ç¼“å†²çš„ Int32Array</span>
<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ªå®šå‹æ•°ç»„çŸ¥é“è‡ªå·±çš„æ¯ä¸ªå…ƒç´ éœ€è¦ 4 å­—èŠ‚</span>
<span class="token comment" spellcheck="true">// å› æ­¤é•¿åº¦ä¸º 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>

<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 6 çš„ Int32Array</span>
<span class="token keyword">const</span> ints2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æ¯ä¸ªæ•°å€¼ä½¿ç”¨ 4 å­—èŠ‚ï¼Œå› æ­¤ ArrayBuffer æ˜¯ 24 å­—èŠ‚</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints2<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span>
<span class="token comment" spellcheck="true">// ç±»ä¼¼ DataViewï¼Œå®šå‹æ•°ç»„ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å‘å…³è”ç¼“å†²çš„å¼•ç”¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints2<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 24</span>

<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªåŒ…å«[2, 4, 6, 8]çš„ Int32Array</span>
<span class="token keyword">const</span> ints3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints3<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints3<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 16</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span>

<span class="token comment" spellcheck="true">// é€šè¿‡å¤åˆ¶ ints3 çš„å€¼åˆ›å»ºä¸€ä¸ª Int16Array</span>
<span class="token keyword">const</span> ints4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span>ints3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// è¿™ä¸ªæ–°ç±»å‹æ•°ç»„ä¼šåˆ†é…è‡ªå·±çš„ç¼“å†²</span>
<span class="token comment" spellcheck="true">// å¯¹åº”ç´¢å¼•çš„æ¯ä¸ªå€¼ä¼šç›¸åº”åœ°è½¬æ¢ä¸ºæ–°æ ¼å¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints4<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints4<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints4<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6</span>

<span class="token comment" spellcheck="true">// åŸºäºæ™®é€šæ•°ç»„æ¥åˆ›å»ºä¸€ä¸ª Int16Array</span>
<span class="token keyword">const</span> ints5 <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints5<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints5<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints5<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 7</span>

<span class="token comment" spellcheck="true">// åŸºäºä¼ å…¥çš„å‚æ•°åˆ›å»ºä¸€ä¸ª Float32Array</span>
<span class="token keyword">const</span> floats <span class="token operator">=</span> Float32Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token number">2.718</span><span class="token punctuation">,</span> <span class="token number">1.618</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>floats<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>floats<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>floats<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1.6180000305175781</span></code></pre>
<p>æŸ¥çœ‹å®šå‹æ•°ç»„çš„æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ï¼š</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Int16Array<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// BYTES_PER_ELEMENT: 2 è¿”å›è¯¥ç±»å‹æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°</span>
<span class="token comment" spellcheck="true">// buffer: (...)</span>
<span class="token comment" spellcheck="true">// byteLength: (...)</span>
<span class="token comment" spellcheck="true">// byteOffset: (...)</span>
<span class="token comment" spellcheck="true">// constructor: Æ’ Int16Array()</span>
<span class="token comment" spellcheck="true">// length: (...)</span>
<span class="token comment" spellcheck="true">// Symbol(Symbol.toStringTag): (...)</span>
<span class="token comment" spellcheck="true">// __proto__: Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Int32Array<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// BYTES_PER_ELEMENT: 4</span>
<span class="token comment" spellcheck="true">// buffer: (...)</span>
<span class="token comment" spellcheck="true">// byteLength: (...)</span>
<span class="token comment" spellcheck="true">// byteOffset: (...)</span>
<span class="token comment" spellcheck="true">// constructor: Æ’ Int32Array()</span>
<span class="token comment" spellcheck="true">// length: (...)</span>
<span class="token comment" spellcheck="true">// Symbol(Symbol.toStringTag): (...)</span>
<span class="token comment" spellcheck="true">// __proto__: Object</span></code></pre>
<p>å¦‚æœåœ¨åˆå§‹åŒ–æ—¶æ²¡æœ‰æä¾›å€¼ï¼Œé‚£ä¹ˆå…³è”çš„ç¼“å†²ä¼šä»¥ <code>0</code> å¡«å……ã€‚</p>
<ul>
<li><p>å®šå‹æ•°ç»„è¡Œä¸º</p>
<p>å®šå‹æ•°ç»„çš„åŸå‹å¯¹è±¡ä¸Šç»‘å®šäº†éå¸¸å¤šçš„æ•°ç»„æ–¹æ³•ï¼Œç»§æ‰¿è‡ªä¸€ä¸ªå« <code>TypedArray</code> çš„ç±»å‹ã€‚</p>
<p>å®šå‹æ•°ç»„ç¼ºå°‘ä¿®æ”¹å¤§å°çš„å‡ ä¸ªæ•°ç»„æ–¹æ³•ï¼š</p>
<ul>
<li><code>concat</code></li>
<li><code>pop</code></li>
<li><code>push</code></li>
<li><code>shift</code></li>
<li><code>splice</code></li>
<li><code>unshift</code></li>
</ul>
<p>ä½†æä¾›äº†ä¸¤ä¸ªæ–°æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºå¤åˆ¶æ•°æ®ï¼š</p>
<ul>
<li><code>set</code></li>
<li><code>subarray</code></li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> container <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>Int8Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array(8) [1, 2, 3, 4, 0, 0, 0, 0]</span>
container<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array(8) [1, 2, 3, 4, 5, 6, 7, 8]</span></code></pre>
<p>çœ‹ä¸€ä¸‹ <code>set</code> çš„å‡½æ•°å®šä¹‰ï¼š</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">set</span><span class="token punctuation">(</span>array<span class="token punctuation">:</span> ArrayLike<span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">,</span> offset<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span></code></pre>
<p>åç§»é‡æº¢å‡ºæ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p><code>subarray</code> ä¼šä»åŸå®šå‹æ•°ç»„ä¸­å¤åˆ¶å‡ºä¸€ä¸ªæ–°å®šå‹æ•°ç»„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> source <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fullCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array(4) [2, 4, 6, 7]</span>
<span class="token keyword">const</span> halfCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>halfCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array(2) [6, 7]</span>
<span class="token keyword">const</span> partialCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>partialCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int16Array(2) [4, 6]</span></code></pre>
<p>çœ‹ä¸€ä¸‹ <code>subarray</code> çš„å‡½æ•°å®šä¹‰</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token function">subarray</span><span class="token punctuation">(</span>begin<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> end<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Int16Array</code></pre>
<p>æ‰‹å†™å®šå‹æ•°ç»„æ‹¼æ¥å‡½æ•°:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">typedArrayConcat</span><span class="token punctuation">(</span>typedArrayConstructor<span class="token punctuation">,</span> <span class="token operator">...</span>typedArrays<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> numElements <span class="token operator">=</span> typedArrays<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>length <span class="token operator">||</span> x<span class="token punctuation">)</span> <span class="token operator">+</span> y<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> resultArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">typedArrayConstructor</span><span class="token punctuation">(</span>numElements<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> currentOffset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  typedArrays<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    resultArray<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> currentOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentOffset <span class="token operator">+</span><span class="token operator">=</span> x<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> resultArray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> concatArray <span class="token operator">=</span> <span class="token function">typedArrayConcat</span><span class="token punctuation">(</span>
  Int32Array<span class="token punctuation">,</span>
  Int8Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Int16Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Float32Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>concatArray<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Int32Array(9) [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></code></pre>
</li>
<li><p>ä¸‹æº¢å’Œä¸Šæº¢</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// é•¿åº¦ä¸º 2 çš„æœ‰ç¬¦å·æ•´æ•°æ•°ç»„</span>
<span class="token comment" spellcheck="true">// æ¯ä¸ªç´¢å¼•ä¿å­˜ä¸€ä¸ªäºŒè¡¥æ•°å½¢å¼çš„æœ‰ç¬¦å·æ•´æ•°</span>
<span class="token comment" spellcheck="true">// èŒƒå›´æ˜¯-128ï¼ˆ-1 * 2^7ï¼‰~127ï¼ˆ2^7 - 1ï¼‰</span>
<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int8Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// é•¿åº¦ä¸º 2 çš„æ— ç¬¦å·æ•´æ•°æ•°ç»„</span>
<span class="token comment" spellcheck="true">// æ¯ä¸ªç´¢å¼•ä¿å­˜ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°</span>
<span class="token comment" spellcheck="true">// èŒƒå›´æ˜¯ 0~255ï¼ˆ2^7 - 1ï¼‰</span>
<span class="token keyword">const</span> unsignedInts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä¸Šæº¢çš„ä½ä¸ä¼šå½±å“ç›¸é‚»ç´¢å¼•</span>
<span class="token comment" spellcheck="true">// ç´¢å¼•åªå–æœ€ä½æœ‰æ•ˆä½ä¸Šçš„ 8 ä½</span>
unsignedInts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0x100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>unsignedInts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, 0]</span>
unsignedInts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">511</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0x1FF</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>unsignedInts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, 255]</span>
<span class="token comment" spellcheck="true">// ä¸‹æº¢çš„ä½ä¼šè¢«è½¬æ¢ä¸ºå…¶æ— ç¬¦å·çš„ç­‰ä»·å€¼</span>
<span class="token comment" spellcheck="true">// 0xFF æ˜¯ä»¥äºŒè¡¥æ•°å½¢å¼è¡¨ç¤ºçš„-1ï¼ˆæˆªå–åˆ° 8 ä½ï¼‰,</span>
<span class="token comment" spellcheck="true">// ä½† 255 æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°</span>
unsignedInts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0xFF (truncated to 8 bits)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>unsignedInts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, 255]</span>
<span class="token comment" spellcheck="true">// ä¸Šæº¢è‡ªåŠ¨å˜æˆäºŒè¡¥æ•°å½¢å¼</span>
<span class="token comment" spellcheck="true">// 0x80 æ˜¯æ— ç¬¦å·æ•´æ•°çš„ 128ï¼Œæ˜¯äºŒè¡¥æ•°å½¢å¼çš„-128</span>
ints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0x80</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, -128]</span>
<span class="token comment" spellcheck="true">// ä¸‹æº¢è‡ªåŠ¨å˜æˆäºŒè¡¥æ•°å½¢å¼</span>
<span class="token comment" spellcheck="true">// 0xFF æ˜¯æ— ç¬¦å·æ•´æ•°çš„ 255ï¼Œæ˜¯äºŒè¡¥æ•°å½¢å¼çš„-1</span>
ints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0xFF</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, -1]</span></code></pre>
<p>è¿˜å­˜åœ¨ä¸€ç§æ•°ç»„ç±»å‹ <code>Unit8ClampedArray</code> ï¼Œ ä¸å…è®¸ä»»ä½•æ–¹å‘æº¢å‡ºã€‚è¶…å‡ºçš„å€¼ä¼šè¢«å‘ä¸‹èˆå…¥ä¸º <code>255</code> ï¼Œ å°äºçš„å€¼ä¼šè¢«å‘ä¸Šèˆå…¥ä¸º <code>0</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>ES6</code> ä¸­æ–°å¢çš„é›†åˆç±»å‹ï¼ŒçœŸæ­£æ„ä¹‰ä¸Šçš„é”®å€¼å­˜å‚¨æœºåˆ¶ã€‚</p>
<ol>
<li><h5 id="åŸºæœ¬-API"><a href="#åŸºæœ¬-API" class="headerlink" title="åŸºæœ¬ API"></a>åŸºæœ¬ <code>API</code></h5><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>åˆå§‹åŒ–æ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦åŒ…å«é”®å€¼å¯¹æ•°ç»„ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span> <span class="token string">'val1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span> <span class="token string">'val2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'key3'</span><span class="token punctuation">,</span> <span class="token string">'val3'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Map(3) {"key1" => "val1", "key2" => "val2", "key3" => "val3"}</span>
<span class="token comment" spellcheck="true">// ä½¿ç”¨è‡ªå®šä¹‰è¿­ä»£å™¨åˆå§‹åŒ–æ˜ å°„</span>
<span class="token keyword">const</span> m2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">"key1"</span><span class="token punctuation">,</span> <span class="token string">"val1"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">"key2"</span><span class="token punctuation">,</span> <span class="token string">"val2"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">"key3"</span><span class="token punctuation">,</span> <span class="token string">"val3"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>
<span class="token comment" spellcheck="true">// æ˜ å°„æœŸå¾…çš„é”®/å€¼å¯¹ï¼Œæ— è®ºæ˜¯å¦æä¾›</span>
<span class="token keyword">const</span> m3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m3<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m3<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre>
<ul>
<li><p><code>set()</code></p>
<p>åˆå§‹åŒ–åæ·»åŠ é”®å€¼å¯¹çš„æ–¹æ³•ã€‚</p>
</li>
<li><p><code>get()</code></p>
<p>è·å–å€¼ã€‚</p>
</li>
<li><p><code>has()</code></p>
<p>æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å€¼ã€‚</p>
</li>
<li><p><code>size</code></p>
<p>è·å–æ˜ å°„ä¸­çš„é”®å€¼å¯¹æ•°é‡ã€‚</p>
</li>
<li><p><code>delete</code></p>
<p>åˆ é™¤æŸä¸ªé”®å€¼å¯¹ã€‚</p>
</li>
<li><p><code>clear</code></p>
<p>æ¸…ç©ºè¯¥æ˜ å°„çš„æ‰€æœ‰é”®å€¼å¯¹ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><h4 id="æ˜¯å¦éœ€è¦-else"><a href="#æ˜¯å¦éœ€è¦-else" class="headerlink" title="æ˜¯å¦éœ€è¦ else ?"></a>æ˜¯å¦éœ€è¦ else ?</h4><p>å¦‚æœå‚æ•° <code>age</code> å¤§äº <code>18</code>ï¼Œé‚£ä¹ˆä¸‹é¢çš„å‡½æ•°å°†è¿”å› <code>true</code>ã€‚</p>
<p>å¦åˆ™å®ƒå°†ä¼šè¦æ±‚è¿›è¡Œç¡®è®¤ï¼Œå¹¶è¿”å›ç¡®è®¤ç»“æœï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">checkAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">></span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>
    <span class="token keyword">return</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Did parents allow you?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å¦‚æœ <code>else</code> è¢«åˆ é™¤ï¼Œå‡½æ•°çš„å·¥ä½œæ–¹å¼ä¼šä¸åŒå—ï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">checkAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">></span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ...</span>
  <span class="token keyword">return</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Did parents allow you?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å·¥ä½œæ–¹å¼ç›¸åŒï¼Œå› ä¸º <code>return</code> æ‰§è¡Œåå‡½æ•°å°±å·²ç»ç»“æŸã€‚æ­¤å¤„çš„ <code>else</code> å¹¶æ²¡æœ‰æ„ä¹‰ã€‚</p>
</li>
<li><h4 id="ä½¿ç”¨-æˆ–-é‡å†™å‡½æ•°"><a href="#ä½¿ç”¨-æˆ–-é‡å†™å‡½æ•°" class="headerlink" title="ä½¿ç”¨ ? æˆ– || é‡å†™å‡½æ•°"></a>ä½¿ç”¨ ? æˆ– || é‡å†™å‡½æ•°</h4><p>å¦‚æœå‚æ•° <code>age</code> å¤§äº <code>18</code>ï¼Œé‚£ä¹ˆä¸‹é¢çš„å‡½æ•°è¿”å› <code>true</code>ã€‚</p>
<p>å¦åˆ™å®ƒå°†ä¼šè¦æ±‚è¿›è¡Œç¡®è®¤ï¼Œå¹¶è¿”å›ç¡®è®¤ç»“æœï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">checkAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">></span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Do you have your parents permission to access this page?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>é‡å†™è¿™ä¸ªå‡½æ•°å¹¶ä¿è¯æ•ˆæœç›¸åŒï¼Œä¸ä½¿ç”¨ <code>if</code>ï¼Œä¸”åªéœ€ä¸€è¡Œä»£ç ã€‚</p>
<p>ç¼–å†™ <code>checkAge</code> çš„ä¸¤ä¸ªå˜ä½“ï¼š</p>
<ol>
<li><h5 id="ä½¿ç”¨é—®å·è¿ç®—ç¬¦"><a href="#ä½¿ç”¨é—®å·è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨é—®å·è¿ç®—ç¬¦ ?"></a>ä½¿ç”¨é—®å·è¿ç®—ç¬¦ <code>?</code></h5></li>
<li><h5 id="ä½¿ç”¨æˆ–è¿ç®—ç¬¦"><a href="#ä½¿ç”¨æˆ–è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨æˆ–è¿ç®—ç¬¦ ||"></a>ä½¿ç”¨æˆ–è¿ç®—ç¬¦ <code>||</code></h5></li>
</ol>
<ul>
<li><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">checkAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> age <span class="token operator">></span> <span class="token number">18</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Do you have your parents permission to access this page?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">checkAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> age <span class="token operator">></span> <span class="token number">18</span> <span class="token operator">||</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Do you have your parents permission to access this page?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ul>
</li>
<li><h4 id="å‡½æ•°-min-a-b"><a href="#å‡½æ•°-min-a-b" class="headerlink" title="å‡½æ•° min(a, b)"></a>å‡½æ•° min(a, b)</h4><p>å†™ä¸€ä¸ªè¿”å›æ•°å­— <code>a</code> å’Œ <code>b</code> ä¸­è¾ƒå°çš„é‚£ä¸ªæ•°å­—çš„å‡½æ•° <code>min(a,b)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span>
<span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">></span> b <span class="token operator">?</span> b <span class="token punctuation">:</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li><h4 id="å‡½æ•°-pow-x-n"><a href="#å‡½æ•°-pow-x-n" class="headerlink" title="å‡½æ•° pow(x, n)"></a>å‡½æ•° pow(x, n)</h4><p>å†™ä¸€ä¸ªå‡½æ•° <code>pow(x,n)</code>ï¼Œè¿”å› <code>x</code> çš„ <code>n</code> æ¬¡æ–¹ã€‚æ¢å¥è¯è¯´ï¼Œå°† <code>x</code> ä¸è‡ªèº«ç›¸ä¹˜ <code>n</code> æ¬¡ï¼Œè¿”å›æœ€ç»ˆç»“æœã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">9</span>
<span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">27</span>
<span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token operator">...</span><span class="token operator">*</span><span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled="" type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 11</title>
    <url>/2020/10/11/xue-xi-bi-ji-2020-10-11/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-11"><a href="#å­¦ä¹ ç¬”è®°-2020-10-11" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-11"></a>å­¦ä¹ ç¬”è®° 2020-10-11</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ol>
<li><h5 id="è½¬æ¢æ–¹æ³•"><a href="#è½¬æ¢æ–¹æ³•" class="headerlink" title="è½¬æ¢æ–¹æ³•"></a>è½¬æ¢æ–¹æ³•</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// red,blue,green</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["red", "blue", "green"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["red", "blue", "green"]</span></code></pre>
<p><code>toString</code> æ–¹æ³•æœ¬è´¨æ˜¯è¿”å›æ•°ç»„ä¸­æ¯ä¸ªå€¼çš„ç­‰æ•ˆå­—ç¬¦ä¸²åŠ é€—å·åˆ†éš”æ‹¼æ¥æˆçš„å­—ç¬¦ä¸²</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  toLocaleString <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  toString <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  toLocaleString <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Severus'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  toString <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'siruis'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [{â€¦}, {â€¦}]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine,siruis</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Sirine,Severus</span></code></pre>
<p>ç”±ä¸Šä¾‹å¯ä»¥çœ‹å‡ºï¼Œ<code>toString</code> æ–¹æ³•è°ƒç”¨è‡ªèº«çš„ <code>toString</code> æ¥è½¬æ¢ï¼Œ<code>toLocaleString</code> è°ƒç”¨è‡ªèº«çš„ <code>toLocaleString</code> ã€‚</p>
</li>
<li><h5 id="æ ˆæ–¹æ³•"><a href="#æ ˆæ–¹æ³•" class="headerlink" title="æ ˆæ–¹æ³•"></a>æ ˆæ–¹æ³•</h5><p>åè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ•°æ®çš„æ¨å…¥å’Œåˆ é™¤åªå‘ç”Ÿåœ¨æ ˆé¡¶ã€‚</p>
<ul>
<li><p><code>push</code></p>
<p>æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æœ€æ–°é•¿åº¦ã€‚</p>
</li>
<li><p><code>pop</code></p>
<p>ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„é•¿åº¦ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="é˜Ÿåˆ—æ–¹æ³•"><a href="#é˜Ÿåˆ—æ–¹æ³•" class="headerlink" title="é˜Ÿåˆ—æ–¹æ³•"></a>é˜Ÿåˆ—æ–¹æ³•</h5><p>å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæœ«å°¾æ·»åŠ æ•°æ®ï¼Œå¼€å¤´è·å–æ•°æ®ã€‚</p>
<ul>
<li><p><code>shift</code></p>
<p>è¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</p>
</li>
<li><p><code>push</code></p>
</li>
<li><p><code>unshift</code></p>
<p>ä¸ <code>shift</code> ç›¸åï¼Œåœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä»»æ„æ•°é‡çš„å€¼ï¼Œè¿”å›æ–°çš„æ•°ç»„é•¿åº¦ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="æ’åºæ–¹æ³•"><a href="#æ’åºæ–¹æ³•" class="headerlink" title="æ’åºæ–¹æ³•"></a>æ’åºæ–¹æ³•</h5><p>ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•éƒ½è¿”å›è°ƒç”¨çš„æ•°ç»„çš„å¼•ç”¨ã€‚</p>
<ul>
<li><p><code>reverse</code></p>
<p>åå‘æ’åˆ—æ•°ç»„ã€‚</p>
</li>
<li><p><code>sort</code></p>
<p>æ’åºæ•°ç»„ã€‚é»˜è®¤æŒ‰ç…§å‡åºï¼Œæ¯ä¸€é¡¹è°ƒç”¨ <code>String</code> è½¬æ¢ï¼Œæ¯”è¾ƒå­—ç¬¦ä¸²å†³å®šé¡ºåºã€‚ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œå‡½æ•°çš„è¿”å›å€¼å†³å®šæ¯ä¸¤ä¸ªæ•°æ¯”è¾ƒçš„æ’åºæƒ…å†µï¼Œè¿”å›è´Ÿå€¼ä»£è¡¨ç¬¬ä¸€ä¸ªæ•°æ’åœ¨ç¬¬äºŒä¸ªå‰é¢ï¼Œè¿”å› <code>0</code> ä»£è¡¨ç›¸ç­‰ï¼Œè¿”å›æ­£å€¼ä»£è¡¨ç¬¬ä¸€ä¸ªæ•°æ’åœ¨ç¬¬äºŒä¸ªåé¢ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h5><ul>
<li><p><code>concat</code></p>
<p>åœ¨åŸæœ‰æ•°ç»„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†å‚æ•°æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚è¿”å›æ–°æ•°ç»„ã€‚</p>
<p><code>concat</code> é»˜è®¤ä¼šæ‰“å¹³æ•°ç»„å‚æ•°ï¼Œå³ä¼ å…¥çš„æ•°ç»„å‚æ•°ä¼šè¢«å±•å¼€ã€‚è®¾ç½®æ•°ç»„çš„ <code>Symbol.isConcatSpreadable</code> å¯ä»¥ä¿®æ”¹è¿™ä¸ªè¡Œä¸ºã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"black"</span><span class="token punctuation">,</span> <span class="token string">"brown"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> moreNewColors <span class="token operator">=</span> <span class="token punctuation">{</span></code></pre>
</li>
</ul>
<p>   [Symbol.isConcatSpreadable]: true,<br>   length: 2,<br>   0: â€œpinkâ€,<br>   1: â€œcyanâ€<br>  };<br>  newColors[Symbol.isConcatSpreadable] = false;<br>  // å¼ºåˆ¶ä¸æ‰“å¹³æ•°ç»„<br>  let colors2 = colors.concat(â€œyellowâ€, newColors);<br>  // å¼ºåˆ¶æ‰“å¹³ç±»æ•°ç»„å¯¹è±¡<br>  let colors3 = colors.concat(moreNewColors);<br>  console.log(colors); // [â€œredâ€, â€œgreenâ€, â€œblueâ€]<br>  console.log(colors2); // [â€œredâ€, â€œgreenâ€, â€œblueâ€, â€œyellowâ€,[â€œblackâ€, â€œbrownâ€]]<br>  console.log(colors3); // [â€œredâ€, â€œgreenâ€, â€œblueâ€, â€œpinkâ€, â€œcyanâ€]</p>
<pre><code>

</code></pre></li>
</ol>
<ul>
<li><p><code>slice</code></p>
<p>æ¥æ”¶ä¸€åˆ°äºŒä¸ªå‚æ•°ï¼Œè¿”å›å…ƒç´ çš„å¼€å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ï¼Œè‹¥åªæä¾›äº†å¼€å§‹ç´¢å¼•ï¼Œä¼šé»˜è®¤è¿”å›åˆ°æ•°ç»„æœ«å°¾ã€‚è¿”å›çš„æ•°ç»„ä¸åŒ…æ‹¬ç»“æŸç´¢å¼•(è‹¥å­˜åœ¨)å¯¹åº”çš„å…ƒç´ ã€‚ä¸å½±å“åŸæ•°ç»„ã€‚è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ¥å—è´Ÿå€¼ï¼Œä»£è¡¨ä»æœ«å°¾å¼€å§‹ã€‚è‹¥ç»“æŸä½ç½®å°äºå¼€å§‹ä½ç½®ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</p>
</li>
<li><p><code>splice</code></p>
<p>æœ‰ä¸‰ç§ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å…ƒç´ æˆ–æ˜¯ç©ºæ•°ç»„ã€‚</p>
<ul>
<li><p>åˆ é™¤</p>
<p>ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œåˆ é™¤çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ä»¥åŠåˆ é™¤çš„æ•°é‡ã€‚</p>
</li>
<li><p>æ’å…¥</p>
<p>ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼Œå¼€å§‹ä½ç½®ï¼Œ<code>0</code> å’Œæ’å…¥çš„å…ƒç´ ï¼Œä¸ä»…é™äºä¸‰ä¸ªå‚æ•°ï¼Œå¤šäºä¸‰ä¸ªçš„å‚æ•°éƒ½ä¼šè¢«çœ‹ä½œç”¨äºæ’å…¥çš„å…ƒç´ ã€‚</p>
</li>
<li><p>æ›¿æ¢</p>
<p>åœ¨åˆ é™¤çš„åŒæ—¶æ’å…¥æ–°å…ƒç´ ï¼Œå³æ’å…¥çš„å¦ä¸€ç§æ¨¡å¼ï¼Œä¸å†æ˜¯åˆ é™¤ <code>0</code> ä¸ªå…ƒç´ ã€‚</p>
</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["green", "blue"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["red"]</span>

removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["green", "yellow", "orange", "blue"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// []</span>

removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["green", "red", "purple", "orange", "blue"]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["yellow"]</span></code></pre>
</li>
</ul>
<ol start="6">
<li><h5 id="æœç´¢å’Œä½ç½®æ–¹æ³•"><a href="#æœç´¢å’Œä½ç½®æ–¹æ³•" class="headerlink" title="æœç´¢å’Œä½ç½®æ–¹æ³•"></a>æœç´¢å’Œä½ç½®æ–¹æ³•</h5><ul>
<li><code>indexOf</code></li>
<li><code>lastIndexOf</code></li>
<li><code>includes</code></li>
</ul>
<p>ä¸Šè¿°ä¸‰ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æŸ¥æ‰¾çš„å…ƒç´ å’Œä¸€ä¸ªå¯é€‰çš„èµ·å§‹ä½ç½®ã€‚å¹¶ä¸”ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒã€‚</p>
<p><code>indexOf</code> å’Œ <code>includes</code> ä»æ•°ç»„å‰å¤´å¼€å§‹æœç´¢ï¼Œ <code>lastIndexOf</code> ä»æœ«å°¾å¼€å§‹æœç´¢ã€‚<br><code>indexOf</code> å’Œ <code>lastIndeOf</code> è¿”å›æŸ¥æ‰¾çš„ä½ç½®æˆ–æ˜¯ <code>-1</code> ï¼Œ <code>includes</code> è¿”å› <code>true</code> æˆ– <code>false</code> è¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°è‡³å°‘ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚</p>
<ul>
<li><p><code>find</code></p>
</li>
<li><p><code>findIndex</code></p>
<p>ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•æ¥æ”¶æ–­è¨€å‡½æ•°å’Œä¸€ä¸ªå¯é€‰çš„æ–­è¨€å‡½æ•°å†…éƒ¨ <code>this</code> çš„å€¼ï¼Œæ–­è¨€å‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œå…ƒç´ ã€ç´¢å¼•å’Œæ•°ç»„æœ¬èº«ã€‚æ–­è¨€å‡½æ•°è¿”å›çœŸå€¼ï¼Œä»£è¡¨æ˜¯å¦åŒ¹é…ã€‚</p>
<p><code>find</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œ<code>findIndex</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ã€‚æ‰¾åˆ°åŒ¹é…é¡¹åï¼Œéƒ½ä¸å†ç»§ç»­æœç´¢ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h5><p>ä»¥ä¸‹æ–¹æ³•éƒ½å¯¹æ•°ç»„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚</p>
<ul>
<li><p><code>every</code></p>
<p>è‹¥æ¯ä¸€é¡¹ä½¿å¾—å‡½æ•°è¿”å›å€¼éƒ½ä¸º <code>true</code> , é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•è¿”å› <code>true</code> ã€‚</p>
</li>
<li><p><code>filter</code></p>
<p>å‡½æ•°è¿”å›å€¼ä¸º <code>true</code> çš„é¡¹ç»„æˆä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</p>
</li>
<li><p><code>forEach</code></p>
<p>æ²¡æœ‰è¿”å›å€¼ï¼Œä»…å¯¹æ¯ä¸€é¡¹è¿è¡Œå‡½æ•°ã€‚</p>
</li>
<li><p><code>map</code></p>
<p>è¿”å›æ¯ä¸€é¡¹å‡½æ•°è°ƒç”¨çš„ç»“æœæ„æˆçš„å‡½æ•°ã€‚</p>
</li>
<li><p><code>some</code></p>
<p>æœ‰ä¸€é¡¹ä½¿å¾—å‡½æ•°è¿”å›å€¼ä¸º <code>true</code> , æ–¹æ³•è¿”å› <code>true</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="switch-è¯­å¥"><a href="#switch-è¯­å¥" class="headerlink" title="switch è¯­å¥"></a>switch è¯­å¥</h3><ol>
<li><p><code>switch</code> è¯­å¥å¯ä»¥æ›¿ä»£ <code>if</code> åˆ¤æ–­ï¼Œæ‰§è¡Œä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒã€‚</p>
</li>
<li><p><code>switch</code> å’Œ <code>case</code> å…è®¸ä»»æ„è¡¨è¾¾å¼ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token operator">+</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> b <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"this runs, because +a is 1, exactly equals b+1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"this doesn't run"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<ol start="3">
<li><p><code>case</code> åˆ†ç»„</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Right!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">// (*) ä¸‹é¢è¿™ä¸¤ä¸ª case è¢«åˆ†åœ¨ä¸€ç»„</span>
  <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Wrong!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Why don't you take a math class?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'The result is strange. Really.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h3 id="ä»»åŠ¡ï¼š"><a href="#ä»»åŠ¡ï¼š" class="headerlink" title="ä»»åŠ¡ï¼š"></a>ä»»åŠ¡ï¼š</h3><ol>
<li><p>å°† <code>switch</code> ç»“æ„é‡å†™ä¸º <code>if</code> ç»“æ„</p>
<p>å°†ä¸‹é¢ <code>switch</code> ç»“æ„çš„ä»£ç å†™æˆ <code>if..else</code> ç»“æ„ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">switch</span> <span class="token punctuation">(</span>browser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">'Edge'</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">"You've got the Edge!"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>

  <span class="token keyword">case</span> <span class="token string">'Chrome'</span><span class="token punctuation">:</span>
  <span class="token keyword">case</span> <span class="token string">'Firefox'</span><span class="token punctuation">:</span>
  <span class="token keyword">case</span> <span class="token string">'Safari'</span><span class="token punctuation">:</span>
  <span class="token keyword">case</span> <span class="token string">'Opera'</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Okay we support these browsers too'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>

  <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'We hope that this page looks ok!'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>browser <span class="token operator">===</span> <span class="token string">'Edge'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"You've got the Edge!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>browser <span class="token operator">===</span> <span class="token string">'Chrome'</span>
  <span class="token operator">||</span> browser <span class="token operator">===</span> <span class="token string">'Firefox'</span>
  <span class="token operator">||</span> browser <span class="token operator">===</span> <span class="token string">'Safari'</span>
  <span class="token operator">||</span> browser <span class="token operator">===</span> <span class="token string">'Opera'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Okay we support these browsers too'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'We hope that this page looks ok!'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<ol start="2">
<li><p>å°† <code>if</code> ç»“æ„é‡å†™ä¸º <code>switch</code> ç»“æ„</p>
<p>ç”¨ <code>switch</code> é‡å†™ä»¥ä¸‹ä»£ç ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'a?'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'2,3'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'a?'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'2,3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</li>
</ol>
<h2 id="JavaScript-æ·±å…¥å­¦ä¹ "><a href="#JavaScript-æ·±å…¥å­¦ä¹ " class="headerlink" title="JavaScript æ·±å…¥å­¦ä¹ "></a>JavaScript æ·±å…¥å­¦ä¹ </h2><h3 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="headerlink" title="é”™è¯¯ç±»å‹"></a>é”™è¯¯ç±»å‹</h3><ol>
<li><h5 id="SyntaxError"><a href="#SyntaxError" class="headerlink" title="SyntaxError"></a>SyntaxError</h5><p>è¯­æ³•é”™è¯¯ï¼Œä¾‹å¦‚å˜é‡åä¸è§„èŒƒä¸åˆæ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught SyntaxError: Unexpected number</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught SyntaxError: Invalid left-hand side in assignment</span></code></pre>
</li>
<li><h5 id="ReferenceError"><a href="#ReferenceError" class="headerlink" title="ReferenceError"></a>ReferenceError</h5><p>å˜é‡æˆ–å‡½æ•°æœªå£°æ˜ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught ReferenceError: a is not defined</span></code></pre>
</li>
<li><h5 id="RangeError"><a href="#RangeError" class="headerlink" title="RangeError"></a>RangeError</h5><p>èŒƒå›´å‡ºé”™ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught RangeError: Invalid array length</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">66.66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught RangeError: toFixed() digits argument must be between 0 and 100</span></code></pre>
</li>
<li><h5 id="TypeError"><a href="#TypeError" class="headerlink" title="TypeError"></a>TypeError</h5><p>ç±»å‹é”™è¯¯ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token number">123</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught TypeError: 123 is not a function</span></code></pre>
</li>
<li><h5 id="URIError"><a href="#URIError" class="headerlink" title="URIError"></a>URIError</h5><p>URI: uniform resource identifier ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</p>
<p>URL: uniform resource locator ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p>
<p>URN: uniform resource name ç»Ÿä¸€èµ„æºåç§°</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token string">'%abcde'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught URIError: URI malformed at decodeURI (&lt;anonymous>)</span></code></pre>
</li>
</ol>
<h3 id="try-catch"><a href="#try-catch" class="headerlink" title="try catch"></a>try catch</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> json <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// å‡ºç°é”™è¯¯æ—¶æ•è·é”™è¯¯ã€‚</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// æ— è®ºå‡ºé”™ä¸å¦éƒ½ä¼šæ‰§è¡Œ</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="throw"><a href="#throw" class="headerlink" title="throw"></a>throw</h3><p>æ‰‹åŠ¨æŠ›å‡ºé”™è¯¯ã€‚</p>
<h3 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h3><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ <code>with</code> <code>callee</code> <code>caller</code> æ— æ³•ä½¿ç”¨ã€‚</p>
<p>å‡½æ•°å†…éƒ¨çš„ <code>this</code> é»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚éœ€è¦æ˜¾å¼æŒ‡å®šã€‚</p>
<p>ä½¿ç”¨ <code>call</code> è¿™ç±»æ–¹æ³•æ”¹å˜ <code>this</code> æŒ‡å‘æ—¶ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯åŸå§‹å€¼ï¼Œä¼šè¢«åŒ…è£…ä¸ºåŒ…è£…ç±»ã€‚</p>
<p>å‡½æ•°çš„å‚æ•°ä¸å…è®¸é‡å¤ã€‚</p>
<p>å¯¹è±¡çš„é”®ä¸å…è®¸é‡å¤ï¼Œä½†ä¸æŠ¥é”™ï¼Œåªä¼šé»˜è®¤è¦†ç›–ã€‚</p>
<p><code>eval</code> å†…å­˜åœ¨ä¸€ä¸ªä½œç”¨åŸŸï¼Œå¤–éƒ¨æ— æ³•è®¿é—®å†…éƒ¨å˜é‡ã€‚</p>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled="" type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±</title>
    <url>/2020/10/11/xie-gei-liang-nian-qian-de-zi-ji/</url>
    <content><![CDATA[<h1 id="å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±"><a href="#å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±" class="headerlink" title="å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±"></a>å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±</h1><p>ä»Šå¤©æ˜¯ 2020 å¹´ 10 æœˆ 11æ—¥ï¼Œä¸€ä¸ªå¹³å¹³æ— å¥‡çš„å‘¨æ—¥ã€‚6ç‚¹æ²¡åˆ°å°±éš¾å—åœ°é†’äº†è¿‡æ¥ï¼Œæ‹”æ´—è¡£æœºæ°´ç®¡æ—¶åˆè®°é”™äº†æ–¹å‘ï¼Œå–·äº†è‡ªå·±ä¸€èº«çš„æ°´ã€‚17å·å°±è¦ä½“æµ‹ï¼Œæˆ‘è¿˜æœ‰ç‚¹å°ç„¦è™‘ã€‚</p>
<a id="more"></a>

<p>æ˜¨æ™šéšæ‰‹æ•´ç†äº†ä¸€ä¸‹ç£ç›˜ï¼Œå‘ç°äº†18å¹´å†™ä¸‹çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ç¿»äº†ä¸€ä¸‹ï¼Œåªè§‰å¾—å¥½ç¬‘ã€‚</p>
<p>ä¸¤å¹´å‰æˆ‘è¿˜ä¸çŸ¥é“æ€ä¹ˆè®°ç”µå­ç¬”è®°ï¼Œåªèƒ½ç¬¨æ‹™åœ°å°†ä»£ç å’Œæ€è€ƒå†™è¿›äº† <code>word</code> æ–‡æ¡£ï¼Œå†è¯•å›¾è½¬æˆ  <code>pdf</code> ã€‚è¿˜è®°å¾—åæ¥å‘ç°äº† <code>onenote</code> ï¼Œä¹Ÿç”¨å®ƒè®°è¿‡ä¸€å°æ®µæ—¶é—´ï¼Œä¸ºäº†æ›´å¥½åœ°è®°å½•ä»£ç ï¼Œä¸‹è½½äº† <code>highlight</code> æ’ä»¶æ¥é«˜äº®æç¤ºã€‚</p>
<p>è®°åœ¨ <code>onenote</code> é‡Œçš„ç¬”è®°æˆ‘éƒ½è½¬æˆ <code>markdown</code> äº†ï¼Œé‚£äº› <code>word</code> æ–‡æ¡£é‡Œçš„ä¸œè¥¿è¿˜æ²¡æ•´ç†ï¼ŒæŠ½æ—¶é—´æ•´ç†ä¸€ä¸‹ã€‚(<code>todo</code> <code>get</code> âœ”)</p>
<p>ä»”ç»†çœ‹çœ‹å½“æ—¶è®°çš„ç¬”è®°ï¼Œéƒ½æ˜¯äº›å­¦ä¹ æ—¶å€™çš„å›°æ‰°ã€‚åŸæ¥ <code>18</code> å¹´åº•æˆ‘å°±å·²ç»åœ¨çœ‹ <code>ES6</code> çš„å†…å®¹äº†ï¼Œè€Œä¸¤å¹´åçš„æˆ‘ä¾ç„¶ä¸æ•¢è¯´å­¦å¾—æœ‰å¤šç²¾å¦™ã€‚é‚£æ—¶å€™çš„æˆ‘å®Œå…¨æ‹ä¸æ¸…æ¥š <code>JSON</code> å’Œ <code>JS</code> å¯¹è±¡çš„å…³ç³»ï¼Œä¸çŸ¥é“æ˜¯è° <code>parse</code> æˆäº†è°ï¼Œåˆæ˜¯è° <code>stringify</code> æˆäº†è°ã€‚ä¹Ÿæ˜¯é‚£ä¸ªæ—¶å€™çœ‹ç€è‹±æ–‡ä¹¦ï¼Œè¯¯æ‰“è¯¯æ’ä¸‹è½½äº† <code>Nodejs</code> ï¼Œä¹Ÿä¸ä¼šç”¨ï¼Œåªèƒ½ä¸€å­—ä¸€å¥çœ‹ç€é™Œç”Ÿçš„å•è¯æ…¢æ…¢ç¢ç£¨ã€‚(<del>ä¸¤å¹´åè‹±æ–‡ä¾ç„¶çƒ‚çš„å¯ä»¥</del>) è¿˜è®°å¾—ä¸¤å¹´å‰æˆ‘å®Œå…¨ä¸æ‡‚ <code>github</code> å¦‚ä½•ä½¿ç”¨ï¼Œ<code>git</code> æ“ä½œåˆæ˜¯ä»€ä¹ˆï¼Œé‚£äº› <code>github</code> çš„å¼€æºé¡¹ç›®ä¸ºä»€ä¹ˆç›®å½•é‚£ä¹ˆå¤æ‚ï¼Œé‚£ä¹ˆå¤šæˆ‘ä¸è®¤è¯†çš„æ–‡ä»¶ã€‚å‰ç«¯å¼€å‘ä¸æ˜¯åªæœ‰ <code>html</code> <code>css</code> <code>js</code> å—ï¼Ÿç°åœ¨æƒ³èµ·ä¹Ÿåªèƒ½ä¸ºé‚£æ—¶å€™çš„æ— çŸ¥æ©é¢ã€‚</p>
<p>å›é¦–ä¸€ä¸‹ä¸¤å¹´çš„ç»å†ï¼Œå¾ˆæƒŠè®¶æˆ‘å±…ç„¶è¿˜åœ¨ <code>web</code> å¼€å‘è¿™æ¡è·¯ä¸Šæ‘¸çˆ¬æ»šæ‰“ï¼Œå¾ˆéš¾è¿‡æˆ‘å¤§æ¦‚æ²¡æ³•è¿½å¾—ä¸Šé‚£äº›å­¦å®‰å…¨çš„åŒå­¦ä»¬ã€‚åœ¨æˆ‘å¯¹å¼€å‘è¿˜ä¸€æ— æ‰€çŸ¥çš„æ—¶å€™ï¼Œä»–ä»¬å·²ç»æ‹¥æœ‰äº†è®¸å¤šçš„å¼€å‘ç»éªŒã€‚åœ¨æˆ‘å¯¹å®‰å…¨ä¸€çŸ¥åŠè§£çš„æ—¶å€™ï¼Œä»–ä»¬å·²ç»å¯ä»¥å·¦ä¸€ä¸ªæ¼æ´å³ä¸€ä¸ªæ¼æ´çš„æŒ£é’±äº†ã€‚æˆ‘æƒ³æˆ‘å¯¹é’±æ€»æ˜¯æ›´æ•æ„Ÿçš„ï¼Œæ‰€ä»¥æˆ‘æ€»æ˜¯å¯¹è¢«è¿œè¿œç”©ä¸‹çš„é‚£å‡ å¹´æ—¶å…‰è€¿è€¿äºæ€€ã€‚ä½†åˆå¾ˆåº†å¹¸æˆ‘æ²¡æœ‰å¤ªè¿‡è‡ªæš´è‡ªå¼ƒ(æˆ–è€…è¯´æ²¡æœ‰å¤ªé•¿æ—¶é—´çš„è‡ªæš´è‡ªå¼ƒ)ï¼Œæˆ‘æ€»æ˜¯åœ¨ä¸åœåœ°èµ¶ï¼Œå°±åƒ800ç±³ä¸€æ ·ï¼Œæˆ‘è¿½ä¸ä¸Šåˆ«äººï¼Œæˆ‘å¾ˆéš¾è¿‡ï¼Œèº«ä½“ä¹Ÿå¾ˆç´¯ï¼Œä½†æˆ‘åœ¨åŠªåŠ›åœ°ä¸åœæ­¥äº†ã€‚ä¹Ÿä¸ºæ­¤åˆ»çš„è‡ªå·±æ²¡æœ‰è¢«æ»šæ»šè€Œæ¥çš„æ´ªæµæ‹å¼€è€Œåº†å¹¸ï¼Œæˆ‘è‡³å°‘ä¹Ÿè¿˜æ˜¯æœ‰ç‚¹é•¿å¤„çš„å§ã€‚</p>
<p>ä¸€è½¬çœ¼å°±8ç‚¹äº†ï¼Œå¤§æ¦‚å†™äº†20åˆ†é’Ÿã€‚å…¶ä¸­æ— æ•°æ¬¡åœä¸‹æ€è€ƒã€ç¢ç£¨ï¼Œå¸Œæœ›å†™å¾—æ›´å¥½ä¸€äº›ã€‚å¥½è®©å°†æ¥çš„æˆ‘ï¼Œ(ä¹Ÿè®¸å°±æ˜¯ä¸¤å¹´å)çœ‹å¾—æ›´åŠ èˆ’å¿ƒã€‚</p>
<p>å…¶å®è¯´å¾—æ˜¯å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±ï¼Œä½†æˆ‘æ›´åŠ ç»™ä¸¤å¹´åçš„è‡ªå·±ã€‚åœ¨2022å¹´ï¼Œä¸çŸ¥é“æˆ‘åˆæ˜¯å“ªä¸ªæ¨¡æ ·ã€‚</p>
<p>æ„Ÿè°¢ä¸¤å¹´å‰çš„è‡ªå·±å¾ˆæœæ–­åœ°é€‰æ‹©äº†æ–¹å‘ï¼Œä¹Ÿæ²¡æœ‰å¤ªè¿‡è’åºŸè¿™äº›æ—¶å…‰ã€‚è®©ä»Šå¤©çš„æˆ‘ä¹Ÿæœ‰ä¸œè¥¿å¯å†™ï¼Œæ‘¸å¾—å‡ºä¸€ç‚¹ä¼˜ç‚¹æ²¾æ²¾è‡ªå–œã€‚</p>
<p>ä½†æ„¿ä¸¤å¹´åçš„è‡ªå·±æ›´åŠ å¹¸è¿ä¸æˆåŠŸï¼Œæ„¿æˆ‘è¿™æ®µæ—¶æ—¥çš„åŠªåŠ›éƒ½æœ‰å›æŠ¥ï¼Œå¸Œæœ›è‡ªå·±æœªæ¥å¯ä»¥çš„è¿‡å¾—å¾ˆå¥½ã€‚</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 10</title>
    <url>/2020/10/10/xue-xi-bi-ji-2020-10-10/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-10"><a href="#å­¦ä¹ ç¬”è®°-2020-10-10" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-10"></a>å­¦ä¹ ç¬”è®° 2020-10-10</h1><blockquote>
<p>å†³å®šä»ä»Šå¤©å¼€å§‹æ¯å¤©è®°å½•å½“æ—¥å­¦ä¹ æ‰€å¾—ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="1-Object"><a href="#1-Object" class="headerlink" title="1. Object"></a>1. Object</h4><p><code>Object</code> æ˜¯ <code>ECMAScript</code> ä¸­æœ€å¸¸ç”¨çš„ç±»å‹ä¹‹ä¸€ã€‚</p>
<p>åˆ›å»º <code>Object</code> å®ä¾‹çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦å’Œ <code>Object</code> æ„é€ å‡½æ•°</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Sirine'</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>
<ul>
<li><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ–¹æ³•ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// æ¨èä½¿ç”¨ âœ”</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sirine'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">21</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>
<p>å¯¹è±¡ä¸­è·å–å±æ€§çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>ç‚¹è¯­æ³•</p>
</li>
<li><p>ä¸­æ‹¬å·è¯­æ³•</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ä»¥ä¸Šä¸¤ç§è¯­æ³•ç­‰ä»·</span></code></pre>
<p>ä½†åœ¨ä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•è·å–å±æ€§æ—¶å¯ä»¥ä¼ å…¥å˜é‡æˆ–æ˜¯åŒ…å«ç©ºæ ¼ç­‰å­—ç¬¦çš„é”®åã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> propertyName <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span>propertyName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// === console.log(person['name']);</span>
<span class="token comment" spellcheck="true">// é”®ååŒ…å«ç©ºæ ¼æ—¶å¿…é¡»ä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•ã€‚</span>
person<span class="token punctuation">[</span><span class="token string">'first name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Zhao'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token string">'first name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>
<h4 id="2-Array"><a href="#2-Array" class="headerlink" title="2. Array"></a>2. Array</h4><p><code>ECMAScript</code> ä¸­çš„æ•°ç»„ååˆ†è‡ªç”±ï¼Œæ•°ç»„å†…å…ƒç´ çš„ç±»å‹ä¸å—é™åˆ¶ï¼Œå¤§å°ä¹Ÿæ˜¯åŠ¨æ€çš„ã€‚</p>
<p>åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ä¹Ÿæ˜¯ä¸¤ç§ã€‚</p>
<ul>
<li><p><code>Array</code> æ„é€ å‡½æ•°</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 0 çš„ç©ºæ•°ç»„ã€‚</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 20 çš„ç©ºæ•°ç»„ã€‚</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 3 ï¼ŒåŒ…å« red blue green ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</span></code></pre>
</li>
</ul>
<ul>
<li><p>æ•°ç»„å­—é¢é‡</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º3ï¼ŒåŒ…å« red blue green ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</span>
<span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 0 çš„ç©ºæ•°ç»„ã€‚</span>
<span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•°ç»„ã€‚ç©ºä½å…ƒç´ ä¸º `undefined`;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> option <span class="token keyword">of</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>option <span class="token operator">===</span> undefined<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// true * 5</span>
<span class="token comment" spellcheck="true">// ç©ºä½å…ƒç´ åœ¨ map join ç­‰æ–¹æ³•ä¸­ä¼šè¢«è·³è¿‡ã€‚</span></code></pre>
</li>
</ul>
<p><code>ES6</code> å½“ä¸­æ–°å¢äº†ä¸¤ä¸ªåˆ›å»ºæ•°ç»„çš„é™æ€æ–¹æ³•ã€‚</p>
<ul>
<li><p><code>Array.from</code></p>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†ä»»ä½•å¯è¿­ä»£çš„ç»“æ„ä¾‹å¦‚ç±»æ•°ç»„ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<p>å¯è¿­ä»£ç»“æ„ä¸¾ä¾‹ï¼šå­—ç¬¦ä¸²ã€<code>Map</code> å®ä¾‹ï¼Œ <code>Set</code> å®ä¾‹ï¼Œæ‹¥æœ‰ <code>[Symbol.iterator]</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œå‡½æ•°çš„ <code>arguments</code> å¯¹è±¡ï¼Œ æºå¸¦æœ‰ç´¢å¼•é”®å€¼å’Œ <code>length</code> å±æ€§çš„å¯¹è±¡ã€‚</p>
<p>è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¢«è½¬æ¢çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ˜ å°„å‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ˜ å°„å‡½æ•°çš„ <code>this</code> æŒ‡å‘ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> x <span class="token operator">=</span><span class="token operator">></span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> x<span class="token operator">**</span><span class="token keyword">this</span><span class="token punctuation">.</span>exponent<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>exponent<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 4, 9, 16]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 4, 9, 16]</span></code></pre>
</li>
</ul>
<ul>
<li><p><code>Array.of</code></p>
<p>ç”¨äºæ›¿ä»£ <code>Array.prototype.slice.call(arguments)</code> ï¼Œå°†ä¼ å…¥çš„å‚æ•°è½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
</li>
</ul>
<p>æ•°ç»„çš„ç´¢å¼•å€¼å¯ä»¥åŠ¨æ€ä¿®æ”¹ï¼Œå¹¶ä¸”ä¼šç›´æ¥å½±å“åˆ°æ•°ç»„çš„é•¿åº¦ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
options<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [10, 9, 8, 7, 6, 5, 4, empty Ã— 3]</span>
options<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [10, 9, 8]</span>
options<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [10, 9, 8, empty Ã— 47, 50]</span></code></pre>
<p>åœ¨æ•°ç»„ä¸­è®¿é—®ä¸å­˜åœ¨çš„å…ƒç´ (ä¾‹å¦‚ä¸‹æ ‡è¶Šç•Œ)çš„æ—¶å€™ä¼šè¿”å› <code>undefined</code> ã€‚å‰é¢ä¹Ÿæåˆ°äº†è¢«è®¾ç½®ä¸º <code>empty</code> çš„æ•°ç»„å…ƒç´ è¢«è®¿é—®æ—¶ä¹Ÿæ˜¯è¢«å½“ä½œ <code>undefined</code> ã€‚</p>
<p>æ•°ç»„æœ€å¤šå¯ä»¥åŒ…å«çš„å…ƒç´ å€¼ä¸º <code>4 294 967 295</code> ã€‚</p>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li><code>instanceof</code></li>
<li><code>Array.isArray</code> </li>
</ul>
<p>ä¸¤è€…çš„åŒºåˆ«æ˜¯ <code>instanceof</code> çš„è¿”å›ç»“æœå–å†³äº <code>Array</code> æ„é€ å‡½æ•°(å³æ˜¯å¦ä¸ºæŸä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹)ï¼Œè€Œ <code>isArray</code> åªä¼šåˆ¤æ–­æ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p><code>Array</code> æ–°å¢çš„ä¸‰ä¸ªè¿­ä»£å™¨æ–¹æ³•ï¼š</p>
<ul>
<li><p><code>keys()</code></p>
<p>è¿”å›æ•°ç»„ç´¢å¼•çš„è¿­ä»£å™¨ã€‚</p>
</li>
<li><p><code>values()</code></p>
<p>è¿”å›æ•°ç»„å…ƒç´ çš„è¿­ä»£å™¨ã€‚</p>
</li>
<li><p><code>entries()</code></p>
<p>è¿”å›ç´¢å¼•å€¼å¯¹çš„è¿­ä»£å™¨ã€‚</p>
</li>
</ul>
<p>ä¸‰ä¸ªè¿­ä»£å™¨éƒ½å¯ä»¥é€šè¿‡ <code>Array.from</code> è½¬æ¢ä¸ºæ•°ç»„ã€‚ä¹Ÿå¯ä»¥ç”¨äº <code>for of</code> å¾ªç¯è¿­ä»£ã€‚</p>
<p><code>Array</code> æ–°å¢çš„å¤åˆ¶å’Œå¡«å……æ–¹æ³•ï¼š</p>
<ul>
<li><p><code>copyWithin(insertIndex, copyIndex, lastIndex)</code></p>
</li>
<li><p><code>fill(arg, startIndex, lastIndex)</code></p>
<p>ä¸¤ä¸ªæ–¹æ³•çš„ç´¢å¼•å€¼éƒ½æ”¯æŒè´Ÿå€¼ã€‚</p>
<p><code>copyWithin</code> ä» <code>copyIndex</code> å¼€å§‹å¤åˆ¶åˆ° <code>lastIndex</code> ç»“æŸ(å¯å¿½ç•¥)ï¼Œå¤åˆ¶åˆ° <code>insertIndex</code> ä½ç½®ã€‚è‹¥å¿½ç•¥å¤åˆ¶ç´¢å¼•åˆ™å…¨éƒ¨å¤åˆ¶ã€‚</p>
<p><code>fill</code> æ–¹æ³•å°†ç¬¬ä¸€ä¸ªå‚æ•°å¡«å……åˆ° <code>startIndex</code> å¼€å§‹åˆ° <code>lastIndex</code> å‰ä¸€ä¸ªä½ç½®ï¼Œè‹¥å¿½ç•¥ç´¢å¼•å€¼åˆ™æ•´ä¸ªæ•°ç»„è¿›è¡Œå¡«å……ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•çš„æ“ä½œéƒ½æ˜¯å¯¹åŸæœ‰å…ƒç´ çš„è¦†ç›–ã€‚</p>
</li>
</ul>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="break-continue"><a href="#break-continue" class="headerlink" title="break/continue"></a>break/continue</h3><p>éè¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„ä¸èƒ½ä¸ä¸‰å…ƒè¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">continue</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// æ²¡æœ‰é—®é¢˜</span>

<span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¯­æ³•é”™è¯¯</span></code></pre>
<h4 id="æ ‡ç­¾ç”¨æ³•ï¼š"><a href="#æ ‡ç­¾ç”¨æ³•ï¼š" class="headerlink" title="æ ‡ç­¾ç”¨æ³•ï¼š"></a>æ ‡ç­¾ç”¨æ³•ï¼š</h4><p>é€‚ç”¨äºå¤šå±‚å¾ªç¯åµŒå¥—è·³å‡ºçš„åœºæ™¯ã€‚</p>
<pre class=" language-js"><code class="language-js">outer<span class="token punctuation">:</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token keyword">break</span> outer<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è‹¥æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è·³å‡ºè‡³æœ€å¤–å±‚ã€‚</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Done!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="ä»»åŠ¡ï¼š"><a href="#ä»»åŠ¡ï¼š" class="headerlink" title="ä»»åŠ¡ï¼š"></a>ä»»åŠ¡ï¼š</h4><h5 id="1-æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼"><a href="#1-æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼" class="headerlink" title="1. æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼"></a>1. æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼</h5><p>æ­¤ä»£ç æœ€åä¸€æ¬¡ <code>alert</code> å€¼æ˜¯å¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ç­”æ¡ˆä¸º <code>1</code>  ï¼Œå¾ªç¯ä½“å†…ä½¿ç”¨äº†åç½®è‡ªå‡ï¼Œé‚£ä¹ˆåœ¨å¼¹å‡ºåæ‰ä¼šå¯¹ <code>i</code> è‡ªå‡ï¼Œå½“ <code>i</code> ä¸º <code>1</code> æ—¶ï¼Œå¼¹å‡ºæ˜¾ç¤ºï¼Œç„¶åè‡ªå‡ä¸º <code>0</code> , å†æ¬¡åˆ¤æ–­å¾ªç¯æ¡ä»¶ï¼Œä¸ç¬¦åˆï¼Œä¸å†è¿›å…¥å¾ªç¯ã€‚</p>
<h5 id="2-while-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"><a href="#2-while-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ" class="headerlink" title="2. while å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"></a>2. while å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ</h5><p>ä»¥ä¸‹ä¸¤ä¸ªå¾ªç¯çš„ <code>alert</code> å€¼æ˜¯å¦ç›¸åŒï¼Ÿ</p>
<ol>
<li><p>å‰ç¼€å½¢å¼ <code>++i</code>:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<ol start="2">
<li><p>åç¼€å½¢å¼ <code>i++</code></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">++</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<p>ä¸¤ä¸ªå¾ªç¯çš„ <code>alert</code> å€¼å‰å››æ¬¡ç›¸ç­‰ï¼Œå› ä¸ºä¸ç®¡æ˜¯å‰ç½®è¿˜æ˜¯åç½®ï¼Œ<code>i</code> çš„è‡ªå¢éƒ½åœ¨æ¡ä»¶åˆ¤æ–­å¤„å®Œæˆï¼Œå¯¹äº <code>alert</code> ä¸å½±å“ã€‚</p>
<p>ä½†æ˜¯è‡ªå¢çš„æ—¶é—´å½±å“äº†å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ã€‚</p>
<p>å› ä¸ºç¬¬ä¸€ä¸ªå¾ªç¯æ˜¯è‡ªå¢åå†åˆ¤æ–­ï¼Œæ¯æ¬¡å¾ªç¯çš„ <code>i</code> ä¸º <code>1, 2, 3, 4, 5</code> , ç¬¬äº”æ¬¡å·²ç»æ— æ³•æ»¡è¶³æ¡ä»¶åˆ¤æ–­ï¼Œä¸å†è¿›å…¥å¾ªç¯ï¼Œæ‰€ä»¥åªæ‰“å°äº†å››æ¬¡ã€‚</p>
<p>ç¬¬äºŒä¸ªå¾ªç¯æ˜¯è‡ªå¢å‰åˆ¤æ–­ï¼Œåˆ¤æ–­æ—¶çš„ <code>i</code> å€¼ä¾æ¬¡ä¸º <code>0, 1, 2, 3, 4, 5</code> ï¼Œå› æ­¤è¯¥å¾ªç¯å¤šäº†ä¸€æ¬¡è¿›å…¥å¾ªç¯çš„æœºä¼šï¼Œå› ä¸ºè¿›å…¥å¾ªç¯æ—¶ <code>i</code> å·²ç»å®Œæˆè‡ªå¢ï¼Œæ‰€ä»¥æ‰“å°çš„å€¼ä¾æ¬¡ä¸º <code>1, 2, 3, 4, 5</code> ã€‚</p>
<h5 id="3-for-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"><a href="#3-for-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ" class="headerlink" title="3. for å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"></a>3. for å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ</h5><p>ä¸¤æ¬¡å¾ªç¯ <code>alert</code> å€¼æ˜¯å¦ç›¸åŒï¼Ÿ</p>
<ol>
<li><p>åç¼€å½¢å¼ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<ol start="2">
<li><p>å‰ç¼€å½¢å¼ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<p>ä¸¤æ¬¡å¾ªç¯æ˜¾ç¤ºçš„å€¼å®Œå…¨ç›¸åŒï¼Œå› ä¸º <code>for</code> å¾ªç¯çš„è‡ªå¢æ¡ä»¶æ˜¯å•ç‹¬æ‰§è¡Œï¼Œä¸ä¸æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ä¸€èµ·ã€‚å†™æˆ <code>while</code> å¾ªç¯å°±æ˜¯ç±»ä¼¼äºï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// or</span>
  <span class="token operator">++</span>i<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™æ ·çš„è‡ªå¢æ— è®ºæ˜¯å‰ç½®è¿˜æ˜¯åç½®éƒ½æ²¡æœ‰å½±å“ã€‚</p>
<h5 id="4-ä½¿ç”¨-for-å¾ªç¯è¾“å‡ºå¶æ•°"><a href="#4-ä½¿ç”¨-for-å¾ªç¯è¾“å‡ºå¶æ•°" class="headerlink" title="4. ä½¿ç”¨ for å¾ªç¯è¾“å‡ºå¶æ•°"></a>4. ä½¿ç”¨ for å¾ªç¯è¾“å‡ºå¶æ•°</h5><p>ä½¿ç”¨ <code>for</code> å¾ªç¯è¾“å‡ºä» <code>2</code> åˆ° <code>10</code> çš„å¶æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">11</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 2 4 6 8 10</span></code></pre>
<h5 id="5-ä½¿ç”¨-while-æ›¿æ¢-for"><a href="#5-ä½¿ç”¨-while-æ›¿æ¢-for" class="headerlink" title="5. ä½¿ç”¨ while æ›¿æ¢ for"></a>5. ä½¿ç”¨ while æ›¿æ¢ for</h5><p>é‡å†™ä»£ç ï¼Œåœ¨ä¿è¯ä¸æ”¹å˜å…¶è¡Œä¸ºçš„æƒ…å†µä¸‹ï¼Œå°† <code>for</code> å¾ªç¯æ›´æ”¹ä¸º <code>while</code>ï¼ˆè¾“å‡ºåº”ä¿æŒä¸å˜ï¼‰ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token template-string"><span class="token string">`number </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token template-string"><span class="token string">`number </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h5 id="6-é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢"><a href="#6-é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢" class="headerlink" title="6. é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢"></a>6. é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢</h5><p>ç¼–å†™ä¸€ä¸ªæç¤ºç”¨æˆ·è¾“å…¥å¤§äº <code>100</code> çš„æ•°å­—çš„å¾ªç¯ã€‚å¦‚æœç”¨æˆ·è¾“å…¥å…¶ä»–æ•°å€¼ â€”â€” è¯·ä»–é‡æ–°è¾“å…¥ã€‚</p>
<p>å¾ªç¯ä¸€ç›´åœ¨è¯·æ±‚ä¸€ä¸ªæ•°å­—ï¼Œç›´åˆ°ç”¨æˆ·è¾“å…¥äº†ä¸€ä¸ªå¤§äº <code>100</code> çš„æ•°å­—ã€å–æ¶ˆè¾“å…¥æˆ–è¾“å…¥äº†ä¸€ä¸ªç©ºè¡Œä¸ºæ­¢ã€‚</p>
<p>åœ¨è¿™æˆ‘ä»¬å‡è®¾ç”¨æˆ·åªä¼šè¾“å…¥æ•°å­—ã€‚åœ¨æœ¬é¢˜ç›®ä¸­ï¼Œä¸éœ€è¦å¯¹éæ•°å€¼è¾“å…¥è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'please input a number greater than 100!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>input <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'input canceled.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'you enter a nothing.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  input <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'please input a number greater than 100!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>å‚è€ƒè§£å†³æ–¹æ¡ˆï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> num<span class="token punctuation">;</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
  num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Enter a number greater than 100?"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä»£ç ç®€æ´ï¼Œåˆ©ç”¨äº† <code>do while</code> å¾ªç¯çš„ç‰¹æ€§ã€‚</p>
<h5 id="7-è¾“å‡ºç´ æ•°"><a href="#7-è¾“å‡ºç´ æ•°" class="headerlink" title="7. è¾“å‡ºç´ æ•°"></a>7. è¾“å‡ºç´ æ•°</h5><p>å¤§äº <code>1</code> ä¸”ä¸èƒ½è¢«é™¤äº† <code>1</code> å’Œå®ƒæœ¬èº«ä»¥å¤–çš„ä»»ä½•æ•°æ•´é™¤çš„æ•´æ•°å«åš<a href="https://en.wikipedia.org/wiki/Prime_number" target="_blank" rel="noopener">ç´ æ•°</a>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œ<code>n &gt; 1</code> ä¸”ä¸èƒ½è¢« <code>1</code> å’Œ <code>n</code> ä»¥å¤–çš„ä»»ä½•æ•°æ•´é™¤çš„æ•´æ•°ï¼Œè¢«ç§°ä¸ºç´ æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>5</code> æ˜¯ç´ æ•°ï¼Œå› ä¸ºå®ƒä¸èƒ½è¢« <code>2</code>ã€<code>3</code> å’Œ <code>4</code> æ•´é™¤ï¼Œä¼šäº§ç”Ÿä½™æ•°ã€‚</p>
<p><strong>å†™ä¸€ä¸ªå¯ä»¥è¾“å‡º <code>2</code> åˆ° <code>n</code> ä¹‹é—´çš„æ‰€æœ‰ç´ æ•°çš„ä»£ç ã€‚</strong></p>
<p>å½“ <code>n = 10</code>ï¼Œç»“æœè¾“å‡º <code>2ã€3ã€5ã€7</code>ã€‚</p>
<p>P.S. ä»£ç åº”é€‚ç”¨äºä»»ä½• <code>n</code>ï¼Œè€Œä¸æ˜¯å¯¹ä»»ä½•å›ºå®šå€¼è¿›è¡Œç¡¬æ€§è°ƒæ•´ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> isPrime <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'the n invalid'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>num <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      num<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> num <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    num<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="JavaScript-æ·±å…¥å­¦ä¹ "><a href="#JavaScript-æ·±å…¥å­¦ä¹ " class="headerlink" title="JavaScript æ·±å…¥å­¦ä¹ "></a>JavaScript æ·±å…¥å­¦ä¹ </h2><h3 id="æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•"><a href="#æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•" class="headerlink" title="æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•"></a>æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•</h3><h4 id="unshift-æ–¹æ³•"><a href="#unshift-æ–¹æ³•" class="headerlink" title="unshift æ–¹æ³•"></a>unshift æ–¹æ³•</h4><pre class=" language-js"><code class="language-js">Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myUnShift <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº"><a href="#æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº" class="headerlink" title="æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº"></a>æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getBytes</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">255</span><span class="token punctuation">)</span> len<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'today'</span><span class="token punctuation">,</span> <span class="token string">'ä»Šå¤©'</span><span class="token punctuation">,</span> <span class="token string">'ok'</span><span class="token punctuation">,</span> <span class="token string">'haha'</span><span class="token punctuation">,</span> <span class="token string">'you say ä»€ä¹ˆ'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">getBytes</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">getBytes</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//  ["ok", "ä»Šå¤©", "haha", "today", "you say ä»€ä¹ˆ"]</span></code></pre>
<h3 id="æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„-typeof-å‡½æ•°"><a href="#æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„-typeof-å‡½æ•°" class="headerlink" title="æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„ typeof å‡½æ•°"></a>æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„ typeof å‡½æ•°</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myTypeof</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> arg<span class="token punctuation">;</span>
  <span class="token keyword">var</span> toStr <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'null'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> toStr<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> type<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Array"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Object"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "number"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "string"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "boolean"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Number"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "String"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Boolean"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "null"</span>
<span class="token function">myTypeof</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "undefined"</span></code></pre>
<h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><pre class=" language-js"><code class="language-js">Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>unique <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i<span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [1, 2, 3, 5, "a"]</span>

Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>unique <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// [1, 2, 3, 5, "a"]</span></code></pre>
<h3 id="å­—ç¬¦ä¸²å»é‡"><a href="#å­—ç¬¦ä¸²å»é‡" class="headerlink" title="å­—ç¬¦ä¸²å»é‡"></a>å­—ç¬¦ä¸²å»é‡</h3><pre class=" language-js"><code class="language-js">String<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>unique <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    newStr <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'122132312341nfskdjfhhhrbbfjsdhfuke'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1234nfskdjhrbue</span></code></pre>
<h3 id="é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦"><a href="#é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦" class="headerlink" title="é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦"></a>é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> find <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">var</span> i<span class="token punctuation">;</span>
  <span class="token keyword">var</span> j<span class="token punctuation">;</span>
  <span class="token keyword">var</span> flag<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tmp1 <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> tmp2 <span class="token operator">=</span> str<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp1 <span class="token operator">===</span> tmp2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token keyword">return</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'12213a231234qqqqeuerhkrjbrkfmigrhiofjcrjef'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// a</span></code></pre>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li><p><code>arguments</code> ç±»å‹ä¸º <code>object</code></p>
</li>
<li><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token keyword">function</span> a <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test <span class="token operator">===</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a is not defined</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Æ’ a() {</span>
<span class="token comment" spellcheck="true">//   console.log(a);</span>
<span class="token comment" spellcheck="true">//   console.log(test);</span>
<span class="token comment" spellcheck="true">//   console.log(test.name);</span>
<span class="token comment" spellcheck="true">//   console.log(test === a);</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token comment" spellcheck="true">// Æ’ a() {</span>
<span class="token comment" spellcheck="true">//   console.log(a);</span>
<span class="token comment" spellcheck="true">//   console.log(test);</span>
<span class="token comment" spellcheck="true">//   console.log(test.name);</span>
<span class="token comment" spellcheck="true">//   console.log(test === a);</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token comment" spellcheck="true">// a</span>
<span class="token comment" spellcheck="true">// true</span></code></pre>
</li>
</ul>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled="" type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-4</title>
    <url>/2020/06/07/vuenote-4/</url>
    <content><![CDATA[<h1 id="Vueç¬”è®°-â‘£"><a href="#Vueç¬”è®°-â‘£" class="headerlink" title="Vueç¬”è®° â‘£"></a>Vueç¬”è®° â‘£</h1><h2 id="ğŸ“ƒ-æ­£æ–‡"><a href="#ğŸ“ƒ-æ­£æ–‡" class="headerlink" title="ğŸ“ƒ æ­£æ–‡"></a>ğŸ“ƒ æ­£æ–‡</h2><h3 id="â‘ -Vue-å•æ–‡ä»¶ç»„ä»¶"><a href="#â‘ -Vue-å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="â‘  Vue å•æ–‡ä»¶ç»„ä»¶"></a>â‘  Vue å•æ–‡ä»¶ç»„ä»¶</h3><h4 id="1-1-style-ä¸­çš„-scoped"><a href="#1-1-style-ä¸­çš„-scoped" class="headerlink" title="1.1 style ä¸­çš„ scoped"></a>1.1 style ä¸­çš„ scoped</h4><p>åœ¨ <code>Vue</code> çš„å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œæœ‰ <code>template</code> , <code>script</code>, <code>style</code> ä¸‰ç§æ ‡ç­¾ã€‚å…¶ä¸­çš„ <code>style</code> æœ‰ä¸€ä¸ª <code>scoped</code> å±æ€§ã€‚åœ¨æ–‡æ¡£ä¸­çš„è§£é‡Šä¸º</p>
<blockquote>
<p>å½“ <code>style</code>  æ ‡ç­¾æœ‰ <code>scoped</code> å±æ€§æ—¶ï¼Œå®ƒçš„ <code>CSS</code> åªä½œç”¨äºå½“å‰ç»„ä»¶ä¸­çš„å…ƒç´ ã€‚è¿™ç±»ä¼¼äº <code>Shadow DOM</code> ä¸­çš„æ ·å¼å°è£…ã€‚</p>
</blockquote>
<p>å®é™…äº§ç”Ÿçš„æ•ˆæœä¸ºï¼Œå½“å‰é¡µé¢çš„æŸäº›å…ƒç´ éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç‰¹å±æ€§ï¼Œè€Œæˆ‘ä»¬å†™çš„æ ·å¼éƒ½ä¼šåŒ¹é…è¿™ä¸ªç‹¬ç‰¹çš„å±æ€§æ¥ä¿æŒä¸è¢«å…¶ä½™ç»„ä»¶å½±å“ã€‚</p>
<a id="more"></a>

<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style language-css">
<span class="token selector"><span class="token class">.example</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>è½¬æ¢ä¸ºï¼š</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
<span class="token selector"><span class="token class">.example</span><span class="token attribute">[data-v-f3f3eg9]</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example<span class="token punctuation">"</span></span> <span class="token attr-name">data-v-f3f3eg9</span><span class="token punctuation">></span></span>hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªç‹¬ç‰¹å±æ€§åªä¼šå‡ºç°åœ¨å½“å‰é¡µé¢çš„ç›´æ¥ä½¿ç”¨çš„æ ‡ç­¾ä¸Šï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„ç»„ä»¶çš„æœ€å¤–å±‚çˆ¶å…ƒç´ ã€‚é‚£ä¹ˆæƒ³è¦æ ¹æ®è½¬æ¢è§„åˆ™ï¼Œæ˜¯æ— æ³•åŒ¹é…åˆ°è¿™ä¸ªç»„ä»¶çš„å†…éƒ¨å…ƒç´ çš„ã€‚æƒ³è¦å†²ç ´è¿™ä¸ªè§„åˆ™è€Œä¸å–æ¶ˆ <code>scoped</code> å±æ€§ï¼Œå°±éœ€è¦æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚</p>
<p>åŸç”Ÿä¸­å¯ä»¥ç¼–å†™ä»¥ä¸‹ä»£ç æ¥ä½¿æ ·å¼ä½œç”¨å˜æ·±ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style language-css">
<span class="token selector"><span class="token class">.a</span> >>> <span class="token class">.b</span> </span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>
<p>è½¬æ¢ä¸ºï¼š</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.a</span><span class="token attribute">[data-v-f3f3eg9]</span> <span class="token class">.b</span> </span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation">}</span></code></pre>
<p>é‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œ<code>css</code> é¢„å¤„ç†å™¨ä¹Ÿè®¸æ— æ³•è§£æè¿™ç§è¯­æ³•ï¼Œå¯ä»¥ç”¨ <code>/deep/</code> å’Œ <code>::v-deep</code> æ¥ä»£æ›¿ã€‚</p>
<h4 id="1-2-Node-API-æœåŠ¡å™¨é…ç½®"><a href="#1-2-Node-API-æœåŠ¡å™¨é…ç½®" class="headerlink" title="1.2  Node API æœåŠ¡å™¨é…ç½®"></a>1.2  Node API æœåŠ¡å™¨é…ç½®</h4><h5 id="1-2-1-æƒ³è¦å·æ‡’çš„å¼€å§‹"><a href="#1-2-1-æƒ³è¦å·æ‡’çš„å¼€å§‹" class="headerlink" title="1.2.1 æƒ³è¦å·æ‡’çš„å¼€å§‹"></a>1.2.1 æƒ³è¦å·æ‡’çš„å¼€å§‹</h5><p>å†™é¡¹ç›®çš„æ—¶å€™ï¼Œå› ä¸ºåœ¨æœ¬åœ°è·‘çš„è¯ï¼Œè¦å¼€ <code>MySQL</code> æœåŠ¡è¿˜è¦å¼€åç«¯ä¸€ä¸ªæœåŠ¡ï¼Œæˆ‘è§‰å¾—çƒ¦ä¸”å ç”¨èµ„æºã€‚æ‰€ä»¥å‡†å¤‡é…ç½®åˆ°æˆ‘çš„å°éœ¸ç‹æœºå™¨ä¸Šã€‚</p>
<h5 id="1-2-2-é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡"><a href="#1-2-2-é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡" class="headerlink" title="1.2.2 é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡"></a>1.2.2 é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡</h5><p>å› ä¸ºåŸå…ˆåœ¨å°éœ¸ç‹é‡Œè£…å¥½äº†å®å¡” <code>Linux</code> é¢æ¿ï¼Œæ‰€ä»¥ç›´æ¥å»æœç´¢ <code>pm2</code> ç®¡ç†å™¨ï¼Œä½†æ˜¯æˆ‘éšæ‰‹ç‚¹å‡»å®‰è£…çš„å…¶ä»–è½¯ä»¶éƒ½è£…å¥½äº†ï¼Œ <code>pm2</code> ç®¡ç†å™¨è¿˜æ˜¯è·Ÿæ²¡è£…ä¼¼çš„ã€‚äºæ˜¯æœç´¢äº†ä¸€ç•ªï¼Œæ‰“å°å‡ºå®‰è£…æ—¶çš„æ—¥å¿—ä¿¡æ¯ä¸€çœ‹ï¼Œå‘ç°æ— æ³•è¿æ¥åˆ° <code>github</code> ï¼Œäºæ˜¯ç…§ç€è¿™ä¸ªæ–¹æ³•å»æœç´¢ï¼Œåˆæ˜¯æ›´æ”¹ <code>github</code> çš„ <code>ip</code> åœ°å€ï¼Œåˆæ˜¯é…ç½® <code>git</code> çš„è´¦å·ä¿¡æ¯ï¼Œåˆæ˜¯è®¾ç½®ä»£ç†ã€‚</p>
<p><strong>é€šé€šæ²¡æœ‰ç”¨</strong></p>
<p>äºæ˜¯åˆä»”ç»†æŸ¥çœ‹äº†ä¸€ä¸‹æŠ¥é”™ä¿¡æ¯ï¼Œå‘ç°æ˜¾ç¤º <code>443</code> é”™è¯¯ã€‚æˆ‘è‡ªå·±æƒ³äº†ä¸€ä¸‹ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰æ”¾è¡Œç«¯å£çš„åŸå› ï¼Œäºæ˜¯å»æ§åˆ¶å°æŠŠå‡ºå…¥çš„ <code>443</code> ç«¯å£éƒ½æ”¾äº†ä¸€ä¸‹ã€‚éªŒè¯å‡ºæ¥æ˜¯å‡ºè¡Œçš„ç«¯å£çš„é—®é¢˜ã€‚</p>
<h5 id="1-2-3-å®‰è£…å¥½çš„ç»“æœ"><a href="#1-2-3-å®‰è£…å¥½çš„ç»“æœ" class="headerlink" title="1.2.3 å®‰è£…å¥½çš„ç»“æœ"></a>1.2.3 å®‰è£…å¥½çš„ç»“æœ</h5><p>å®‰è£…å¥½ä»¥åè¿˜æ˜¯æ²¡æœ‰æ­£å¸¸è¿è¡Œï¼Œå› ä¸ºæ–°å»ºçš„é¡¹ç›®æ— æ³•è¿›è¡Œæ˜ å°„ï¼Œä¹ŸæŸ¥ä¸åˆ°ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯â€¦â€¦</p>
<p>äºæ˜¯åœ¨å¯ä»¥è¿é€š <code>github</code> çš„æƒ…å†µä¸‹ï¼Œæˆ‘åªå¥½è‡ªå·±ç”¨ <code>npm</code> ä¸‹è½½äº† <code>forever</code> æ¥è¿è¡Œï¼Œæ‡’å¾—ä¸‹ <code>pm2</code> å†å¼„äº†ã€‚</p>
<h4 id="1-3-token-çš„ä½¿ç”¨"><a href="#1-3-token-çš„ä½¿ç”¨" class="headerlink" title="1.3  token çš„ä½¿ç”¨"></a>1.3  token çš„ä½¿ç”¨</h4><p><code>token</code> è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘ä¹Ÿæ˜¯ç»å†äº†ä»å®Œå…¨å¼„ä¸æ‡‚åˆ°ç›®å‰å¤§æ¦‚çŸ¥é“ä½œç”¨çš„æƒ…å†µäº†ï¼Œè¿™ä¸€æ¬¡å­¦ç€å†™åå°ç®¡ç†ç³»ç»Ÿï¼Œä¹Ÿç”¨åˆ°äº† <code>token</code> ã€‚å¤§æ¦‚å†™ä¸€ä¸‹æ–°äº†è§£åˆ°çš„ä¸œè¥¿ã€‚</p>
<h5 id="1-3-1-æŒä¹…æ€§-ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶"><a href="#1-3-1-æŒä¹…æ€§-ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶" class="headerlink" title="1.3.1 æŒä¹…æ€§/ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶"></a>1.3.1 æŒä¹…æ€§/ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶</h5><p>åœ¨è·å– <code>token</code> ä¹‹åæ˜¯éœ€è¦ä¸´æ—¶ä¿å­˜ä½è¿™ä¸ªå­—ç¬¦ä¸²æ¥ä½¿ç”¨çš„ï¼Œè€Œæˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯å­˜å‚¨åœ¨ <code>localstorage</code> ä¸­ï¼Œç„¶ååˆæƒ³ç€ï¼Œä¸€ç›´å­˜åœ¨é‡Œå¤´ï¼Œæ¯æ¬¡æ‰“å¼€ä¸éƒ½ç›´æ¥ç™»ä¸Šäº†å—ï¼Ÿ</p>
<p>è™½ç„¶ä¹‹å‰å†™äº†ç‚¹é¡¹ç›®ä½¿ç”¨è¿‡ <code>token</code> ï¼Œä½†å½“æ—¶é‚£ä¸ªé¡¹ç›®çš„ç™»é™†æœºåˆ¶æ˜¯ä¹ä¸ç‰ˆçš„ï¼Œäºæ˜¯æˆ‘ä¹Ÿå°±æ²¡åœ¨æ„ã€‚</p>
<p>è¿™æ¬¡äº†è§£åˆ° <code>token</code> å¯ä»¥å­˜å‚¨åœ¨ <code>sessionStorage</code> ä¸­æ¥è¿›è¡Œä¼šè¯æœŸé—´çš„è´¦æˆ·éªŒè¯ã€‚å¯ä»¥ä¿è¯è¿™ä¸ª <code>token</code> åªåœ¨å½“å‰ç½‘ç«™æ‰“å¼€æœŸé—´ç”Ÿæ•ˆã€‚</p>
<h4 id="1-4-éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶"><a href="#1-4-éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶" class="headerlink" title="1.4 éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶"></a>1.4 éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶</h4><p>ä¸€ä¸ªéå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œå³åœ¨éç™»é™†çŠ¶æ€ä¸‹å¯¹éç™»é™†é¡µé¢çš„è®¿é—®é™åˆ¶ã€‚å¯ä»¥ä½¿ç”¨è·¯ç”±å¯¼èˆªå®ˆå«æ¥æ§åˆ¶è®¿é—®æƒé™ã€‚</p>
<p>åœ¨æœªç™»å½•çš„çŠ¶æ€ä¸‹ï¼Œæ˜¯æ²¡æœ‰ <code>token</code> çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>router.beforeEach</code> æ¥æ§åˆ¶ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// to ä»£è¡¨å°†è¦è®¿é—®çš„è·¯å¾„</span>
  <span class="token comment" spellcheck="true">// from ä»£è¡¨ä»å“ªä¸ªè·¯å¾„è€Œæ¥</span>
  <span class="token comment" spellcheck="true">// next ä¸ºä¸€ä¸ªå‡½æ•°ä¸ºæ¥ä¸‹æ¥è·³è½¬</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">'/login'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="1-5-vscode-è¯­æ³•æ ¼å¼åŒ–ä¸-eslint-å†²çªé—®é¢˜"><a href="#1-5-vscode-è¯­æ³•æ ¼å¼åŒ–ä¸-eslint-å†²çªé—®é¢˜" class="headerlink" title="1.5 vscode è¯­æ³•æ ¼å¼åŒ–ä¸ eslint å†²çªé—®é¢˜"></a>1.5 vscode è¯­æ³•æ ¼å¼åŒ–ä¸ eslint å†²çªé—®é¢˜</h4><p>åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œ<code>eslint</code> æœ‰ä¸€äº›è§„åˆ™æ¯”è¾ƒè‹›åˆ»ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²åªèƒ½ç”¨å•å¼•å·è¡¨ç¤ºï¼Œä¸èƒ½æœ‰è¡Œå°¾ç©ºæ ¼ï¼Œæ¯ä¸ªæ–‡ä»¶æœ€åéœ€è¦èµ·ä¸€ä¸ªæ–°è¡Œã€‚</p>
<p>é‚£ä¹ˆåœ¨ <code>vscode</code> çš„è‡ªåŠ¨æ ¼å¼åŒ–ä¸ <code>eslint</code> äº§ç”Ÿå†²çªçš„æ—¶å€™éœ€è¦å¯¹å…¶ä¸­ä¸€æ–¹è¿›è¡Œé…ç½®ï¼Œ <code>eslint</code> çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬éƒ½ä¼šåœ¨é¡¹ç›®åˆ›å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆã€‚è¿™é‡Œæä¸€ä¸‹ <code>vscode</code> çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>.prettierrc</code> æ¥è¿›è¡Œé…ç½®ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//æ ¼å¼åŒ–æ—¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·</span>
    <span class="token string">"semi"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//æ ¼å¼åŒ–æ—¶ç”Ÿæˆå•å¼•å·</span>
    <span class="token string">"singleQuote"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//å•è¡Œæ‰€å…è®¸çš„å­—ç¬¦é•¿åº¦ è‹¥è¶…è¿‡åˆ™ä¼šè‡ªåŠ¨æ¢è¡Œ</span>
    <span class="token string">"printWidth"</span><span class="token punctuation">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="1-6-è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥"><a href="#1-6-è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥" class="headerlink" title="1.6 è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥"></a>1.6 è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥</h4><p>åœ¨ä½¿ç”¨è·¯ç”±è·³è½¬åˆ°æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨è·¯å¾„ä¸­æ”¾å…¥ä¸€ä¸ª <code>id</code> æ¥è·å–æŒ‡å®šçš„æ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥åœ¨è·¯ç”±é…ç½®æ—¶ï¼ŒæŒ‡å®š <code>props</code> ä¸º <code>true</code> æ¥è¡¨æ˜å‚æ•°çš„æ³¨å…¥ï¼Œç„¶åå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>props</code> æ¥æ¥æ”¶è¿™ä¸ªå‚æ•°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token string">'/categories/edit/:id'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/CategoryEdit.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'CategoryEdit'</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ç„¶å <code>id</code> å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªå˜é‡ç›´æ¥ä½¿ç”¨</p>
<h3 id="â‘¡-é¡¹ç›®ä¼˜åŒ–"><a href="#â‘¡-é¡¹ç›®ä¼˜åŒ–" class="headerlink" title="â‘¡ é¡¹ç›®ä¼˜åŒ–"></a>â‘¡ é¡¹ç›®ä¼˜åŒ–</h3><h4 id="2-1-é¡¹ç›®ä¼˜åŒ–ç­–ç•¥"><a href="#2-1-é¡¹ç›®ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="2.1 é¡¹ç›®ä¼˜åŒ–ç­–ç•¥"></a>2.1 é¡¹ç›®ä¼˜åŒ–ç­–ç•¥</h4><h5 id="2-1-1-ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š"><a href="#2-1-1-ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š" class="headerlink" title="2.1.1 ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š"></a>2.1.1 ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š</h5><p>æ‰“åŒ…æ—¶ï¼Œä¸ºäº†ç›´è§‚åœ°å‘ç°é¡¹ç›®ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œå¯ä»¥åœ¨æ‰“åŒ…æ—¶ç”ŸæˆæŠ¥å‘Šã€‚ç”ŸæˆæŠ¥å‘Šçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<h6 id="â‘ -é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š"><a href="#â‘ -é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š" class="headerlink" title="â‘  é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š"></a>â‘  é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š</h6><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// é€šè¿‡ vue-cli çš„å‘½ä»¤é€‰é¡¹å¯ä»¥ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š</span>
<span class="token comment" spellcheck="true">// --report é€‰é¡¹å¯ä»¥ç”Ÿæˆ report.html ä»¥å¸®åŠ©åˆ†æåŒ…å†…å®¹</span>
vue<span class="token operator">-</span>cli<span class="token operator">-</span>service build <span class="token operator">--</span>report</code></pre>
<h6 id="â‘¡-é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š"><a href="#â‘¡-é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š" class="headerlink" title="â‘¡ é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š"></a>â‘¡ é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š</h6><p>åœ¨å¯è§†åŒ–çš„UIé¢æ¿ä¸­ï¼Œé€šè¿‡<strong>æ§åˆ¶å°</strong>å’Œ<strong>åˆ†æ</strong>é¢æ¿ï¼Œå¯ä»¥æ–¹ä¾¿åœ°çœ‹åˆ°é¡¹ç›®ä¸­å­˜åœ¨çš„é—®é¢˜ã€‚</p>
<h5 id="2-1-2-ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£"><a href="#2-1-2-ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£" class="headerlink" title="2.1.2 ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£"></a>2.1.2 ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue é¡¹ç›®çš„å¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼ï¼Œå…¬ç”¨åŒä¸€ä¸ªæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ (src/main.js)ã€‚ä¸ºäº†å°†é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸å‘å¸ƒè¿‡ç¨‹åˆ†ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸¤ç§æ¨¡å¼å„è‡ªæŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ï¼Œå³ï¼š</p>
<p>â‘  å¼€å‘æ¨¡å¼çš„å…¥å£æ–‡ä»¶ä¸º src/main-dev.js</p>
<p>â‘¡ å‘å¸ƒæ¨¡å¼çš„å…¥å£æ–‡ä»¶ä¸º src/main-prod.js</p>
<p>åœ¨ <code>vue.config.js</code> å¯¼å‡ºçš„é…ç½®å¯¹è±¡ä¸­ï¼Œæ–°å¢ <code>configureWebpack</code> æˆ– <code>chainWebpack</code> èŠ‚ç‚¹ï¼Œ æ¥è‡ªå®šä¹‰ <code>webpack</code> çš„æ‰“åŒ…é…ç½®ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œ <code>configureWebpack</code> å’Œ <code>chainWebpack</code> çš„ä½œç”¨ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬ä¿®æ”¹ <code>webpack</code> é…ç½®çš„æ–¹å¼ä¸åŒï¼š</p>
<p>â‘  <code>chainWebpack</code> é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ <code>webpack</code> é…ç½®ã€‚</p>
<p>â‘¡ <code>configureWebpack</code> é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ <code>webpack</code> é…ç½®ã€‚</p>
<h5 id="2-1-2-ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN"><a href="#2-1-2-ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN" class="headerlink" title="2.1.2 ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN"></a>2.1.2 ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡ import è¯­æ³•å¯¼å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œæœ€ç»ˆä¼šè¢«æ‰“åŒ…åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä»è€Œå¯¼è‡´æ‰“åŒ…æˆåŠŸåï¼Œå•æ–‡ä»¶ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ã€‚</p>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ webpack çš„ externals èŠ‚ç‚¹ï¼Œæ¥é…ç½®å¹¶åŠ è½½å¤–éƒ¨çš„ CDN èµ„æºã€‚å‡¡æ˜¯å£°æ˜åœ¨ externals ä¸­çš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œéƒ½ä¸ä¼šè¢«æ‰“åŒ…ã€‚</p>
<h5 id="2-1-3-Element-UI-ç»„ä»¶æŒ‰éœ€åŠ è½½"><a href="#2-1-3-Element-UI-ç»„ä»¶æŒ‰éœ€åŠ è½½" class="headerlink" title="2.1.3 Element-UI ç»„ä»¶æŒ‰éœ€åŠ è½½"></a>2.1.3 Element-UI ç»„ä»¶æŒ‰éœ€åŠ è½½</h5><p>æ³¨é‡Šæ‰ <code>element-UI</code> çš„æŒ‰éœ€å¼•å…¥æ’ä»¶çš„å¯¼å…¥ï¼Œå¼•å…¥ <code>cdn</code> é“¾æ¥å¯¼å…¥ <code>js</code> å’Œ <code>css</code> å³å¯ã€‚</p>
<h5 id="2-1-4-è·¯ç”±æ‡’åŠ è½½"><a href="#2-1-4-è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="2.1.4 è·¯ç”±æ‡’åŠ è½½"></a>2.1.4 è·¯ç”±æ‡’åŠ è½½</h5><p>è·¯ç”±æ‡’åŠ è½½å³ä¸ºåœ¨è·¯ç”±æŒ‡å®šç»„ä»¶çš„æ—¶å€™ç”¨å‡½æ•°çš„å½¢å¼æ¥å¼•å…¥ç»„ä»¶ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/Login.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>è‹¥æ˜¯æƒ³è¦å°†éƒ¨åˆ†ç»„ä»¶æ‰“åŒ…åœ¨ä¸€èµ·å¯ä»¥è¿™æ ·æŒ‡å®š:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment" spellcheck="true">/* webpackChunkName: "group-foo" */</span><span class="token string">'@/components/Login.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token string">'/test'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment" spellcheck="true">/* webpackChunkName: "group-foo" */</span><span class="token string">'@/components/test.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<h5 id="2-1-5-é¦–é¡µå†…å®¹å®šåˆ¶"><a href="#2-1-5-é¦–é¡µå†…å®¹å®šåˆ¶" class="headerlink" title="2.1.5 é¦–é¡µå†…å®¹å®šåˆ¶"></a>2.1.5 é¦–é¡µå†…å®¹å®šåˆ¶</h5><p>åœ¨ <code>vue.config.js</code> ä¸­ç»™ <code>html</code> æ’ä»¶å†™å…¥ä¸€ä¸ªå±æ€§æ¥æ§åˆ¶ <code>index.html</code> çš„å†…å®¹</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//ç”Ÿäº§æ¨¡å¼</span>
config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>args <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isProd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>&lt;%= htmlWebpackPlugin.options.isProd ? '' : 'dev - ' %>ç”µå•†åå°ç®¡ç†ç³»ç»Ÿ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if(htmlWebpackPlugin.options.isProd)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span></code></pre>
<p><code>vue-cli</code> ä¸­é…ç½® <code>webpack</code> é…ç½®é¡¹<a href="https://cli.vuejs.org/zh/config/#vue-config-js" target="_blank" rel="noopener">å‚è€ƒ</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-3</title>
    <url>/2019/12/14/vuenote-3/</url>
    <content><![CDATA[<h1 id="Vueç¬”è®°-â‘¢"><a href="#Vueç¬”è®°-â‘¢" class="headerlink" title="Vueç¬”è®° â‘¢"></a>Vueç¬”è®° â‘¢</h1><h2 id="ğŸ“ƒ-æ­£æ–‡"><a href="#ğŸ“ƒ-æ­£æ–‡" class="headerlink" title="ğŸ“ƒ æ­£æ–‡"></a>ğŸ“ƒ æ­£æ–‡</h2><h3 id="â‘ -Vuex-å¯¹è±¡"><a href="#â‘ -Vuex-å¯¹è±¡" class="headerlink" title="â‘  Vuex å¯¹è±¡"></a>â‘  <code>Vuex</code> å¯¹è±¡</h3><h4 id="1-1-vuex-ä¸­çš„-state"><a href="#1-1-vuex-ä¸­çš„-state" class="headerlink" title="1.1 vuex ä¸­çš„ state"></a>1.1 vuex ä¸­çš„ state</h4><p>åˆ›å»º <code>vuex</code> å®ä¾‹å¯¹è±¡æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªåŒ…å« <code>state</code> å±æ€§çš„å¯¹è±¡ï¼Œè¡¨ç¤ºè¯¥ <code>store</code> å¯¹è±¡åŒ…å«çš„å…¨å±€çŠ¶æ€ï¼Œå¯ä»¥ç†è§£ä¸ºå…¨å±€å±æ€§ï¼Œå³å…¶ä½™ç»„ä»¶éƒ½å¯ä»¥è®¿é—®çš„å…±äº«æ•°æ®ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> something
<span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>data<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>
<a id="more"></a>

<h4 id="1-2-vuex-ä¸­çš„-mutations"><a href="#1-2-vuex-ä¸­çš„-mutations" class="headerlink" title="1.2  vuex ä¸­çš„ mutations"></a>1.2  vuex ä¸­çš„ mutations</h4><p>è¯¥å±æ€§çš„å€¼ä¸ºä¸€ä¸ªåŒ…å«è®¸å¤šå‡½æ•°çš„å¯¹è±¡ï¼Œå¯ä»¥è¿‘ä¼¼çœ‹ä½œ <code>methods</code> ï¼Œä½†æ˜¯è¿™é‡Œæ›´ä¸¥è°¨ä¸€äº›ï¼Œå®˜æ–¹å¸Œæœ›æˆ‘ä»¬å°†å¯¹ <code>state</code> ä¸­çš„å€¼çš„ä¿®æ”¹éƒ½é€šè¿‡ <code>mutations</code> æ¥å®ç°ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡å®˜æ–¹çš„æµè§ˆå™¨æ’ä»¶ <code>devtools</code> æ¥è¿›è¡Œè¿½è¸ªã€‚</p>
<p>æ‰€æœ‰ <code>mutations</code> çš„æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå›ºå®šçš„å½¢å‚ï¼Œå³ <code>state</code> ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥ç›´æ¥è°ƒç”¨ <code>state</code> ä¸­çš„æ•°æ®ã€‚</p>
<p>åœ¨ç»„ä»¶ä¸­å¯¹äº <code>mutations</code> çš„è°ƒç”¨éœ€è¦é€šè¿‡ <code>this.$store.commit</code> æ¥å®ç°ï¼Œè¯¥æ–¹æ³•çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²å’Œå¯é€‰çš„ä¼ å…¥å‚æ•°ã€‚</p>
<p>ä¼ å‚æ—¶å­˜åœ¨ä¸¤ç§æäº¤é£æ ¼ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// ç¬¬ä¸€ç§æäº¤é£æ ¼</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨ç¤ºä¾‹</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">anotherExample</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// mutations å®šä¹‰</span>
mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">example</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> extra<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>extra<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// n</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// ç¬¬äºŒç§æäº¤é£æ ¼</span>
<span class="token comment" spellcheck="true">// è°ƒç”¨ç¤ºä¾‹</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">anotherExample</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'example'</span><span class="token punctuation">,</span>
      extra<span class="token punctuation">:</span> n
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// mutations å®šä¹‰</span>
mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">example</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// {type: "increment", extra: n}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="1-3-vuex-ä¸­çš„-actions"><a href="#1-3-vuex-ä¸­çš„-actions" class="headerlink" title="1.3 vuex ä¸­çš„ actions"></a>1.3 vuex ä¸­çš„ actions</h4><p><code>actions</code> å¯ä»¥çœ‹ä½œä¸€ä¸ªä¸­è½¬ï¼Œå½“æˆ‘ä»¬éœ€è¦æ‰§è¡Œä¸€äº›å¼‚æ­¥æ–¹æ³•æ—¶ï¼Œç›´æ¥åœ¨ <code>mutations</code> ä¸­å®ç°çš„è¯ï¼Œä¼šå¯¼è‡´ <code>devtools</code> è¿½è¸ªå‡ºé”™ï¼Œæ•°æ®æ— æ³•å®æ—¶æ›´æ–°ã€‚è€Œå¾€å¾€é¡µé¢çš„æ›´æ”¹å·²ç»å®Œæˆï¼Œä¼šå¯¼è‡´æ··ä¹±ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯¹å¼‚æ­¥æ–¹æ³•çš„æ‰§è¡Œå°±å¯ä»¥å†™åœ¨ <code>actions</code> ä¸­ï¼Œå¼‚æ­¥å®Œæˆæ—¶å†è°ƒç”¨ <code>mutations</code> æ¥å®Œæˆå¯¹æ•°æ®çš„æ›´æ”¹ã€‚</p>
<p><code>actions</code> ä¸­çš„æ–¹æ³•çš„å½¢å‚ä¸º <code>context</code> ï¼Œ ä»£è¡¨è¯¥ <code>store</code> å®ä¾‹ã€‚</p>
<p>åœ¨ç»„ä»¶ä¸­å¯¹äº <code>actions</code> çš„è°ƒç”¨ä½¿ç”¨ <code>this.$store.dispatch</code> æ¥å®ç°ï¼Œå‚æ•°ä¸ <code>commit</code> ç±»ä¼¼ã€‚</p>
<h4 id="1-4-ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹"><a href="#1-4-ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹" class="headerlink" title="1.4 ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹"></a>1.4 ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹</h4><p>é¦–å…ˆåœ¨ç»„ä»¶ä¸­çš„ <code>methods</code> å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">asyncClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$store
  <span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'UpdatedInfo'</span><span class="token punctuation">,</span><span class="token string">'i am payload'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>åœ¨ <code>store</code> å®ä¾‹çš„ <code>actions</code> ä¸­å®šä¹‰ä¸€ä¸ª <code>UpdatedInfo</code> æ–¹æ³•ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token function">UpdatedInfo</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resovle<span class="token punctuation">,</span>reject<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'changeName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resovle</span><span class="token punctuation">(</span><span class="token string">'updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>ä½¿ç”¨ <code>setTimeout</code> æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª <code>promise</code> ï¼Œå½“å¼‚æ­¥æ“ä½œæ‰§è¡Œæ—¶ï¼Œå®ç° <code>resolve</code> å¹¶å°†éœ€è¦çš„å€¼ä¼ é€’å‡ºå»ã€‚</p>
<p>é‚£ä¹ˆåœ¨ç»„ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨ <code>.then</code> æ¥å®ç°å¼‚æ­¥æ“ä½œå®Œæˆçš„åé¦ˆã€‚</p>
<p><img src="/2019/12/14/vuenote-3/1-1.png" alt="1-1"></p>
<p>ä»æ­¤å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼‚æ­¥æ“ä½œå’Œå®Œæˆçš„åé¦ˆç¡®å®æ˜¯åœ¨ä¸¤ä¸ªä¸åŒæ–‡ä»¶ä¸­å®ç°çš„ã€‚</p>
<h4 id="1-5-vuex-ä¸­çš„-getters"><a href="#1-5-vuex-ä¸­çš„-getters" class="headerlink" title="1.5 vuex ä¸­çš„ getters"></a>1.5 vuex ä¸­çš„ getters</h4><p><code>getters</code> ç±»ä¼¼äº <code>computed</code> ï¼Œä¸å¤šæè¿°ã€‚å‚æ•°å›ºå®šä¸º <code>state</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ <code>getters</code> æ¥è·å–å…¨éƒ¨ <code>getters</code> ä»¥æ­¤è°ƒç”¨å…¶ä½™çš„ <code>getter</code> ã€‚</p>
<p>æƒ³è¦å®ç°åœ¨ <code>getters</code> ä¸­ä¼ å…¥é¢å¤–å‚æ•°çš„è¯å¯ä»¥å¦‚ä¸‹æ‰€ç¤º</p>
<pre class=" language-javascript"><code class="language-javascript">getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">example</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> something<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// å¦‚ä¸‹è°ƒç”¨</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span><span class="token function">example</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>
<h4 id="1-6-vuex-ä¸­çš„-modules"><a href="#1-6-vuex-ä¸­çš„-modules" class="headerlink" title="1.6 vuex ä¸­çš„ modules"></a>1.6 vuex ä¸­çš„ modules</h4><p><code>vuex</code> å®ä¾‹å¯¹è±¡å¯ä»¥åˆ†æ¨¡å—ç®¡ç†ï¼Œ <code>modules</code> çš„å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªé”®å¯¹åº”çš„å€¼ä¸ºä¸€ä¸ªç±» <code>store</code> å¯¹è±¡ï¼ŒåŒ…å« <code>state</code> <code>mutations</code> <code>getters</code> <code>actions</code> ç­‰å±æ€§ï¼Œç»„ä»¶ä¸­è·å–æ¨¡å—å†…éƒ¨çš„ <code>state</code> ç›´æ¥åœ¨æ ¹ <code>state</code> ä¸­æ ¹æ®æ¨¡å—åæ¥è·å–å€¼ï¼Œå†…éƒ¨åŸç†æ˜¯å°†æ¨¡å—ç›´æ¥æŒ‚åˆ°æ ¹ <code>state</code> ä¸Šï¼Œå¹¶ä¸”å†…éƒ¨çš„ <code>mutations</code> <code>getters</code> ä¸€ç±»éƒ½æ˜¯ç›´æ¥æŒ‚è½½ <code>store</code> å¯¹è±¡ä¸Šï¼Œè°ƒç”¨æ–¹æ³•æ²¡æœ‰å˜åŒ–ï¼Œ <code>getters</code> å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°å³æ ¹ <code>state</code> ã€‚</p>
<p><code>actions</code> ä¸­çš„ <code>context</code> å€¼çš„ä½œç”¨åŸŸä¸ºè‡ªå·±ï¼Œå³åœ¨ <code>actions</code> ä¸­è°ƒç”¨ <code>context</code> ä¸­çš„ <code>mutations</code> åªä¼šè°ƒç”¨è‡ªèº«å†…éƒ¨çš„ <code>mutations</code> ã€‚</p>
<p><img src="/2019/12/14/vuenote-3/1-2.png" alt="1-2"></p>
<p>è¯¥å›¾ä¸ºæ‰“å°å‡ºçš„ <code>context</code> å€¼ã€‚</p>
<h4 id="1-7-å®˜æ–¹æ¨èçš„-mutations-å¸¸é‡å†™æ³•"><a href="#1-7-å®˜æ–¹æ¨èçš„-mutations-å¸¸é‡å†™æ³•" class="headerlink" title="1.7 å®˜æ–¹æ¨èçš„ mutations å¸¸é‡å†™æ³•"></a>1.7 å®˜æ–¹æ¨èçš„ mutations å¸¸é‡å†™æ³•</h4><p>ç”±äºåœ¨ <code>commit</code> <code>mutations</code> æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œæ²¡æœ‰æç¤ºï¼Œæœ‰å¯èƒ½å‡ºç°é”™è¯¯ã€‚äºæ˜¯å®˜æ–¹æ¨èäº†ä½¿ç”¨å¸¸é‡è¡¨ç¤º <code>mutations</code> å‡½æ•°åçš„æ–¹æ³•ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> INCREMENT <span class="token operator">=</span> <span class="token string">'increment'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// æˆ–å†™äºå¤–éƒ¨ js æ–‡ä»¶ä¸­</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> INCREMENT <span class="token operator">=</span> <span class="token string">'increment'</span><span class="token punctuation">;</span>
mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>INCREMENT<span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// some code...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="1-8-vuex-çš„-actions-ç­‰æ˜ å°„"><a href="#1-8-vuex-çš„-actions-ç­‰æ˜ å°„" class="headerlink" title="1.8 vuex çš„ actions ç­‰æ˜ å°„"></a>1.8 vuex çš„ actions ç­‰æ˜ å°„</h4><p>åœ¨ <code>vuex</code> ä¸­ï¼Œ è‹¥æ˜¯å› ä¸ºé¢‘ç¹è°ƒç”¨ <code>this.$store.getters.xxxx</code> æˆ–æ˜¯ <code>dispatch</code> ç­‰æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>MapGetters</code> å’Œ <code>MapActions</code> ç­‰å°† <code>store</code> å¯¹è±¡ä¸Šçš„æ–¹æ³•æ˜ å°„åˆ°å½“å‰ç»„ä»¶å†…éƒ¨ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> MapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'addCart'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">aMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCart</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'cartList'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">aComputed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cartList
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="â‘¡-axios"><a href="#â‘¡-axios" class="headerlink" title="â‘¡ axios"></a>â‘¡ axios</h3><h4 id="2-1-å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§"><a href="#2-1-å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§" class="headerlink" title="2.1 å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§"></a>2.1 å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§</h4><p>åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸åº”è¯¥å¯¹ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¡†æ¶è¿‡åˆ†ä¾èµ–ã€‚ä¾‹å¦‚ <code>axios</code> ï¼Œä¸åº”è¯¥åœ¨æ¯ä¸ªç»„ä»¶ä¸­å•ç‹¬å¼•å…¥å¹¶åœ¨ <code>methods</code> ä¸­å†™å…¥è°ƒç”¨æ–¹æ³•ã€‚å¦‚æœæ¡†æ¶å‡ºäº†é—®é¢˜ï¼Œå°±ä¼šå¼•å‘å¾ˆå¤šéº»çƒ¦ã€‚<del>è¯è¯´ <code>vue</code> å‡ºäº†é—®é¢˜ä¼šå’‹æ · ğŸ˜‚</del></p>
<p>å› æ­¤ï¼Œå¯ä»¥è€ƒè™‘è‡ªå·±å°è£…ä¸€ä¸‹ç¬¬ä¸‰æ–¹æ¡†æ¶çš„ä½¿ç”¨ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨è‡ªå·±å°è£…çš„æ–‡ä»¶ã€‚</p>
<h4 id="2-2-axios-å°è£…"><a href="#2-2-axios-å°è£…" class="headerlink" title="2.2 axios å°è£…"></a>2.2 axios å°è£…</h4><p>åœ¨ <code>src</code> ä¸­æ–°å»ºä¸€ä¸ª <code>network</code> æ–‡ä»¶å¤¹ä½œä¸ºå°è£…æ¨¡å—çš„ç›®å½•ã€‚</p>
<p><img src="/2019/12/14/vuenote-3/2-1.png" alt="2-1"></p>
<p>åœ¨ <code>request.js</code> ä¸­å¼•å…¥ <code>axios</code> ç„¶åå¯¼å‡ºè‡ªå·±å†™çš„åŒ…è£…å‡½æ•°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failure<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    baseURL<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    timeout<span class="token punctuation">:</span> <span class="token number">5000</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">instance</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">failure</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>å®šä¹‰ä¸€ä¸ª <code>axios</code> å®ä¾‹ï¼Œé™¤äº†è§„å®šè¯·æ±‚çš„åŸºæœ¬ <code>config</code> ï¼Œè¿˜è¦æ±‚äº†è¯·æ±‚æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°ï¼Œæ¥å®ç°åœ¨ç»„ä»¶å†…çš„ç›¸åº”å›è°ƒæ“ä½œã€‚</p>
<p>ä¾‹å­ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>request<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/network/request'</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>æˆ–æ˜¯ç›´æ¥åœ¨ <code>config</code> ä¸­å†™å…¥å›è°ƒå‡½æ•°ã€‚</p>
<p>ç†è§£åï¼Œæ”¹ç”¨ <code>Promise</code> æ¥å®ç°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      baseURL<span class="token punctuation">:</span> <span class="token string">'http://106.54.54.237:8000/api/v1'</span><span class="token punctuation">,</span>
      timeout<span class="token punctuation">:</span> <span class="token number">5000</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">instance</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>ç»„ä»¶å†…éƒ¨ä»£ç ä¸ºï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>request<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/network/request'</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>ç„¶è€Œå®é™…ä¸Šï¼Œ<code>instance</code> çš„è¿”å›å€¼å°±æ˜¯ä¸€ä¸ª <code>Promise</code> ï¼Œç›´æ¥è¿”å› <code>instance</code> çš„è¿”å›å€¼å°±å¯ä»¥ã€‚</p>
<h4 id="2-3-axios-æ‹¦æˆªå™¨"><a href="#2-3-axios-æ‹¦æˆªå™¨" class="headerlink" title="2.3 axios æ‹¦æˆªå™¨"></a>2.3 axios æ‹¦æˆªå™¨</h4><p>æ‹¦æˆªå™¨åˆ†ä¸ºè¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆªã€‚</p>
<ul>
<li><p>è¯·æ±‚æ‹¦æˆª</p>
<p>è¯·æ±‚æ‹¦æˆªä¸­åˆ†ä¸ºé…ç½®æ‹¦æˆªå’Œé”™è¯¯æ‹¦æˆªï¼Œåˆ†åˆ«å¯¹åº”è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å’Œç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>config <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p><code>instance</code> å¯¹åº”äºå‰æ–‡ã€‚<br>ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°ä¸­çš„å‚æ•°ä¸º <code>config</code> ï¼Œå¹¶ä¸”åœ¨æ‹¦æˆªæ“ä½œå®Œæˆåå¿…é¡»å°† <code>config</code> è¿”å›ï¼Œå¦åˆ™æ— æ³•å®Œæˆè¯·æ±‚ã€‚</p>
<p><img src="/2019/12/14/vuenote-3/2-2.png" alt="2-2"></p>
<p>å¸¸ç”¨äºä¿®æ”¹ä¸ç¬¦åˆæœåŠ¡å™¨è¦æ±‚çš„ä¿¡æ¯ï¼ŒåŠ å…¥è¯·æ±‚è¿‡æ¸¡åŠ¨ç”»ï¼Œæ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</p>
</li>
<li><p>å“åº”æ‹¦æˆª</p>
<pre class=" language-javascript"><code class="language-javascript">instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>ç±»ä¼¼äºè¯·æ±‚æ‹¦æˆªï¼Œä¸€ä¸ªå“åº”æˆåŠŸæ‹¦æˆªï¼Œä¸€ä¸ªå“åº”å¤±è´¥æ‹¦æˆªã€‚</p>
<p>å“åº”æˆåŠŸæ‹¦æˆªä¹Ÿéœ€è¦å°†ç»“æœå†æ¬¡è¿”å›ã€‚</p>
</li>
</ul>
<h3 id="â‘¢-webpack-åˆ«åé…ç½®"><a href="#â‘¢-webpack-åˆ«åé…ç½®" class="headerlink" title="â‘¢ webpack åˆ«åé…ç½®"></a>â‘¢ webpack åˆ«åé…ç½®</h3><h4 id="3-1-alias-é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜"><a href="#3-1-alias-é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜" class="headerlink" title="3.1 alias é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜"></a>3.1 alias é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜</h4><p>åœ¨è¯•å›¾ç»™é¡¹ç›®è·¯å¾„é…ç½®åˆ«åæ—¶ï¼Œå‘ç°æ— è®ºæ€æ ·æ”¹éƒ½ä¼šæŠ¥é”™æç¤ºæ‰¾ä¸åˆ°ç»„ä»¶ã€‚</p>
<p>ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹åå‘ç°ï¼Œåº”è¯¥æ˜¯åœ¨æ‰§è¡Œ <code>npm run dev</code> æ—¶ï¼Œ<code>webpack.base.conf.js</code> æ–‡ä»¶ä¸­çš„é…ç½®åªä¼šåœ¨æŒ‡ä»¤æ‰§è¡Œæ—¶ç”Ÿæ•ˆï¼Œåç»­ä¿®æ”¹çš„è¯éœ€è¦å†æ¬¡æ‰§è¡Œå‘½ä»¤æ¥ç”Ÿæ•ˆã€‚</p>
<h4 id="3-2-alias-ä½¿ç”¨æ³¨æ„ç‚¹"><a href="#3-2-alias-ä½¿ç”¨æ³¨æ„ç‚¹" class="headerlink" title="3.2 alias ä½¿ç”¨æ³¨æ„ç‚¹"></a>3.2 alias ä½¿ç”¨æ³¨æ„ç‚¹</h4><p>åœ¨ <code>script</code> æ ‡ç­¾ä¸­ä½¿ç”¨ <code>import</code> å¯¼å…¥æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«åï¼Œåœ¨ <code>template</code> æ ‡ç­¾ä¸­å¯¹ <code>img</code> ä¹‹ç±»çš„ <code>src</code> è·¯å¾„éœ€è¦åœ¨å¼€å§‹å¤„æ·»åŠ  <code>~</code> ç¬¦å·æŒ‡ç¤º <code>html</code> æ ‡ç­¾ä¸­çš„åˆ«åä½¿ç”¨ã€‚</p>
<h3 id="â‘£-Error-in-render-é—®é¢˜è®°å½•"><a href="#â‘£-Error-in-render-é—®é¢˜è®°å½•" class="headerlink" title="â‘£ Error in render é—®é¢˜è®°å½•"></a>â‘£ Error in render é—®é¢˜è®°å½•</h3><h4 id="4-1-é—®é¢˜æè¿°"><a href="#4-1-é—®é¢˜æè¿°" class="headerlink" title="4.1 é—®é¢˜æè¿°"></a>4.1 é—®é¢˜æè¿°</h4><p>åœ¨å†™ <code>Python</code> æ¯”èµ›é¢˜ç›®è¯•å›¾æ··å­¦åˆ†æ—¶ï¼Œå†™æ•°æ®å¯è§†åŒ–æ”¶å°¾ç¯èŠ‚å‡ºç°äº†éå¸¸å¤šé—®é¢˜ã€‚æµè§ˆå™¨æ§åˆ¶å°ä¸åœåœ°æŠ¥é”™ï¼Œæ˜¾ç¤ºä¸º</p>
<p><img src="/2019/12/14/vuenote-3/20190209195753429.png" alt="img"></p>
<p>æ‰¾ä¸åˆ°é—®é¢˜å‡ºå¤„ï¼ŒæŸ¥äº†ä¸€ç•ªå‘ç°æœ‰äººæåˆ° <code>error in render</code> è¡¨ç¤ºåœ¨æ¸²æŸ“éƒ¨åˆ†å‡ºäº†é—®é¢˜ï¼Œåº”è¯¥å»æ‰¾æ¨¡æ¿çš„é—®é¢˜ã€‚æ’æŸ¥ä¸€ç•ªç¡®å®æ˜¯æ¨¡å—å¤„çš„å¾ªç¯éƒ¨åˆ†å‡ºäº†é—®é¢˜ã€‚</p>
<h3 id="â‘¤-Vue-é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•"><a href="#â‘¤-Vue-é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•" class="headerlink" title="â‘¤ Vue é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•"></a>â‘¤ Vue é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•</h3><h4 id="5-1-æ‰“åŒ…åè·¯å¾„é—®é¢˜"><a href="#5-1-æ‰“åŒ…åè·¯å¾„é—®é¢˜" class="headerlink" title="5.1 æ‰“åŒ…åè·¯å¾„é—®é¢˜"></a>5.1 æ‰“åŒ…åè·¯å¾„é—®é¢˜</h4><p>åŒæ ·æ˜¯é‚£ä¸ª <code>Python</code> æ¯”èµ›ï¼Œå†™å®Œå‰ç«¯éƒ¨åˆ†åæ‰“åŒ…æƒ³åšä¸€ä¸ªé¢„è§ˆï¼ŒæŠŠèµ„æºéƒ½æ”¾åˆ°æœåŠ¡å™¨ç½‘ç«™æ ¹ç›®å½•å‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚</p>
<p><img src="/2019/12/14/vuenote-3/image-20200508094542121.png" alt="image-20200508094542121"></p>
<p><img src="/2019/12/14/vuenote-3/image-20200508094605218.png" alt="image-20200508094605218"></p>
<p><img src="/2019/12/14/vuenote-3/image-20200508094618992.png" alt="image-20200508094618992"></p>
<p>è€Œåœ¨ <code>github pages</code> éƒ¨ç½²ä»¥åŠæœ¬åœ°æ‰“å¼€æ‰“åŒ…åæ–‡ä»¶éƒ½ä¼šå‡ºç°é™æ€èµ„æºè®¿é—®ä¸åˆ°çš„æƒ…å†µã€‚</p>
<p>æœ¬åœ°é™æ€èµ„æºæ­£ç¡®è·¯å¾„ğŸ‘‡</p>
<p><img src="/2019/12/14/vuenote-3/image-20200508094721461.png" alt="image-20200508094721461"></p>
<p>æœ¬åœ°é™æ€èµ„æºé”™è¯¯è·¯å¾„ğŸ‘‡</p>
<p><img src="/2019/12/14/vuenote-3/image-20200508094753038.png" alt="image-20200508094753038"></p>
<p><code>github pages</code> è®¿é—®é—®é¢˜ä¹Ÿå·®ä¸å¤šã€‚</p>
<p>ä¸€å¼€å§‹çš„é—®é¢˜æ˜¯ <code>js</code> å’Œ <code>css</code> æ–‡ä»¶ä¹Ÿæ— æ³•è®¿é—®ï¼Œå› ä¸ºä½¿ç”¨çš„éƒ½æ˜¯ç»å¯¹è·¯å¾„ã€‚åœ¨é¡¹ç›®è®¿é—®æ—¶å­˜åœ¨å­ç›®å½•å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>åœ¨ <code>Vue</code> é¡¹ç›®å†…é…ç½® <code>vue.config.js</code> æ–‡ä»¶æ—¶</p>
<pre class=" language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  publicPath<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>NODE_ENV <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'./'</span><span class="token punctuation">:</span><span class="token string">''</span>
<span class="token punctuation">}</span></code></pre>
<p>å½“ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚ä½†è¿™æ ·æ“ä½œåä¾ç„¶åªæœ‰ <code>js</code> <code>css</code> æ–‡ä»¶ç”Ÿæ•ˆï¼Œæˆ‘æ”¾åœ¨ <code>public</code> æ–‡ä»¶ä¸‹çš„ <code>data</code> æ–‡ä»¶ä¾ç„¶æ— æ³•è®¿é—®åˆ°ã€‚</p>
<p>ä»”ç»†è§‚å¯Ÿä¸¤å¤„æ–‡ä»¶å¼•ç”¨çš„æ–¹æ³•ï¼Œå‘ç°åœ¨å¼•ç”¨ <code>css</code> æ—¶ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¼•ç”¨ <code>json</code> æ–‡ä»¶æ—¶ç”¨çš„æ˜¯ç»å¯¹è·¯å¾„ä¸”æ˜¯æ ¹ç›®å½•èµ·ã€‚</p>
<p>å› ä¸ºäº†è§£åˆ° <code>vue</code> é¡¹ç›®æœ€åæ‰“åŒ…çš„æ–‡ä»¶æ˜¯åœ¨ <code>public</code> ç›®å½•è¿è¡Œçš„ï¼Œå³ä½¿æ˜¯æœ¬åœ°è¿è¡Œæ—¶ä¹Ÿæ˜¯ï¼Œé‚£ä¹ˆå°±å°è¯•æŠŠç»å¯¹è·¯å¾„ä¿®æ”¹ä¸ºç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ä¿®æ”¹å®Œåè§‚å¯Ÿè¯·æ±‚è·¯å¾„ï¼Œå·²ç»æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•è¯·æ±‚æˆåŠŸã€‚çœ‹äº†ä¸€ä¸‹æ§åˆ¶å°æŠ¥é”™æ¶ˆæ¯ï¼Œå¯ä»¥å‘ç°æ˜¯å› ä¸ºè·¨åŸŸé—®é¢˜ã€‚</p>
<p>æœ¬åœ°æ–‡ä»¶è®¿é—®æ²¡æœ‰åŠæ³•è§£å†³ï¼Œå°è¯•æ”¾åˆ° <code>github pages</code> æ¥è¯•éªŒä»¥åŠåœ¨æœåŠ¡å™¨è¿›è¡Œå­ç›®å½•çš„è¯•éªŒã€‚</p>
<h4 id="5-2-å‡å°‘æ‰“åŒ…å-chunk-js-æ–‡ä»¶çš„å¤§å°"><a href="#5-2-å‡å°‘æ‰“åŒ…å-chunk-js-æ–‡ä»¶çš„å¤§å°" class="headerlink" title="5.2 å‡å°‘æ‰“åŒ…å chunk.js æ–‡ä»¶çš„å¤§å°"></a>5.2 å‡å°‘æ‰“åŒ…å chunk.js æ–‡ä»¶çš„å¤§å°</h4><p>å½“æˆ‘å°è¯•æ‰“å¼€ <code>github pages</code> ä¸Šçš„é¡¹ç›®æ—¶ï¼Œå‘ç°é€Ÿåº¦æ…¢çš„ç¦»è°±ã€‚</p>
<p>é™¤å»è®¿é—® <code>github</code> æœ¬èº«å¸¦æ¥çš„æ…¢é€Ÿä»¥å¤–ï¼Œæˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ <code>network</code> å‘ç°æœ‰ä¸€ä¸ª <code>js</code> æ–‡ä»¶è¯·æ±‚äº†ä¸€åˆ†é’Ÿè¿˜æ²¡æœ‰è¯·æ±‚å®Œï¼Œåœ¨èµ„æºç®¡ç†å™¨é‡ŒæŸ¥çœ‹äº†ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œè¶³è¶³æœ‰ 1000 å¤š <code>k</code> ï¼Œäºæ˜¯æˆ‘å¼€å§‹å°è¯•å‡å°‘è¿™éƒ¨åˆ†çš„å¤§å°ã€‚</p>
<p>å¤§æ¦‚åŸå› æ˜¯æ‰“åŒ…çš„æ¨¡å—å¤ªå¤šå¤ªå¤§ï¼Œä½†æˆ‘çš„è¿™ä¸ªé¡¹ç›®ä¾èµ–çš„æ¨¡å—å¹¶ä¸å¤šï¼Œåº”å½“æ˜¯æŸä¸ªæ¨¡å—å¤ªå¤§ã€‚æˆ‘éšä¾¿ç¿»äº†ä¸€ä¸‹ <code>chunk</code> è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šå‘ç°è®¸å¤šä¸ <code>echarts</code> ç›¸å…³çš„å†…å®¹ã€‚äºæ˜¯å‡†å¤‡å‡è½»è¿™ä¸ªæ¨¡å—å¼•èµ·çš„è´Ÿæ‹…ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ <code>index.html</code> ä¸­å¼•ç”¨éœ€è¦çš„æ¨¡å— <code>cdn</code> é“¾æ¥ã€‚ </p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcdn.net/ajax/libs/echarts/4.7.0/echarts.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>ç„¶ååœ¨ <code>vue.config.js</code> ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  
  configureWebpack<span class="token punctuation">:</span> <span class="token punctuation">{</span>    
    externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue'</span><span class="token punctuation">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span>
      <span class="token string">'echarts'</span><span class="token punctuation">:</span> <span class="token string">'echarts'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span></code></pre>
<p>äº‹å®ä¸Šè¿™ä¸ªéƒ¨åˆ†åº”è¯¥æ€ä¹ˆå†™æˆ‘éƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†è¿™æ ·å­å°±å¯ä»¥æˆåŠŸäº†ã€‚</p>
<p>ç„¶åå† <code>push</code> åˆ° <code>github</code> ä¸Šï¼Œæ‰“å¼€ <code>github pages</code> å°±ä¼šå‘ç°å¯ä»¥å¤§å¤§æé€Ÿã€‚</p>
<p>ä¸”å‰é¢çš„è·¯å¾„é—®é¢˜ä¹Ÿå·²ç»è§£å†³ã€‚</p>
<p>è§‚å¯Ÿäº†ä¸€ä¸‹è¯·æ±‚åˆ—è¡¨ï¼Œå‘ç°å¯ä¼˜åŒ–çš„ç‚¹ã€‚</p>
<ul>
<li>å¤šæ¬¡è¯·æ±‚ <code>data.json</code> æ–‡ä»¶ï¼Œå¯ä»¥æŠŠè¯·æ±‚ä¸€æ¬¡åŒ–ï¼Œå°†æ•°æ®æ”¾åœ¨ <code>vuex</code> ä¸­ã€‚</li>
<li>å…¶ä½™æ¨¡å—ä¹Ÿå¯èƒ½å¸¦æ¥å½±å“ã€‚</li>
<li>èƒŒæ™¯å›¾ç‰‡çš„è¯·æ±‚æ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥è€ƒè™‘å‹ç¼©å›¾ç‰‡ã€‚</li>
</ul>
<h4 id="5-3-å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜"><a href="#5-3-å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜" class="headerlink" title="5.3 å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜"></a>5.3 å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜</h4><p>å†™å¦ä¸€ä¸ªå•é¡µé¢åº”ç”¨çš„æ—¶å€™å‘ç°äº†é—®é¢˜ï¼Œé€šè¿‡ä¸Šé¢çš„ç»éªŒï¼Œå·²ç»åœ¨é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­å†™å¥½äº†åŸºæœ¬è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ä½†åœ¨æˆ‘æŠŠé¡¹ç›®æ”¾è¿›æœåŠ¡å™¨æ ¹ç½‘ç«™çš„å­ç›®å½• <code>/ask</code> æ—¶å‡ºç°äº†è·¯ç”±è·³è½¬çš„é—®é¢˜ã€‚</p>
<p><code>Vue</code> æä¾›çš„åªæ˜¯å‰ç«¯è·¯ç”±ï¼Œæ— æ³•ç›´æ¥ç”¨æ¥è·å–èµ„æºï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ ¹è·¯å¾„è¿˜æ˜¯ <code>'/'</code> ï¼Œä½†è®¿é—® <code>ip/ask</code> æ—¶æ— æ³•æ­£ç¡®çš„è·³è½¬è·¯ç”±ã€‚</p>
<p>åŸå…ˆçš„è®¾å®šæ˜¯è®¿é—® <code>'/'</code> æ—¶é‡å®šå‘åˆ° <code>/question</code> ï¼Œä½†æ­¤æ—¶æˆ‘ä»¬è®¿é—®çš„å…¶å®æ˜¯ <code>/ask</code> ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸‹å‘ç° <code>vue-router</code> å¯ä»¥è®¾ç½®ä¸€ä¸ª <code>base</code> è·¯å¾„ï¼Œå°†è·¯ç”±è·³è½¬åŠ ä¸Šä¸€ä¸ªåŸºç¡€ <code>/ask</code> ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
  base<span class="token punctuation">:</span> <span class="token string">'/ask'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>é‚£ä¹ˆå†æ¬¡æ‰“åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
<p>è®¿é—® <code>ip/ask</code> æ—¶å¯ä»¥æ­£ç¡®çš„é‡å®šå‘åˆ° <code>ip/ask/question</code> ï¼Œå¹¶ä¸”å…¶ä»–éƒ¨åˆ†çš„è·³è½¬ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p>
<h4 id="5-4-å¤šé¡µé¢åº”ç”¨é—®é¢˜"><a href="#5-4-å¤šé¡µé¢åº”ç”¨é—®é¢˜" class="headerlink" title="5.4 å¤šé¡µé¢åº”ç”¨é—®é¢˜"></a>5.4 å¤šé¡µé¢åº”ç”¨é—®é¢˜</h4><p>æ¥è§¦åˆ°ä¸€ä¸ªå¤šé¡µé¢åº”ç”¨é¡¹ç›®ï¼Œå¾ˆæ‡µé€¼ã€‚æŠŠé…ç½®æ–‡ä»¶æ‹äº†ä¸€éåï¼Œå‘ç°ä½¿ç”¨äº† <code>glob</code> æ¨¡å—ï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ªé¡¹ç›®çš„è¿è¡Œè·¯å¾„ä¸‹å°±æ˜¯å­˜åœ¨å¤šä¸ªé¡µé¢ï¼Œæƒ³è¦å»å“ªä¸ªé¡µé¢ï¼Œç›´æ¥æ‰“å¼€è¿™ä¸ª <code>html</code> é¡µé¢å³å¯ã€‚</p>
<h4 id="5-5-çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜"><a href="#5-5-çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜" class="headerlink" title="5.5 çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜"></a>5.5 çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜</h4><p>åœ¨å†™é¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªç»„ä»¶å†…çš„å†…å®¹é«˜åº¦é‡å¤ï¼Œäºæ˜¯å‡†å¤‡æŠ½å‡ºæ¥å†™ä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶ï¼Œè€Œåœ¨æˆ‘å†™çš„å­ç»„ä»¶ä¸­ï¼Œä¼ å€¼æ˜¯éœ€è¦è¢«ä¿®æ”¹çš„ã€‚è€Œè¿™ä¸ªè¡Œä¸ºå®˜æ–¹æ˜¯ä¸æ¨èçš„ï¼Œé‚£ä¹ˆå°±åœ¨ <code>data</code> åŸŸä¸­æ–°å»ºä¸¤ä¸ªå˜é‡ï¼Œä½†æ˜¯æ€»æ˜¯å‡ºç°æ— æ³•æ­£ç¡®èµ‹å€¼çš„æƒ…å†µã€‚</p>
<p>åå¾—çŸ¥æ˜¯å› ä¸º <code>data</code> åŸŸåªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>watch</code> æ¥ç›‘å¬ <code>props</code> å†…éœ€è¦çš„å‚æ•°ï¼Œç„¶åå»èµ‹å€¼ç»™ <code>data</code> åŸŸã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-2</title>
    <url>/2019/12/12/vuenote-2/</url>
    <content><![CDATA[<h1 id="Vue-ç¬”è®°-â‘¡"><a href="#Vue-ç¬”è®°-â‘¡" class="headerlink" title="Vue ç¬”è®° â‘¡"></a>Vue ç¬”è®° â‘¡</h1><h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼</h3><h4 id="1-1-å­ç»„ä»¶è®¿é—®é—®é¢˜"><a href="#1-1-å­ç»„ä»¶è®¿é—®é—®é¢˜" class="headerlink" title="1.1 å­ç»„ä»¶è®¿é—®é—®é¢˜"></a>1.1 å­ç»„ä»¶è®¿é—®é—®é¢˜</h4><p>åœ¨ <code>vue</code> ä¸­ï¼Œå­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶çš„å€¼æ˜¯éœ€è¦ç»è¿‡ç‰¹å®šçš„æ“ä½œçš„ã€‚<br>æˆ‘å¾ˆå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¤Ÿç›´æ¥è®¿é—®ï¼ŒæŒ‰ç†è¯´ï¼ŒåµŒå¥—å…³ç³»æ˜¯åº”è¯¥å¯ä»¥è®¿é—®åˆ°çˆ¶ä½œç”¨åŸŸçš„å€¼çš„ã€‚</p>
<a id="more"></a>

<p>æˆ‘åšäº†ä¸€ç‚¹å°è¯•ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cmp</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cmp</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cmp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>efg<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'cmp'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token string">'#cmp'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    msg<span class="token punctuation">:</span> <span class="token string">'abc'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2019/12/12/vuenote-2/1-1.png" alt="1-1"><br>æ­¤æ—¶ç›´æ¥æŠ¥é”™ã€‚é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºï¼Œæ— æ³•å¯»æ‰¾åˆ° <code>msg</code> å±æ€§æˆ–æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ä¸€ä¸ª <code>data</code> ä¸­çš„æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤å¯»æ‰¾è‡ªèº«å†…éƒ¨çš„ <code>data</code>ã€‚<br>å¯ä»¥ç†è§£æˆï¼Œä½¿ç”¨æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤å¯»æ‰¾ <code>this.msg</code> ã€‚å¦‚æœæƒ³è¦è®¿é—®çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®æ—¶ï¼Œéœ€è¦èƒ½å¤Ÿæ‰¾åˆ°çˆ¶ç»„ä»¶å®ä¾‹çš„å¼•ç”¨ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cmp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>abcd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>efg<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      msg<span class="token punctuation">:</span> <span class="token string">'abc'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li>å¯ä»¥ç›´æ¥æŒ‡å®šå¯¹åº”çš„ <code>vue</code> å®ä¾‹æ¥è°ƒç”¨ <code>msg</code>æ•°æ®ã€‚ä½†è¿™æ ·çš„è¯ï¼Œå¤ªè¿‡äºæ­»æ¿ä¸”æ²¡æœ‰ç‰¹åˆ«å¤§æ„ä¹‰ã€‚</li>
<li>å¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡çš„ <code>$children</code> <code>$parent</code> å±æ€§æ¥è·å–çˆ¶å­ç»„ä»¶ã€‚</li>
</ul>
<h4 id="1-2-props-ä¸­çš„-default-é—®é¢˜"><a href="#1-2-props-ä¸­çš„-default-é—®é¢˜" class="headerlink" title="1.2 props ä¸­çš„ default é—®é¢˜"></a>1.2 <code>props</code> ä¸­çš„ <code>default</code> é—®é¢˜</h4><p>åœ¨ä½¿ç”¨ <code>props</code> ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®æ•°æ®çš„ <code>default</code> å±æ€§ï¼Œåœ¨æŸäº›ç‰ˆæœ¬ä¸Šï¼Œ <code>default</code> ä¸ºç©ºæ•°ç»„æˆ–ç©ºå¯¹è±¡æ—¶ä¼šæŠ¥é”™ï¼Œéœ€è¦ä½¿ç”¨å·¥å‚å‡½æ•°è¿”å›ç©ºæ•°ç»„å’Œå¯¹è±¡ã€‚<br>æœäº†ä¸€ä¸‹ï¼Œæ‰¾ä¸åˆ°åŸç†è§£é‡Šï¼Œå…¶å®ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆã€‚</p>
<h4 id="1-3-çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹"><a href="#1-3-çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹" class="headerlink" title="1.3 çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹"></a>1.3 çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹</h4><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ¡ˆä¾‹ï¼Œçœ‹çš„æ—¶å€™è§‰å¾—æŒºç®€å•æŒºå®¹æ˜“æ‹æ¸…æ¥šçš„ï¼Œè‡ªå·±æ‰‹åŠ¨å†™ä¸€ä¸‹åˆæ‡µäº†å¥½ä¹…ã€‚</p>
<ul>
<li>å®ç°å­ç»„ä»¶è·å–çˆ¶ç»„ä»¶çš„å€¼ï¼Œä½¿ç”¨å±æ€§ç»‘å®šåŠ  <code>props</code> è·å–ã€‚</li>
<li>å®ç°å­ç»„ä»¶å†…éƒ¨ <code>input</code> å…ƒç´ å’Œæ•°æ®åŒå‘ç»‘å®š</li>
<li>å®ç°å­ç»„ä»¶å†…éƒ¨æ•°æ®æ›´æ”¹å½±å“çˆ¶ç»„ä»¶æ•°æ®ï¼Œä½¿ç”¨ <code>this.$emit</code> å®ç°ã€‚</li>
<li>å®ç°æ•°æ®ä¸€çš„æ›´æ”¹å½±å“åˆ°æ•°æ®äºŒ</li>
<li>å®ç°æ•°æ®äºŒçš„æ›´æ”¹å½±å“åˆ°æ•°æ®ä¸€<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cmp</span> <span class="token attr-name">:cnum1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num1<span class="token punctuation">"</span></span> <span class="token attr-name">:cnum2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num2<span class="token punctuation">"</span></span> <span class="token attr-name">@num1change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num1change<span class="token punctuation">"</span></span> <span class="token attr-name">@num2change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num2change<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cmp</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cmp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
    props: {{ cnum1 }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    data: {{ dnum1 }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dnum1<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num1input<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
    props: {{ cnum2 }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    data: {{ dnum2 }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dnum2<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num2input<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  num1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  num2<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">num1change</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num1 <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">num2change</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num2 <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  cmp<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    template<span class="token punctuation">:</span> <span class="token string">'#cmp'</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'cnum1'</span><span class="token punctuation">,</span> <span class="token string">'cnum2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        dnum1<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnum1<span class="token punctuation">,</span>
        dnum2<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnum2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">num1input</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dnum1 <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dnum2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dnum1 <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'num1change'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>dnum1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'num2change'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>dnum2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">num2input</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dnum2 <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dnum1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dnum2 <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'num2change'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>dnum2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'num1change'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>dnum1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
</li>
</ul>
<h3 id="â‘¡-vue-router-å­¦ä¹ "><a href="#â‘¡-vue-router-å­¦ä¹ " class="headerlink" title="â‘¡ vue-router å­¦ä¹ "></a>â‘¡ <code>vue-router</code> å­¦ä¹ </h3><h4 id="2-1-è·¯ç”±è·³è½¬é—®é¢˜"><a href="#2-1-è·¯ç”±è·³è½¬é—®é¢˜" class="headerlink" title="2.1 è·¯ç”±è·³è½¬é—®é¢˜"></a>2.1 è·¯ç”±è·³è½¬é—®é¢˜</h4><ul>
<li><p>é…ç½® <code>vue-router</code> çš„ <code>index.js</code> æ–‡ä»¶ä¸­çš„ <code>vue-router</code> å®ä¾‹å¯¹è±¡æ—¶ï¼Œé™¤å» <code>routes</code> æ•°ç»„å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å±æ€§ <code>mode=history</code> å³å¯å°†æµè§ˆæ—¶ <code>url</code> ä¸­çš„ <code>#</code> å»é™¤ã€‚</p>
</li>
<li><p>åœ¨é¡µé¢çš„ç»„ä»¶è·³è½¬ä¸­ï¼Œ <code>router-link</code> å…ƒç´ å¯ä»¥ä½¿ç”¨æŸäº›å±æ€§æ¥é…ç½®ï¼Œæ¯”å¦‚ <code>tag</code> å±æ€§æ¥è®¾ç½®æœ€ç»ˆæ¸²æŸ“ä¸ºä»€ä¹ˆå…ƒç´ ï¼Œ <code>replace</code> å±æ€§è®¾ç½®è¯¥è·¯ç”±è·³è½¬æ–¹å¼ä¸º <code>history.replaceState</code> ï¼Œä»£è¡¨ä¸å¯é€šè¿‡æµè§ˆå™¨çš„åé€€å’Œå‰è¿›æ¥ä¿®æ”¹ã€‚</p>
</li>
</ul>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Appç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>li<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home<span class="token punctuation">"</span></span> <span class="token attr-name">replace</span><span class="token punctuation">></span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>li<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span> <span class="token attr-name">replace</span><span class="token punctuation">></span></span>å…³äº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li><p>å¯ä»¥ä½¿ç”¨ä»£ç æ›¿æ¢ <code>router-link</code> è·³è½¬ï¼Œä½¿ç”¨ <code>this.$router.push</code> æˆ–æ˜¯ <code>this.$router.replace</code> æ¥å®ç°è·¯ç”±è·³è½¬ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œä¸è¦è·³è¿‡ <code>vue-router</code> è‡ªå·±ä½¿ç”¨ <code>history</code> ä¸€ç±»çš„æ–¹æ³•æ¥å®ç°è·¯ç”±è·³è½¬ã€‚</p>
</blockquote>
</li>
<li><p>å¯ä»¥åœ¨ <code>router-link</code> æ ‡ç­¾ä¸Šè®¾ç½® <code>active-class</code> å±æ€§æ›¿æ¢ <code>active</code> è·¯ç”±çš„ç±»åï¼Œä¹Ÿå¯ä»¥åœ¨ <code>vue-router</code> å®ä¾‹å¯¹è±¡ä¸­è®¾ç½® <code>linkActiveClass</code> å®ç°å…¨å±€æ›¿æ¢ã€‚</p>
</li>
</ul>
<h4 id="2-2-è·¯ç”±æ‡’åŠ è½½"><a href="#2-2-è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="2.2 è·¯ç”±æ‡’åŠ è½½"></a>2.2 è·¯ç”±æ‡’åŠ è½½</h4><ul>
<li>æƒ³è¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ï¼Œåœ¨ <code>vue-router</code> å®ä¾‹å¯¹è±¡ä¸­é…ç½® <code>routes</code> æ—¶ï¼Œè®¾ç½® <code>component</code> æ—¶ä½¿ç”¨å‡½æ•°ä½œä¸ºå€¼ï¼Œå‡½æ•°å†…éƒ¨å¯¼å…¥ç»„ä»¶ã€‚</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/Home'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> About <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/About'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/User'</span><span class="token punctuation">)</span></code></pre>
<p>â€‹    ç„¶åä½¿ç”¨å¯¹åº”çš„å˜é‡åä¸º <code>component</code> çš„å€¼ã€‚é‚£ä¹ˆï¼Œæ‰“åŒ…åçš„ <code>js</code> æ–‡ä»¶å°±ä¼šåˆ†æˆå¤šä»½ã€‚</p>
<h4 id="2-3-router-push-ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜"><a href="#2-3-router-push-ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜" class="headerlink" title="2.3 $router.push ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜"></a>2.3 <code>$router.push</code> ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜</h4><p>å­¦ä¹ çš„æ—¶å€™ï¼Œå°è¯•äº†è·¯ç”±è·³è½¬ä½¿ç”¨ä»£ç å®ç°ï¼Œç»“æœåœ¨é‡å¤ç‚¹å‡»åŒä¸€ä¸ªè·¯ç”±æŒ‡å‘å…ƒç´ çš„æ—¶å€™ï¼Œæ§åˆ¶å°ç–¯ç‹‚æŠ¥é”™ã€‚</p>
<p><img src="/2019/12/12/vuenote-2/1-3.png" alt="1-3"></p>
<p>æœäº†å¾ˆä¹…å¾ˆä¹…è§£å†³æ–¹æ³•ï¼Œå¤§è‡´æ˜¯ä½ç‰ˆæœ¬ <code>vue-router</code> çš„ä¸€ä¸ª <code>bug</code> ï¼Œä½†æˆ‘çœ‹äº†ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œè¯´æ˜¯æˆ‘çš„è¿™ä¸ªç‰ˆæœ¬å·²ç»ä¿®å¤äº† <code>bug</code> å‘€ï¼Ÿæˆ‘å€’æ˜¯æ²¡çœ‹å‡ºæ¥å“ªé‡Œä¿®å¤äº†â€¦ åˆ é™¤é‡è£… <code>node_modules</code> ä¹Ÿä¸é¡¶ç”¨ï¼Œè¿˜æœ‰ä¸ªåœ¨ <code>router</code> çš„ <code>index.js</code> å†™ä¸€æ®µä»£ç çš„æ–¹æ³•ï¼Œæˆ‘è¯•äº†ä¸€æŠŠæ²¡ç”¨ã€‚(å…¶å®æ˜¯æœ‰ç”¨çš„ï¼Œåªæ˜¯æˆ‘æ¼å†™äº†ä¸ªæ–¹æ³•)</p>
<p>ç¿»äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œå†™çš„ <code>emmmmmm</code> </p>
<p>ç„¶ååˆå»ç¿» <code>github</code> ä¸Šçš„ <code>issues</code> ï¼Œç¡®å®æœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯é˜…è¯»èƒ½åŠ›å®åœ¨æ‰æ€¥ï¼Œåªæ˜¯çœ‹äº†ä¸ªå¤§æ¦‚ï¼Œæœ‰ä¸ªè¡¥å†™æ•è·é”™è¯¯ä»£ç çš„æˆ‘æ²¡çœ‹æ‡‚è¡¥å†™åœ¨å“ªå„¿ï¼Œè¿˜æœ‰ä¸ªåœ¨ <code>$router.push</code> æ–¹æ³•å¤šå†™ä¸€ä¸ªç©ºçš„ç®­å¤´å‡½æ•°ä½œä¸ºå‚æ•°çš„æ–¹æ³•ï¼Œç¡®å®è§£å†³äº†ï¼Œä½†æ˜¯ä¸å¤ªæ‡‚ä¸ºä»€ä¹ˆã€‚ä¼°è®¡æˆ‘å¾—å»çœ‹çœ‹è¿™å‡ ä¸ªå‡½æ•°çš„æºç æ‰èƒ½çŸ¥é“äº†ã€‚</p>
<p>æœ€ååˆæ˜¯ä¸€é¡¿ç–¯ç‹‚æœç´¢ï¼Œè¿˜æ˜¯ä¹‹å‰çœ‹åˆ°çš„æ—§æ–¹æ³•ï¼Œå°±åœ¨è¿™ä¸ªæ—¶å€™æˆ‘çªç„¶é¡¿æ‚Ÿã€‚æˆ‘çš„è·¯ç”±è·³è½¬é€‰æ‹©çš„æ˜¯ <code>replace</code> æ–¹æ³•è€Œä¸æ˜¯ <code>push</code>  ã€‚å‰æ–‡æåˆ°çš„é‚£ä¸ªåœ¨ <code>index.js</code> åŠ ä»£ç çš„æ“ä½œå¯¹æˆ‘çš„ç»„ä»¶æ ¹æœ¬ä¸ç”Ÿæ•ˆï¼Œå› ä¸ºæˆ‘å‹æ ¹æ²¡é…ç½® <code>replace</code> æ–¹æ³• ğŸ˜‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">const</span> routerPush <span class="token operator">=</span> Router<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">;</span>
<span class="token keyword">const</span> routerReplace <span class="token operator">=</span> Router<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>replace<span class="token punctuation">;</span>
Router<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> routerPush<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>error <span class="token operator">=</span><span class="token operator">></span> error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Router<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>replace <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> routerReplace<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>error <span class="token operator">=</span><span class="token operator">></span> error<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>å¤§æ¦‚å°±æ˜¯æ”¹å†™äº†åŸå‹é“¾ä¸Šçš„ <code>push</code> æ–¹æ³•å’Œ <code>replace</code> æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç»‘å®šäº† <code>this</code> ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯æ•è·äº†é”™è¯¯ã€‚</p>
<p>é—®é¢˜è§£å†³ã€‚</p>
<blockquote>
<p>æ—¥åå†æ¥ç»†è‡´ç ”ç©¶è¿™ä¸ªåŠæ³•ã€‚</p>
</blockquote>
<h4 id="2-4-keep-alive-ä¸ä¸€æ¬¡åˆ›å»º"><a href="#2-4-keep-alive-ä¸ä¸€æ¬¡åˆ›å»º" class="headerlink" title="2.4 keep-alive ä¸ä¸€æ¬¡åˆ›å»º"></a>2.4 <code>keep-alive</code> ä¸ä¸€æ¬¡åˆ›å»º</h4><p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå­ç»„ä»¶åœ¨è¢«è·¯ç”±è·³è½¬è¿›å…¥å’Œç¦»å¼€çš„æ—¶å€™ï¼Œä¼šè¢«é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œå¯ä»¥é€šè¿‡ <code>created</code> å’Œ <code>destroyed</code> é’©å­å‡½æ•°è¿›è¡ŒéªŒè¯ã€‚</p>
<p>å¦‚æœæƒ³è¦ä½¿ä¸€ä¸ªç»„ä»¶è¢«ä¿æŒï¼Œå¯ä»¥ä½¿ç”¨ <code>keep-alive</code> æ ‡ç­¾åŒ…è£¹ <code>router-view</code> æ¥å®ç°ä»…ä¸€æ¬¡åˆ›å»ºã€‚</p>
<p>åŒæ—¶ï¼Œä½¿ç”¨äº† <code>keep-alive</code> æ ‡ç­¾åï¼Œè¢«åŒ…è£¹çš„å­ç»„ä»¶å°±å¯ä»¥è°ƒç”¨ <code>activated</code> å’Œ <code>deactivated</code> é’©å­å‡½æ•°æ¥è¡¨ç¤ºå½“å‰è·¯ç”±æ˜¯å¦æ´»è·ƒã€‚</p>
<p>è‹¥æ˜¯æƒ³è¦æ’é™¤æŸä¸ªå­ç»„ä»¶ï¼Œæƒ³è¦å…¶é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œå¯ä»¥è®¾ç½® <code>keep-alive</code> æ ‡ç­¾çš„å±æ€§ <code>exclude</code> ä¸ºè¯¥å­ç»„ä»¶çš„ <code>name</code> å±æ€§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-1</title>
    <url>/2019/12/09/vuenote-1/</url>
    <content><![CDATA[<h1 id="Vue-ç¬”è®°-â‘ "><a href="#Vue-ç¬”è®°-â‘ " class="headerlink" title="Vue ç¬”è®° â‘ "></a>Vue ç¬”è®° â‘ </h1><h3 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h3><blockquote>
<p>è¯´å¥½å‡æœŸå†çœ‹ <code>vue</code> çš„ï¼Œç»“æœè¿˜æ˜¯æ²¡å¿ä½å“ˆâ€¦</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="â‘ -å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ"><a href="#â‘ -å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ" class="headerlink" title="â‘  å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ"></a>â‘  å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ</h3><p><img src="/2019/12/09/vuenote-1/20191209_220854.gif" alt="ç‚¹å‡»å˜è‰²æ¼”ç¤º"></p>
<p>ä¸€å¼€å§‹çš„è¦æ±‚å°±æ˜¯ä½¿ç”¨ <code>data</code> çš„æ•°ç»„æ¥åšæ•°æ®ç„¶åæ¸²æŸ“åˆ—è¡¨å¹¶å®ç°ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶ï¼ŒæŸä¸ªå…ƒç´ å˜è‰²ã€‚</p>
<p>ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œå°†è¿‡ç¨‹æ‹†åˆ†å¼€ã€‚</p>
<ol>
<li>é¦–å…ˆæ˜¯ä½¿ç”¨ <code>v-for</code> æŒ‡ä»¤å¾ªç¯ç”Ÿæˆå…ƒç´ ã€‚</li>
<li>ç„¶åè€ƒè™‘ç»™æ¯ä¸ªå…ƒç´ ç»‘å®š <code>click</code> äº‹ä»¶ã€‚</li>
<li>ç‚¹å‡»æ—¶ç»™å½“å‰ç‚¹å‡»å…ƒç´ æ·»åŠ æŒ‡å®šç±»ååŒæ—¶ç§»é™¤å…¶ä»–æ‰€æœ‰å…ƒç´ çš„ç±»åã€‚</li>
</ol>
<p>ç„¶åå°±å¼€å§‹è’™åœˆäº†ï¼Œåº”è¯¥æ€ä¹ˆç»™æ•°ç»„æ•°æ®å’Œç±»ååŠ¨æ€å¯¹åº”å‘¢ï¼Ÿ<br>çº ç»“äº†åŠå¤©ï¼Œç”¨äº†å¯¹è±¡çš„æ–¹æ³•ã€‚<br><img src="/2019/12/09/vuenote-1/pic2.png" alt="å¯¹è±¡æ•°æ®è§£å†³"></p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
  <span class="token selector"><span class="token class">.red</span> </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> 
    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> 
    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(value,key, index) in list<span class="token punctuation">"</span></span> 
    <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value?<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span> 
    <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handle(key)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ key }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">'aaaaaaaaaa'</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">'bbbbbbbbbbbb'</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">'cccccccccccccc'</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">'dddddddddddddddd'</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">'eeeeeeeeeeeeeeeeee'</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">handle</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> list<span class="token punctuation">)</span><span class="token punctuation">{</span>
          list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>ç„¶åå…œå…œè½¬è½¬åŠå¤©çœ‹åˆ°åˆ«äººçš„è§£å†³æ–¹æ³•ï¼Œç¬é—´æ„Ÿè§‰è‡ªå·±æ˜¯ä¸ª <code>**</code> ã€‚<br><img src="/2019/12/09/vuenote-1/pic1.png" alt="æ•°ç»„è§£å†³æ–¹æ³•"></p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
  <span class="token selector"><span class="token class">.red</span> </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> 
    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> 
    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, index) in list<span class="token punctuation">"</span></span> 
    <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:currentIndex<span class="token punctuation">=</span><span class="token punctuation">=</span>index}<span class="token punctuation">"</span></span> 
    <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handle(index)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token string">'aaaaaaaaaa'</span><span class="token punctuation">,</span>
        <span class="token string">'bbbbbbbbbbbb'</span><span class="token punctuation">,</span>
        <span class="token string">'cccccccccccccc'</span><span class="token punctuation">,</span>
        <span class="token string">'dddddddddddddddd'</span><span class="token punctuation">,</span>
        <span class="token string">'eeeeeeeeeeeeeeeeee'</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      currentIndex<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">handle</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex<span class="token operator">=</span>index<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>åªéœ€è¦ä¸€ä¸ªè®°å½•å½“å‰åº”è¯¥é«˜äº®çš„ç´¢å¼•å€¼ï¼Œæ¸²æŸ“å…ƒç´ æ—¶ä½œä¸ºç±»åæ˜¯å¦æ·»åŠ çš„åˆ¤æ–­æ¡ä»¶ï¼Œç„¶åç‚¹å‡»äº‹ä»¶ä¸­åŠ¨æ€ä¿®æ”¹è¿™ä¸ªç´¢å¼•å€¼å°±å¯ä»¥ã€‚</p>
<h3 id="â‘¡-åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†"><a href="#â‘¡-åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†" class="headerlink" title="â‘¡ åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†"></a>â‘¡ åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†</h3><blockquote>
<p>å…ˆç»™å‡ºä¸€ä¸ªå°ä¾‹å­</p>
</blockquote>
<p><img src="/2019/12/09/vuenote-1/20191210_174526.gif" alt="åŠ¨æ€åˆ‡æ¢æ¼”ç¤º"><br>ä¾‹å­å¾ˆç®€å•ï¼Œå°±æ˜¯æ ¹æ® <code>data</code> çš„ä¸€ä¸ª <code>flag</code> å€¼åŠ¨æ€åˆ‡æ¢å…ƒç´ ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>use-phone<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·æ‰‹æœºå·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>use-phone<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>use-email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·é‚®ç®±<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>use-email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">=</span>!flag;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åˆ‡æ¢ç±»å‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      flag<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>ä½†æ˜¯åœ¨åˆ‡æ¢çš„æ—¶å€™ä¼šæ³¨æ„åˆ°ï¼Œè¾“å…¥çš„ <code>value</code> å€¼åœ¨å…ƒç´ åˆ‡æ¢çš„æ—¶å€™è¢«ä¿ç•™äº†ã€‚<br>åŸå› æ˜¯ <code>vue</code> åº•å±‚çš„è™šæ‹Ÿ <code>dom</code> åœ¨æ›´æ–°æ—¶ä¼šæ¯”å¯¹æ–°æ—§å…ƒç´ çš„æ”¹å˜ï¼Œå°½å¯èƒ½çš„å‡å°‘ä¿®æ”¹çš„èŒƒå›´ã€‚<br>æ–°æ—§å…ƒç´ é™¤äº† <code>id</code> å€¼ä»¥å¤–éƒ½æ˜¯ç›¸åŒçš„ã€‚å› æ­¤ï¼Œ <code>input</code> ç»„ä»¶çš„ <code>value</code> å€¼è¢«ä¿ç•™ã€‚<br>ä¸“ä¸šæœ¯è¯­åº”è¯¥æ˜¯ <code>input</code> å’Œ <code>label</code> è¢«å¤ç”¨ã€‚</p>
<h3 id="â‘¢-è´­ç‰©è½¦å®ä¾‹"><a href="#â‘¢-è´­ç‰©è½¦å®ä¾‹" class="headerlink" title="â‘¢ è´­ç‰©è½¦å®ä¾‹"></a>â‘¢ è´­ç‰©è½¦å®ä¾‹</h3><blockquote>
<p>å…ˆç»™å‡ºæ¼”ç¤º</p>
</blockquote>
<p><img src="/2019/12/09/vuenote-1/20191210_192637.gif" alt="è´­ç‰©è½¦å®ä¾‹æ¼”ç¤º"></p>
<p>ä¸€ä¸ªå¾ˆç®€å•çš„è´­ç‰©è½¦ä¾‹å­ï¼Œç»¼åˆè¿ç”¨äº† <code>v-for</code> <code>v-if</code> <code>v-else</code> <code>v-bind</code> <code>v-on</code> <code>computed</code> <code>methods</code> ç­‰æŒ‡ä»¤ã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token selector">table </span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#e9e9e9</span><span class="token punctuation">;</span>
  <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span>
  <span class="token property">border-spacing</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">th, td </span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">8</span>px <span class="token number">10</span>px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#e9e9e9</span><span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">th </span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#f7f7f7</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#5c6b77</span><span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>books.length<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>ä¹¦ç±åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>å‡ºç‰ˆæ—¥æœŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>ä»·æ ¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>æ•°é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, index) in books<span class="token punctuation">"</span></span>
          <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{{ item.id }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{{ item.date }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{{ item.price | showPrice }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>decrement(index)<span class="token punctuation">"</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.count&lt;<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
          {{ item.count }}
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>increment(index)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>remove(index)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç§»é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>è´­ç‰©è½¦ä¸ºç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>æ€»ä»·æ ¼ {{ totalPrice }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    books<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'ã€Šç®—æ³•å¯¼è®ºã€‹'</span><span class="token punctuation">,</span>
        date<span class="token punctuation">:</span> <span class="token string">'2006-9'</span><span class="token punctuation">,</span>
        price<span class="token punctuation">:</span> <span class="token number">85.00</span><span class="token punctuation">,</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'ã€ŠUNIXç¼–ç¨‹è‰ºæœ¯ã€‹'</span><span class="token punctuation">,</span>
        date<span class="token punctuation">:</span> <span class="token string">'2006-2'</span><span class="token punctuation">,</span>
        price<span class="token punctuation">:</span> <span class="token number">59.00</span><span class="token punctuation">,</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'ã€Šç¼–ç¨‹ç ç‘ã€‹'</span><span class="token punctuation">,</span>
        date<span class="token punctuation">:</span> <span class="token string">'2008-10'</span><span class="token punctuation">,</span>
        price<span class="token punctuation">:</span> <span class="token number">39.00</span><span class="token punctuation">,</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'ã€Šä»£ç å¤§å…¨ã€‹'</span><span class="token punctuation">,</span>
        date<span class="token punctuation">:</span> <span class="token string">'2006-3'</span><span class="token punctuation">,</span>
        price<span class="token punctuation">:</span> <span class="token number">125.00</span><span class="token punctuation">,</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        
    <span class="token function">increment</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">decrement</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">showPrice</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'ï¿¥'</span><span class="token operator">+</span> price<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">totalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        sum<span class="token operator">+</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>é€šè¿‡æŒ‡ä»¤æ¥å®ç°å„ç§æ“ä½œï¼Œæœ€ç»ˆéƒ½å°†æ”¹å˜ä½“ç°åˆ° <code>data</code> ä¸­çš„ <code>books</code> æ•°ç»„ï¼Œé¡µé¢å†…å®¹ä¹Ÿä¼šç›¸åº”æ”¹å˜ã€‚<br>åœ¨å¯¹ä»·æ ¼æ¸²æŸ“æ—¶ï¼Œå› ä¸ºæ•°æ®çš„åŸå§‹æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ï¼Œå› ä¸ºè¿™ç§ä¿®æ”¹åœ¨é¡µé¢ä¸­å­˜åœ¨å¤šå¤„ï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ª <code>filter</code> è¿‡æ»¤å™¨æ¥å®ç°ã€‚</p>
<p>åœ¨å¯¹äºæ€»ä»·æ ¼çš„ç´¯åŠ å¤„ï¼Œæœ‰å¾ˆå¤šå®ç°æ–¹å¼ï¼Œåˆ—ä¸¾ä¸€ä¸‹ã€‚</p>
<ol>
<li>åŸå§‹çš„ <code>for</code> å¾ªç¯ï¼Œéå†æ•°ç»„ï¼Œè®¡ç®—æ¯ä¸€é¡¹å¯¹åº”çš„æ€»ä»·æ ¼å¹¶ç´¯åŠ ã€‚</li>
<li>ä½¿ç”¨ <code>for-in</code> å¾ªç¯<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> totalPrice <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> book <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  totalPrice <span class="token operator">+</span><span class="token operator">=</span> book<span class="token punctuation">.</span>price <span class="token operator">*</span> books<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> totalPrice<span class="token punctuation">;</span></code></pre>
</li>
<li>ä½¿ç”¨ <code>for-of</code> å¾ªç¯<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> totalPrice <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">)</span><span class="token punctuation">{</span>
  totalPrice <span class="token operator">+</span><span class="token operator">=</span> item<span class="token punctuation">.</span>price <span class="token operator">*</span> item<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> totalPrice<span class="token punctuation">;</span></code></pre>
</li>
<li>ä½¿ç”¨é«˜é˜¶å‡½æ•° <code>reduce</code></li>
</ol>
<h3 id="â‘£-Vue-åŒå‘ç»‘å®šåŸç†"><a href="#â‘£-Vue-åŒå‘ç»‘å®šåŸç†" class="headerlink" title="â‘£ Vue åŒå‘ç»‘å®šåŸç†"></a>â‘£ Vue åŒå‘ç»‘å®šåŸç†</h3><p><code>vue</code> ä¸­çš„ <code>v-model</code> æŒ‡ä»¤å®ç°äº†æ•°æ®çš„åŒå‘ç»‘å®šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦å¤–ä¸¤ä¸ªæŒ‡ä»¤æ¥å®ç°åŒå‘ç»‘å®šã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  {{message}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">:</span> <span class="token string">'a'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2019/12/09/vuenote-1/20200304_173734.gif" alt="æ•°æ®åŒå‘ç»‘å®šæ¼”ç¤º"></p>
<p><code>v-on</code> + <code>v-bind</code> é…åˆäº§ç”Ÿæ•°æ®åŒå‘ç»‘å®šæ•ˆæœã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>valueChange<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  {{message}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">:</span> <span class="token string">'a'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">valueChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h3 id="â‘¤-Vue-å“åº”å¼æ³¨æ„ç‚¹"><a href="#â‘¤-Vue-å“åº”å¼æ³¨æ„ç‚¹" class="headerlink" title="â‘¤ Vue å“åº”å¼æ³¨æ„ç‚¹"></a>â‘¤ Vue å“åº”å¼æ³¨æ„ç‚¹</h3><p><code>vue</code> å®ä¾‹ä¸­ <code>data</code> ä¸­çš„æ•°ç»„å“åº”å¼å­˜åœ¨äºä¸ƒä¸ªæ–¹æ³•ä¸­ï¼Œ <code>push</code> <code>pop</code> <code>splice</code> <code>shift</code> <code>unshift</code> <code>sort</code> <code>reverse</code> ï¼Œé™¤æ­¤ä¹‹å¤–å¯ä»¥ä½¿ç”¨ <code>vue</code> å®˜æ–¹æä¾›çš„ <code>set</code> <code>delete</code> æ–¹æ³•æ¥å“åº”å¼æ›´æ–°æ•°ç»„æˆ–å¯¹è±¡ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>info<span class="token punctuation">,</span> <span class="token string">'keyOrIndex'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>info<span class="token punctuation">,</span> <span class="token string">'keyOrIndex'</span><span class="token punctuation">)</span></code></pre>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€æ˜“è®¡ç®—å™¨</title>
    <url>/2019/11/07/jian-yi-ji-suan-qi/</url>
    <content><![CDATA[<h1 id="ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ-ä¼˜åŒ–è¿‡ç¨‹"><a href="#ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ-ä¼˜åŒ–è¿‡ç¨‹" class="headerlink" title="ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ+ä¼˜åŒ–è¿‡ç¨‹"></a>ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ+ä¼˜åŒ–è¿‡ç¨‹</h1><h2 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h2><blockquote>
<p>å…¶å®å­¦äº†è›®ä¹… <code>js</code> çš„ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰å°è¯•è¿‡ç”¨ <code>js</code> å»åŠ¨æ‰‹å†™ä¸€äº›å°ä¸œè¥¿ã€‚<br>ç¢°å·§åœ¨æŸä¸ªå­¦ä¹ å¹³å°çœ‹åˆ°äº†è®¡ç®—å™¨çš„åˆ¶ä½œï¼Œé¡ºæ‰‹è®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>ç®€å•åˆ°ä»¤äººå‘æŒ‡çš„åˆå§‹ç®€é™‹ç‰ˆæœ¬ğŸ‘‡</p>
<blockquote>
<p>å¿˜è®°ç²˜æºç äº†ï¼Œç¬¬ä¸€éƒ¨åˆ†å…¨æ˜¯å›¾ç‰‡çœŸçš„å¾ˆæç¬‘ã€‚</p>
</blockquote>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A81.png" alt=""></p>
<p><code>js</code> ä»£ç ä¹Ÿæ˜¯ä¸€æ ·çš„ç²—ç³™éšæ„ã€‚</p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A82.png" alt=""></p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A83.png" alt=""></p>
<p>æ•ˆæœæ¼”ç¤ºï¼š</p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A84.png" alt=""><br><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A85.png" alt=""><br><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A86.png" alt=""><br><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A87.png" alt=""></p>
<p>ç„¶åå°±æ˜¯å¯¹ <code>js</code> ä»£ç çš„ä¼˜åŒ–ã€‚</p>
<ol>
<li><p>å°†é‡å¤ä»£ç æŠ½å‡ºæ¥åŒ…è£…æˆä¸ºç‹¬ç«‹çš„å‡½æ•°ã€‚</p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A88.png" alt=""></p>
</li>
<li><p>å°†å››ä¸ªäº‹ä»¶ç»‘å®šé›†åˆåˆ°ä¸€ä¸ªå¾ªç¯å†…å®Œæˆã€‚</p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A810.png" alt=""></p>
<blockquote>
<p>é¡ºä¾¿ï¼Œæˆ‘å¯çœŸæ˜¯ä¸ªæ‰‹è¯¯å°èƒ½æ‰‹ã€‚</p>
</blockquote>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A89.png" alt=""></p>
</li>
</ol>
<h2 id="ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨-ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—"><a href="#ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨-ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—" class="headerlink" title="ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨(ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—)"></a>ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨<del>(ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—)</del></h2><p>é¦–å…ˆæ˜¯ <code>html</code> å’Œ <code>css</code> éƒ¨åˆ†ï¼Œå·®ä¸å¤šæ˜¯ç…§æ¬ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>./ç®€æ˜“è®¡ç®—å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>HTML, CSS, JavaScript è®¡ç®—å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clear<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn other<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>C<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>delete<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn other<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>D<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>display<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>9<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn operator toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn operator toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn operator toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn number toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn operator toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn operator toget<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cal<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn other<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">=</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./js/./ç®€æ˜“è®¡ç®—å™¨.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">*</span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Open Sans'</span>, sans-serif<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#495678</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">form</span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#495678</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">4</span>px <span class="token number">4</span>px <span class="token hexcode">#3d4a65</span><span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">40</span>px auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">40</span>px <span class="token number">0</span> <span class="token number">30</span>px <span class="token number">40</span>px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">280</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.btn</span> </span><span class="token punctuation">{</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">45</span>px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span>px <span class="token number">0</span> <span class="token number">5</span>px <span class="token number">10</span>px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">45</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.btn</span><span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span>px <span class="token number">0</span> <span class="token number">5</span>px <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.btn</span>, <span class="token id">#display</span>, form </span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">25</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token id">#display</span> </span><span class="token punctuation">{</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#98d1dc</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset <span class="token number">6</span>px <span class="token number">6</span>px <span class="token number">0</span>px <span class="token hexcode">#3facc0</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#dededc</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">47</span>px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">115</span>px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.number</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#72778b</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">5</span>px <span class="token hexcode">#5f6680</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#dededc</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.number</span><span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">2</span>px <span class="token hexcode">#5f6680</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.operator</span> </span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#dededc</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">5</span>px <span class="token hexcode">#bebebe</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#72778b</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.operator</span><span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">2</span>px <span class="token hexcode">#bebebe</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.other</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#e3844c</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">5</span>px <span class="token hexcode">#e76a3d</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#dededc</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.other</span><span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">2</span>px <span class="token hexcode">#e76a3d</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>æ ·å¼å›¾ï¼š</p>
<p><img src="/2019/11/07/jian-yi-ji-suan-qi/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A811.png" alt=""></p>
<p>ç„¶åå…ˆæ˜¯ç®€å•ç²—æš´çš„ <code>js</code> ä»£ç ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//displayæ¡†æ˜¾ç¤ºæ›´æ”¹ã€‚</span>
<span class="token keyword">function</span> <span class="token keyword">get</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> shownums <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  shownums<span class="token punctuation">.</span>value<span class="token operator">+</span><span class="token operator">=</span>num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//æ¸…ç©ºæ˜¾ç¤ºå‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> shownums <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  shownums<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//åˆ é™¤ä¸€ä¸ªè¾“å…¥å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">backspace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> shownums <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  shownums<span class="token punctuation">.</span>value<span class="token operator">=</span>shownums<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>shownums<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//ä¸ºæ‰€æœ‰ num å’Œ operator çš„ button æ·»åŠ ç‚¹å‡»ç›‘å¬äº‹ä»¶</span>
<span class="token keyword">var</span> Btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"toget"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>Btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  Btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>é¦–å…ˆæ˜¯å‰é¢å‡ ä¸ªæ˜¾ç¤ºéƒ¨åˆ†çš„å‡½æ•°ï¼Œéƒ½å¾ˆç®€å•ã€‚ä¸è¿‡æˆ‘å‘ç°æˆ‘è€æ˜¯å¿˜è®°å­—ç¬¦ä¸²æ˜¯æ— æ³•æ›´æ”¹çš„ï¼Œè€Œä¸”è®°ä¸æ¸…æ•°ç»„å’Œå­—ç¬¦ä¸²å„è‡ªçš„æ–¹æ³•ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//æ‰¾åˆ°æ¸…é™¤æŒ‰é’®ç»‘å®šç‚¹å‡»ç›‘å¬äº‹ä»¶</span>
<span class="token keyword">var</span> clearBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"clear"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
clearBtn<span class="token punctuation">.</span>onclick<span class="token operator">=</span>clear<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//åˆ é™¤ä¸€ä¸ªè¾“å…¥çš„ç»‘å®šç›‘å¬</span>
<span class="token keyword">var</span> deleteBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"delete"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
deleteBtn<span class="token punctuation">.</span>onclick<span class="token operator">=</span>backspace<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//è®¡ç®—ç»“æœçš„ç‚¹å‡»ç»‘å®šç›‘å¬</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"cal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">calculates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> result<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
  result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">eval</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
re<span class="token punctuation">.</span>onclick<span class="token operator">=</span>calculates<span class="token punctuation">;</span></code></pre>
<p>ç„¶ååˆ°äº†è¿™é‡Œï¼Œå†™ç€å†™ç€æ‡µäº†ä¸€ä¸‹ã€‚æœ¬æ¥ä»¥ä¸ºè¦æ‘©æ‹³æ“¦æŒè‡ªå·±å†™è®¡ç®—çš„å‡½æ•°ï¼Œæ€ä¹ˆæ€ä¹ˆå–ç¬¦å·ï¼Œç»“æœç›´æ¥ä¸€ä¸ª <code>eval</code> å‡½æ•°ç ¸äº†ä¸Šæ¥ã€‚ emmmmmï¼Œ æˆ‘ä¸€å®šæ˜¯æ²‰æµ¸åœ¨å†™ <code>C</code> çš„æ—¶å€™ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯è‡ªå·±åŠ¨æ‰‹å»å†™ã€‚ç°åœ¨å†™åˆ«çš„è¯­è¨€ï¼Œæœ‰äº†å¾ˆå¤šå†…ç½®çš„å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘æ€»ä¸è®°å¾—ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//æ—¶é—´å±•ç¤º</span>
<span class="token keyword">function</span> <span class="token function">showTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> M <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> h <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  m<span class="token operator">=</span><span class="token function">checkTime</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span><span class="token function">checkTime</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> week<span class="token operator">=</span>today<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">"æ˜ŸæœŸå¤©"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸä¸€"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸäºŒ"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸä¸‰"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸå››"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸäº”"</span><span class="token punctuation">,</span><span class="token string">"æ˜ŸæœŸå…­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>y<span class="token operator">+</span><span class="token string">"å¹´"</span><span class="token operator">+</span>M<span class="token operator">+</span><span class="token string">"æœˆ"</span><span class="token operator">+</span>d<span class="token operator">+</span><span class="token string">"æ—¥"</span><span class="token operator">+</span><span class="token string">"&lt;/br>"</span><span class="token operator">+</span>h<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>m<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>s<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>w<span class="token punctuation">[</span>week<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">"showTime()"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">checkTime</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    i<span class="token operator">=</span><span class="token string">"0"</span><span class="token operator">+</span>i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">showTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ç„¶åæ˜¯ä¸€ä¸ªæ—¶é—´å±•ç¤ºï¼Œè¿™ä¸ç¦è®©æˆ‘æƒ³èµ·äº†ä¸Šå‘¨é‡åˆ°çš„å‘ã€‚<br><code>input</code> ä¸­ <code>type</code> ä¸º <code>date</code> çš„é‚£ä¸ªå…ƒç´  <code>value</code> å€¼çš„æ¥æ”¶æ˜¯æœ‰æ ¼å¼è¦æ±‚çš„ï¼Œæ¯”å¦‚æ—¥çš„æ•°å­—å°±è¦æ±‚æ˜¯ä¸¤ä½æ•°ã€‚</p>
<p>æˆ‘å†™äº†ä¸€ä¸ªè‡ªåŠ¨è·å–å½“å¤©æ—¥æœŸçš„å‡½æ•°ï¼Œåœ¨æˆ‘è‡ªå·±æµ‹è¯•çš„æ—¶å€™ï¼Œæ˜¯åœ¨äºŒåå‡ å·ï¼Œéƒ½æ²¡æœ‰å‡ºç°è¿‡é—®é¢˜ã€‚åˆ«äººåœ¨å››äº”å·çš„æ—¶å€™ä¸€æµ‹ï¼Œå°±é‡åˆ° <code>bug</code> äº†ã€‚ğŸ˜‚</p>
<h2 id="ğŸ’¡æ€»ç»“"><a href="#ğŸ’¡æ€»ç»“" class="headerlink" title="ğŸ’¡æ€»ç»“"></a>ğŸ’¡æ€»ç»“</h2><p>ä¸€ä¸ªç®€å•çš„è®¡ç®—å™¨å°±å·®ä¸å¤šæ˜¯è¿™æ ·äº†ã€‚å†™å®Œä¸€çœ‹å¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿â€¦â€¦å”¯ä¸€è®°å¾—çš„å¤§æ¦‚æ˜¯è¿™ä¸ªè®¡ç®—å™¨çš„æ ·å¼å¾ˆå¥½çœ‹ï¼Œ <code>eval</code> è®©æˆ‘çœ¼å‰ä¸€äº®(?)</p>
<blockquote>
<p>é¡ºä¾¿è®°ä¸€ä¸‹ï¼Œè¦å»äº†è§£ä¸€ä¸‹ <code>setTimeout</code> å’Œ <code>setInterval</code> çš„å¼‚åŒã€‚</p>
</blockquote>
<h2 id="2020-å¹´å›é¡¾"><a href="#2020-å¹´å›é¡¾" class="headerlink" title="2020 å¹´å›é¡¾"></a>2020 å¹´å›é¡¾</h2><p>ä»”ç»†åˆçœ‹äº†ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œå…¶å®é‡ç‚¹åœ¨äºè·å– <code>dom</code> å…ƒç´ ä»¥åŠå€¼ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œä¹Ÿè®¸è¿˜æœ‰é¡µé¢çš„æ ·å¼å’Œå¸ƒå±€ã€‚</p>
<p>é‚£ä¸ªæ—¶å€™è¿˜æ˜¯å¾ˆéš¾æ¥å—ä¸€ä¸ªè¯­è¨€å†…ç½®ä¸€å¤§å †çš„å‡½æ•°å’Œæ–¹æ³•ï¼Œå› ä¸ºæˆ‘é‚£æ—¶å€™è§‰å¾—è®°ä¸‹æ¥å¾ˆéš¾ï¼Œç°åœ¨å´å¥½åƒå·²ç»ä¹ æƒ¯äº†è®¸å¤šã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/11/04/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>
<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>CSStip</title>
    <url>/2019/10/27/css-xiao-tip/</url>
    <content><![CDATA[<h1 id="ä¸€äº›å…³äºCSSçš„tip"><a href="#ä¸€äº›å…³äºCSSçš„tip" class="headerlink" title="ä¸€äº›å…³äºCSSçš„tip"></a>ä¸€äº›å…³äºCSSçš„tip</h1><ul>
<li><code>margin</code> å€¼çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„ <code>width</code> ã€‚</li>
<li>ä¸‰è§’å½¢çš„åˆ¶ä½œåˆ©ç”¨ <code>width</code> <code>height</code> ä¸º0 ç„¶åè®¾ç½® <code>border</code> ã€‚</li>
<li>æ°”æ³¡çš„åˆ¶ä½œ<br><img src="/2019/10/27/css-xiao-tip/bubble.png" alt="bubble"></li>
</ul>
<a id="more"></a>

<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bubble<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>triangle common<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cover common<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- ç”¨æ¥è¦†ç›–çš„å€’ä¸‰è§’ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.bubble</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span> 
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span> 
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">5</span>px solid <span class="token hexcode">#FFB5BF</span><span class="token punctuation">;</span> 
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.common</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> 
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> 
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">/* ä½¿ç”¨ç»å¯¹å®šä½ */</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-<span class="token number">50%</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* æ°´å¹³å±…ä¸­ */</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.triangle</span> </span><span class="token punctuation">{</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> -<span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid <span class="token hexcode">#FFB5BF</span><span class="token punctuation">;</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid transparent<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.cover</span> </span><span class="token punctuation">{</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> -<span class="token number">13</span>px<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid <span class="token hexcode">#94E8FF</span><span class="token punctuation">;</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid transparent<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> <span class="token number">20</span>px solid transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<ul>
<li><code>loading</code> æ•ˆæœåˆ¶ä½œåˆ©ç”¨ <code>CSS3</code> çš„åŠ¨ç”»<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.loading</span> </span><span class="token punctuation">{</span>
<span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
<span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
<span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">5</span>px solid <span class="token hexcode">#ddd</span><span class="token punctuation">;</span>
<span class="token property">border-left-color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFB5BF</span><span class="token punctuation">;</span>
<span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.loading</span> </span><span class="token punctuation">{</span>
<span class="token property">animation</span><span class="token punctuation">:</span> loading-animation <span class="token number">1.2</span>s linear infinite<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> loading-animation</span> <span class="token punctuation">{</span>
<span class="token selector">0% </span><span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">100% </span><span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</li>
<li>è¡Œçº§å…ƒç´ çš„é«˜åº¦å–å†³äºæ–‡ä½“å­—ä½“å¤§å°ã€‚</li>
<li>æ–‡å­—éšè—çš„æ–¹æ³•:<ul>
<li><code>height: 0</code>+<code>padding</code>æ’‘å‡ºèƒŒæ™¯å›¾ç‰‡ï¼Œç„¶åè®¾ç½®<code>overflow: hidden</code></li>
<li><code>text-indent: -10000</code></li>
<li>å°†æ–‡å­—åŒ…å…¥<code>span</code>å…ƒç´ ä¸­ï¼Œç„¶å<code>display: none</code></li>
</ul>
</li>
<li><code>a</code> æ ‡ç­¾çš„æ ·å¼éœ€è¦éµå®ˆ <code>link</code> <code>visited</code> <code>hover</code> <code>active</code> é¡ºåºï¼Œåœ¨ <code>href</code> ä¸å¡«å…¥å€¼çš„æ—¶å€™ï¼Œ <code>a:link</code> ä¸èµ·ä½œç”¨ã€‚</li>
<li>æµè§ˆå™¨å°†æ ‡ç­¾é—´çš„æ¢è¡Œç©ºç™½æ¸²æŸ“ä¸ºä¸€ä¸ªç©ºæ ¼å¯¼è‡´éƒ¨åˆ†å…ƒç´ é—´å‡ºç°é—´éš™è§£å†³æ–¹æ³•ï¼š<ul>
<li>ç¼–å†™é¡µé¢æ—¶ä¸æ¢è¡Œã€‚</li>
<li>å®¹å™¨çš„ <code>font-size</code> è®¾ç½®ä¸º <code>0</code>.</li>
<li>æˆ‘ä»¬éœ€è¦å°†liå†…çš„å­—ç¬¦é—´éš”è®¾ä¸ºé»˜è®¤ã€‚<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.wrap</span> ul</span><span class="token punctuation">{</span><span class="token property">letter-spacing</span><span class="token punctuation">:</span> -<span class="token number">4</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>
ä¹‹åè®°å¾—è®¾ç½®liå†…å­—ç¬¦é—´éš”<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.wrap</span> ul li</span><span class="token punctuation">{</span><span class="token property">letter-spacing</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>
</li>
</ul>
</li>
<li>divé‡ŒåµŒå¥—äº† <code>img</code> åº•éƒ¨ä¼šå‡ºç°ç™½è¾¹<ul>
<li>å› ä¸º <code>img</code> é»˜è®¤æ˜¯æŒ‰åŸºçº¿ <code>(baseline)</code> å¯¹é½çš„ã€‚</li>
<li>è¦å»æ‰ç©ºæ ¼å¯ä»¥ä½¿ç”¨ <code>vertical-align: bottom</code> æˆ–å°† <code>img</code> æ ‡ç­¾å˜ä¸ºå—çº§å…ƒç´ ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li><p><code>line-height</code> ä»…åœ¨å€¼ä¸ºçº¯æ•°å­—æ—¶ï¼Œæ‰ä¼šä½¿åä»£ç»§æ‰¿è¯¥æ¯”å€¼ï¼Œå¦åˆ™ç»§æ‰¿è®¡ç®—åçš„ç»“æœã€‚</p>
</li>
<li><p><code>p</code> å…ƒç´ ä¸èƒ½åŒ…å« <code>div</code> å…ƒç´ ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ä½“é¢œè‰²é—ªç°é—®é¢˜</title>
    <url>/2019/10/22/zi-ti-yan-se-shan-xian-wen-ti/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜"><a href="#transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜" class="headerlink" title="transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜"></a>transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜</h3><blockquote>
<p>åœ¨å†™éœ€æ±‚çš„æ—¶å€™ï¼Œå¯¹ <code>index.html</code> é¡µé¢çš„æŒ‰é’®åšäº† <code>transition</code> æ•ˆæœæ¥ä½¿æ ·å¼å±•ç¤ºæ›´å¹³æ»‘ã€‚</p>
</blockquote>
<a id="more"></a>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.main-area</span> li a </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">54</span>px<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> background-color <span class="token number">.5</span>s ease,
  color <span class="token number">.5</span>s ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.main-area</span> li a<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#3399FF</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ç„¶åå‘ç°æƒ³è¦çš„æ•ˆæœç¡®å®å¯ä»¥åšåˆ°ï¼Œ<strong>ä½†æ˜¯</strong>æ¯æ¬¡æ‰“å¼€é¡µé¢çš„æ—¶å€™éƒ½å¯ä»¥çœ‹åˆ°aå…ƒç´ çš„å­—ä½“é¢œè‰²ä» <strong><em>å„ç§å¥‡æ€ªçš„é¢œè‰²</em></strong> é—ªç°ä¸ºè®¾å®šçš„é¢œè‰²ã€‚</p>
<p>ç ”ç©¶äº†ä¸€ä¼šå„¿ï¼Œçœ‹åˆ° <code>transition</code> çš„ä¸€ä¸ªå±æ€§ï¼š</p>
<pre class=" language-css"><code class="language-css"><span class="token property">transition-property</span> <span class="token punctuation">:</span> none | all | [&lt;IDENT>][<span class="token string">','</span>&lt;IDENT>]* <span class="token punctuation">;</span></code></pre>
<p><code>transition-property</code> æ˜¯ç”¨æ¥æŒ‡å®šå½“å…ƒç´ å…¶ä¸­ä¸€ä¸ªå±æ€§æ”¹å˜æ—¶æ‰§è¡Œ <code>transition</code> æ•ˆæœï¼Œå…¶ä¸­ <code>none</code> æ²¡æœ‰å±æ€§æ”¹å˜ï¼›<code>all</code> æ‰€æœ‰å±æ€§éƒ½æ”¹å˜ï¼Œå®ƒä¹Ÿæ˜¯é»˜è®¤å€¼ï¼›<code>indent</code> å¯ä»¥å¡«å†™å…ƒç´ å±æ€§åã€‚</p>
<blockquote>
<p>ğŸ‘†ä»¥ä¸Šæ¥è‡ªæŸæ•™ç¨‹ç½‘ç«™</p>
</blockquote>
<p>ç„¶åæ‰“å¼€ F12 çœ‹äº†ä¸€ä¸‹ å¯¹åº”ä½ç½®çš„ <code>a</code> å…ƒç´ çš„æ‰€æœ‰ <code>color</code> å±æ€§ã€‚</p>
<p><img src="/2019/10/22/zi-ti-yan-se-shan-xian-wen-ti/transition.png" alt="transition"></p>
<p>å°±å¯ä»¥çœ‹åˆ°åœ¨é‡ç½®æ ·å¼è¡¨ <code>reset.css</code> ä¸­çš„ <code>color</code> è®¾ç½®ä¸ºç»§æ‰¿å€¼ã€‚<br>å–æ¶ˆè¿™ä¸ªæ ·å¼ï¼Œå°±å¯ä»¥çœ‹åˆ° <code>a</code> çš„ <code>color</code> å˜ä¸ºæˆ‘ä»¬çœ‹åˆ°çš„é—ªç°å‰çš„é¢œè‰²ã€‚</p>
<p><img src="/2019/10/22/zi-ti-yan-se-shan-xian-wen-ti/transition1.png" alt="transition1"></p>
<p><img src="/2019/10/22/zi-ti-yan-se-shan-xian-wen-ti/transition2.png" alt="transition2"></p>
<p>æŒ‰æˆ‘çš„ç†è§£ä¹Ÿå°±æ˜¯ï¼Œæµè§ˆå™¨è®°ä½äº†è¿™ä¸ªè¦†ç›–è¿‡ç¨‹ï¼Œç„¶åæŠŠå®ƒå±•ç¤ºä¸ºåŠ¨ç”»æ•ˆæœï¼Œé‚£æˆ‘ä»¬åº”è¯¥è¦æƒ³åŠæ³•æŠŠè¿™ä¸ªè¦†ç›– <code>a</code> é»˜è®¤é¢œè‰²çš„è¿‡ç¨‹æå‰åˆ° <code>transition</code> æ²¡æœ‰è®°ä½çš„æ—¶å€™ã€‚</p>
<p>æˆ‘çš„åšæ³•æ˜¯åœ¨ <code>head</code> æ ‡ç­¾ä¸­å†™å…¥ <code>style</code> ç›´æ¥è¦†ç›– <code>a</code> çš„ <code>color</code> å±æ€§ã€‚</p>
<p>å…¶ä½™è§£å†³æ–¹æ³•å¾…åç»­ç ”ç©¶ã€‚<del>å¤§æ¦‚ä¸ä¼šæœ‰åç»­</del></p>
<h3 id="æ¥è‡ªä¸¤å¹´åçš„åç»­"><a href="#æ¥è‡ªä¸¤å¹´åçš„åç»­" class="headerlink" title="æ¥è‡ªä¸¤å¹´åçš„åç»­"></a>æ¥è‡ªä¸¤å¹´åçš„åç»­</h3><p>å…¶å®åˆ°ä»Šå¤©æˆ‘ä¹Ÿæ²¡çœ‹å‡ºæ¥é‚£ä¸ªå¥‡æ€ªçš„è“ç´«è‰²åˆ°åº•æ˜¯å“ªé‡Œæ¥çš„ï¼Œæˆ‘åˆæ‰“å¼€å½“æ—¶çš„æ–‡ä»¶é‡çœ‹äº†ä¸€éã€‚å°†å½“æ—¶åœ¨ <code>style</code> æ ‡ç­¾é‡Œçš„æ ·å¼æ³¨é‡Šæ‰ï¼Œå´æ²¡æœ‰å†çœ‹è§å½“æ—¶çš„è“ç´«è‰²ã€‚å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯æˆ‘ä»”ç»†çœ‹äº†çœ‹å½“æ—¶å†™çš„æ ·å¼ï¼Œæˆ‘å‘ç°æˆ‘ä¼¼ä¹å¹¶æ²¡æœ‰å¯¹ <code>a</code>  å…ƒç´ è®¾ç½®é»˜è®¤é¢œè‰²ï¼Œåªè®¾ç½®äº† <code>hover</code> æ—¶çš„é¢œè‰²ã€‚</p>
<p>å½“ç„¶äº†ï¼Œæˆ‘åˆç¿»çœ‹äº†å¼€å‘è€…å·¥å…·çš„è®¡ç®—æ ·å¼ï¼Œå…¶å®é‚£ä¸ªé¢œè‰²åªæ˜¯ <code>a</code> å…ƒç´ çš„é»˜è®¤è“è‰²è€Œå·²â€¦â€¦</p>
<p>å½“æ—¶å±…ç„¶ä¸€æƒŠä¸€ä¹çš„ï¼Œæ„Ÿè§‰é‡åˆ°äº†ä»€ä¹ˆéš¾é¢˜ã€‚ğŸ˜‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSç»§æ‰¿</title>
    <url>/2019/10/22/css-ji-cheng/</url>
    <content><![CDATA[<h3 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h3><blockquote>
<p>ä¸€å¼€å§‹è®°å½•åœ¨ <code>Onenote</code> ä¸­çš„ç¬”è®°å¤åˆ¶éƒ½æ˜¯ç›´æ¥å›¾ç‰‡å½¢å¼ã€‚æ‰€ä»¥æˆ‘å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬å†è½¬åˆ° <code>markdown</code>ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>åœ¨é˜…è¯»ã€ŠCSSæƒå¨æŒ‡å—ã€‹è¿‡ç¨‹ä¸­ï¼Œåœ¨ç»§æ‰¿è¿™ä¸€æ¨¡å—å‘ç°äº†é€‰æ‹©å™¨æƒé‡çš„ä¸€äº›å†…å®¹ã€‚</p>
<ul>
<li>ç»§æ‰¿å¾—åˆ°çš„å€¼æ²¡æœ‰ç‰¹æ®Šæ€§ï¼Œæƒé‡å¼±äº <code>0</code> ç‰¹æ®Šæ€§ï¼ˆé€šé…ç¬¦ï¼‰</li>
</ul>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!doctype html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
      <span class="token selector">* </span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>gray<span class="token punctuation">;</span><span class="token punctuation">}</span>
      <span class="token selector">h1<span class="token id">#page-title</span> </span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span><span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Meerkat <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span>Central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
      Welcome to the best place on the web for meerkat information!
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2019/10/22/css-ji-cheng/pic.png" alt="æ¼”ç¤º"></p>
<h2 id="ğŸ‘‡å›¾ç‰‡å½¢å¼"><a href="#ğŸ‘‡å›¾ç‰‡å½¢å¼" class="headerlink" title="ğŸ‘‡å›¾ç‰‡å½¢å¼"></a>ğŸ‘‡å›¾ç‰‡å½¢å¼</h2><p><del>ç³Šçš„å¦ˆéƒ½ä¸è®¤è¯†</del></p>
<p><img src="/2019/10/22/css-ji-cheng/1.jpg" alt=""><br><img src="/2019/10/22/css-ji-cheng/2.jpg" alt=""><br><img src="/2019/10/22/css-ji-cheng/3.jpg" alt=""></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬</title>
    <url>/2019/10/19/for-xun-huan-tian-jia-shi-jian-jian-ting/</url>
    <content><![CDATA[<h1 id="forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬"><a href="#forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬" class="headerlink" title="forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬"></a>forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬</h1><blockquote>
<p>åœ¨å†™æŸä¸ªéœ€æ±‚æ—¶ï¼Œæƒ³è¦åšç‚¹å‡»æŒ‰é’®åŠ¨æ€æ·»åŠ æ ·å¼è¡¨ç¤ºé€‰ä¸­çš„æ•ˆæœï¼Œåœ¨å†™ <code>js</code> ä»£ç çš„æ—¶å€™é‡åˆ°äº†ç–‘é—®ç‚¹ã€‚</p>
</blockquote>
<a id="more"></a>

<p><img src="/2019/10/19/for-xun-huan-tian-jia-shi-jian-jian-ting/for%E5%BE%AA%E7%8E%AF.png" alt="é¡µé¢"></p>
<p>é¡µé¢å¦‚ä¸Šæ‰€ç¤ºï¼Œå¤´éƒ¨çš„ä¸‰ä¸ªæŒ‰é’®åœ¨ç‚¹å‡»åæ°¸è¿œåªä¼šå¯¹æœ€åä¸€ä¸ªæŒ‰é’®è¿›è¡Œæ ·å¼æ·»åŠ æˆ–ç§»é™¤ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> chooseArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"choose-area"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> child <span class="token operator">=</span> chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  child<span class="token punctuation">.</span>onclick<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>className<span class="token operator">==</span><span class="token string">""</span><span class="token punctuation">)</span>
    child<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">"active"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>æ­¤å¤„å…ˆæ‹¿å‡ºä¸»è¦çš„ä»£ç (æ­¤æ—¶çš„å·²ç»æ˜¯ä¸å®Œæ•´+ä¹±æ”¹ç‰ˆæœ¬)ï¼Œéƒ¨åˆ†æ‰“å°ä»£ç ä¸ºè°ƒè¯•æ—¶ç¼–å†™ã€‚<br>æŸ¥äº†ä¸€ä¸‹ç™¾åº¦ï¼Œå¤§æ¦‚äº†è§£åˆ°æ˜¯ <code>onclick</code> æˆ–æ˜¯æ·»åŠ äº‹ä»¶ç›‘å¬ä¸€ç±»éƒ½ä¸æ˜¯å³æ—¶è¿è¡Œã€‚è€Œå†…éƒ¨ä¼šè°ƒç”¨å¤–éƒ¨çš„å˜é‡ï¼Œåœ¨ <code>click</code> äº‹ä»¶çš„å‡½æ•°è¿è¡Œæ—¶ï¼Œ<code>i</code> æ—©å·²è‡ªå¢è‡³æœ€å¤§å€¼ï¼Œæ‰€ä»¥æ°¸è¿œæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ã€‚æ­¤å¤„çš„è§£å†³æ–¹æ³•æ˜¯é—­åŒ…ã€‚(æˆ‘ç»ˆäºçŸ¥é“é—­åŒ…çš„ä½œç”¨äº†â€¦)</p>
<p>ä¿®æ”¹åçš„ä»£ç (ä¾ç„¶æœ‰å¾…æ”¹è¿›ï¼Œæ—¶é—´æœªå®š)ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> chooseArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"choose-area"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> child <span class="token operator">=</span> chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
      child<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>className <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span>
          child<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"active"</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
          child<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">else</span><span class="token punctuation">{</span>
            chooseArea<span class="token punctuation">.</span>children<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>é—­åŒ…éƒ½è§£å†³ä¸äº†çš„æˆ‘å¯çœŸæ˜¯ä¸ªèœé¸¡â€¦(lllï¿¢Ï‰ï¿¢)</p>
<h2 id="2020-å¹´çš„å›é¡¾"><a href="#2020-å¹´çš„å›é¡¾" class="headerlink" title="2020 å¹´çš„å›é¡¾"></a>2020 å¹´çš„å›é¡¾</h2><p>è¿™ç¯‡å¤§æ¦‚æ˜¯æœ€è®©æˆ‘æ— å¥ˆçš„ï¼Œç°åœ¨æˆ‘å·²ç»å®Œå…¨æ¸…æ¥šç¬”è®°ä¸­è®°å½•çš„é—®é¢˜äº†ã€‚</p>
<p>ä¸€ä¸ªå¾ˆæ™®éç®€å•çš„éœ€æ±‚ï¼Œå¤šä¸ªæŒ‰é’®ï¼Œç›‘å¬æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶æ¥åˆ‡æ¢é€‰ä¸­çŠ¶æ€ã€‚</p>
<p>æˆ‘ä»¬é€‰æ‹©éå†æŒ‰é’®çš„ <code>dom</code> ç±»æ•°ç»„ï¼Œå¦‚æœä»…ä»…é‡‡ç”¨ <code>ES5</code> æ¥å®Œæˆï¼Œç¡®å®ä¼šé‡åˆ°é—®é¢˜ã€‚</p>
<p>åŸå› åœ¨äº <code>var</code> å£°æ˜çš„å±€é™æ€§ï¼Œ <code>var</code> ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸï¼Œåœ¨ <code>for</code> å¾ªç¯å†…éƒ¨å£°æ˜çš„æ‰€æœ‰å˜é‡çš„ä½œç”¨åŸŸéƒ½æ˜¯é«˜äºå—çº§çš„ï¼Œæ‰€æœ‰å—çº§å†…éƒ¨å…±äº«åŒæ ·çš„å˜é‡ï¼Œæ‰€ä»¥æœ€åæˆ‘ä»¬èƒ½æ‰¾åˆ°çš„ <code>i</code> æ˜¯å¾ªç¯ç»“æŸçš„å€¼ï¼Œæ‰€æœ‰æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶éƒ½æ˜¯è§¦å‘æœ€åä¸€ä¸ªæŒ‰é’®çš„æ ·å¼å˜åŒ–ã€‚</p>
<p>æ­¤å¤„çš„è§£å†³æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>let</code> å£°æ˜å—çº§ä½œç”¨åŸŸçš„å˜é‡ã€‚</li>
<li>è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å½¢æˆé—­åŒ…ï¼Œä¹Ÿå°±æ˜¯å½¢æˆå‡½æ•°ä½œç”¨åŸŸæ¥ä¿å­˜æ¯ä¸€ä¸ª <code>i</code>  ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜</title>
    <url>/2019/10/18/promise-zhong-de-settimeout-can-shu-wen-ti/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜"><a href="#Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜" class="headerlink" title="Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜"></a>Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜</h3><blockquote>
<p>åœ¨çœ‹ <a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544" target="_blank" rel="noopener">å»–é›ªå³°çš„ <code>javascript</code> æ•™ç¨‹çš„ Promise </a> ä¸€èŠ‚çœ‹åˆ°ä¸€ä¸ªç–‘é—®ç‚¹ã€‚</p>
</blockquote>
<p>å…³äºPromiseçš„å¼‚æ­¥æ‰§è¡Œï¼Œå…¶ä¸­ä¸€ä¸ªç¤ºä¾‹ä»£ç ä¸­çœ‹åˆ°äº†setTimeOutçš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> logging <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test-promise2-log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logging<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">[</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> s<span class="token punctuation">;</span>
  logging<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 0.5ç§’åè¿”å›input*inputçš„è®¡ç®—ç»“æœ:</span>
<span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'calculating '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">' x '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> input <span class="token operator">*</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 0.5ç§’åè¿”å›input+inputçš„è®¡ç®—ç»“æœ:</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'calculating '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">' + '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> input <span class="token operator">+</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start new Promise...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Got value: '</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>åœ¨è®² <code>input*input</code> å’Œ <code>input+input</code> ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥ä¸ºç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°çš„å‚æ•°æ—¶ï¼Œè¾“å‡ºç»“æœå¯ä»¥åšåˆ°å»¶æ—¶ã€‚</p>
<p>ä½†å¦‚æœæˆ‘å°†ä»£ç ä¿®æ”¹ä¸ºç›´æ¥ä½œä¸ºç¬¬ä¸€ä¸ª <code>resove</code> çš„å‚æ•°ä¼ å…¥ï¼Œå°±æ— æ³•åšåˆ°å»¶æ—¶çš„æ•ˆæœã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> logging <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test-promise2-log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logging<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">[</span>logging<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> s<span class="token punctuation">;</span>
  logging<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 0.5ç§’åè¿”å›input*inputçš„è®¡ç®—ç»“æœ:</span>
<span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'calculating '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">' x '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span>input<span class="token operator">*</span>input<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 0.5ç§’åè¿”å›input+inputçš„è®¡ç®—ç»“æœ:</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'calculating '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">' + '</span> <span class="token operator">+</span> input <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span>input<span class="token operator">+</span>input<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start new Promise...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Got value: '</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>åº”è¯¥æ˜¯å› ä¸ºå¼‚æ­¥ä¸€ç±»çš„åŸå› ï¼Œå¾…æ•´ç†ã€‚</p>
<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>ä¸€å¹´åæˆ‘æ¥æ›´æ–°äº†ï¼Œç°åœ¨å›çœ‹çœŸæ˜¯ä¸ªç™½ç—´é—®é¢˜ã€‚</p>
<p>å…ˆæ <code>setTimeout</code> å‡½æ•°ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> timeoutID <span class="token operator">=</span> scope<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timeoutID <span class="token operator">=</span> scope<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> timeoutID <span class="token operator">=</span> scope<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>code<span class="token punctuation">[</span><span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>è¿™æ˜¯è¯¥å‡½æ•°çš„è°ƒç”¨å®ä¾‹ã€‚</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä»£ç ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ã€‚</p>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯¥å‡½æ•°çš„è°ƒç”¨æ—¶å»¶ï¼Œæ˜¯å¯é€‰å‚æ•°ï¼Œçœç•¥çš„è¯é»˜è®¤ä¸º <code>0</code> ã€‚</p>
</li>
<li><p>ç¬¬ä¸‰ä¸ªåŠåé¢çš„å‚æ•°ä¸ºå‚æ•°åˆ—è¡¨ï¼Œä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ã€‚</p>
</li>
</ul>
<p>é‚£ä¹ˆåœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>input * input</code> or <code>input + input</code> éƒ½æ˜¯ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•° <code>resolve</code> å›è°ƒçš„å‚æ•°ã€‚</p>
<p>è€Œæˆ‘å½“æ—¶æƒ³åˆ°çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ç›´æ¥å†™ä¸º <code>resolve(input * input)</code> ï¼Œè¿™æ ·å…¶å®æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºè¿™æ ·çš„ä¹¦å†™æ–¹æ³•ä»£è¡¨äº†ç›´æ¥è°ƒç”¨ <code>resolve</code> å›è°ƒã€‚é‚£ä¹ˆ <code>setTimeou</code> çš„å»¶è¿Ÿä½œç”¨å°±æ— æ•ˆäº†ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSä¼ªç±»é€‰æ‹©å™¨</title>
    <url>/2019/06/05/css-wei-lei-xuan-ze-qi/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ "><a href="#é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ " class="headerlink" title="é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ "></a>é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ </h3><p>åœ¨é˜…è¯»ã€ŠCSSæƒå¨æŒ‡å—ã€‹çš„è¿‡ç¨‹ä¸­ï¼Œè¯»åˆ°å…³äºä¼ªç±»é€‰æ‹©å™¨æ—¶çš„â€œé€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ â€éƒ¨åˆ†ï¼Œå‘ç°å¯¹äºä¼ªç±» <code>:first-child</code> å­˜åœ¨è¯¯è§£ã€‚</p>
<a id="more"></a>

<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!doctype html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
      <span class="token selector">p<span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token selector">li<span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span> <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>These are the necessary step:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Insert key<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Turn key <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>clockwise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Push accelerator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> Do <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span>not<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span> push the brake at the same time as the accelerator.
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p>ä¹‹å‰æ˜¯å°† <code>p:first-child</code> ç†è§£ä¸ºç¬¬ä¸€ä¸ª <code>p</code> å…ƒç´ ï¼Œé˜…è¯»åå‘ç°å…¶çœŸå®å«ä¹‰ä¸ºæŸå…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„æ‰€æœ‰ <code>p</code> å…ƒç´ ã€‚</p>
<p><img src="/2019/06/05/css-wei-lei-xuan-ze-qi/pic1.png" alt="æ¼”ç¤º"></p>
<p><strong>ä¼ªç±»çš„å®è´¨ä¸ºç¬¦åˆ:åçš„è¦æ±‚çš„å…ƒç´ ã€‚</strong></p>
<h3 id="2020å¹´çš„å›é¡¾"><a href="#2020å¹´çš„å›é¡¾" class="headerlink" title="2020å¹´çš„å›é¡¾"></a>2020å¹´çš„å›é¡¾</h3><p>çœ‹äº†å½“æ—¶çš„è®°å½•ï¼Œæ„Ÿè§‰è¿˜æ˜¯æ€ªæ€ªçš„ã€‚äºæ˜¯æ”¹äº†ä¸€ä¸‹ä»£ç å†æ¬¡å°è¯•ã€‚</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector">p<span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span>
      <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">li<span class="token pseudo-class">:first-child</span> </span><span class="token punctuation">{</span>
      <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first-child<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>second-child<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>These are the necessary step:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Insert key<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Turn key <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>clockwise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Push accelerator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> Do <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span>not<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span> push the brake at the same time as the accelerator.
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<p><img src="/2019/06/05/css-wei-lei-xuan-ze-qi/image-20201013205859864.png" alt="image-20201013205859864"></p>
<p>æŸ¥çœ‹å±•ç¤ºçš„æ•ˆæœå¯ä»¥çœ‹å‡ºï¼Œ <code>p:first-child</code> çš„å«ä¹‰è§£é‡Šä¸ºï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå­å…ƒç´ çš„æ‰€æœ‰ <code>p</code> æ ‡ç­¾ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>font-faceè¿œç¨‹é—®é¢˜</title>
    <url>/2019/06/02/font-face-yuan-cheng-wen-ti/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>åœ¨é˜…è¯» <code>Head First HTMLä¸CSS</code> ç¬¬2ç‰ˆè¿‡ç¨‹ä¸­ï¼Œåœ¨å¢åŠ å­—ä½“å’Œé¢œè‰²æ ·å¼éƒ¨åˆ†å­¦ä¹ åˆ°ä¸ºé¡µé¢å¢åŠ Webå­—ä½“ã€‚<br>å…¶ä¸­è¿ç”¨äº† <code>@font-face</code> åŠŸèƒ½ï¼Œç…§ç¤ºä¾‹æ‰€å†™æ˜¯å¤±è´¥çš„ã€‚</p>
<a id="more"></a>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Emblema One"</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url("https://wickedlysmart.com/hfhtmlcss/chapter8/journal/EmblemaOne-Regular.woff")</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'woff'</span><span class="token punctuation">)</span>, 
       <span class="token url">url("https://wickedlysmart.com/hfhtmlcss/chapter8/journal/EmblemaOne-Regular.ttf")</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">//urlåçš„formatæ˜¯åæ¥åŠ çš„ï¼Œæµ‹è¯•åå¹¶æ— æ•ˆæœã€‚
h1 </span><span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Emblema One"</span>, sans-serif<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">220%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2019/06/02/font-face-yuan-cheng-wen-ti/pic1.png" alt="æ¼”ç¤º"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œä¼šæ˜¾ç¤ºè¯·æ±‚å­—ä½“å¤±è´¥ã€‚<br>ä½†æ˜¯å¦‚æœå­—ä½“æ˜¯å­˜å‚¨åœ¨æœ¬åœ°çš„ï¼Œåˆ™æˆåŠŸã€‚</p>
<pre class=" language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Emblema One"</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url("EmblemaOne-Regular.woff")</span>, 
       <span class="token url">url("EmblemaOne-Regular.ttf")</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1 </span><span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Emblema One"</span>, sans-serif<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">220%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/2019/06/02/font-face-yuan-cheng-wen-ti/pic2.png" alt="æ¼”ç¤º"></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰å®éªŒåˆ©ç”¨åœ¨çº¿å­—ä½“åº“â€œæœ‰å­—åº“â€ä¹Ÿå¯ä»¥æˆåŠŸ</p>
<p><img src="/2019/06/02/font-face-yuan-cheng-wen-ti/pic3.png" alt="æ¼”ç¤º"></p>
<p>ç…§å®ƒçš„è¦æ±‚è¿›è¡Œè®¾ç½®å¯ä»¥æˆåŠŸ</p>
<p><img src="/2019/06/02/font-face-yuan-cheng-wen-ti/pic4.png" alt="æ¼”ç¤º"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>é‚±å¥‡ç¼–ç çš„javascriptå®ç°</title>
    <url>/2019/05/29/qiu-qi-bian-ma-de-javascript-shi-xian/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="åŠ å‡ä¹˜"><a href="#åŠ å‡ä¹˜" class="headerlink" title="åŠ å‡ä¹˜"></a>åŠ å‡ä¹˜</h3><p>åœ¨<a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023021250770016" target="_blank" rel="noopener">å»–é›ªå³°è€å¸ˆçš„ç½‘ç«™</a>çœ‹åˆ°äº†é—­åŒ…å†…å®¹ï¼Œå…¶ä¸­çš„è„‘æ´å¤§å¼€éƒ¨åˆ†å°±æ˜¯å…³äºé‚±å¥‡ç¼–ç çš„åŠ æ³•ã€‚</p>
<h4 id="åŠ æ³•"><a href="#åŠ æ³•" class="headerlink" title="åŠ æ³•"></a>åŠ æ³•</h4><a id="more"></a>
<pre class=" language-javascript"><code class="language-javascript"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// å®šä¹‰æ•°å­—0:</span>
<span class="token keyword">var</span> zero <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// å®šä¹‰æ•°å­—1:</span>
<span class="token keyword">var</span> one <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// å®šä¹‰åŠ æ³•:</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">m</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// è®¡ç®—æ•°å­—2 = 1 + 1:</span>
<span class="token keyword">var</span> two <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// è®¡ç®—æ•°å­—3 = 1 + 2:</span>
<span class="token keyword">var</span> three <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// è®¡ç®—æ•°å­—5 = 2 + 3:</span>
<span class="token keyword">var</span> five <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>two<span class="token punctuation">,</span> three<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ä½ è¯´å®ƒæ˜¯3å°±æ˜¯3ï¼Œä½ è¯´å®ƒæ˜¯5å°±æ˜¯5ï¼Œä½ æ€ä¹ˆè¯æ˜ï¼Ÿ</span>

<span class="token comment" spellcheck="true">// å‘µå‘µï¼Œçœ‹è¿™é‡Œ:</span>

<span class="token comment" spellcheck="true">// ç»™3ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°3æ¬¡:</span>
<span class="token punctuation">(</span><span class="token function">three</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'print 3 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ç»™5ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°5æ¬¡:</span>
<span class="token punctuation">(</span><span class="token function">five</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'print 5 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ç»§ç»­æ¥ç€ç©ä¸€ä¼š...</span></code></pre>
<p>åŠ æ³•å…¶å®æ¯”è¾ƒå¥½ç†è§£ï¼Œå…³äºå‡æ³•éƒ¨åˆ†åœ¨ç½‘ä¸Šæœç´¢äº†å¾ˆä¹…ã€‚æ‰¾åˆ°çš„ä»£ç æ¯”è¾ƒéš¾ç†è§£ã€‚</p>
<h4 id="å‡æ³•"><a href="#å‡æ³•" class="headerlink" title="å‡æ³•"></a>å‡æ³•</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> ZERO <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> ADD1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> pred <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> fx <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">n</span><span class="token punctuation">(</span>fx<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> u<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TWO <span class="token operator">=</span> <span class="token function">pred</span><span class="token punctuation">(</span>THREE<span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> u<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">TWO</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> u<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> SUB1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> z<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> u<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ONE <span class="token operator">=</span> <span class="token function">ADD1</span><span class="token punctuation">(</span>ZERO<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> TWO <span class="token operator">=</span> <span class="token function">ADD1</span><span class="token punctuation">(</span>ONE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> THREE <span class="token operator">=</span> <span class="token function">ADD1</span><span class="token punctuation">(</span>TWO<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token function">TWO</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
THREE <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">THREE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
TWO <span class="token operator">=</span> <span class="token function">pred</span><span class="token punctuation">(</span>THREE<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> u<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">TWO</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> u<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">TWO</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">THREE</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">/*function(g){
  return function(h){
    return h(g(action));
  };
}=f
f(x)=function(g){
  return function(h){
    return h(g(action));
  };
}(x)=function(h){
  return h(x(action));
}
function(h){
  return h(x(action));
}(x)=x(x(action))
f(f(ONE(f)(x)))(g)
f(f(f(x)))(g)
f(f(x))(g)
*/</span>
<span class="token function">TWO</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> u<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token function">action</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TWO <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">ONE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ZERO</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
ONE <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">ZERO</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å…¶å®åˆ°æœ€åç®—å‡ºç»“æœæˆ‘ä¹Ÿæ²¡ç»•å‡ºå¼¯æ¥ğŸ™ƒ</p>
<h4 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•"></a>ä¹˜æ³•</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">multi</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//test six</span>
<span class="token keyword">var</span>  six <span class="token operator">=</span> <span class="token function">multi</span><span class="token punctuation">(</span>three<span class="token punctuation">,</span>two<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token function">multi</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'print 6 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>å¤§ä½¬ä»¬æœç„¶éƒ½å¾ˆå–œæ¬¢æŒ‘æˆ˜è‡ªå·±(lllï¿¢Ï‰ï¿¢)ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>mysqlè¿è¡Œç°æœ‰sqlæ–‡ä»¶</title>
    <url>/2018/12/31/mysql-yun-xing-xian-you-sql-wen-jian/</url>
    <content><![CDATA[<p>2018.12.31 23:18 <strong>MySQLå­¦ä¹ ä¸­</strong></p>
<p>PHPå’ŒMySQLWebå¼€å‘ç¬¬å››ç‰ˆ</p>
<h1 id="å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜"><a href="#å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜" class="headerlink" title="å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜"></a>å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜</h1><a id="more"></a>

<pre class=" language-bash"><code class="language-bash">D:\wamp\bin\mysql\mysql5.7.23<span class="token operator">></span>mysql -h localhost -u bookorama -D books -p <span class="token operator">&lt;</span> bookorama.sql
ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

D:\wamp\bin\mysql\mysql5.7.23<span class="token operator">></span>cd bin

D:\wamp\bin\mysql\mysql5.7.23\bin<span class="token operator">></span>mysql -h localhost -u bookorama -D books -p <span class="token operator">&lt;</span> D:\zyWEB\SQLjb\bookorama.sql
Enter password: ************
ERROR 1050 <span class="token punctuation">(</span>42S01<span class="token punctuation">)</span> at line 1: Table <span class="token string">'customers'</span> already exists

D:\wamp\bin\mysql\mysql5.7.23\bin<span class="token operator">></span>mysql -h localhost -u bookorama -D books -p <span class="token operator">&lt;</span> D:\zyWEB\SQLjb\bookorama.sql
Enter password: ************
ERROR 1064 <span class="token punctuation">(</span>42000<span class="token punctuation">)</span> at line 8: You have an error <span class="token keyword">in</span> your SQL syntax<span class="token punctuation">;</span> check the manual that corresponds to your MySQL server version <span class="token keyword">for</span> the right syntax to use near <span class="token string">'data not null
)'</span> at line 6

D:\wamp\bin\mysql\mysql5.7.23\bin<span class="token operator">></span>mysql -h localhost -u bookorama -D books -p <span class="token operator">&lt;</span> D:\zyWEB\SQLjb\bookorama.sql
Enter password: ************
ERROR 1050 <span class="token punctuation">(</span>42S01<span class="token punctuation">)</span> at line 1: Table <span class="token string">'customers'</span> already exists

D:\wamp\bin\mysql\mysql5.7.23\bin<span class="token operator">></span>mysql -h localhost -u bookorama -D books -p <span class="token operator">&lt;</span> D:\zyWEB\SQLjb\bookorama.sql
Enter password: ************

D:\wamp\bin\mysql\mysql5.7.23\bin<span class="token operator">></span></code></pre>
<p>ç»è¿‡æ— æ•°æ¬¡å°è¯•ä¸çº ç»“ï¼Œä¸€å¼€å§‹æç¤ºæƒé™ä¸å¤Ÿï¼Œå¾ˆæ— è¯­ï¼Œè®°å¾—ä¸Šæ¬¡åˆ›å»º <code>bookorama</code> è¿™ä¸ªè´¦æˆ·æ—¶åº”è¯¥ç»™äº†ä»–æƒé™çš„ï¼Œç„¶ååˆå¼€ <code>mysql</code> æ§åˆ¶å°é‡æ–°ç»™æƒé™ç„¶åå†æ¥å‘½ä»¤è¡Œç»§ç»­æ•²å‘½ä»¤ï¼Œåˆå‘ç° <code>sql</code> æ–‡ä»¶ä¸­å†™é”™äº†ï¼Œç„¶ååˆæ”¹ï¼Œæœ€ç»ˆæ˜¯æˆåŠŸäº†ã€‚QAQ</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>ProjectASocialNewsWebPageapp</title>
    <url>/2018/12/17/projectasocialnewswebpageapp/</url>
    <content><![CDATA[<p>2018.12.17 11:07 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter26 <code>&lt;Project: a social news web app&gt;</code></p>
</blockquote>
<p>åŸé¢˜:</p>
<h1 id="Project-a-social-news-web-app"><a href="#Project-a-social-news-web-app" class="headerlink" title="Project: a social news web app"></a>Project: a social news web app</h1><p>This final project is the culmination of the book. You can check out the <a href="https://thejsway-publink.herokuapp.com" target="_blank" rel="noopener">expected result</a>. Good luck!</p>
<a id="more"></a>

<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>This project builds upon the social news program and web pages you created previously. This time, the objective is to make a social news application based on a Node.js server.</p>
<h2 id="Functional-requirements"><a href="#Functional-requirements" class="headerlink" title="Functional requirements"></a>Functional requirements</h2><ul>
<li>A link is defined by its title, its URL and its author (submitter).</li>
<li>If a new link URL does not start with â€œhttp://â€œ or â€œhttps://â€œ, â€œhttp://â€œ is automatically added at its beginning.</li>
<li>The web app displays a list of at least three already existing links, fetched from the server through an AJAX request.</li>
<li>A button exists for the user to submit a new link. When clicked, a form appears before the link list to input the new link properties (author, title and URL).</li>
<li>In this form, all link fields are mandatory.</li>
<li>When the new link is validated by the user, it is sent as form data to the server. If the operation is successful, the server returns the new link as JSON data. The new link is added at the top of the link list, replacing the form. A message indicates the success of the operation, then disappears after two seconds.</li>
</ul>
<h2 id="Technical-requirements"><a href="#Technical-requirements" class="headerlink" title="Technical requirements"></a>Technical requirements</h2><ul>
<li>The server must use a user-defined module exporting link-related code.</li>
<li>You should reuse any useful code from the previous projects.</li>
<li>All your code should be correctly indented.</li>
<li>Names should be wisely chosen and adhere to the camelCase convention.</li>
<li>Code duplication should be avoided.</li>
</ul>
<h2 id="Expected-result"><a href="#Expected-result" class="headerlink" title="Expected result"></a>Expected result</h2><p>Here are a few screenshots of the expected result.</p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013192921261.png" alt="image-20201013192921261"></p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013192927246.png" alt="image-20201013192927246"></p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013192932469.png" alt="image-20201013192932469"></p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013192937932.png" alt="image-20201013192937932"></p>
<p>=ã€‚=å†³å®šè®¤çœŸçš„å†™ä¸€ä¸‹è¿‡ç¨‹</p>
<h3 id="1-å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚"><a href="#1-å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚" class="headerlink" title="1.å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚"></a>1.å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚</h3><p>å°† <code>fitst.html</code> <code>eample.js</code> <code>first.css</code> ä»¥åŠéƒ¨åˆ†éœ€æ±‚çš„ <code>js</code> æˆ–è€… <code>css</code> æ–‡ä»¶å¤åˆ¶åˆ° <code>myserver</code>  æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013193413251.png" alt="image-20201013193413251"></p>
<pre class=" language-js"><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/first'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/views/first.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ·»åŠ ä¸€ä¸ª <code>app.get</code> æ¥ä½¿ <code>localhost:3000/first</code> å±•ç¤ºä¸º <code>first.html</code> ã€‚</p>
<p>ç™¾èˆ¬å°è¯•å‘ç°æ— æ³•å®ç°åˆå§‹åŒ–ä¸‰ä¸ªé“¾æ¥ï¼Œä¸€ç•ªæ“ä½œåå‘ç°è‡ªå·±æ‰“å¼€äº†å¦ä¸€ä¸ªè·¯å¾„çš„ <code>example.js</code>ï¼ˆ???ä¿®æ”¹åå‘ç°ä¼ å…¥å‡½æ•° <code>createmenu(link)</code> çš„ <code>link</code> ä¸º <code>undefined</code> å¹¶ä¸”åªå‡ºç°äº†ä¸€ä¸ªé“¾æ¥æ¡†(??? æ§åˆ¶å°è¾“å‡ºå¤§æ³•åå‘ç°ä¼ å…¥çš„ <code>link</code> ä¸º <code>Array(3)</code> (??? è¯´å¥½çš„ <code>JSON</code> å‘¢???)äºæ˜¯å¾ªç¯éå†åï¼Œä¾¿è¾¾æˆäº†æ•ˆæœã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/api/first'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> one <span class="token keyword">of</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">createmenu</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/first'</span><span class="token punctuation">,</span> jsonParser<span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>links<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/first'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/views/first.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013193423479.png" alt="image-20201013193423479"></p>
<p>çˆ±å¿ƒä¸ºå•¥å˜æˆäº†é—®å·ï¼Œæˆ‘ä¹Ÿæ¯é¸¡ã€‚</p>
<p>åˆåœ¨ <code>JSON</code> çš„ç±»å‹ä¸Šçº ç»“äº†å¾ˆä¹…ã€‚</p>
<pre class=" language-js"><code class="language-js">linkform<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/api/first'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    body<span class="token punctuation">:</span> formData
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">createsucceed</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/ai/first'</span><span class="token punctuation">,</span> upload<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span> <span class="token operator">||</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>input<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>é¢˜ç›®è¦æ±‚ä¸ºä½œä¸ºè¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œè€ŒæœåŠ¡å™¨ä»¥ <code>JSON</code> æ•°æ®çš„å½¢å¼è¿”å›æ–°é“¾æ¥ã€‚<br>ç»è¿‡æ•°æ¬¡å°è¯•åå‘ç°åœ¨æœåŠ¡å™¨ä»¥ <code>JSON.stringify</code> æ–¹æ³•çš„è¿”å›ç±»å‹è¿”å›çš„è¯, å†è½¬æ¢ä¸º <code>text</code> å³å¯è¾¾æˆæ•ˆæœã€‚(ä½†æ˜¯æˆåŠŸæ—¶çš„æç¤ºæ¶ˆæ¯çš„æ ·å¼ä¿¡æ¯æ€ä¹ˆç»™æˆ‘æä¸¢äº†â€¦.)</p>
<p><img src="/2018/12/17/projectasocialnewswebpageapp/image-20201013193431327.png" alt="image-20201013193431327"></p>
<p>æ–°çš„æ•°æ®æ€ä¹ˆåˆæˆ <code>undefined</code> çš„äº†ã€‚<br>è·¯å¾„çš„ <code>api</code> å°‘äº†ä¸€ä¸ª <code>p</code> çœŸå¥½ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> createlink <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkform <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkForm'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'250px'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'450px'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'title'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'url'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'submitted'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'submit'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>required <span class="token operator">=</span> <span class="token string">'required'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>required <span class="token operator">=</span> <span class="token string">'required'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>required <span class="token operator">=</span> <span class="token string">'required'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'inputbutton'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Add link'</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/api/first'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> formData
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">createsucceed</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input4<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkform<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/first'</span><span class="token punctuation">,</span> upload<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span> <span class="token operator">||</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> res1 <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  <span class="token keyword">const</span> res2 <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  <span class="token keyword">const</span> res3 <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>submitted<span class="token punctuation">;</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> res1<span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> res2<span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> res3
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ç–¯ç‹‚çš„æ§åˆ¶å°è¾“å‡ºå¤§æ³•åå‘ç°, ä¼ åˆ°å®¢æˆ·ç«¯çš„åº”è¯¥æ˜¯ <code>JSON</code> å¯¹è±¡è€Œä¸æ˜¯å­—ç¬¦ä¸² æ‰€ä»¥æ”¹ä¸º <code>response.json()</code> ç„¶åå°±åŸºæœ¬è¾¾æˆæ•ˆæœã€‚<br>å¤§è‡´å®Œå·¥ã€‚ç»¿è‰²çš„æ ·å¼ä¿¡æ¯æ‡’å¾—å†™äº†=ã€‚=</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>nodejs è®°ä¸€æ¬¡è¢«è‡ªå·±è ¢å“­çš„ç»å†</title>
    <url>/2018/12/16/nodejs-ji-yi-ci-bei-zi-ji-chun-ku-de-jing-li/</url>
    <content><![CDATA[<p>2018.12.16 22:46 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter25</p>
</blockquote>
<p>è¢«è‡ªå·±è ¢å“­äº†TT</p>
<a id="more"></a>

<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> multer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'multer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jsonParser <span class="token operator">=</span> bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> upload <span class="token operator">=</span> <span class="token function">multer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> articles <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'First article'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> <span class="token string">'Hello World!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'Lorem ipsum'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span>
      <span class="token string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut hendrerit mauris ac porttitor accumsan. Nunc vitae pulvinar odio, auctor interdum dolor. Aenean sodales dui quis metus iaculis, hendrerit vulputate lorem vestibulum.'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'Lorem ipsum in French'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span>
      <span class="token string">'Jâ€™en dis autant de ceux qui, par mollesse dâ€™esprit, câ€™est-Ã -dire par la crainte de la peine et de la douleur, manquent aux devoirs de la vie. Et il est trÃ¨s facile de rendre raison de ce que jâ€™avance.'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">'Origin, X-Requested-With, Content-Type, Accept'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/cars'</span><span class="token punctuation">,</span> jsonParser<span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cars <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`You sent me a list of cars: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>cars<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/animals'</span><span class="token punctuation">,</span> upload<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token keyword">const</span> vote <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>strongest<span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, you voted: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>vote<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/tshirt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/hello'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/views/hello.html`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>articles<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> listener <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>PORT <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Your app is listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>listener<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä¸€ç›´æ— æ³•è¾¾æˆ <strong>è‡ªå·±å‘é€è¯·æ±‚ç»™è‡ªå»ºçš„æœåŠ¡å™¨</strong> çš„ä»£ç æ•ˆæœã€‚ç„¶è€Œï¼Œæ§åˆ¶å°ä¸€ç›´åœ¨æç¤ºç¼ºå°‘ä¸œè¥¿â€¦â€¦ åªè¦è°ƒæ¢é¡ºåºå°±å¯ä»¥äº†â€¦â€¦ å‘µ=ã€‚=<br>è¿˜ä¸æ¸…æ¥š <code>use</code> çš„æ„ä¹‰æ˜¯å•¥â€¦â€¦ è¢«è‡ªå·±è ¢åˆ°æ²¡å¿ƒæƒ…è®°å½•äº†â€¦â€¦ å°±è¿™æ ·æŠŠâ€¦â€¦</p>
<p>åˆå†™äº† <code>tshirt</code> éƒ¨åˆ†ï¼Œç„¶è€Œï¼Œè¿˜æ˜¯ä¸€å¤´é›¾æ°´äº†å¥½ä¹…ã€‚</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> travel <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Sam'</span><span class="token punctuation">,</span>
  countries<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Send data to the server</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/api/countries'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
  headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    Accept<span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
    <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  body<span class="token punctuation">:</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>travel<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/countries'</span><span class="token punctuation">,</span> jsonParser<span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> travel <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>travel<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// const travel = JSON.stringify(request.body);</span>
  <span class="token comment" spellcheck="true">// const name = JSON.stringify(request.body).name;</span>
  <span class="token comment" spellcheck="true">// let a = JSON.stringify(request.body);</span>
  <span class="token comment" spellcheck="true">// let travel = JSON.parse(a);</span>
  <span class="token comment" spellcheck="true">// console.log(travel);</span>
  <span class="token comment" spellcheck="true">// const name = travel.name;</span>
  <span class="token comment" spellcheck="true">// console.log(name);</span>
  <span class="token comment" spellcheck="true">// const length = travel.countries.length;</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token string">`Your name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>travel<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and you visited </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>travel<span class="token punctuation">.</span>countries<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> countries. Keep traveling!`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä¸€å¼€å§‹ç›´æ¥å®šä¹‰ <code>name</code> ä¸ <code>countries</code> ä½†æ˜¯ä¼šæœªå®šä¹‰ã€‚ä¸çŸ¥é“ä¸ºå•¥ï¼Œåœ¨ <code>JSON</code> çš„ç±»å‹ä¸Šçº ç»“äº†å¾ˆä¹…ã€‚åŸå…ˆçš„å†™æ³•( <code>key</code> ä¸åŠ åŒå¼•å· å¹¶ä¸” <code>travel</code> è¢«æˆ‘å†™æˆäº† <code>Array</code> )ä¼¼ä¹æ˜¯æœ‰é—®é¢˜çš„ã€‚ç–¯ç‹‚çš„ä¿®æ”¹ä¹‹åæœ€ç»ˆè°œä¹‹é€šè¿‡â€¦â€¦ =ã€‚=æ”¹æ—¥å†è¯´</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>New article</title>
    <url>/2018/12/16/new-article/</url>
    <content><![CDATA[<p>2018.12.16 16:04 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter23 Coding time <code>&lt;New article&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="New-article"><a href="#New-article" class="headerlink" title="New article"></a>New article</h1><p>Write the HTML code that shows input fields for creating a new blog article by entering its title and content.<br>Then, write the associated JavaScript code to send the article fields as form data to the URL <a href="https://thejsway-server.herokuapp.com/articles" target="_blank" rel="noopener">https://thejsway-server.herokuapp.com/articles</a>. You should receive a confirmation message from the server and display it on the page.</p>
<p><img src="/2018/12/16/new-article/image-20201013192424143.png" alt="image-20201013192424143"></p>
<p>W&gt; The server only accepts POST requests at this URL.</p>
<pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://thejsway-server.herokuapp.com/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    body<span class="token punctuation">:</span> formData
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>å‘ç° <strong>1</strong> ä¸ªé—®é¢˜, <code>submit</code> äº‹ä»¶æ˜¯ç»‘å®šåœ¨ <code>form</code> ä¸Šè€Œä¸æ˜¯ <code>type</code> ä¸º <code>submit</code> çš„æŒ‰é’®ä¸Šã€‚<br>=ã€‚=å‘µ</p>
<h2 id="2018-12-17-0-50-æ›´æ–°"><a href="#2018-12-17-0-50-æ›´æ–°" class="headerlink" title="2018.12.17 0:50 æ›´æ–°"></a>2018.12.17 0:50 æ›´æ–°</h2><p>åŠ ä¸ŠæœåŠ¡å™¨éƒ¨åˆ†</p>
<pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://thejsway-server.herokuapp.com/articles'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    body<span class="token punctuation">:</span> formData
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> articles <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'First article'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> <span class="token string">'Hello World!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'Lorem ipsum'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span>
      <span class="token string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut hendrerit mauris ac porttitor accumsan. Nunc vitae pulvinar odio, auctor interdum dolor. Aenean sodales dui quis metus iaculis, hendrerit vulputate lorem vestibulum.'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'Lorem ipsum in French'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span>
      <span class="token string">'Jâ€™en dis autant de ceux qui, par mollesse dâ€™esprit, câ€™est-Ã -dire par la crainte de la peine et de la douleur, manquent aux devoirs de la vie. Et il est trÃ¨s facile de rendre raison de ce que jâ€™avance.'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/articles'</span><span class="token punctuation">,</span> upload<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newid <span class="token operator">=</span> articles<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> newtitle <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  <span class="token keyword">const</span> newcontent <span class="token operator">=</span> request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>content<span class="token punctuation">;</span>
  articles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> newid<span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> newtitle<span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> newcontent
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`New article added successfully with ID </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// response.send(`New article added successfully with ID ${newid}`);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>çªç„¶æˆåŠŸ d=====(ï¿£â–½ï¿£*)b å¼€ç†</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Github profile</title>
    <url>/2018/12/16/github-profile/</url>
    <content><![CDATA[<p>2018.12.16 13:22 <strong>ES6å­¦ä¹ ä¸­</strong><del>(ä¼¼ä¹å‡ºç°äº†çˆ¬è™«(å¹¶ä¸ )</del></p>
<blockquote>
<p>Thejsway/chapter22 Coding time <code>&lt;GitHub profile&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="GitHub-profile"><a href="#GitHub-profile" class="headerlink" title="GitHub profile"></a>GitHub profile</h1><p>The ubiquitous code sharing platform <a href="https://github.com" target="_blank" rel="noopener">GitHub</a> has a public API. The goal of this exercise is to display some information about a GitHub user, identified by his login. The API documentation is available <a href="https://developer.github.com/v3/users/" target="_blank" rel="noopener">here</a>.<br>Use this API to show the profile picture, name and website address of a GitHub user whose login is entered in a text box.</p>
<p><img src="/2018/12/16/github-profile/image-20201013191407437.png" alt="image-20201013191407437"></p>
<p>You can test your code by using the GitHub logins of prominent JS community members like <code>brendaneich</code>  (JavaScriptâ€™s father),  <code>douglascrockford</code> or  <code>vjeux</code>  .<br>=ã€‚=å¥½åƒæœ‰ç‚¹éš¾åº¦ã€‚æ²¡æœ‰ç»™ä»€ä¹ˆæç¤ºï¼Œåªç»™äº†å®˜æ–¹æ•™ç¨‹(<del>ç„¶è€Œå¹¶çœ‹ä¸æ‡‚</del>)<br>äºæ˜¯ç™¾åº¦<br>ç›¸å…³æ–‡ç« ï¼š<br><a href="https://www.jianshu.com/p/628a0747c492" target="_blank" rel="noopener">pythonçˆ¬å–</a><br><a href="https://blog.csdn.net/qq_25537177/article/details/80528834" target="_blank" rel="noopener">è²Œä¼¼æ˜¯js?</a><br>=ã€‚=è´¹å°½å¿ƒæ€çš„æˆ‘ä¼¼ä¹å†™äº†å‡ºæ¥</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> grabgithub <span class="token operator">=</span> name <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.github.com/users/'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>users <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// for(const auser of users){</span>
      <span class="token comment" spellcheck="true">// name = name.replace(/\s+/g,"").toLowerCase();</span>
      <span class="token comment" spellcheck="true">// const username = auser.login.replace(/\s+/g,"").toLowerCase();</span>
      <span class="token comment" spellcheck="true">// console.log(username);</span>
      <span class="token comment" spellcheck="true">// if(name === username){</span>
      <span class="token comment" spellcheck="true">// createinfo(auser);</span>
      <span class="token comment" spellcheck="true">// }</span>
      <span class="token comment" spellcheck="true">// }</span>
      <span class="token function">createinfo</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createinfo</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> incon <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  incon<span class="token punctuation">.</span>src <span class="token operator">=</span> user<span class="token punctuation">.</span>avatar_url<span class="token punctuation">;</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  name<span class="token punctuation">.</span>textContent <span class="token operator">=</span> user<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token keyword">const</span> address <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  address<span class="token punctuation">.</span>href <span class="token operator">=</span> user<span class="token punctuation">.</span>html_url<span class="token punctuation">;</span>
  address<span class="token punctuation">.</span>textContent <span class="token operator">=</span> user<span class="token punctuation">.</span>html_url<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>incon<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'grabButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> a <span class="token keyword">of</span> div<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token function">grabgithub</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ³¨é‡Šéƒ¨åˆ†ä¸ºåŸä»£ç ï¼ŒåŸå…ˆç†è§£ä¸ºåœ¨ <a href="https://api.github.com/users" target="_blank" rel="noopener">https://api.github.com/users</a> æŸ¥æ‰¾ä¿¡æ¯ï¼Œåæ¥å‘ç°è¿™ä¸ªé¡µé¢åªæœ‰46ä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œä»”ç»†è§‚å¯Ÿäº†ä¸€ä¼šå„¿ å®˜æ–¹æ–‡æ¡£ã€‚å‘ç°åº”è¯¥æ˜¯åœ¨ <a href="https://api.github.com/users/username" target="_blank" rel="noopener">https://api.github.com/users/username</a> æŸ¥æ‰¾ã€‚äºæ˜¯ä¿®æ”¹ä»£ç ã€‚åœ¨ç‰¹å®šé¡µé¢è¯»å–ä¿¡æ¯ã€‚æ•ˆæœè¾¾æˆã€‚è·å–åœ°å€éƒ¨åˆ†åº”è¯¥æ˜¯è·å–åšå®¢ã€‚æœªä¿®æ”¹(=ã€‚=å¤ªæ‡’)</p>
<p><img src="/2018/12/16/github-profile/image-20201013191701861.png" alt="image-20201013191701861"></p>
<p><img src="/2018/12/16/github-profile/image-20201013191709344.png" alt="image-20201013191709344"></p>
<p>æƒ³ç»“æŸçš„æˆ‘åˆå‘ç°äº†æ–°é—®é¢˜=ã€‚=å‘µï¼Œä¸ºä»€ä¹ˆ <code>h1</code> æ²¡æœ‰è¢«åˆ æ‰ã€‚ã€‚ã€‚</p>
<pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'grabButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> divs <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>divs<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> divs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>divs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token function">grabgithub</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> grabgithub <span class="token operator">=</span> name <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.github.com/users/'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>users <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">createinfo</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createinfo</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> incon <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  incon<span class="token punctuation">.</span>src <span class="token operator">=</span> user<span class="token punctuation">.</span>avatar_url<span class="token punctuation">;</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  name<span class="token punctuation">.</span>textContent <span class="token operator">=</span> user<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token keyword">const</span> address <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  address<span class="token punctuation">.</span>href <span class="token operator">=</span> user<span class="token punctuation">.</span>blog<span class="token punctuation">;</span>
  address<span class="token punctuation">.</span>textContent <span class="token operator">=</span> user<span class="token punctuation">.</span>blog<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>incon<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
  divs <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'information'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>æœ€åæ­»é©¬å½“åšæ´»é©¬åŒ»çš„æˆ‘ å°† <code>divs</code> è½¬åŒ–ä¸º <code>Array</code> ç„¶åå°±æˆåŠŸäº†=ã€‚=å‘µ</p>
<h2 id="2020-å¹´çš„å›é¡¾"><a href="#2020-å¹´çš„å›é¡¾" class="headerlink" title="2020 å¹´çš„å›é¡¾"></a>2020 å¹´çš„å›é¡¾</h2><p>å…¶å®åªæ˜¯è°ƒå–æ¥å£æ¸²æŸ“å‡½æ•°çš„ä»»åŠ¡ï¼Œæ²¡æœ‰æˆ‘å½“æ—¶æƒ³çš„é‚£ä¹ˆå¤æ‚ï¼Œåªæ˜¯é‚£ä¸ªæ—¶å€™æˆ‘è¿˜ç†è§£ä¸äº†è¿™äº›ä¸œè¥¿ã€‚</p>
<p>çœ‹äº†ä¸€ä¸‹æœ€åå‡ºç°çš„é‚£ä¸ªç§»é™¤å­å…ƒç´ å‡ºé”™çš„åœ°æ–¹ï¼Œåº”è¯¥æ˜¯å› ä¸ºè·å–äº†å­å…ƒç´ ç±»æ•°ç»„ï¼Œç„¶åè¿­ä»£å®ƒï¼Œä½†æ˜¯æˆ‘åˆåœ¨åˆ é™¤å®ƒï¼Œèµ·äº†å†²çªã€‚</p>
<p>åˆ é™¤å­å…ƒç´ æ¯”è¾ƒç®€å•çš„æ–¹æ³•å¯ä»¥ç›´æ¥å°†çˆ¶å…ƒç´ çš„ <code>innerHTML</code> è®¾ç½®ä¸ºç©ºã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>ProjectASocialNewsWebPage</title>
    <url>/2018/12/15/projectasocialnewswebpage/</url>
    <content><![CDATA[<p>2018.12.15 20:42 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter19 <code>&lt;Project: a social news web page&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Project-a-social-news-web-page"><a href="#Project-a-social-news-web-page" class="headerlink" title="Project: a social news web page"></a>Project: a social news web page</h1><p>You know now enough JavaScript and DOM to go ahead and create interactive web pages for real!</p>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>This project builds upon the social news program you created previously. This time, the objective is to make a social news web page.<br>The general idea and page layout for this project are inspired by the <a href="https://www.discovermeteor.com/" target="_blank" rel="noopener">Discover Meteor book</a>â€˜s example application.</p>
<h2 id="Functional-requirements"><a href="#Functional-requirements" class="headerlink" title="Functional requirements"></a>Functional requirements</h2><ul>
<li>A link is defined by its title, its URL and its author (submitter).</li>
<li>If a new link URL does not start with â€œhttp://â€œ or â€œhttps://â€œ, â€œhttp://â€œ is automatically added at its beginning.</li>
<li>The web page displays a list of at least three already existing links.</li>
<li>A button exists for the user to submit a new link. When clicked, a form appears before the link list to input the new link properties (author, title and URL).</li>
<li>In this form, all link fields are mandatory.</li>
<li>When the new link is validated by the user, it is displayed at the top of the link list, replacing the form. A message indicates the success of the operation, then disappears after two seconds.</li>
</ul>
<h2 id="Technical-requirements"><a href="#Technical-requirements" class="headerlink" title="Technical requirements"></a>Technical requirements</h2><ul>
<li><p>You should reuse any useful code from the previous project.</p>
</li>
<li><p>All your code should be correctly indented.</p>
</li>
<li><p>Names should be wisely chosen and adhere to the camelCase convention.</p>
</li>
<li><p>Code duplication should be avoided.</p>
</li>
</ul>
<h2 id="Starter-code"><a href="#Starter-code" class="headerlink" title="Starter code"></a>Starter code</h2><p>Because this is first and foremost a JavaScript project, here is the complete HTML/CSS code of the web page. It is also online as a <a href="https://codepen.io/bpesquet/pen/pPyxLG/" target="_blank" rel="noopener">CodePen</a>.</p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!doctype html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>My web page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- æœ€æ–°ç¼–è¯‘å’Œç¼©å°CSS --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./css/first.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>A social news web page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar navbar-default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container-fluid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-toggle collapsed<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span>
            <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#bs-example-navbar-collapse-1<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Toggle navigation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-link<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> PubLink<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse navbar-collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-example-navbar-collapse-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submitButton<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default navbar-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-text navbar-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>A social news web page built with â¤ and JavaScript<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment" spellcheck="true">&lt;!-- å­˜æ”¾åŠ¨æ€å†…å®¹ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- jsä»£ç  --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./js/example.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- jQueryï¼ˆBootstrapçš„JavaScriptæ’ä»¶æ‰€å¿…éœ€çš„ï¼‰--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./js/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- åŒ…å«æ‰€æœ‰å·²ç¼–è¯‘çš„æ’ä»¶(å¦‚ä¸‹)ï¼Œæˆ–è€…æ ¹æ®éœ€è¦åŒ…å«å•ä¸ªæ–‡ä»¶ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector">body </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#eee</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">input </span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">4</span>px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0.5</span>px solid<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token hexcode">#afaeae</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">40</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token id">#inputbutton</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token number">208</span>, <span class="token number">62%</span>, <span class="token number">40%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* Main link element (&lt;div> tag) */</span>
<span class="token selector"><span class="token class">.link</span> </span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* Link title (&lt;a> tag) */</span>
<span class="token selector"><span class="token class">.linkTitle</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#428bca</span><span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.linkTitle</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* Link URL (&lt;span> tag) */</span>
<span class="token selector"><span class="token class">.linkUrl</span> </span><span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">80%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* Link headline containing title &amp; URL (&lt;h4> tag) */</span>
<span class="token selector"><span class="token class">.linkHeadline</span> </span><span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/* Link author (&lt;span> tag) */</span>
<span class="token selector"><span class="token class">.linkAuthor</span> </span><span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">80%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.linkForm</span> </span><span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ä»£ç åšäº†é€‚å½“æ›´æ”¹ã€‚</p>
<h2 id="Expected-result"><a href="#Expected-result" class="headerlink" title="Expected result"></a>Expected result</h2><p><img src="/2018/12/15/projectasocialnewswebpage/image-20201013190336868.png" alt="image-20201013190336868"></p>
<p><img src="/2018/12/15/projectasocialnewswebpage/image-20201013190344372.png" alt="image-20201013190344372"></p>
<p><img src="/2018/12/15/projectasocialnewswebpage/image-20201013190352014.png" alt="image-20201013190352014"></p>
<p><img src="/2018/12/15/projectasocialnewswebpage/image-20201013190356227.png" alt="image-20201013190356227"></p>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><h4 id="1-ç¼–å†™å‡½æ•°-createlink-ç”¨äºåˆ›å»ºé“¾æ¥"><a href="#1-ç¼–å†™å‡½æ•°-createlink-ç”¨äºåˆ›å»ºé“¾æ¥" class="headerlink" title="1.ç¼–å†™å‡½æ•°  createlink()  ç”¨äºåˆ›å»ºé“¾æ¥"></a>1.ç¼–å†™å‡½æ•°  <code>createlink()</code>  ç”¨äºåˆ›å»ºé“¾æ¥</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> createlink <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkform <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkForm'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'250px'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'450px'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'submit'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'inputbutton'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Add link'</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input4<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// const count = document.getElementsByClassName("link");</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkform<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'submitButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>form<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">createlink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>addEventListener()</code> ä¸­çš„å‡½æ•°éƒ¨åˆ†è‹¥åŠ ä¸Šæ‹¬å·ï¼Œåˆ™ç›´æ¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ä½“ç°åœ¨è¯¥ç½‘é¡µä¸Šåˆ™æ˜¯ä¸ç”¨ç‚¹å‡» <code>submit</code> æŒ‰é’®å°±å‡ºç°äº†åˆ›å»ºé“¾æ¥çš„åˆ—è¡¨ã€‚éƒ¨åˆ†åˆå§‹åŒ–è¿‡ç¨‹è¿‡äºç¹çã€‚æœ‰å› æœªéªŒè¯æ˜¯å¦å­˜åœ¨è¡¨å•è€Œå¯¼è‡´å¤šæ¬¡ç‚¹å‡»æŒ‰é’®çš„æƒ…å†µä¸‹ä¼šå‡ºç°å¤šä¸ªè¡¨å•ã€‚</p>
<h4 id="2-æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥"><a href="#2-æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥" class="headerlink" title="2.æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥"></a>2.æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Hacker News'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://news.ycombinator.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Baptiste'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Reddit'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://reddit.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Thomas'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Boing Boing'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://bolingboling.net'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Daniel'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> link <span class="token keyword">of</span> links<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> linkb <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> linkheadling <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> linktitle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> linkurl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> linkauthor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkb<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'link'</span><span class="token punctuation">;</span>
    linkheadling<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkHeadline'</span><span class="token punctuation">;</span>
    linktitle<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkTitle'</span><span class="token punctuation">;</span>
    linkurl<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkUrl'</span><span class="token punctuation">;</span>
    linkauthor<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkAuthor'</span><span class="token punctuation">;</span>
    linktitle<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
    linktitle<span class="token punctuation">.</span>href <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
    linkurl<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
    linkauthor<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Submitted by '</span> <span class="token operator">+</span> link<span class="token punctuation">.</span>author<span class="token punctuation">;</span>
    linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linktitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkurl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkheadling<span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkauthor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkb<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æœ‰ç²—å¿ƒå¿˜äº†åŠ å¤–åŒ…çš„ <code>div</code> ç›’å­</p>
<h4 id="3-ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†"><a href="#3-ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†" class="headerlink" title="3.ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†"></a>3.ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†</h4><blockquote>
<p>å¯¹ä¸Šé¢ä»£ç è¿›è¡Œéƒ¨åˆ†æ”¹å†™</p>
</blockquote>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Hacker News'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://news.ycombinator.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Baptiste'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Reddit'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://reddit.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Thomas'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Boing Boing'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://bolingboling.net'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Daniel'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkb <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkheadling <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linktitle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkurl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkauthor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'link'</span><span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkHeadline'</span><span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkTitle'</span><span class="token punctuation">;</span>
  linkurl<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkUrl'</span><span class="token punctuation">;</span>
  linkauthor<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkAuthor'</span><span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>href <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  linkurl<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  linkauthor<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Submitted by '</span> <span class="token operator">+</span> link<span class="token punctuation">.</span>author<span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linktitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkurl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkheadling<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkauthor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> link <span class="token keyword">of</span> links<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createsucceed</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span>classname <span class="token operator">=</span> <span class="token string">'succeed'</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string">`The link </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>link<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been succesfully added!`</span></span><span class="token punctuation">;</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>box<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> createlink <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkform <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkForm'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'250px'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'450px'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'submit'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'inputbutton'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Add link'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span> <span class="token operator">||</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      inputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> inputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> link <span class="token operator">=</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      url<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      author<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">createsucceed</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input4<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// const count = document.getElementsByClassName("link");</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkform<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'submitButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>form<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">createlink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>é—®é¢˜ï¼šæ— æ³•å‡ºç°æˆåŠŸæäº¤çš„ç•Œé¢ã€‚å¹¶ä¸”æ–°å»ºçš„é“¾æ¥ä¹Ÿä¸ä¼šæ˜¾ç¤ºã€‚<br>å°† <code>input4</code> çš„ <code>addEventListener()</code> äº‹ä»¶æ›´æ”¹ä¸ºclick å¹¶é˜»æ­¢ <code>submit</code> çš„é»˜è®¤è¡Œä¸º å³å¯å‡ºç°æç¤ºå¹¶åˆ›å»ºæ–°é“¾æ¥ã€‚æ–°é—®é¢˜ï¼šæç¤ºçš„æ•ˆæœæœªè¾¾æˆï¼Œè¡¨å•å¦‚ä½•æ¶ˆå¤±ã€‚</p>
<p>éƒ¨åˆ†ä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">formdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span> <span class="token operator">||</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> alink <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>alink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createsucceed</span><span class="token punctuation">(</span>alink<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
input4<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">formdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="4-ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†"><a href="#4-ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†" class="headerlink" title="4.ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†"></a>4.ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Boing Boing'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://bolingboling.net'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Daniel'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Reddit'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://reddit.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Thomas'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Hacker News'</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string">'http://news.ycombinator.com'</span><span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> <span class="token string">'Baptiste'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkb <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkheadling <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linktitle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkurl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkauthor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'link'</span><span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkHeadline'</span><span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkTitle'</span><span class="token punctuation">;</span>
  linkurl<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkUrl'</span><span class="token punctuation">;</span>
  linkauthor<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkAuthor'</span><span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  linktitle<span class="token punctuation">.</span>href <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  linkurl<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  linkauthor<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Submitted by '</span> <span class="token operator">+</span> link<span class="token punctuation">.</span>author<span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linktitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkheadling<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkurl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkheadling<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkb<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkauthor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkb<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> link <span class="token keyword">of</span> links<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createsucceed</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> pa <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'succeed'</span><span class="token punctuation">;</span>
  pa<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token string">`The link </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>link<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been succesfully added!`</span></span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>pa<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>box<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createmenu</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> linkform <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'linkForm'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>linkform<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> it <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'succeed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">formdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span> <span class="token operator">||</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> alink <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    author<span class="token punctuation">:</span> inputs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>alink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createsucceed</span><span class="token punctuation">(</span>alink<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> createlink <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> linkform <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'linkForm'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'250px'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'450px'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
  input1<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input2<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input3<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'submit'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'inputbutton'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Add link'</span><span class="token punctuation">;</span>
  input4<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">formdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  linkform<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input4<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document
    <span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkform<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'submitButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>form<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">createlink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ•ˆæœåŸºæœ¬å®ç°ã€‚é—ç•™é—®é¢˜ï¼šéƒ¨åˆ†ä»£ç é‡å¤ä¸”ç¹çï¼Œä½†ä¸çŸ¥å¦‚ä½•æŠ½è±¡å‡ºæ¥ã€‚åˆå§‹åŒ–é¡µé¢æ‰€éœ€æ—¶é—´å¤ªä¹…ï¼Œä¸çŸ¥å¦‚ä½•ä¼˜åŒ– =ã€‚=<br>å‹‰å¼ºç®—å®Œæˆ =ã€‚= (ä¸»è¦æ˜¯ç´¯äº†)</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>start and stop</title>
    <url>/2018/12/15/start-and-stop/</url>
    <content><![CDATA[<p>2018.12.15 18:04 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter18 Coding time <code>&lt;Bouncing ball&gt;``(&lt;Chronometer&gt;)</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Bouncing-ball"><a href="#Bouncing-ball" class="headerlink" title="Bouncing ball"></a>Bouncing ball</h1><p>The goal of this exercise is to make a basketball bounce across the screen. You can download the ball image <a href="https://raw.githubusercontent.com/bpesquet/thejsway/master/resources/basketball.jpg" target="_blank" rel="noopener">here</a>.<br>Start with the following HTML and CSS content.</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stop<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span>Stop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>frame<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- Update the "src" attribute if you downloaded the image locally --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ball<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://raw.githubusercontent.com/bpesquet/thejsway/master/resources/basketball.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token id">#ball</span> </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">111</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Write the JavaScript code that makes the ball bounce horizontally.</p>
<p><img src="/2018/12/15/start-and-stop/image-20201013185155126.png" alt="image-20201013184742806"></p>
<p>With your solution, create a variable with values 1 or -1 that dictates the direction in which the ball should move.</p>
<p>ä¸å¼€å§‹å’Œåœæ­¢è®¡æ—¶ç±»ä¼¼ã€‚<br>å‡ºç°é—®é¢˜ï¼š<br><strong>1.æ— æ³•åœæ­¢åŠ¨ç”»ã€‚</strong><br>(ä¼¼ä¹æ˜¯å› ä¸º <code>balljump()</code> å†…éƒ¨å¸¦æœ‰ <code>requestAnimationFrame()</code> è€Œé‡å¤å¯ç”¨ã€‚<br>æ”¹è¿›ä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> balljump <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> weizhi <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>weizhi <span class="token operator">+</span> ballheight <span class="token operator">>=</span> <span class="token number">300</span> <span class="token operator">||</span> weizhi <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    movement <span class="token operator">=</span> <span class="token operator">-</span>movement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> weizhi <span class="token operator">+</span> movement <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°è¯•åœ¨ <code>balljump()</code> è°ƒç”¨æ—¶æ˜¾ç¤ºå‡½æ•°ç¼–å· ç»“æœä¸º</p>
<p><img src="/2018/12/15/start-and-stop/image-20201013184956322.png" alt="image-20201013184742806"></p>
<p>æ•… <code>balljump()</code> å†…éƒ¨å¤šæ¬¡è°ƒç”¨è¯¥å‡½æ•° æ— æ³•åœæ­¢<br><strong>2.å¤šæ¬¡ç‚¹å‡»å¼€å§‹ä¼šå¤šæ¬¡ç´¯åŠ   <code>requestAnimationFrame()</code>  è€Œå¯¼è‡´åŠ¨ç”»é€Ÿåº¦åŠ å¿«ã€‚</strong><br><strong>3.</strong></p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> balljump <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> weizhi <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>weizhi <span class="token operator">+</span> ballheight <span class="token operator">>=</span> <span class="token number">300</span> <span class="token operator">||</span> weizhi <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    movement <span class="token operator">=</span> <span class="token operator">-</span>movement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> weizhi <span class="token operator">+</span> movement <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> animationId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> movement <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ball'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ballheight <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animationId <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animationId <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>animationId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  animationId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å‡ºç°äº†æ‰“å¼€å³ä¸¤ä¸ªæŒ‰é’®éƒ½å¯ç”¨çš„çŠ¶æ€ã€‚åŸå› æœªçŸ¥ã€‚<br>(ä¼¼ä¹æ–‡ä»¶å‡ºäº†é—®é¢˜ã€‚æ³¨é‡Šæ‰æ‰€æœ‰çš„jsä»£ç ä¾ç„¶ä¸¤ä¸ªæŒ‰é’®éƒ½å¯ç”¨ï¼Œé‡å¼€æ–‡ä»¶åè§£å†³)</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> balljump <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> weizhi <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>weizhi <span class="token operator">+</span> ballheight <span class="token operator">>=</span> <span class="token number">300</span> <span class="token operator">||</span> weizhi <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    movement <span class="token operator">=</span> <span class="token operator">-</span>movement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> weizhi <span class="token operator">+</span> movement <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>tostart <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> tostop <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tostart <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tostart <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      animationId <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tostop <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tostop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tostart <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tostop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> animationId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> movement <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ball'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ballheight <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  tostart <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animationId <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animationId <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  tostop <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å°è¯•æ”¹å†™ï¼Œæ·»åŠ   <code>tostop</code>ã€<code>tostart</code>  å˜é‡æ¥åˆ¤æ–­ï¼Œå°†ç»§ç»­åŠ¨ç”»ä¸åœæ­¢åŠ¨ç”»åˆ¤æ–­æ”¾åœ¨äº† <code>balljump()</code> å‡½æ•°ä¸­ã€‚<br>ç»“æœï¼šå¯ä»¥åœæ­¢åŠ¨ç”»ï¼Œä½†æ— æ³•äºŒæ¬¡å¯åŠ¨åŠ¨ç”»ã€‚åŸå› æœªçŸ¥ã€‚<br>åœ¨ <code>cancelAnimationFrame()</code> å‡½æ•°ä¹‹åé‡ç½® <code>animationId</code> ä¸º <code>0</code> å³å¯è§£å†³ã€‚</p>
<p>æœ€ç»ˆä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> balljump <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> weizhi <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>weizhi <span class="token operator">+</span> ballheight <span class="token operator">>=</span> <span class="token number">300</span> <span class="token operator">||</span> weizhi <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    movement <span class="token operator">=</span> <span class="token operator">-</span>movement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> weizhi <span class="token operator">+</span> movement <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>tostart <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> tostop <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tostart <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tostart <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      animationId <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tostop <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tostop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
      animationId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tostart <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tostop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> animationId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> movement <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ball'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ballheight <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ball<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  tostart <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animationId <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animationId <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>balljump<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  tostop <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ•ˆæœåŸºæœ¬å®ç°ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>click blur æ‰§è¡Œé¡ºåºé—®é¢˜</title>
    <url>/2018/12/15/click-blur-zhi-xing-shun-xu-wen-ti/</url>
    <content><![CDATA[<p>2018.12.15 15:27 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter17 Coding time <code>&lt;Autocomplete&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Autocomplete"><a href="#Autocomplete" class="headerlink" title="Autocomplete"></a>Autocomplete</h1><p>In this exercise, youâ€™ll have to assist the user in selecting a country. As he enters the country name in an input box, the page shows a list of corresponding countries. Clicking on a suggested country replaces the value in the input box.</p>
<blockquote>
<p>To keep things simple, only countries starting with a â€œAâ€ letter are taken into account.</p>
</blockquote>
<p>Here is the HTML code that creates the input box.</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Enter a country name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>suggestions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The following CSS code improves the page presentation.</p>
<pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* Add spacing between each country suggestion */</span>
<span class="token selector"><span class="token class">.suggestion</span> </span><span class="token punctuation">{</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Change suggestion color when hovering it with the mouse */</span>
<span class="token selector"><span class="token class">.suggestion</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#adf</span><span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Position the suggestion list just below the input box */</span>
<span class="token selector"><span class="token id">#suggestions</span> </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid black<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">180</span>px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">145</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Complete this code to implement country autocompletion.</p>
<p><a href="https://github.com/bpesquet/thejsway/blob/master/manuscript/images/chapter17-12.png" target="_blank" rel="noopener"><img src="/2018/12/15/click-blur-zhi-xing-shun-xu-wen-ti/wps2.jpg" alt="img"></a></p>
<p>æˆ‘çš„jsä»£ç ï¼š</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> countryList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">"Afghanistan"</span><span class="token punctuation">,</span>
  <span class="token string">"Albania"</span><span class="token punctuation">,</span>
  <span class="token string">"Algeria"</span><span class="token punctuation">,</span>
  <span class="token string">"Andorra"</span><span class="token punctuation">,</span>
  <span class="token string">"Angola"</span><span class="token punctuation">,</span>
  <span class="token string">"Anguilla"</span><span class="token punctuation">,</span>
  <span class="token string">"Antarctica"</span><span class="token punctuation">,</span>
  <span class="token string">"Antigua-and-Barbuda"</span><span class="token punctuation">,</span>
  <span class="token string">"Argentina"</span><span class="token punctuation">,</span>
  <span class="token string">"Armenia"</span><span class="token punctuation">,</span>
  <span class="token string">"Aruba"</span><span class="token punctuation">,</span>
  <span class="token string">"Australia"</span><span class="token punctuation">,</span>
  <span class="token string">"Autria"</span><span class="token punctuation">,</span>
  <span class="token string">"AzerbaÃ¯jan"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> some <span class="token keyword">of</span> countryList<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> newli <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newli<span class="token punctuation">.</span>textContent <span class="token operator">=</span> some<span class="token punctuation">;</span>
    newli<span class="token punctuation">.</span>style<span class="token punctuation">.</span>listStyle <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
    newli<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
    newli<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"suggestion"</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newli<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> neirong <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"country"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> neirong<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"country"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lists <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> one <span class="token keyword">of</span> lists<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>one<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      one<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      one<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"country"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"blur"</span><span class="token punctuation">,</span> e <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>nonefun<span class="token punctuation">,</span> <span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">nonefun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"suggestions"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>æ•ˆæœåŸºæœ¬å®ç°ï¼Œå‘ç°click ä¸blurå­˜åœ¨é¡ºåºé—®é¢˜ï¼Œè‹¥ä¸è®¾ç½®å»¶æ—¶ï¼Œåˆ™clickæ•ˆæœæ— æ³•å®ç°ã€‚<br>Clickåæ‰§è¡Œè€Œæ— æ³•å®ç°æ•ˆæœçš„åŸå› æš‚æ—¶ä¸çŸ¥ã€‚<br>çœ‹åˆ°ä¸€ç¯‡ç›¸å…³æ–‡ç« : <a href="https://www.jb51.net/article/112086.htm" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<h2 id="2020å¹´çš„å›é¡¾"><a href="#2020å¹´çš„å›é¡¾" class="headerlink" title="2020å¹´çš„å›é¡¾"></a>2020å¹´çš„å›é¡¾</h2><p>ä»£ç å¥½åƒå·²ç»æ‰¾ä¸åˆ°äº†ï¼Œå°è¯•ç›´æ¥å¤ç°ä¸€ä¸‹ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ¼äº†ä»€ä¹ˆï¼Œç¬”è®°ä¸­çš„ä»£ç æ— æ³•å®ç°éœ€è¦çš„æ•ˆæœã€‚</p>
<p>ä»”ç»†çœ‹äº†çœ‹ï¼Œæ˜¯æˆ‘è¾“é”™äº†å…³é”®è¯â€¦â€¦</p>
<p>çœ‹äº†ä¸€ä¸‹å½“æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œå…¶å®æœ€è¿‘ä¹Ÿé‡åˆ°äº†ä¸€æ¬¡ã€‚</p>
<p>å½“æ—¶çš„æƒ…å†µæ˜¯ <code>A</code>  å…ƒç´ ç»‘å®šäº†ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦å¯¹ç‚¹å‡»åšå‡ºå“åº”ï¼Œè€Œ <code>B</code> å…ƒç´ (å¾€å¾€æ˜¯ä¸è¯¥å…ƒç´ ç›¸å…³è”çš„å…ƒç´ )åˆä¼šå“åº” <code>blur</code> äº‹ä»¶ï¼Œåœ¨å“åº” <code>blur</code> çš„æ—¶å€™ä¼šéšè— <code>A</code> å…ƒç´ ã€‚</p>
<p>è€Œç‚¹å‡» <code>A</code>å…ƒç´ å°±æ˜¯ <code>B</code> å…ƒç´ çš„ <code>blur</code> äº‹ä»¶ï¼Œäºæ˜¯åœ¨ <code>A</code> å…ƒç´ å“åº”ç‚¹å‡»ä¹‹å‰ï¼Œå°±å·²ç»è¢«éšè—äº†ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨è§¦å‘ <code>blur</code> çš„åœ°æ–¹å»¶è¿Ÿéšè—ï¼Œè®©å®ƒå¯ä»¥å…ˆå“åº” <code>click</code> äº‹ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
</search>
