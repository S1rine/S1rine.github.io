<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 19</title>
    <url>/2020/10/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-19/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-19"><a href="#å­¦ä¹ ç¬”è®°-2020-10-19" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-19"></a>å­¦ä¹ ç¬”è®° 2020-10-19</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h4><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ã€‚è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªåŒ…å«åº”è¯¥ç”±ç‰¹å®šå¼•ç”¨ç±»å‹çš„å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚åœ¨åŸå‹å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¯ä»¥è¢«å¯¹è±¡å®ä¾‹å…±äº«ã€‚</p>
<ol>
<li><h5 id="ç†è§£åŸå‹"><a href="#ç†è§£åŸå‹" class="headerlink" title="ç†è§£åŸå‹"></a>ç†è§£åŸå‹</h5><p>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰ç…§ç‰¹å®šçš„è§„åˆ™ä¸ºè¿™ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ª <code>prototype</code> çš„å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡è‡ªåŠ¨è·å¾—ä¸€ä¸ª <code>constructor</code> å±æ€§ï¼ŒæŒ‡å›ä¸ä¹‹å…³è”çš„æ„é€ å‡½æ•°ã€‚å¦‚ï¼Œ<code>Person.prototype.constructor</code> æŒ‡å‘ <code>Person</code> ã€‚</p>
<p>è‡ªå®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼ŒåŸå‹å¯¹è±¡é»˜è®¤åªä¼šè·å¾— <code>constructor</code> å±æ€§ï¼Œå…¶ä»–çš„æ‰€æœ‰æ–¹æ³•éƒ½ç»§æ‰¿è‡ª <code>Object</code> ã€‚è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ–°å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹çš„å†…éƒ¨ <code>[[Prototype]]</code> æŒ‡é’ˆå°±ä¼šè¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚<code>Firefox</code> ã€<code>Safari</code> å’Œ <code>Chrome</code> ä¼šåœ¨å¯¹è±¡ä¸Šæš´éœ² <code>__proto__</code> å±æ€§æ¥è®¿é—®åŸå‹å¯¹è±¡ã€‚</p>
<p>å®ä¾‹ä¸æ„é€ å‡½æ•°åŸå‹ä¹‹é—´æœ‰ç›´æ¥çš„è”ç³»ï¼Œä½†å®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´æ²¡æœ‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ„é€ å‡½æ•°å¯ä»¥æ˜¯å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment"> * ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°å£°æ˜ï¼Œå› æ­¤ä»¥ä¸‹ä¸¤ç§å½¢å¼éƒ½å¯ä»¥ï¼š</span></span><br><span class="line"><span class="comment"> * function Person() &#123;&#125;</span></span><br><span class="line"><span class="comment"> * let Person = function() &#123;&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å£°æ˜ä¹‹åï¼Œæ„é€ å‡½æ•°å°±æœ‰äº†ä¸€ä¸ª</span></span><br><span class="line"><span class="comment"> * ä¸ä¹‹å…³è”çš„åŸå‹å¯¹è±¡ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> Person.prototype); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// constructor: f Person(),</span></span><br><span class="line"><span class="comment">// __proto__: Object</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¦‚å‰æ‰€è¿°ï¼Œæ„é€ å‡½æ•°æœ‰ä¸€ä¸ª prototype å±æ€§</span></span><br><span class="line"><span class="comment"> * å¼•ç”¨å…¶åŸå‹å¯¹è±¡ï¼Œè€Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª</span></span><br><span class="line"><span class="comment"> * constructor å±æ€§ï¼Œå¼•ç”¨è¿™ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment"> * æ¢å¥è¯è¯´ï¼Œä¸¤è€…å¾ªç¯å¼•ç”¨ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.constructor === Person); <span class="comment">// true</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ­£å¸¸çš„åŸå‹é“¾éƒ½ä¼šç»ˆæ­¢äº Object çš„åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * Object åŸå‹çš„åŸå‹æ˜¯ null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__.constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__.__proto__ === <span class="literal">null</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// constructor: f Object(),</span></span><br><span class="line"><span class="comment">// toString: ...</span></span><br><span class="line"><span class="comment">// hasOwnProperty: ...</span></span><br><span class="line"><span class="comment">// isPrototypeOf: ...</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> Person(),</span><br><span class="line">  person2 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ„é€ å‡½æ•°ã€åŸå‹å¯¹è±¡å’Œå®ä¾‹</span></span><br><span class="line"><span class="comment"> * æ˜¯ 3 ä¸ªå®Œå…¨ä¸åŒçš„å¯¹è±¡ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 !== Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 !== Person.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype !== Person); <span class="comment">// true</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®ä¾‹é€šè¿‡__proto__é“¾æ¥åˆ°åŸå‹å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment"> * å®ƒå®é™…ä¸ŠæŒ‡å‘éšè—ç‰¹æ€§[[Prototype]]</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æ„é€ å‡½æ•°é€šè¿‡ prototype å±æ€§é“¾æ¥åˆ°åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * å®ä¾‹ä¸æ„é€ å‡½æ•°æ²¡æœ‰ç›´æ¥è”ç³»ï¼Œä¸åŸå‹å¯¹è±¡æœ‰ç›´æ¥è”ç³»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.__proto__ === Person.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.__proto__.constructor === Person); <span class="comment">// true</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŒä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ä¸¤ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="comment"> * å…±äº«åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.__proto__ === person2.__proto__); <span class="comment">// true</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * instanceof æ£€æŸ¥å®ä¾‹çš„åŸå‹é“¾ä¸­</span></span><br><span class="line"><span class="comment"> * æ˜¯å¦åŒ…å«æŒ‡å®šæ„é€ å‡½æ•°çš„åŸå‹ï¼š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ <code>isPrototypeOf()</code> æ–¹æ³•æ£€æŸ¥æ˜¯å¦æ˜¯è¯¥æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.getPrototypeOf()</code> æ–¹æ³•è¿”å›å‚æ•°çš„å†…éƒ¨ç‰¹æ€§ <code>[[Prototype]]</code> çš„å€¼ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>setPrototypeOf()</code> æ–¹æ³•æ¥å†™å…¥åŸå‹å¯¹è±¡ã€‚ä½†è¯¥æ–¹æ³•å¯èƒ½ä¼šä¸¥é‡å½±å“ä»£ç æ€§èƒ½ã€‚å¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>Object.create()</code> æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ºå…¶æŒ‡å®šåŸå‹ã€‚</p>
</li>
<li><h5 id="åŸå‹å±‚çº§"><a href="#åŸå‹å±‚çº§" class="headerlink" title="åŸå‹å±‚çº§"></a>åŸå‹å±‚çº§</h5><p>åœ¨é€šè¿‡å¯¹è±¡è®¿é—®å±æ€§æ—¶ï¼Œä¼šæŒ‰ç…§è¿™ä¸ªå±æ€§çš„åç§°å¼€å§‹æœç´¢ï¼Œé¦–å…ˆå¼€å§‹äºå¯¹è±¡å®ä¾‹æœ¬èº«ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æ²¿ç€æŒ‡é’ˆè¿›å…¥åŸå‹å¯¹è±¡æœç´¢ã€‚</p>
<p>é€šè¿‡å®ä¾‹æ— æ³•é‡å†™åŸå‹çš„å€¼ã€‚åœ¨å®ä¾‹ä¸Šæ·»åŠ äº†åŒåçš„å±æ€§ï¼Œä¼šåœ¨å®ä¾‹è‡ªèº«ä¸Šåˆ›å»ºè¿™ä¸ªå±æ€§ï¼Œæ©ç›–ä½åŸå‹å¯¹è±¡ä¸Šå¯¹åº”çš„å±æ€§ã€‚</p>
<p>å½“å®ä¾‹ä¸Šé®è”½äº†åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§æ—¶ï¼Œé™¤éä½¿ç”¨ <code>delete</code> åˆ é™¤è¿™ä¸ªå®ä¾‹ä¸Šçš„å±æ€§ï¼Œå¦åˆ™æ— æ³•å†è®¿é—®åˆ°åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>hasOwnProperty</code> æ¥ç¡®å®šæŸä¸ªå±æ€§å­˜åœ¨äºå®ä¾‹è¿˜æ˜¯åŸå‹å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•ç»§æ‰¿äº <code>Object</code> ã€‚è¯¥æ–¹æ³•åªå¯¹å®ä¾‹å±æ€§æœ‰æ•ˆï¼Œè¦å–å¾—åŸå‹å±æ€§çš„æè¿°ç¬¦ï¼Œå°±å¿…é¡»ç›´æ¥åœ¨åŸå‹å¯¹è±¡ä¸Šè°ƒç”¨ <code>Object.getOwnPropertyDescriptor()</code> ã€‚</p>
</li>
<li><h5 id="åŸå‹å’Œ-in-æ“ä½œç¬¦"><a href="#åŸå‹å’Œ-in-æ“ä½œç¬¦" class="headerlink" title="åŸå‹å’Œ in æ“ä½œç¬¦"></a>åŸå‹å’Œ <code>in</code> æ“ä½œç¬¦</h5><p><code>in</code> æ“ä½œç¬¦å¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–æ˜¯åœ¨ <code>for-in</code> å¾ªç¯ä¸­ä½¿ç”¨ã€‚</p>
<p>å•ç‹¬ä½¿ç”¨æ—¶ï¼Œ <code>in</code> æ“ä½œç¬¦ä¼šåœ¨å¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®æŒ‡å®šå±æ€§æ—¶è¿”å› <code>true</code> ï¼Œæ— è®ºè¯¥å±æ€§æ˜¯åœ¨å®ä¾‹ä¸Šè¿˜æ˜¯åœ¨åŸå‹ä¸Šã€‚</p>
<p>åœ¨ <code>for-in</code> å¾ªç¯ä¸­ä½¿ç”¨ <code>in</code> æ“ä½œç¬¦æ—¶ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ä¸”å¯ä»¥è¢«æšä¸¾çš„å±æ€§éƒ½ä¼šè¿”å›ï¼ŒåŒ…æ‹¬å®ä¾‹å±æ€§å’ŒåŸå‹å±æ€§ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.keys()</code> æ–¹æ³•æ¥è·å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æšä¸¾çš„å®ä¾‹å±æ€§ã€‚æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›åŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰å¯æšä¸¾å±æ€§åç§°çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>Object.getOwnPropertyNames()</code> æ¥è·å¾—æ‰€æœ‰å®ä¾‹å±æ€§ï¼Œæ— è®ºæ˜¯å¦å¯ä»¥æšä¸¾ã€‚</p>
<p><code>ES6</code> æ–°å¢äº†ä¸€ä¸ª <code>Object.getOwnPropertySymbols()</code> æ–¹æ³•æ¥è·å–ç¬¦å·ä¸ºé”®çš„å±æ€§ã€‚</p>
</li>
<li><h5 id="å±æ€§æšä¸¾é¡ºåº"><a href="#å±æ€§æšä¸¾é¡ºåº" class="headerlink" title="å±æ€§æšä¸¾é¡ºåº"></a>å±æ€§æšä¸¾é¡ºåº</h5><p><code>for-in</code> å¾ªç¯å’Œ <code>Object.keys()</code> çš„æšä¸¾é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚</p>
<p><code>Object.getOwnpropertyNames()</code> ã€ <code>Object.getOwnPropertySymbols()</code> å’Œ <code>Object.assign()</code> çš„æšä¸¾é¡ºåºæ˜¯ç¡®å®šæ€§çš„ã€‚å…ˆä»¥å‡åºæšä¸¾æ•°å€¼é”®ï¼Œå†ä»¥æ’å…¥é¡ºåºæšä¸¾å­—ç¬¦ä¸²å’Œç¬¦å·é”®ã€‚</p>
</li>
</ol>
<h4 id="å¯¹è±¡è¿­ä»£"><a href="#å¯¹è±¡è¿­ä»£" class="headerlink" title="å¯¹è±¡è¿­ä»£"></a>å¯¹è±¡è¿­ä»£</h4><p><code>ES8</code> æ–°å¢äº†ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºå°†å¯¹è±¡å†…å®¹è½¬æ¢ä¸ºåºåˆ—åŒ–çš„ã€å¯è¿­ä»£çš„æ ¼å¼ã€‚åˆ†åˆ«æ˜¯ <code>Object.values()</code> å’Œ <code>Object.entries()</code> ï¼Œéƒ½æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ç›¸åº”å†…å®¹çš„æ•°ç»„ã€‚</p>
<p><code>Object.values()</code> è¿”å›å¯¹è±¡å€¼çš„æ•°ç»„ï¼Œ <code>Object.entries()</code> è¿”å›é”®å€¼å¯¹çš„æ•°ç»„ã€‚</p>
<p>éå­—ç¬¦ä¸²å±æ€§ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¾“å‡ºã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ‰§è¡Œå¯¹è±¡çš„æµ…å¤åˆ¶ã€‚ç¬¦å·å±æ€§ä¼šè¢«å¿½ç•¥ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 18</title>
    <url>/2020/10/18/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-18/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-18"><a href="#å­¦ä¹ ç¬”è®°-2020-10-18" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-18"></a>å­¦ä¹ ç¬”è®° 2020-10-18</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><h4 id="å¢å¼ºçš„å¯¹è±¡è¯­æ³•"><a href="#å¢å¼ºçš„å¯¹è±¡è¯­æ³•" class="headerlink" title="å¢å¼ºçš„å¯¹è±¡è¯­æ³•"></a>å¢å¼ºçš„å¯¹è±¡è¯­æ³•</h4><p><code>ES6</code> æ–°å¢äº†å¾ˆå¤šæå…¶æœ‰ç”¨çš„è¯­æ³•ç³–ç‰¹æ€§ã€‚</p>
<ol>
<li><h5 id="å±æ€§å€¼ç®€å†™"><a href="#å±æ€§å€¼ç®€å†™" class="headerlink" title="å±æ€§å€¼ç®€å†™"></a>å±æ€§å€¼ç®€å†™</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'Sirine'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// &#123;name: "Sirine"&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç®€å†™å±æ€§ååªè¦ä½¿ç”¨å˜é‡åå°±ä¼šè‡ªåŠ¨è§£é‡Šä¸ºåŒåçš„å±æ€§é”®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒåå˜é‡ï¼Œåˆ™ä¼šæŠ›å‡º <code>ReferenceError</code> ã€‚</p>
</li>
<li><h5 id="å¯è®¡ç®—å±æ€§"><a href="#å¯è®¡ç®—å±æ€§" class="headerlink" title="å¯è®¡ç®—å±æ€§"></a>å¯è®¡ç®—å±æ€§</h5><p>ä»¥å‰ï¼Œæƒ³ä½¿ç”¨å˜é‡çš„å€¼ä½œä¸ºå±æ€§ï¼Œå¿…é¡»å…ˆå£°æ˜å¯¹è±¡ï¼Œä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•æ¥æ·»åŠ å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nameKey = <span class="string">'name'</span>;</span><br><span class="line"><span class="keyword">const</span> ageKey = <span class="string">'age'</span>;</span><br><span class="line"><span class="keyword">const</span> jobKey = <span class="string">'job'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;&#125;;</span><br><span class="line">person[nameKey] = <span class="string">'Sirine'</span>;</span><br><span class="line">person[ageKey] = <span class="number">27</span>;</span><br><span class="line">person[jobKey] = <span class="string">'student'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// &#123;name: "Sirine", age: 27, job: "student"&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¯è®¡ç®—å±æ€§çš„ç”¨æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nameKey = <span class="string">'name'</span>;</span><br><span class="line"><span class="keyword">const</span> ageKey = <span class="string">'age'</span>;</span><br><span class="line"><span class="keyword">const</span> jobKey = <span class="string">'job'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  [nameKey]: <span class="string">'Sirine'</span>,</span><br><span class="line">  [ageKey]: <span class="number">27</span>,</span><br><span class="line">  [jobKey]: <span class="string">'student'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// &#123;name: "Sirine", age: 27, job: "student"&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­å®ŒæˆåŠ¨æ€å±æ€§èµ‹å€¼ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nameKey = <span class="string">'name'</span>;</span><br><span class="line"><span class="keyword">const</span> ageKey = <span class="string">'age'</span>;</span><br><span class="line"><span class="keyword">const</span> jobKey = <span class="string">'job'</span>;</span><br><span class="line"><span class="keyword">let</span> uniqueToken = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUniqueKey</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>_<span class="subst">$&#123;uniqueToken++&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  [getUniqueKey(nameKey)]: <span class="string">'Sirine'</span>,</span><br><span class="line">  [getUniqueKey(ageKey)]: <span class="number">27</span>,</span><br><span class="line">  [getUniqueKey(jobKey)]: <span class="string">'Student'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// &#123; name_0: 'Sirine', age_1: 27, job_2: 'Student' &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="ç®€å†™æ–¹æ³•å"><a href="#ç®€å†™æ–¹æ³•å" class="headerlink" title="ç®€å†™æ–¹æ³•å"></a>ç®€å†™æ–¹æ³•å</h5><p>æ—§çš„æ–¹æ³•å®šä¹‰æ–¹å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  sayName: <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person.sayName(<span class="string">'Sirine'</span>); <span class="comment">// My name is Sirine</span></span><br></pre></td></tr></table></figure>

<p>æ–°çš„æ–¹æ³•å®šä¹‰æ–¹å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  sayName(name) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person.sayName(<span class="string">'Sirine'</span>); <span class="comment">// My name is Sirine</span></span><br><span class="line"><span class="comment">// å¯¹è·å–å‡½æ•°å’Œè®¾ç½®å‡½æ•°åŒæ ·é€‚ç”¨ã€‚</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name_: <span class="string">''</span>,</span><br><span class="line">  <span class="keyword">get</span> name() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name_;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span> name(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name_ = name;</span><br><span class="line">  &#125;,</span><br><span class="line">  sayName() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.name_&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person.name = <span class="string">'Sirine'</span>;</span><br><span class="line">person.sayName(); <span class="comment">// My name is Sirine</span></span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ï¼Œç®€å†™æ–¹æ³•åä¸å¯è®¡ç®—å±æ€§é”®ç›¸äº’å…¼å®¹</p>
</li>
</ol>
<h4 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨å¯¹è±¡è§£æ„</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> personName = person.name,</span><br><span class="line">  personAge = person.age;</span><br><span class="line"><span class="built_in">console</span>.log(personName); <span class="comment">// Sirine</span></span><br><span class="line"><span class="built_in">console</span>.log(personAge); <span class="comment">// 27</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡è§£æ„</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">name</span>: personName, <span class="attr">age</span>: personAge &#125; = person;</span><br><span class="line"><span class="built_in">console</span>.log(personName); <span class="comment">// Sirine</span></span><br><span class="line"><span class="built_in">console</span>.log(personAge); <span class="comment">// 27</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å†™è¯­æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; name, age &#125; = person;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// Sirine</span></span><br><span class="line"><span class="built_in">console</span>.log(age); <span class="comment">// 27</span></span><br></pre></td></tr></table></figure>

<p>è‹¥å¼•ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¯¥å˜é‡çš„å€¼å°±æ˜¯ <code>undefined</code> ã€‚</p>
<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é»˜è®¤å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; name, job = <span class="string">'Student'</span> &#125; = person;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// Sirine</span></span><br><span class="line"><span class="built_in">console</span>.log(job); <span class="comment">// Student</span></span><br></pre></td></tr></table></figure>

<p>è§£æ„åœ¨å†…éƒ¨ä½¿ç”¨å‡½æ•° <code>ToObject()</code> æŠŠæºæ•°æ®ç»“æ„è½¬æ¢ä¸ºå¯¹è±¡ã€‚è¿™æ„å‘³ç€ï¼ŒåŸå§‹å€¼ä¼šè¢«å½“æˆå¯¹è±¡ã€‚ <code>null</code>  å’Œ <code>undefined</code> ä¸èƒ½è§£æ„ã€‚å¦åˆ™ä¼šæŠ›å‡º <code>TypeError</code> ã€‚</p>
<p>å¦‚æœæ˜¯ç»™äº‹å…ˆå£°æ˜çš„å˜é‡èµ‹å€¼ï¼Œåˆ™èµ‹å€¼è¡¨è¾¾å¼éœ€è¦åŒ…å«åœ¨ä¸€å¯¹æ‹¬å·ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> personName, personAge;</span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line">(&#123; <span class="attr">name</span>: personName, <span class="attr">age</span>: personAge &#125; = person);</span><br><span class="line"><span class="built_in">console</span>.log(personName, personAge); <span class="comment">// Sirine, 27</span></span><br></pre></td></tr></table></figure>

<ol>
<li><h5 id="åµŒå¥—è§£æ„"><a href="#åµŒå¥—è§£æ„" class="headerlink" title="åµŒå¥—è§£æ„"></a>åµŒå¥—è§£æ„</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span>,</span><br><span class="line">  job: &#123;</span><br><span class="line">    title: <span class="string">'Student'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> personCopy = &#123;&#125;;</span><br><span class="line">(&#123; <span class="attr">name</span>: personCopy.name, <span class="attr">age</span>: personCopy.age, <span class="attr">job</span>: personCopy.job &#125; = person);</span><br><span class="line"><span class="comment">// å› ä¸ºä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è¢«èµ‹å€¼ç»™ personCopyï¼Œæ‰€ä»¥ä¿®æ”¹</span></span><br><span class="line"><span class="comment">// person.job å¯¹è±¡çš„å±æ€§ä¹Ÿä¼šå½±å“ personCopy</span></span><br><span class="line">person.age = <span class="number">21</span>;</span><br><span class="line">person.job.title = <span class="string">'Hacker'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br><span class="line"><span class="comment">// &#123; name: 'Sirine', age: 21, job: &#123; title: 'Hacker' &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(personCopy);</span><br><span class="line"><span class="comment">// &#123; name: 'Sirine', age: 27, job: &#123; title: 'Hacker' &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span>,</span><br><span class="line">  job: &#123;</span><br><span class="line">    title: <span class="string">'Student'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  job: &#123; title &#125;</span><br><span class="line">&#125; = person;</span><br><span class="line"><span class="built_in">console</span>.log(title); <span class="comment">// Student</span></span><br></pre></td></tr></table></figure>

<p>å¤–å±‚å±æ€§æ²¡æœ‰å®šä¹‰çš„æƒ…å†µä¸‹ä¸èƒ½ä½¿ç”¨åµŒå¥—è§£æ„ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  job: &#123;</span><br><span class="line">    title: <span class="string">'Student'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> personCopy = &#123;&#125;;</span><br><span class="line"><span class="comment">// foo åœ¨æºå¯¹è±¡ä¸Šæ˜¯ undefined</span></span><br><span class="line">(&#123;</span><br><span class="line">  foo: &#123; <span class="attr">bar</span>: personCopy.bar &#125;</span><br><span class="line">&#125; = person);</span><br><span class="line"><span class="comment">// TypeError: Cannot destructure property 'bar' of 'undefined' or 'null'.</span></span><br><span class="line"><span class="comment">// job åœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ˜¯ undefined</span></span><br><span class="line">(&#123;</span><br><span class="line">  job: &#123; <span class="attr">title</span>: personCopy.job.title &#125;</span><br><span class="line">&#125; = person);</span><br><span class="line"><span class="comment">// TypeError: Cannot set property 'title' of undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="éƒ¨åˆ†è§£æ„"><a href="#éƒ¨åˆ†è§£æ„" class="headerlink" title="éƒ¨åˆ†è§£æ„"></a>éƒ¨åˆ†è§£æ„</h5><p>æ¶‰åŠå¤šä¸ªå±æ€§çš„è§£æ„èµ‹å€¼æ˜¯ä¸€ä¸ªè¾“å‡ºæ— å…³çš„é¡ºåºåŒ–æ“ä½œã€‚å¦‚æœå¼€å§‹èµ‹å€¼æˆåŠŸè€Œåé¢èµ‹å€¼å‡ºé”™ï¼Œè§£æ„èµ‹å€¼åªèƒ½å®Œæˆä¸€éƒ¨åˆ†ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> personName, personBar, personAge;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// person.foo æ˜¯ undefinedï¼Œå› æ­¤ä¼šæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">  (&#123;</span><br><span class="line">    name: personName,</span><br><span class="line">    foo: &#123; <span class="attr">bar</span>: personBar &#125;,</span><br><span class="line">    age: personAge</span><br><span class="line">  &#125; = person);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(personName, personBar, personAge);</span><br><span class="line"><span class="comment">// Sirine, undefined, undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…"><a href="#å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…" class="headerlink" title="å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…"></a>å‚æ•°ä¸Šä¸‹æ–‡åŒ¹é…</h5><p>åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œä¸ä¼šå½±å“ <code>arguments</code> å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">27</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printPerson</span>(<span class="params">foo, &#123; name, age &#125;, bar</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(name, age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printPerson2</span>(<span class="params">foo, &#123; name: personName, age: personAge &#125;, bar</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(personName, personAge);</span><br><span class="line">&#125;</span><br><span class="line">printPerson(<span class="string">'1st'</span>, person, <span class="string">'2nd'</span>);</span><br><span class="line"><span class="comment">// ['1st', &#123; name: 'Sirine', age: 27 &#125;, '2nd']</span></span><br><span class="line"><span class="comment">// 'Sirine', 27</span></span><br><span class="line">printPerson2(<span class="string">'1st'</span>, person, <span class="string">'2nd'</span>);</span><br><span class="line"><span class="comment">// ['1st', &#123; name: 'Sirine', age: 27 &#125;, '2nd']</span></span><br><span class="line"><span class="comment">// 'Sirine', 27</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h4><p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§ä¼—æ‰€å‘¨çŸ¥çš„è®¾è®¡æ¨¡å¼ï¼Œå¹¿æ³›åº”ç”¨äºè½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œç”¨äºæŠ½è±¡åˆ›å»ºç‰¹å®šå¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  o.name = name;</span><br><span class="line">  o.age = age;</span><br><span class="line">  o.job = job;</span><br><span class="line">  o.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person1 = createPerson(<span class="string">'Sirine'</span>, <span class="number">29</span>, <span class="string">'Student'</span>);</span><br><span class="line"><span class="keyword">let</span> person2 = createPerson(<span class="string">'Severus'</span>, <span class="number">27</span>, <span class="string">'Teacher'</span>);</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„ï¼Œå¯ä»¥é€šè¿‡å¤šæ¬¡è°ƒç”¨ä¸åŒå‚æ•°çš„ <code>createPerson</code> æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚ä½†æ²¡æœ‰è§£å†³å¯¹è±¡æ ‡è¯†é—®é¢˜ï¼Œå³æ–°åˆ›å»ºçš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåˆ›å»ºçš„å¯¹è±¡å…¨éƒ¨ä¸º <code>object</code> ç±»å‹ã€‚</p>
<h4 id="æ„é€ å‡½æ•°æ¨¡å¼"><a href="#æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼"></a>æ„é€ å‡½æ•°æ¨¡å¼</h4><p>åœ¨ <code>js</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œä»¥å‡½æ•°çš„å½¢å¼ä¸ºè‡ªå·±çš„å¯¹è±¡ç±»å‹å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.job = job;</span><br><span class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> Person(<span class="string">'Sirine'</span>, <span class="number">29</span>, <span class="string">'Student'</span>);</span><br><span class="line"><span class="keyword">let</span> person2 = <span class="keyword">new</span> Person(<span class="string">'Severus'</span>, <span class="number">27</span>, <span class="string">'Teacher'</span>);</span><br><span class="line">person1.sayName(); <span class="comment">// Sirine</span></span><br><span class="line">person2.sayName(); <span class="comment">// Severus</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.constructor == Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.constructor == Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2 <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°å’Œå·¥å‚å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼š</p>
<ul>
<li>æ²¡æœ‰æ˜¾å¼åœ°åˆ›å»ºå¯¹è±¡ã€‚</li>
<li>å±æ€§å’Œæ–¹æ³•ç›´æ¥èµ‹å€¼ç»™äº† <code>this</code> ã€‚</li>
<li>æ²¡æœ‰ <code>return</code>  ã€‚</li>
<li>å‡½æ•°åé¦–å­—æ¯å¤§å†™ã€‚å€Ÿé‰´äºé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ã€‚</li>
</ul>
<p>åˆ›å»ºå®ä¾‹ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦ã€‚ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„ <code>[[Prototype]]</code> ç‰¹æ€§è¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ã€‚</li>
<li>æ„é€ å‡½æ•°å†…éƒ¨çš„ <code>this</code> è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ã€‚</li>
<li>å¦‚æœæ„é€ å‡½æ•°è¿”å›éç©ºå¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™ï¼Œè¿”å›åˆšåˆ›å»ºçš„æ–°å¯¹è±¡ã€‚</li>
</ol>
<p>å®šä¹‰è‡ªå®šä¹‰æ„é€ å‡½æ•°å¯ä»¥ç¡®ä¿å®ä¾‹è¢«æ ‡è¯†ä¸ºç‰¹å®šç±»å‹ã€‚</p>
<p>æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯è¢«èµ‹å€¼ç»™å˜é‡çš„å‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<p>åœ¨å®ä¾‹åŒ–æ—¶ï¼Œæ„é€ å‡½æ•°åçš„æ‹¬å·ä¸åŠ ä¹Ÿå¯ä»¥ã€‚åªè¦æœ‰ <code>new</code> æ“ä½œç¬¦ï¼Œå°±å¯ä»¥è°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°ã€‚</p>
<ol>
<li><h5 id="æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°"><a href="#æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°"></a>æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°</h5><p>ä»»ä½•å‡½æ•°åªè¦ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦è°ƒç”¨å°±æ˜¯æ„é€ å‡½æ•°ï¼Œä¸ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦è°ƒç”¨å°±æ˜¯æ™®é€šå‡½æ•°ã€‚</p>
</li>
<li><h5 id="æ„é€ å‡½æ•°çš„é—®é¢˜"><a href="#æ„é€ å‡½æ•°çš„é—®é¢˜" class="headerlink" title="æ„é€ å‡½æ•°çš„é—®é¢˜"></a>æ„é€ å‡½æ•°çš„é—®é¢˜</h5><p>æ„é€ å‡½æ•°çš„é—®é¢˜æ˜¯å®šä¹‰çš„æ–¹æ³•ä¼šåœ¨æ¯ä¸ªå®ä¾‹ä¸Šåˆ›å»ºä¸€éã€‚æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œè€Œè¿™äº›æ–¹æ³•å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œå´æŒ‡å‘ä¸åŒçš„å¼•ç”¨ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚å¦‚æœæˆ‘ä»¬é€‰æ‹©æŠŠæ–¹æ³•æŠ½ç¦»åˆ°å…¨å±€ï¼Œè®©æ¯ä¸ªå®ä¾‹çš„æ–¹æ³•éƒ½æŒ‡å‘è¿™ä¸ªå…¨å±€æ–¹æ³•ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šé‡å¤å£°æ˜å‡½æ•°ï¼Œä½†è¿™æ ·æ±¡æŸ“äº†å…¨å±€ä½œç”¨åŸŸï¼Œå½“æ„é€ å‡½æ•°çš„æ–¹æ³•è¾ƒå¤šæ—¶ï¼Œå…¨å±€ä¸Šå°±ä¼šå¤šå‡ºå¾ˆå¤šä¸å¿…è¦çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°æ˜æ˜åªæ˜¯å±äºæˆ‘ä»¬çš„å®ä¾‹å¯¹è±¡ï¼Œå´å®šä¹‰åœ¨äº†å…¨å±€ã€‚</p>
</li>
</ol>
<h2 id="CSS-çŸ¥è¯†ç‚¹"><a href="#CSS-çŸ¥è¯†ç‚¹" class="headerlink" title="CSS çŸ¥è¯†ç‚¹"></a>CSS çŸ¥è¯†ç‚¹</h2><p>åˆå›é¡¾åˆ°äº†æµ®åŠ¨ä¸æ¸…é™¤æµ®åŠ¨çš„çŸ¥è¯†ï¼Œå¯¹äº <code>clearfix</code> è¿™ç§æ¸…é™¤æ–¹æ³•ä¸æ˜¯ç‰¹åˆ«ç†è§£ã€‚è‡ªå·±å†™äº†å†™æ¥å°è¯•åŠ æ·±ç†è§£ã€‚</p>
<p>é¦–å…ˆæŸ¥é˜…äº† <code>MDN</code> å…³äº <code>clear</code> çš„æ–‡æ¡£ï¼š ğŸ‘‰<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/clear" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<blockquote>
<p><strong><code>clear</code></strong> <a href="https://developer.mozilla.org/en-US/docs/CSS" target="_blank" rel="noopener">CSS</a> å±æ€§æŒ‡å®šä¸€ä¸ªå…ƒç´ æ˜¯å¦å¿…é¡»ç§»åŠ¨(æ¸…é™¤æµ®åŠ¨å)åˆ°åœ¨å®ƒä¹‹å‰çš„æµ®åŠ¨å…ƒç´ ä¸‹é¢ã€‚<code>clear</code> å±æ€§é€‚ç”¨äºæµ®åŠ¨å’Œéæµ®åŠ¨å…ƒç´ ã€‚</p>
</blockquote>
<p>æ–‡æ¡£ä¸­æŒ‡å‡ºï¼Œ <code>clear</code> å±æ€§åŒæ—¶é€‚ç”¨äºæµ®åŠ¨ä¸éæµ®åŠ¨å…ƒç´ ã€‚</p>
<blockquote>
<p>å½“åº”ç”¨äºéæµ®åŠ¨å—æ—¶ï¼Œå®ƒå°†éæµ®åŠ¨å—çš„<a href="https://developer.mozilla.org/en-US/docs/CSS/box_model" target="_blank" rel="noopener">è¾¹æ¡†è¾¹ç•Œ</a>ç§»åŠ¨åˆ°æ‰€æœ‰ç›¸å…³æµ®åŠ¨å…ƒç´ <a href="https://developer.mozilla.org/en-US/docs/CSS/box_model" target="_blank" rel="noopener">å¤–è¾¹ç•Œ</a>çš„ä¸‹æ–¹ã€‚è¿™ä¸ªéæµ®åŠ¨å—çš„<a href="https://developer.mozilla.org/en-US/docs/CSS/margin_collapsing" target="_blank" rel="noopener">å‚ç›´å¤–è¾¹è·</a>ä¼šæŠ˜å ã€‚</p>
</blockquote>
<p>è¿™ä¸ªç‰¹æ€§ç»™äº†è§£å†³æµ®åŠ¨å¯¼è‡´çˆ¶å…ƒç´ é«˜åº¦å¡Œé™·çš„æ–¹æ³•ã€‚</p>
<p>å½“çˆ¶å…ƒç´ å†…çš„æ‰€æœ‰å­å…ƒç´ éƒ½æµ®åŠ¨ï¼Œå¯¼è‡´çˆ¶å…ƒç´ å†…éƒ¨é«˜åº¦æ— æ³•è¢«è‡ªåŠ¨æ’‘å¼€ã€‚</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™çˆ¶å…ƒç´ å†…éƒ¨æœ€åæ·»åŠ ä¸€ä¸ªå…ƒç´ (ç»éªŒè¯ï¼Œæ­¤å…ƒç´ éœ€è¦ä¸ºå—çº§å…ƒç´ )ï¼Œç„¶åè®¾ç½® <code>clear: both</code> ï¼Œè¡¨ç¤ºå½“å·¦å³æœ‰æµ®åŠ¨å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨åˆ°ä¸‹é¢ã€‚è¯¥ä¼ªå…ƒç´ ä¼šè‡ªåŠ¨ç§»åŠ¨åˆ°å·¦å³æµ®åŠ¨å…ƒç´ æœ€é•¿çš„é‚£ä¸ªåº•ä¸‹ã€‚</p>
<p>äºæ˜¯ï¼Œçˆ¶å…ƒç´ å†…éƒ¨æœ‰äº†ä¸€ä¸ªå—çº§å…ƒç´ ï¼Œä¸”æœ‰ä½ç½®è¦æ±‚ï¼Œçˆ¶å…ƒç´ å°±è¢«æ’‘å¼€äº†ã€‚</p>
<p>ä¸ºäº†ç®€ä¾¿ï¼Œå¯ä»¥ç›´æ¥å°†è¯¥å…ƒç´ å®šä¹‰ä¸ºçˆ¶å…ƒç´ çš„ä¼ªå…ƒç´  <code>:after</code> ã€‚</p>
<p>ä¸”æ–‡æ¡£ä¸­æåˆ°ä¸€ç‚¹ï¼Œç§»åŠ¨å…ƒç´ çš„å‚ç›´å¤–è¾¹è·ä¼šè¢«æŠ˜å ã€‚</p>
<p>ç®€å•éªŒè¯äº†ä¸€ä¸‹ï¼Œè¯¥å…ƒç´ çš„é¡¶éƒ¨å¤–è¾¹è·ä¼šè¢«æŠ˜å ï¼Œä½†åº•éƒ¨å¤–è¾¹è·ä¸ä¼šã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span>to clearfix<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>another right container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">clear</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/18/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-18/image-20201018112427598.png" alt="image-20201018112427598"></p>
<p>å¦å¤–ï¼Œæµ‹è¯•äº†ä¸€ä¸‹æµ®åŠ¨å…ƒç´ åº”ç”¨ <code>clear</code> å±æ€§çš„æ•ˆæœã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span>to clearfix<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>another left container<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">clear</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/18/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-18/image-20201018111957887.png" alt="image-20201018111957887"></p>
<p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæµ®åŠ¨å…ƒç´ æ¸…é™¤æµ®åŠ¨åä¼šå½±å“åˆ°åç»­çš„å…ƒç´ ï¼Œåç»­çš„å…ƒç´ åªä¼šè·Ÿç€å®ƒè¿›è¡Œæ’åˆ—ã€‚ä¸ä¼šé«˜äºå®ƒã€‚</p>
<p>å°† <code>.bottom</code> çš„ <code>clear</code> ä¿®æ”¹ä¸º <code>left</code> ã€‚</p>
<p><img src="/2020/10/18/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-18/image-20201018112058725.png" alt="image-20201018112058725"></p>
<p>å°†åº•éƒ¨çš„æœ€åé‚£ä¸ªå…ƒç´ ä¿®æ”¹ä¸ºå³æµ®åŠ¨ã€‚</p>
<p><img src="/2020/10/18/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-18/image-20201018112132997.png" alt="image-20201018112132997"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹å†™ Promise</title>
    <url>/2020/10/17/%E6%89%8B%E5%86%99-Promise/</url>
    <content><![CDATA[<p>å°è¯•ä½¿ç”¨ <code>js</code> æ‰‹å†™ <code>Promise</code> ç±»ï¼Œå®ç°éƒ¨åˆ†åŠŸèƒ½ï¼Œéµå®ˆ <code>Promises/A+</code> è§„èŒƒï¼Œä¾‹å¦‚ <code>then, catch, all, race, resolve, reject</code> ç­‰ã€‚</p>
<h2 id="ä½¿ç”¨åŸç”Ÿ-Promise-æŸ¥çœ‹æ•ˆæœ"><a href="#ä½¿ç”¨åŸç”Ÿ-Promise-æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="ä½¿ç”¨åŸç”Ÿ Promise æŸ¥çœ‹æ•ˆæœ"></a>ä½¿ç”¨åŸç”Ÿ <code>Promise</code> æŸ¥çœ‹æ•ˆæœ</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise1</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">2</span>);</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 1ç§’å</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡º <code>promise</code> çš„å‡ ä¸ªæ€§è´¨ï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªç±»ï¼Œå¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæœ‰ <code>resolve</code> å’Œ <code>reject</code> ä¸¤ä¸ªå‚æ•°ã€‚å½“æœŸæœ›çš„äº‹æƒ…å®Œæˆåï¼Œè°ƒç”¨ <code>resolve</code> è¡¨æ˜æˆåŠŸï¼Œè°ƒç”¨ <code>reject</code> è¡¨æ˜å¤±è´¥ã€‚æˆåŠŸåå¯ä»¥è°ƒç”¨ <code>.then</code> æ¥è¿›è¡Œåç»­æ“ä½œï¼Œé»˜è®¤å‚æ•°ä¸º <code>resolve</code> å‡½æ•°çš„å‚æ•°ã€‚è¿”å›å€¼å¯ä»¥æ˜¯ä¸€ä¸ªæ–°çš„ <code>promise</code> ï¼Œåç»­æ“ä½œä¼šç­‰å¾…è¿™ä¸ª <code>promise</code> çš„å®Œæˆã€‚æŠ›å‡ºé”™è¯¯æ—¶æˆ–æ˜¯æ‰‹åŠ¨è°ƒç”¨ <code>reject</code> éƒ½ä¼šè¿›å…¥ <code>catch</code> å›è°ƒï¼Œæˆ–æ˜¯ <code>.then</code> æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥å®ç°ã€‚</p>
<h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><ol>
<li><h3 id="å®šä¹‰-promise-æ„é€ å‡½æ•°"><a href="#å®šä¹‰-promise-æ„é€ å‡½æ•°" class="headerlink" title="å®šä¹‰ promise æ„é€ å‡½æ•°"></a>å®šä¹‰ <code>promise</code> æ„é€ å‡½æ•°</h3><p>é¦–å…ˆå®šä¹‰ä¸‰ä¸ªå¸¸é‡ç”¨äºè¡¨ç¤ºçŠ¶æ€ï¼Œ<code>Promises/A+</code> è§„èŒƒä¸­æåˆ°ï¼š</p>
<blockquote>
<p>A promise must be in one of three states: pending, fulfilled, or rejected.</p>
<ol>
<li><p>When pending, a promise:</p>
<ol>
<li>may transition to either the fulfilled or rejected state.</li>
</ol>
</li>
<li><p>When fulfilled, a promise:</p>
<ol>
<li>must not transition to any other state.</li>
<li>must have a value, which must not change.</li>
</ol>
</li>
<li><p>When rejected, a promise:</p>
<ol>
<li>must not transition to any other state.</li>
<li>must have a reason, which must not change.</li>
</ol>
</li>
</ol>
<p>Here, â€œmust not changeâ€ means immutable identity (i.e. <code>===</code>), but does not imply deep immutability.</p>
</blockquote>
<p><code>promise</code> ä»…æœ‰ä¸‰ç§çŠ¶æ€ï¼Œè¡¨ç¤ºè¿˜æœªå®Œæˆï¼Œå·²æˆåŠŸæˆ–æ˜¯å·²å¤±è´¥ã€‚å½“å¤„äº <code>pending</code> çŠ¶æ€æ—¶ï¼Œå¯èƒ½ä¼šè½¬æ¢ä¸ºå¦å¤–ä¸¤ç§çŠ¶æ€ã€‚å½“å¤„äº <code>fulfilled</code> çŠ¶æ€æ—¶ï¼Œä¸ä¼šå†è½¬ä¸ºå…¶ä½™çŠ¶æ€ï¼Œå¿…é¡»æ‹¥æœ‰ä¸€ä¸ª <code>value</code> å±æ€§ä¸”ä¸å†å˜åŒ–ã€‚å½“å¤„äº <code>rejected</code> çŠ¶æ€æ—¶ï¼ŒåŒæ ·ä¸ä¼šå†è½¬å˜ï¼Œä¸”å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª <code>reason</code> å±æ€§ä¸å†å˜åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PENDING = <span class="string">'pending'</span>,</span><br><span class="line">  FULFILLED = <span class="string">'fulfilled'</span>,</span><br><span class="line">  REJECTED = <span class="string">'rejected'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(executor) &#123;</span><br><span class="line">    <span class="keyword">this</span>.status = PENDING;</span><br><span class="line">    <span class="keyword">this</span>.value = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">this</span>.reason = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> resolve = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reject = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    executor(resolve, reject);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸‰ä¸ªå˜é‡ï¼Œåˆå§‹åŒ–æ­¤æ—¶çš„çŠ¶æ€ä¸º <code>pending</code> ï¼Œå¹¶ä¸”ä¼ å…¥çš„ <code>executor</code> å‡½æ•°æˆ‘ä»¬éœ€è¦è¿›è¡Œè°ƒç”¨ï¼Œä¼ å…¥å®šä¹‰çš„ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p>
<p>ç„¶åå®šä¹‰ <code>resolve</code> å’Œ <code>reject</code> çš„å†…å®¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> resolve = <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.status !== PENDING) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">this</span>.status === FULFILLED;</span><br><span class="line">  <span class="keyword">this</span>.value = value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reject = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.status !== PENDING) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">this</span>.status === REJECTED;</span><br><span class="line">  <span class="keyword">this</span>.reason = reason;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>éµå¾ªè§„èŒƒï¼Œè‹¥å½“å‰çŠ¶æ€ä¸æ˜¯ <code>pending</code> ï¼Œä¸æ‰§è¡Œåç»­æ“ä½œã€‚</p>
</li>
<li><h3 id="å®šä¹‰-then-æ–¹æ³•"><a href="#å®šä¹‰-then-æ–¹æ³•" class="headerlink" title="å®šä¹‰ then æ–¹æ³•"></a>å®šä¹‰ <code>then</code> æ–¹æ³•</h3><p>é¦–å…ˆæŸ¥çœ‹è§„èŒƒï¼š</p>
<blockquote>
<p>A promiseâ€™s <code>then</code> method accepts two arguments:</p>
<figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">promise.then(<span class="keyword">on</span>Fulfilled, <span class="keyword">on</span>Rejected)</span><br></pre></td></tr></table></figure>

<ol>
<li><p>Both <code>onFulfilled</code>  and <code>onRejected</code>  are optional arguments:</p>
<ol>
<li>If <code>onFulfilled</code> is not a function, it must be ignored.</li>
<li>If <code>onRejected</code> is not a function, it must be ignored.</li>
</ol>
</li>
<li><p>If <code>onFulfilled</code> is a function:</p>
<ol>
<li>it must be called after <code>promise</code> is fulfilled, with <code>promise</code>â€™s value as its first argument.</li>
<li>it must not be called before <code>promise</code> is fulfilled.</li>
<li>it must not be called more than once.</li>
</ol>
</li>
<li><p>If <code>onRejected</code> is a function,</p>
<ol>
<li>it must be called after <code>promise</code> is rejected, with <code>promise</code>â€™s reason as its first argument.</li>
<li>it must not be called before <code>promise</code> is rejected.</li>
<li>it must not be called more than once.</li>
</ol>
</li>
<li><p><code>onFulfilled</code> or <code>onRejected</code> must not be called until the <a href="https://es5.github.io/#x10.3" target="_blank" rel="noopener">execution context</a> stack contains only platform code. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.1</a>].</p>
</li>
<li><p><code>onFulfilled</code> and <code>onRejected</code> must be called as functions (i.e. with no <code>this</code> value). [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.2</a>]</p>
</li>
<li><p><code>then</code>may be called multiple times on the same promise.</p>
<ol>
<li>If/when <code>promise</code> is fulfilled, all respective <code>onFulfilled</code> callbacks must execute in the order of their originating calls to <code>then</code>.</li>
<li>If/when <code>promise</code> is rejected, all respective <code>onRejected</code> callbacks must execute in the order of their originating calls to <code>then</code>.</li>
</ol>
</li>
<li><p><code>then</code> must return a promise [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.3</a>].</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">promise2</span> = promise1.then(<span class="literal">on</span>Fulfilled, <span class="literal">on</span>Rejected)<span class="comment">;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>If either <code>onFulfilled</code> or <code>onRejected</code> returns a value <code>x</code>, run the Promise Resolution Procedure <code>[[Resolve]](promise2, x)</code>.</li>
<li>If either <code>onFulfilled</code> or <code>onRejected</code> throws an exception <code>e</code>, <code>promise2</code> must be rejected with <code>e</code> as the reason.</li>
<li>If <code>onFulfilled</code> is not a function and <code>promise1</code> is fulfilled, <code>promise2</code> must be fulfilled with the same value as <code>promise1</code>.</li>
<li>If <code>onRejected</code> is not a function and <code>promise1</code> is rejected, <code>promise2</code> must be rejected with the same reason as <code>promise1</code>.</li>
</ol>
</li>
</ol>
</blockquote>
<p>è§„èŒƒæåˆ°ï¼Œ<code>then</code> æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œä½†å¿…é¡»æ˜¯å‡½æ•°ï¼Œä¸æ˜¯å‡½æ•°çš„è¯å°†è¢«å¿½ç•¥ã€‚</p>
<p> <code>onFulfilled</code> å°†åœ¨ <code>promise</code> çŠ¶æ€ä¸º <code>fulfilled</code> ä¹‹åè°ƒç”¨ï¼Œ<code>promise</code> çš„ <code>value</code> ä½œä¸ºå®ƒçš„å‚æ•°ï¼Œåœ¨ <code>promise</code> è½¬ä¸º <code>fulfilled</code> ä¹‹å‰ä¸å…è®¸è°ƒç”¨ï¼Œä¸”åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ <code>onRejected</code> ç±»ä¼¼ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½åªèƒ½åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡è°ƒç”¨æ ˆä»…åŒ…å« <code>platform code</code> æ—¶è°ƒç”¨ï¼Œéœ€è¦ç¡®ä¿ä¸¤ä¸ªå‡½æ•°éƒ½æ˜¯å¼‚æ­¥è°ƒç”¨çš„ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½å¿…é¡»ä»¥å‡½æ•°å½¢å¼è°ƒç”¨ï¼Œä¸å…è®¸åŒ…å« <code>this</code> ã€‚</p>
<p>åŒä¸€ä¸ª <code>promise</code> å¯ä»¥å¤šæ¬¡è°ƒç”¨ <code>then</code> æ–¹æ³•(æ­¤å¤„ä¸æ˜¯æŒ‡é“¾å¼è°ƒç”¨)ï¼Œéœ€è¦ç¡®ä¿å¤šæ¬¡è°ƒç”¨æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ã€‚</p>
<p><code>then</code> æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ª <code>promise</code> ã€‚</p>
<p><code>onFulfilled</code> æˆ–æ˜¯ <code>onRejected</code> çš„è¿”å›å€¼éœ€è¦æ‰§è¡Œ <code>Promise Resolution Procedure</code> ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°è‹¥æ˜¯æŠ›å‡ºäº†é”™è¯¯ï¼Œ<code>promise2</code> éœ€è¦ä»¥è¯¥é”™è¯¯ä¸ºå‚æ•°è¢«æ‹’ç»ã€‚</p>
<p>è‹¥æ²¡æœ‰ä¼ å…¥ä¸¤ä¸ªå‡½æ•°ï¼Œ<code>promise</code> å€¼éœ€è¦åŒæ ·å¾€åç»­ä¼ é€’ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">then(onFulfilled, onRejected) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.status === FULFILLED) &#123;</span><br><span class="line">    onFulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.status === REJECTED) &#123;</span><br><span class="line">    onRejected(<span class="keyword">this</span>.reason);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆç®€å•å®ç°åŒæ­¥å›è°ƒï¼Œåˆ¤æ–­å½“å‰çš„ <code>status</code> æ¥æ‰§è¡Œç›¸åº”çš„å›è°ƒã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘å¼‚æ­¥æ‰§è¡Œï¼Œè‹¥æ˜¯ <code>executor</code> å†…éƒ¨æ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œï¼Œå¼‚æ­¥æ‰§è¡Œä¸­æ‰ä¼šè°ƒç”¨ <code>resolve</code> æˆ–æ˜¯ <code>reject</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è°ƒç”¨ <code>then</code> æ—¶ï¼Œ <code>status</code> è¿˜æ²¡æœ‰å¾—åˆ°è½¬æ¢ï¼Œæ­¤æ—¶æ— æ³•æ­£ç¡®æ‰§è¡Œï¼Œä¸”éœ€è¦åœ¨å¼‚æ­¥åœ°æ›´æ”¹ <code>status</code> åå†æ‰§è¡Œå›è°ƒã€‚</p>
<p>ä¿®æ”¹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(executor) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">this</span>.onFulfilledCallList = [];</span><br><span class="line">    <span class="keyword">this</span>.onRejectedCallList = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> resolve = <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">this</span>.onFulfilledCallList.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn());</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reject = <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">this</span>.onRejectedCallList.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn());</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  then(onFulfilled, onRejected) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.status === PENDING) &#123;</span><br><span class="line">      <span class="keyword">this</span>.onFulfilledCallList.push(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        onFulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.onRejectedCallList.push(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        onRejected(<span class="keyword">this</span>.reason);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶çš„å¼‚æ­¥ <code>resolve</code> å·²ç»å¯ä»¥æ­£ç¡®æ‰§è¡Œã€‚</p>
<p>å†æ¥è€ƒè™‘é”™è¯¯æ•è·çš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„ <code>executor</code> ä¸­å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦ç›´æ¥æ‰§è¡Œ <code>reject</code> æ¥æ‹’ç»ã€‚</p>
<p>ä¿®æ”¹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(executor) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      executor(resolve, reject);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      reject(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ‰§è¡Œ <code>executor</code> æ—¶å°±å°è¯•æ•è·é”™è¯¯ï¼Œè‹¥æ˜¯æ•è·åˆ°äº†å°±ç›´æ¥ <code>reject</code> ï¼Œæ­¤æ—¶éœ€è¦å®šä¹‰ <code>then</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ¥å¤„ç†ã€‚</p>
<p>æ­¤æ—¶è‹¥æ˜¯å¯¹ <code>promise</code> å®ä¾‹å¤šæ¬¡è°ƒç”¨ <code>then</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ­£ç¡®ä¸”æŒ‰åºæ‰§è¡Œã€‚</p>
<p>æ¥ä¸‹æ¥å¤„ç†ä¸¤ä¸ªå‚æ•°ä¸ºç©ºçš„æƒ…å†µã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  then(onFulfilled, onRejected) &#123;</span><br><span class="line">    onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">'function'</span> ? onFulfilled : <span class="function"><span class="params">value</span> =&gt;</span> value;</span><br><span class="line">    onRejected =</span><br><span class="line">      <span class="keyword">typeof</span> onRejected === <span class="string">'function'</span></span><br><span class="line">        ? onRejected</span><br><span class="line">        : <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> reason;</span><br><span class="line">          &#125;;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å¤„ç† <code>then</code> çš„è¿”å›å€¼é—®é¢˜ï¼Œå³å®ç°é“¾å¼è°ƒç”¨ã€‚</p>
<p>å‚è€ƒåŸç”Ÿ <code>promise</code> çš„è¡¨ç°å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="number">1</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise1</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'10'</span>, res); <span class="comment">// 10 1</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">'11'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'16'</span>, res); <span class="comment">// 16 11</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">'18'</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'24'</span>, res); <span class="comment">// 24 18</span></span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ª <code>then</code> æ–¹æ³•çš„å‚æ•°éƒ½æ˜¯å‰ä¸€æ¬¡ <code>then</code> çš„è¿”å›å€¼ï¼Œè¿”å›å€¼è‹¥æ˜¯ <code>promise</code> ï¼Œåˆ™æ˜¯ <code>resolve</code> çš„å€¼ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬éœ€è¦å¤„ç†ä¸¤ç§çŠ¶å†µï¼Œ<code>return</code> äº†åŸå§‹å€¼æˆ–æ˜¯ <code>promise</code>  ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬å¯¹ <code>onFulfilled</code> å’Œ <code>onRejected</code> è¿”å›å€¼è¿›è¡Œä¸€ä¸ªå¤„ç†ã€‚</p>
<p>åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ³¨æ„è‹¥æ˜¯ <code>onFulfilled</code> å’Œ <code>onRejected</code> å‡½æ•°å†…éƒ¨æ‰§è¡Œæ—¶æŠ›å‡ºäº†é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œ <code>reject</code> ã€‚æ‰€ä»¥ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseResolve</span>(<span class="params">promise2, x, resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(promise2, x, resolve, reject);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  then(onFulfilled, onRejected) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> promise2 = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.status === FULFILLED) &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> x = onFulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">            promiseResolve(promise2, x, resolve, reject);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.status === REJECTED) &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> x = onRejected(<span class="keyword">this</span>.reason);</span><br><span class="line">            promiseResolve(promise2, x, resolve, reject);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.status === PENDING) &#123;</span><br><span class="line">        <span class="keyword">this</span>.onFulfilledCallList.push(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> x = onFulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">            promiseResolve(promise2, x, resolve, reject);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">this</span>.onRejectedCallList.push(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> x = onRejected(<span class="keyword">this</span>.reason);</span><br><span class="line">            promiseResolve(promise2, x, resolve, reject);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> promise2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„åšäº†è¾ƒå¤šä¿®æ”¹ï¼Œåœ¨ <code>then</code> æ–¹æ³•ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ <code>promise</code> å®ä¾‹ï¼Œç„¶åè¿›è¡ŒçŠ¶æ€åˆ¤å®šï¼Œè‹¥æ˜¯å·²å®Œæˆï¼Œåˆ™è¿›è¡Œç›¸åº”æ“ä½œã€‚è‹¥æ˜¯æœªå®Œæˆï¼Œåˆ™æŠŠå›è°ƒè¿›è¡Œè®¢é˜…ï¼Œåœ¨å®Œæˆæ—¶è¿›è¡Œå‘å¸ƒã€‚è°ƒç”¨å›è°ƒæ—¶éœ€è¦å¾—åˆ°è¿”å›å€¼ï¼Œç„¶åè¿›è¡Œè¿”å›å€¼çš„å¤„ç†ã€‚äºæ˜¯å®šä¹‰äº†ä¸€ä¸ª <code>resolvePromise</code> æ–¹æ³•æ¥å¤„ç†ï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨è¿›è¡Œ <code>resolve</code> æˆ–æ˜¯ <code>reject</code> ï¼Œæ‰€ä»¥éœ€è¦ä¼ å…¥å¯¹åº”å‡½æ•°ã€‚åŒæ—¶ä¼ å…¥ <code>promise</code> æœ¬èº«å’Œ <code>x</code> è¿™ä¸ªè¿”å›å€¼æ¥è‡ªäºè§„èŒƒå†…çš„è§„å®šã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨è°ƒç”¨ <code>promiseResolve</code> æ—¶ï¼Œæˆ‘ä»¬çš„ <code>promise2</code> è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¼‚æ­¥æ–¹æ³• <code>setTimeout</code> æ¥å»¶è¿Ÿè¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œç¡®ä¿å¯ä»¥æ­£ç¡®å¾—åˆ° <code>promise2</code> ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦å¯¹å›è°ƒå‡½æ•°çš„æ‰§è¡Œè¿›è¡Œé”™è¯¯æ•è·ï¼Œè‹¥æ˜¯æ•è·åˆ°é”™è¯¯å°± <code>reject</code> ã€‚</p>
<p>ä¸ºä»€ä¹ˆè®¢é˜…å›è°ƒæ—¶ä¸éœ€è¦å¼‚æ­¥æ¥è°ƒç”¨å¤„ç†å‡½æ•°å‘¢ï¼Ÿå› ä¸ºè®¢é˜…çš„å›è°ƒå‘å¸ƒæ—¶å·²ç»æ˜¯å¼‚æ­¥çŠ¶æ€ã€‚</p>
<p>ç„¶åå¼€å§‹å¤„ç† <code>promiseResolve</code> å‡½æ•°ã€‚</p>
<p>é¦–å…ˆçœ‹è§„èŒƒï¼š</p>
<blockquote>
<p>The <strong>promise resolution procedure</strong> is an abstract operation taking as input a promise and a value, which we denote as  <code>[[Resolve]](promise, x)</code>. If  <code>x</code>  is a thenable, it attempts to make <code>promise</code> adopt the state of <code>x</code>, under the assumption that <code>x</code> behaves at least somewhat like a promise. Otherwise, it fulfills <code>promise</code> with the value <code>x</code>.</p>
<p>This treatment of thenables allows promise implementations to interoperate, as long as they expose a Promises/A+-compliant <code>then</code> method. It also allows Promises/A+ implementations to â€œassimilateâ€ nonconformant implementations with reasonable <code>then</code> methods.</p>
<p>To run <code>[[Resolve]](promise, x)</code>, perform the following steps:</p>
<ol>
<li><p>If <code>promise</code> and <code>x</code> refer to the same object, reject <code>promise</code> with a <code>TypeError</code> as the reason.</p>
</li>
<li><p>If <code>x</code> is a promise, adopt its state :</p>
<ol>
<li>If <code>x</code> is pending, <code>promise</code> must remain pending until <code>x</code> is fulfilled or rejected.</li>
<li>If/when <code>x</code> is fulfilled, fulfill <code>promise</code> with the same value.</li>
<li>If/when <code>x</code> is rejected, reject <code>promise</code> with the same reason.</li>
</ol>
</li>
<li><p>Otherwise, if <code>x</code> is an object or function,</p>
<ol>
<li><p>Let <code>then</code> be <code>x.then</code>. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.5</a>]</p>
</li>
<li><p>If retrieving the property <code>x.then</code> results in a thrown exception <code>e</code>, reject <code>promise</code> with <code>e</code> as the reason.</p>
</li>
<li><p>If <code>then</code> is a function, call it with <code>x</code> as <code>this</code>, first argument <code>resolvePromise</code> , and second argument <code>rejectPromise</code> , where:</p>
<ol>
<li><p>If/when <code>resolvePromise</code> is called with a value <code>y</code>, run <code>[[Resolve]](promise, y)</code>.</p>
</li>
<li><p>If/when <code>rejectPromise</code> is called with a reason <code>r</code>, reject <code>promise</code> with <code>r</code>.</p>
</li>
<li><p>If both <code>resolvePromise</code> and <code>rejectPromise</code> are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored.</p>
</li>
<li><p>If calling <code>then</code> throws an exception <code>e</code> , </p>
<ol>
<li><p>If <code>resolvePromise</code> or <code>rejectPromise</code> have been called, ignore it.</p>
</li>
<li><p>Otherwise, reject <code>promise</code> with <code>e</code> as the reason.</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>If <code>then</code> is not a function, fulfill <code>promise</code> with <code>x</code>.</p>
</li>
</ol>
</li>
<li><p>If <code>x</code> is not an object or function, fulfill <code>promise</code> with <code>x</code>.</p>
</li>
</ol>
<p>If a promise is resolved with a thenable that participates in a circular thenable chain, such that the recursive nature of <code>[[Resolve]](promise, thenable)</code> eventually causes <code>[[Resolve]](promise, thenable)</code> to be called again, following the above algorithm will lead to infinite recursion. Implementations are encouraged, but not required, to detect such recursion and reject <code>promise</code> with an informative <code>TypeError</code> as the reason. [<a href="https://promisesaplus.com/#notes" target="_blank" rel="noopener">3.6</a>]</p>
</blockquote>
<p>ç®€å•ç¿»è¯‘ä¸€ä¸‹ï¼š</p>
<blockquote>
<p> æ­¤å¤„ä½¿ç”¨ <code>promise2</code> æŒ‡ä»£ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
</blockquote>
<ol>
<li><p>å¦‚æœ <code>promise2</code> å’Œ <code>x</code> å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä»¥ç±»å‹é”™è¯¯ <code>reject</code> ã€‚</p>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯ä¸€ä¸ª <code>promise</code> ï¼š</p>
<ol>
<li>å¦‚æœ <code>x</code> çš„çŠ¶æ€æ˜¯ <code>pending</code> ï¼Œé‚£ä¹ˆ <code>promise2</code> éœ€è¦ä¿æŒç›´åˆ° <code>x</code> è½¬ä¸º <code>fulfilled</code> æˆ–è€…æ˜¯ <code>rejected</code> ã€‚</li>
<li>å¦‚æœ <code>x</code> çš„çŠ¶æ€æ˜¯ <code>fulfilled</code> ï¼Œä½¿ç”¨ <code>x</code> çš„ <code>value</code> å»è½¬æ¢ <code>promise2</code> ä¸º <code>fulfilled</code> ã€‚</li>
<li><code>reject</code> åŒä¸Šã€‚</li>
</ol>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ï¼š</p>
<ol>
<li>å°† <code>x.then</code> èµ‹å€¼ç»™ <code>then</code> ã€‚</li>
<li>è‹¥æ˜¯ <code>x.then</code> çš„ç»“æœæŠ›å‡ºäº†é”™è¯¯ï¼Œä½¿ç”¨è¿™ä¸ªé”™è¯¯æ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
<li>å¦‚æœ <code>then</code> æ˜¯ä¸€ä¸ªå‡½æ•°å°±è°ƒç”¨å®ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>resolvePromise</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º <code>rejectPromise</code> ã€‚<ul>
<li><code>resolvePromise</code> æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>y</code> ï¼Œå®ƒçš„ç±»å‹ä¹Ÿå¯èƒ½æ˜¯ <code>promise</code> ï¼Œæ‰€ä»¥è°ƒç”¨ <code>promiseResolve</code> æ¥å¤„ç†å®ƒã€‚</li>
<li><code>rejectPromise</code> æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>r</code> ï¼Œä½¿ç”¨å®ƒæ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå›è°ƒå‚æ•°éƒ½è¢«è°ƒç”¨ï¼Œæˆ–æ˜¯å¤šæ¬¡ä½¿ç”¨ç›¸åŒå‚æ•°é‡å¤è°ƒç”¨ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨ç”Ÿæ•ˆï¼Œå…¶ä½™çš„ä¼šè¢«å¿½ç•¥ã€‚</li>
<li>å¦‚æœè°ƒç”¨ <code>x.then</code> æŠ›å‡ºé”™è¯¯ï¼š<ul>
<li>å¦‚æœå›è°ƒå‚æ•°å·²ç»è¢«è°ƒç”¨äº†ï¼Œå¿½ç•¥ã€‚</li>
<li>å…¶ä½™æƒ…å†µï¼Œä½¿ç”¨é”™è¯¯æ¥ <code>reject</code> <code>promise2</code> ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚æœ <code>then</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨ <code>x</code> æ¥ <code>fulfilled</code>  <code>promise2</code> ã€‚</li>
</ol>
</li>
<li><p>å¦‚æœ <code>x</code> æ˜¯å…¶ä»–ç±»å‹ï¼Œä½¿ç”¨ <code>x</code> æ¥ <code>fulfilled</code> <code>promise2</code> ã€‚</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseResolve</span>(<span class="params">promise2, x, resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (promise2 === x) &#123;</span><br><span class="line">    <span class="keyword">return</span> reject(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Chaining cycle detected for promise #&lt;Promise&gt;'</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> called = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">typeof</span> x === <span class="string">'object'</span> &amp;&amp; x !== <span class="literal">null</span>) || <span class="keyword">typeof</span> x === <span class="string">'function'</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> then = x.then;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> then === <span class="string">'function'</span>) &#123;</span><br><span class="line">        then.call(</span><br><span class="line">          x,</span><br><span class="line">          y =&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">            called = <span class="literal">true</span>;</span><br><span class="line">            promiseResolve(promise2, y, resolve, reject);</span><br><span class="line">          &#125;,</span><br><span class="line">          r =&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">            called = <span class="literal">true</span>;</span><br><span class="line">            reject(r);</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        resolve(x);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">      called = <span class="literal">true</span>;</span><br><span class="line">      reject(err);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    resolve(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„å·²ç»å¯ä»¥æ­£ç¡®å¤„ç†é“¾å¼è°ƒç”¨ï¼Œè¿”å›æ–°çš„ <code>promise</code> å®ä¾‹çš„æƒ…å†µã€‚ä¸”åµŒå¥—è¿”å›ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promise2 = promise1.then(</span><br><span class="line">  res =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;,</span><br><span class="line">  err =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> err;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line">promise2</span><br><span class="line">  .then()</span><br><span class="line">  .then()</span><br><span class="line">  .then()</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'19'</span>, res); <span class="comment">// 19 1</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(</span><br><span class="line">          <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">'23'</span>);</span><br><span class="line">          &#125;)</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    err =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'34'</span>, res); <span class="comment">// 34 19</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">'36'</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    err =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'40'</span>, err);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .then(</span><br><span class="line">    res =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'45'</span>, res); <span class="comment">// 45 34</span></span><br><span class="line">    &#125;,</span><br><span class="line">    err =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'48'</span>, err);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å®ç° <code>catch</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">catch</span>(onRejected) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.then(<span class="literal">null</span>, onRejected);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>catch</code> çš„é€»è¾‘å…¶å®ä¸ <code>then</code> ç±»ä¼¼ï¼Œåªæ˜¯æ²¡æœ‰ä¼ å…¥ <code>onFulfilled</code> å›è°ƒè€Œå·²ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç° <code>Promise.resolve</code> <code>Promise.reject</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">static</span> resolve(onResolved) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (onResolved <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">        onResolved.then(resolve, reject);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        resolve(onResolved);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> reject(onRejected) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      reject(onRejected);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªå‡½æ•°éƒ½è¿”å›ä¸€ä¸ª <code>promise</code> å³å¯ã€‚ <code>resolve</code> å†…éƒ¨éœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¼ å…¥çš„å€¼ä¸ºä¸€ä¸ª <code>promise</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¿›è¡Œå¤„ç†ã€‚</p>
<p>æ¥ä¸‹æ¥å®ç° <code>Promise.all</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">static</span> all(promises) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = promises.length;</span><br><span class="line">    <span class="keyword">let</span> values = [];</span><br><span class="line">    <span class="keyword">let</span> resolvedCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      promises.forEach(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">        MyPromise.resolve(p).then(</span><br><span class="line">          res =&gt; &#123;</span><br><span class="line">            values.push(res);</span><br><span class="line">            resolvedCount++;</span><br><span class="line">            <span class="keyword">if</span> (resolvedCount === len) &#123;</span><br><span class="line">              resolve(values);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          err =&gt; &#123;</span><br><span class="line">            reject(err);</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>all</code> æ–¹æ³•ç­‰å¾…ä¼ å…¥çš„å‚æ•°å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¿”å›æ‰€æœ‰è¿”å›å€¼çš„æ•°ç»„ã€‚</p>
<p>æˆ‘ä»¬éå†å‚æ•°åˆ—è¡¨ï¼Œå¯¹æ¯ä¸€ä¸ªå‚æ•°è¿›è¡Œ <code>resolve</code> ã€‚å°†ç»“æœåŠ å…¥ <code>value</code> æ•°ç»„ä¸­ï¼Œå¹¶è®¡æ•°ã€‚å½“è¿”å›å€¼æ•°é‡ç­‰äºå‚æ•°æ•°é‡æ—¶ï¼Œå¯ä»¥ <code>resolve</code> è¿”å›å€¼ã€‚</p>
<p>æœ€åå®ç° <code>race</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åªéœ€è¦ <code>resolve</code> æœ€å…ˆå¾—åˆ°ç»“æœçš„å€¼å³å¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">static</span> race(promises) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      promises.forEach(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">        MyPromise.resolve(p).then(</span><br><span class="line">          res =&gt; &#123;</span><br><span class="line">            resolve(res);</span><br><span class="line">          &#125;,</span><br><span class="line">          err =&gt; &#123;</span><br><span class="line">            reject(err);</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å†™å®Œä»¥åçœ‹äº†ä¸€ä¸‹æ—¶é—´ï¼Œå®Œæˆæ—¶é—´æ˜¯ <code>15:58</code> ã€‚èŠ±äº†ä¸¤ä¸ªåŠå°æ—¶ï¼Œä¸­é—´ä¹Ÿæœ‰ä¸€äº›åœ°æ–¹å†™ä¹±äº†ï¼Œç„¶ååˆå»æŸ¥èµ„æ–™ã€‚æ„Ÿè§‰å¯¹ <code>promise</code> ç†è§£åŠ æ·±äº†ä¸€äº›ï¼Œä½†åˆå¥½åƒè¿˜æ˜¯å¾ˆæ··ä¹±ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œ <code>promise</code> æ”¹å–„äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›è°ƒä¸­å°†ç»“æœæŠ›å‡ºï¼Œç„¶ååœ¨åç»­é“¾å¼è°ƒç”¨è·å–ç»“æœã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 17</title>
    <url>/2020/10/17/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-17/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-17"><a href="#å­¦ä¹ ç¬”è®°-2020-10-17" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-17"></a>å­¦ä¹ ç¬”è®° 2020-10-17</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><p><code>ECMA-262</code> å°†å¯¹è±¡å®šä¹‰ä¸ºä¸€ç»„å±æ€§çš„æ— åºé›†åˆï¼Œä½¿ç”¨ä¸€äº›å†…éƒ¨ç‰¹æ€§æ¥æè¿°å±æ€§çš„ç‰¹å¾ï¼Œè¿™äº›ç‰¹æ€§ç”±ä¸¤ä¸ªä¸­æ‹¬å·æ‹¬èµ·æ¥ã€‚</p>
<ol>
<li><h4 id="æ•°æ®å±æ€§"><a href="#æ•°æ®å±æ€§" class="headerlink" title="æ•°æ®å±æ€§"></a>æ•°æ®å±æ€§</h4><ul>
<li><p><code>[[Configurable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å¹¶é‡æ–°å®šä¹‰ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Enumerable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Writeble]]</code></p>
<p>è¡¨ç¤ºå±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Value]]</code></p>
<p>åŒ…å«å±æ€§å®é™…çš„å€¼ã€‚é»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
</ul>
<p>ä¿®æ”¹å±æ€§çš„é»˜è®¤ç‰¹å¾ï¼Œä½¿ç”¨ <code>Object.defineProperty</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œè¦æ·»åŠ å±æ€§çš„å¯¹è±¡ã€å±æ€§çš„åç§°å’Œä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚æè¿°ç¬¦å¯¹è±¡çš„å±æ€§å¯ä»¥åŒ…æ‹¬ä¸Šè¿°å››ä¸ªå±æ€§åï¼š<code>configurable</code> ã€ <code>enumerable</code> ã€Â· <code>writable</code> å’Œ <code>value</code> ã€‚è°ƒç”¨æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šå±æ€§å€¼ï¼Œåˆ™éƒ½é»˜è®¤ä¸º <code>false</code> ã€‚</p>
</li>
<li><h4 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h4><p>è®¿é—®å™¨å±æ€§åŒ…å«ä¸€ä¸ª <code>getter</code> å’Œä¸€ä¸ª <code>setter</code> å‡½æ•°ã€‚æœ‰ 4 ä¸ªç‰¹æ€§æè¿°å®ƒä»¬çš„è¡Œä¸ºã€‚</p>
<ul>
<li><p><code>[[Configurable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>delete</code> åˆ é™¤å¹¶é‡æ–°å®šä¹‰ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ï¼Œæ˜¯å¦å¯ä»¥æŠŠå®ƒæ”¹ä¸ºæ•°æ®å±æ€§ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Enumerable]]</code></p>
<p>è¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ <code>for-in</code> å¾ªç¯è¿”å›ã€‚é»˜è®¤å€¼ä¸º <code>true</code> ã€‚</p>
</li>
<li><p><code>[[Get]]</code></p>
<p>è·å–å‡½æ•°ï¼Œè¯»å–å±æ€§æ—¶è°ƒç”¨ï¼Œé»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
<li><p><code>[[Set]]</code></p>
<p>è®¾ç½®å‡½æ•°ï¼Œå†™å…¥å±æ€§æ—¶è°ƒç”¨ï¼Œé»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<p>å¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ªå±æ€§ï¼Œåªéœ€è¦ä½¿ç”¨ <code>Object.defineProperties</code> æ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œæ·»åŠ æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡å’Œå¦ä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚</p>
<h4 id="è¯»å–å±æ€§çš„ç‰¹å¾"><a href="#è¯»å–å±æ€§çš„ç‰¹å¾" class="headerlink" title="è¯»å–å±æ€§çš„ç‰¹å¾"></a>è¯»å–å±æ€§çš„ç‰¹å¾</h4><p>ä½¿ç”¨ <code>Object.getOwnPropertyDescriptor()</code> æ–¹æ³•å¯ä»¥å–å¾—æŒ‡å®šå±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå±æ€§æ‰€åœ¨çš„å¯¹è±¡å’Œè¦å–å¾—å…¶æè¿°ç¬¦çš„å±æ€§åã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  year_: &#123;</span><br><span class="line">    value: <span class="number">2017</span></span><br><span class="line">  &#125;,</span><br><span class="line">  edition: &#123;</span><br><span class="line">    value: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  year: &#123;</span><br><span class="line">    <span class="keyword">get</span>: function () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function (newValue) &#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.year_ = newValue;</span><br><span class="line">        <span class="keyword">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">'year_'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(descriptor.value); <span class="comment">// 2017</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.configurable); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> descriptor.get); <span class="comment">// "undefined"</span></span><br><span class="line"><span class="keyword">let</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">'year'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(descriptor.value); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.enumerable); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> descriptor.get); <span class="comment">// "function"</span></span><br></pre></td></tr></table></figure>

<p><code>ES8</code> æ–°å¢äº† <code>Object.getOwnpropertyDescriptors()</code> é™æ€æ–¹æ³•ã€‚ä¼šåœ¨æ¯ä¸ªè‡ªæœ‰å±æ€§ä¸Šè°ƒç”¨ <code>Object.getOwnpeopertyDescriptor()</code> å¹¶åœ¨ä¸€ä¸ªæ–°å¯¹è±¡ä¸­è¿”å›å®ƒä»¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> book = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  year_: &#123;</span><br><span class="line">    value: <span class="number">2017</span></span><br><span class="line">  &#125;,</span><br><span class="line">  edition: &#123;</span><br><span class="line">    value: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  year: &#123;</span><br><span class="line">    <span class="keyword">get</span>: function () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.year_;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function (newValue) &#123;</span><br><span class="line">      <span class="keyword">if</span> (newValue &gt; <span class="number">2017</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.year_ = newValue;</span><br><span class="line">        <span class="keyword">this</span>.edition += newValue - <span class="number">2017</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(book));</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// edition: &#123;</span></span><br><span class="line"><span class="comment">// configurable: false,</span></span><br><span class="line"><span class="comment">// enumerable: false,</span></span><br><span class="line"><span class="comment">// value: 1,</span></span><br><span class="line"><span class="comment">// writable: false</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br><span class="line"><span class="comment">// year: &#123;</span></span><br><span class="line"><span class="comment">// configurable: false,</span></span><br><span class="line"><span class="comment">// enumerable: false,</span></span><br><span class="line"><span class="comment">// get: f(),</span></span><br><span class="line"><span class="comment">// set: f(newValue),</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br><span class="line"><span class="comment">// year_: &#123;</span></span><br><span class="line"><span class="comment">// configurable: false,</span></span><br><span class="line"><span class="comment">// enumerable: false,</span></span><br><span class="line"><span class="comment">// value: 2017,</span></span><br><span class="line"><span class="comment">// writable: false</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="åˆå¹¶å¯¹è±¡"><a href="#åˆå¹¶å¯¹è±¡" class="headerlink" title="åˆå¹¶å¯¹è±¡"></a>åˆå¹¶å¯¹è±¡</h4><p><code>ES6</code> ä¸“é—¨ä¸ºåˆå¹¶å¯¹è±¡æä¾›äº† <code>Object.assign()</code> æ–¹æ³•ã€‚æ¥æ”¶ä¸€ä¸ªç›®æ ‡å¯¹è±¡å’Œä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†æ¯ä¸ªæºå¯¹è±¡ä¸­å¯æšä¸¾( <code>Object.propertyIsEnumerable()</code> è¿”å› <code>true</code> ) å’Œè‡ªæœ‰ ( <code>Object.hasOwnProperty()</code> è¿”å› <code>true</code> ) å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚ä»¥å­—ç¬¦ä¸²å’Œç¬¦å·ä¸ºé”®çš„å±æ€§ä¼šè¢«å¤åˆ¶ã€‚å¯¹æ¯ä¸ªç¬¦åˆæ¡ä»¶çš„å±æ€§ï¼Œä¼šä½¿ç”¨æºå¯¹è±¡ä¸Šçš„ <code>[[Get]]</code> å–å¾—å±æ€§çš„å€¼ï¼Œç„¶åä½¿ç”¨ç›®æ ‡å¯¹è±¡ä¸Šçš„ <code>[[Set]]</code> è®¾ç½®å±æ€§çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> dest, src, result;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç®€å•å¤åˆ¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;&#125;;</span><br><span class="line">src = &#123; <span class="attr">id</span>: <span class="string">'src'</span> &#125;;</span><br><span class="line">result = <span class="built_in">Object</span>.assign(dest, src);</span><br><span class="line"><span class="comment">// Object.assign ä¿®æ”¹ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"><span class="comment">// ä¹Ÿä¼šè¿”å›ä¿®æ”¹åçš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(dest === result); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(dest !== src); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123; id: src &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(dest); <span class="comment">// &#123; id: src &#125;</span></span><br><span class="line">dest.id = <span class="string">'123'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123;id: "123"&#125;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šä¸ªæºå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;&#125;;</span><br><span class="line">result = <span class="built_in">Object</span>.assign(dest, &#123; <span class="attr">a</span>: <span class="string">'foo'</span> &#125;, &#123; <span class="attr">b</span>: <span class="string">'bar'</span> &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// &#123; a: foo, b: bar &#125;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å‡½æ•°ä¸è®¾ç½®å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">dest = &#123;</span><br><span class="line">  <span class="keyword">set</span> a(val) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Invoked dest setter with param <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">src = &#123;</span><br><span class="line">  <span class="keyword">get</span> a() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Invoked src getter'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'foo'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(dest, src);</span><br><span class="line"><span class="comment">// è°ƒç”¨ src çš„è·å–æ–¹æ³•</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ dest çš„è®¾ç½®æ–¹æ³•å¹¶ä¼ å…¥å‚æ•°"foo"</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™é‡Œçš„è®¾ç½®å‡½æ•°ä¸æ‰§è¡Œèµ‹å€¼æ“ä½œ</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å®é™…ä¸Šå¹¶æ²¡æœ‰æŠŠå€¼è½¬ç§»è¿‡æ¥</span></span><br><span class="line"><span class="built_in">console</span>.log(dest); <span class="comment">// &#123; set a(val) &#123;...&#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶è¿‡ç¨‹æ‰§è¡Œçš„æ˜¯æµ…å¤åˆ¶ã€‚å¤šä¸ªæºå¯¹è±¡è‹¥å­˜åœ¨ç›¸åŒçš„å±æ€§ï¼Œæœ€åä¸€ä¸ªä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚</p>
<h4 id="å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š"><a href="#å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š" class="headerlink" title="å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š"></a>å¯¹è±¡æ ‡è¯†åŠç›¸ç­‰åˆ¤å®š</h4><p><code>ES6</code> æ–°å¢äº† <code>Object.is()</code> ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">true</span>, <span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(&#123;&#125;, &#123;&#125;)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="string">'2'</span>, <span class="number">2</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// æ­£ç¡®çš„ 0ã€-0ã€+0 ç›¸ç­‰/ä¸ç­‰åˆ¤å®š</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">-0</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">0</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">-0</span>, <span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// æ­£ç¡®çš„ NaN ç›¸ç­‰åˆ¤å®š</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// è¦æ£€æŸ¥è¶…è¿‡ä¸¤ä¸ªå€¼ï¼Œé€’å½’åœ°åˆ©ç”¨ç›¸ç­‰æ€§ä¼ é€’å³å¯ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursivelyCheckEqual</span>(<span class="params">x, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.is(x, rest[<span class="number">0</span>]) &amp;&amp; (rest.length &lt; <span class="number">2</span> || recursivelyCheckEqual(...rest));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><h4 id="ä¸å¥½çš„é£æ ¼"><a href="#ä¸å¥½çš„é£æ ¼" class="headerlink" title="ä¸å¥½çš„é£æ ¼"></a>ä¸å¥½çš„é£æ ¼</h4><p>ä¸‹é¢çš„ä»£ç é£æ ¼æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x,n</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;result*=x;&#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x=prompt(<span class="string">"x?"</span>,<span class="string">''</span>), n=prompt(<span class="string">"n?"</span>,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">if</span> (n&lt;=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">  alert(<span class="string">`Power <span class="subst">$&#123;n&#125;</span> is not supported, please enter an integer number greater than zero`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  alert(pow(x,n))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    result *= x;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x = prompt(<span class="string">"x?"</span>,<span class="string">''</span>),</span><br><span class="line">    n=prompt(<span class="string">"n?"</span>,<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (n &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">  alert(<span class="string">`Power <span class="subst">$&#123;n&#125;</span> is not supported, please enter an integer number greater than zero`</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  alert(pow(x,n))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="çŸ¥è¯†ç‚¹è®°å½•"><a href="#çŸ¥è¯†ç‚¹è®°å½•" class="headerlink" title="çŸ¥è¯†ç‚¹è®°å½•"></a>çŸ¥è¯†ç‚¹è®°å½•</h2><ol>
<li><p><code>vertical-align</code> ç”¨äºè¡Œå†…å—å…ƒç´ å’Œå†…è”å…ƒç´ å¯¹é½ã€‚</p>
</li>
<li><p><code>table</code> å•å…ƒæ ¼é»˜è®¤å‚ç›´å±…ä¸­ã€‚</p>
</li>
<li><p>å‚ç›´å±…ä¸­çš„ä¸€ç§æ€è·¯</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">    è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬è¿™é‡Œæ˜¯å¤šè¡Œæ–‡æœ¬</span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¡Œå†…å—å…ƒç´ æ’åˆ—æ—¶æœ‰ <code>4px</code> çš„ç©ºæ ¼è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>çˆ¶çº§å®¹å™¨ <code>font-size: 0</code> ï¼Œå­çº§å®¹å™¨ä¸­è‹¥å­˜åœ¨æ–‡æœ¬ï¼Œéœ€è¦é‡è®¾å­—ä½“å¤§å°ï¼Œä¸è§„èŒƒã€‚</li>
<li>è¡Œå†…å—å…ƒç´ è®¾ç½® <code>margin-left: -4px</code> æˆ–æ˜¯å…¶ä½™æ•°å€¼ï¼Œä½†æ–‡ä»¶å‹ç¼©åä¼šå‡ºç°é—®é¢˜ã€‚å› ä¸ºç©ºæ ¼æ¥æºäºæ ‡ç­¾çš„æ¢è¡Œæˆ–æ˜¯ç©ºæ ¼ç¬¦ï¼Œå‹ç¼©åè¿™äº›ä¸œè¥¿ä¸å­˜åœ¨ï¼Œå·¦ç§»çš„æ ·å¼å°±ä¼šå¤šä½™ã€‚</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 16</title>
    <url>/2020/10/16/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-16/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-16"><a href="#å­¦ä¹ ç¬”è®°-2020-10-16" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-16"></a>å­¦ä¹ ç¬”è®° 2020-10-16</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><p><code>yield</code> å…³é”®å­—å¯ä»¥è®©ç”Ÿæˆå™¨åœæ­¢å’Œå¼€å§‹æ‰§è¡Œã€‚</p>
<p>ç”Ÿæˆå™¨å‡½æ•°åœ¨é‡åˆ° <code>yield</code> å…³é”®å­—ä¹‹å‰ä¼šæ­£å¸¸æ‰§è¡Œã€‚é‡åˆ°ä¹‹åï¼Œæ‰§è¡Œä¼šåœæ­¢ï¼Œä¿ç•™å‡½æ•°ä½œç”¨åŸŸçš„çŠ¶æ€ã€‚</p>
<p>åœ¨ç”Ÿæˆå™¨å¯¹è±¡ä¸Šè°ƒç”¨ <code>next()</code> æ–¹æ³•æ¥æ¢å¤æ‰§è¡Œã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'foo'</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'bar'</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'baz'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorObject = generatorFn();</span><br><span class="line"><span class="built_in">console</span>.log(generatorObject.next()); <span class="comment">// &#123; done: false, value: 'foo' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(generatorObject.next()); <span class="comment">// &#123; done: false, value: 'bar' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(generatorObject.next()); <span class="comment">// &#123; done: true, value: 'baz' &#125;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>yield</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº <code>done: false</code> çŠ¶æ€ï¼Œé€šè¿‡ <code>return</code> å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº <code>done: true</code> çŠ¶æ€ã€‚</p>
<p>ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨ä¼šé’ˆå¯¹æ¯ä¸ªç”Ÿæˆå™¨å¯¹è±¡åŒºåˆ†ä½œç”¨åŸŸã€‚</p>
<p><code>yield</code> å…³é”®å­—åªèƒ½ç›´æ¥ä½äºç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å‡ºç°åœ¨åµŒå¥—çš„éç”Ÿæˆå™¨å‡½æ•°ä¸­ã€‚</p>
<ol>
<li><h5 id="ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡"><a href="#ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡"></a>ç”Ÿæˆå™¨å‡½æ•°ä½œä¸ºå¯è¿­ä»£å¯¹è±¡</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> generatorFn()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="ä½¿ç”¨-yield-å®ç°è¾“å…¥å’Œè¾“å‡º"><a href="#ä½¿ç”¨-yield-å®ç°è¾“å…¥å’Œè¾“å‡º" class="headerlink" title="ä½¿ç”¨ yield å®ç°è¾“å…¥å’Œè¾“å‡º"></a>ä½¿ç”¨ yield å®ç°è¾“å…¥å’Œè¾“å‡º</h5><p><code>yield</code> å¯ä»¥ä½œä¸ºå‡½æ•°çš„ä¸­é—´å‚æ•°ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params">initial</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(initial);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">yield</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">yield</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorObject = generatorFn(<span class="string">'foo'</span>);</span><br><span class="line">generatorObject.next(<span class="string">'bar'</span>); <span class="comment">// foo</span></span><br><span class="line">generatorObject.next(<span class="string">'baz'</span>); <span class="comment">// baz</span></span><br><span class="line">generatorObject.next(<span class="string">'qux'</span>); <span class="comment">// qux</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šä¸€æ¬¡è®©ç”Ÿæˆå™¨å‡½æ•°æš‚åœçš„ <code>yield</code> å…³é”®å­—ä¼šæ¥æ”¶åˆ°ä¼ ç»™ <code>next</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå€¼ã€‚</p>
<p>ä½†ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼ å…¥çš„å€¼ä¸ä¼šè¢«ä½¿ç”¨ï¼Œè¿™ä¸€æ¬¡æ˜¯ä¸ºäº†å¼€å§‹æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ã€‚</p>
</li>
<li><h5 id="äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡"><a href="#äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡"></a>äº§ç”Ÿå¯è¿­ä»£å¯¹è±¡</h5><p>å¯ä»¥ä½¿ç”¨æ˜Ÿå·å¢å¼º <code>yield</code> çš„è¡Œä¸ºï¼Œè®©å®ƒè¿­ä»£ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span>* [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorObject = generatorFn();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> generatorFn()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><code>yield*</code> çš„å€¼æ˜¯å…³è”è¿­ä»£å™¨è¿”å› <code>done: true</code> æ—¶çš„ <code>value</code> å±æ€§ã€‚</p>
</li>
<li><h5 id="ä½¿ç”¨-yield-å®ç°é€’å½’ç®—æ³•"><a href="#ä½¿ç”¨-yield-å®ç°é€’å½’ç®—æ³•" class="headerlink" title="ä½¿ç”¨ yield* å®ç°é€’å½’ç®—æ³•"></a>ä½¿ç”¨ yield* å®ç°é€’å½’ç®—æ³•</h5><p><code>yield*</code> æœ€æœ‰ç”¨çš„åœ°æ–¹æ˜¯å®ç°é€’å½’æ“ä½œã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">nTimes</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span>* nTimes(n - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">yield</span> n - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> nTimes(<span class="number">3</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªç”Ÿæˆå™¨é¦–å…ˆä¼šä»æ–°åˆ›å»ºçš„ç”Ÿæˆå™¨å¯¹è±¡äº§å‡ºæ¯ä¸ªå€¼ï¼Œå†äº§å‡ºä¸€ä¸ªæ•´æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå›¾çš„ä¾‹å­ï¼Œç”¨äºç”Ÿæˆéšæœºçš„åŒå‘å›¾ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(id) &#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.neighbors = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  connect(node) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="keyword">this</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.neighbors.add(node);</span><br><span class="line">      node.neighbors.add(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomGraph</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(size) &#123;</span><br><span class="line">    <span class="keyword">this</span>.nodes = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="comment">// åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">      <span class="keyword">this</span>.nodes.add(<span class="keyword">new</span> Node(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éšæœºè¿æ¥èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">const</span> threshold = <span class="number">1</span> / size;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> <span class="keyword">this</span>.nodes) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> y <span class="keyword">of</span> <span class="keyword">this</span>.nodes) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.random() &lt; threshold) &#123;</span><br><span class="line">          x.connect(y);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿™ä¸ªæ–¹æ³•ä»…ç”¨äºè°ƒè¯•</span></span><br><span class="line">  print() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> node <span class="keyword">of</span> <span class="keyword">this</span>.nodes) &#123;</span><br><span class="line">      <span class="keyword">const</span> ids = [...node.neighbors].map(<span class="function"><span class="params">n</span> =&gt;</span> n.id).join(<span class="string">','</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;node.id&#125;</span>: <span class="subst">$&#123;ids&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  isConnected() &#123;</span><br><span class="line">    <span class="keyword">const</span> visitedNodes = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="function"><span class="keyword">function</span>* <span class="title">traverse</span>(<span class="params">nodes</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> node <span class="keyword">of</span> nodes) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visitedNodes.has(node)) &#123;</span><br><span class="line">          <span class="keyword">yield</span> node;</span><br><span class="line">          <span class="keyword">yield</span>* traverse(node.neighbors);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å–å¾—é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">const</span> firstNode = <span class="keyword">this</span>.nodes[<span class="built_in">Symbol</span>.iterator]().next().value;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨é€’å½’ç”Ÿæˆå™¨è¿­ä»£æ¯ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> node <span class="keyword">of</span> traverse([firstNode])) &#123;</span><br><span class="line">      visitedNodes.add(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> visitedNodes.size === <span class="keyword">this</span>.nodes.size;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> g = <span class="keyword">new</span> RandomGraph(<span class="number">6</span>);</span><br><span class="line">g.print();</span><br><span class="line"><span class="comment">// ç¤ºä¾‹è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">// 0: 2,3,5</span></span><br><span class="line"><span class="comment">// 1: 2,3,4,5</span></span><br><span class="line"><span class="comment">// 2: 1,3</span></span><br><span class="line"><span class="comment">// 3: 0,1,2,4</span></span><br><span class="line"><span class="comment">// 4: 2,3</span></span><br><span class="line"><span class="comment">// 5: 0,4</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨"><a href="#ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨" class="headerlink" title="ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨"></a>ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  *[<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">yield</span>* <span class="keyword">this</span>.values;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> f = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> f) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h4 id="æå‰ç»ˆæ­¢ç”Ÿæˆå™¨"><a href="#æå‰ç»ˆæ­¢ç”Ÿæˆå™¨" class="headerlink" title="æå‰ç»ˆæ­¢ç”Ÿæˆå™¨"></a>æå‰ç»ˆæ­¢ç”Ÿæˆå™¨</h4><p>ä¸€ä¸ªå®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡ä¸€å®šæœ‰ <code>next()</code> æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„ <code>return()</code> æ–¹æ³•ç”¨äºæå‰ç»ˆæ­¢è¿­ä»£å™¨ã€‚ç”Ÿæˆå™¨å¯¹è±¡è¿˜æœ‰ç¬¬ä¸‰ä¸ªæ–¹æ³•ï¼Œ<code>throw()</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> g = generatorFn();</span><br><span class="line"><span class="built_in">console</span>.log(g); <span class="comment">// generatorFn &#123;&lt;suspended&gt;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.next); <span class="comment">// f next() &#123; [native code] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.return); <span class="comment">// f return() &#123; [native code] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.throw); <span class="comment">// f throw() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>return</code> å’Œ <code>throw</code> éƒ½å¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚</p>
<p><code>throw</code> æ–¹æ³•ä¼šåœ¨æš‚åœçš„æ—¶å€™å°†ä¸€ä¸ªæä¾›çš„é”™è¯¯æ³¨å…¥åˆ°ç”Ÿæˆå™¨å¯¹è±¡ã€‚å¦‚æœé”™è¯¯æœªè¢«å¤„ç†ï¼Œç”Ÿæˆå™¨å°±ä¼šè¢«å…³é—­ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">    <span class="keyword">yield</span> x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> g = generatorFn();</span><br><span class="line"><span class="built_in">console</span>.log(g); <span class="comment">// generatorFn &#123;&lt;suspended&gt;&#125;</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  g.throw(<span class="string">'foo'</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e); <span class="comment">// foo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(g); <span class="comment">// generatorFn &#123;&lt;closed&gt;&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¤„ç†äº†é”™è¯¯ï¼Œç”Ÿæˆå™¨å°±ä¸ä¼šè¢«å…³é—­ï¼Œå¯ä»¥æ¢å¤æ‰§è¡Œã€‚é”™è¯¯å¤„ç†ä¼šè·³è¿‡å¯¹åº”çš„ <code>yield</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">yield</span> x;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> g = generatorFn();</span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; done: false, value: 1&#125;</span></span><br><span class="line">g.throw(<span class="string">'foo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; done: false, value: 3&#125;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 15</title>
    <url>/2020/10/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-15/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-15"><a href="#å­¦ä¹ ç¬”è®°-2020-10-15" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-15"></a>å­¦ä¹ ç¬”è®° 2020-10-15</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><h4 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼"></a>è¿­ä»£å™¨æ¨¡å¼</h4><p>ä¸€äº›ç»“æ„å¯ä»¥ç§°ä¸º <code>å¯è¿­ä»£å¯¹è±¡</code> ï¼Œå› ä¸ºå®ƒä»¬å®ç°äº†æ­£å¼çš„ <code>Iterable</code> æ¥å£ã€‚</p>
<p>å¯è¿­ä»£å¯¹è±¡åŒ…å«æœ‰é™çš„å…ƒç´ ï¼Œä¸”å…·æœ‰æ— æ­§ä¹‰çš„éå†é¡ºåºã€‚</p>
<p>ä»»ä½•å®ç°äº† <code>Iterable</code> æ¥å£çš„æ•°æ®ç»“æ„éƒ½å¯ä»¥è¢«å®ç° <code>Iterator</code> æ¥å£çš„ç»“æ„æ¶ˆè´¹ã€‚</p>
<p>è¿­ä»£å™¨æ˜¯æŒ‰éœ€åˆ›å»ºçš„ä¸€æ¬¡æ€§å¯¹è±¡ï¼Œå…³è”ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œè¿­ä»£å™¨ä¼šæš´éœ²è¿­ä»£å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ <code>API</code> ï¼Œæ— éœ€äº†è§£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ç»“æ„ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•å–å¾—è¿ç»­çš„å€¼ã€‚</p>
<ol>
<li><h5 id="å¯è¿­ä»£åè®®"><a href="#å¯è¿­ä»£åè®®" class="headerlink" title="å¯è¿­ä»£åè®®"></a>å¯è¿­ä»£åè®®</h5><p>å®ç° <code>Iterable</code> æ¥å£è¦æ±‚åŒæ—¶å…·å¤‡ä¸¤ç§èƒ½åŠ›ï¼šæ”¯æŒè¿­ä»£çš„è‡ªæˆ‘è¯†åˆ«èƒ½åŠ›å’Œåˆ›å»ºå®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡çš„èƒ½åŠ›ã€‚åœ¨ <code>ECMAScript</code> ä¸­ï¼Œå¿…é¡»æš´éœ²ä¸€ä¸ªå±æ€§ä½œä¸º <code>é»˜è®¤è¿­ä»£å™¨</code> ï¼Œå¿…é¡»ä½¿ç”¨ <code>Symbol.iterator</code> ä½œä¸ºé”®ï¼Œå¿…é¡»å¼•ç”¨ä¸€ä¸ªè¿­ä»£å™¨å·¥å‚å‡½æ•°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªæ–°è¿­ä»£å™¨ã€‚</p>
<p>å®ç°äº† <code>Iterable</code> æ¥å£çš„å†…ç½®ç±»å‹ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²</li>
<li>æ•°ç»„</li>
<li>æ˜ å°„</li>
<li>é›†åˆ</li>
<li><code>arguments</code> å¯¹è±¡</li>
<li><code>NodeList</code> ç­‰ <code>DOM</code> é›†åˆç±»å‹</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™äº›ç±»å‹éƒ½å®ç°äº†è¿­ä»£å™¨å·¥å‚å‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(map[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">set</span>[Symbol.iterator]); // f values() &#123; [native code] &#125;</span><br><span class="line"><span class="built_in">console</span>.log(els[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="comment">// è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="built_in">Symbol</span>.iterator]()); <span class="comment">// StringIterator &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="built_in">Symbol</span>.iterator]()); <span class="comment">// ArrayIterator &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(map[<span class="built_in">Symbol</span>.iterator]()); <span class="comment">// MapIterator &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">set</span>[Symbol.iterator]()); // SetIterator &#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(els[<span class="built_in">Symbol</span>.iterator]()); <span class="comment">// ArrayIterator &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°æ¥ç”Ÿæˆè¿­ä»£å™¨ï¼Œå®ç°å¯è¿­ä»£åè®®çš„æ‰€æœ‰ç±»å‹éƒ½ä¼šè‡ªåŠ¨å…¼å®¹æ¥æ”¶å¯è¿­ä»£å¯¹è±¡çš„ä»»ä½•è¯­è¨€ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>for-of</code> å¾ªç¯</li>
<li>æ•°ç»„è§£æ„</li>
<li>æ‹“å±•æ“ä½œç¬¦</li>
<li><code>Array.from()</code></li>
<li>åˆ›å»ºé›†åˆ</li>
<li>åˆ›å»ºæ˜ å°„</li>
<li><code>Promise.all()</code> </li>
<li><code>Promise.race()</code></li>
<li><code>yield*</code></li>
</ul>
<p>è¿™äº›åŸç”Ÿè¯­è¨€ç»“æ„ä¼šåœ¨åå°è°ƒç”¨æä¾›çš„å¯è¿­ä»£å¯¹è±¡çš„å·¥å‚å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ã€‚</p>
<p>å¦‚æœå¯¹è±¡åŸå‹é“¾ä¸Šçš„çˆ¶ç±»å®ç°äº† <code>Iterable</code> æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¹Ÿå°±å®ç°äº†è¿™ä¸ªæ¥å£ã€‚</p>
</li>
<li><h5 id="è¿­ä»£å™¨åè®®"><a href="#è¿­ä»£å™¨åè®®" class="headerlink" title="è¿­ä»£å™¨åè®®"></a>è¿­ä»£å™¨åè®®</h5><p>è¿­ä»£å™¨æ˜¯ä¸€ç§ä¸€æ¬¡æ€§ä½¿ç”¨çš„å¯¹è±¡ï¼Œç”¨äºè¿­ä»£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<p>ä½¿ç”¨ <code>next()</code> æ–¹æ³•åœ¨å¯è¿­ä»£å¯¹è±¡ä¸­éå†æ•°æ®ã€‚æ¯æ¬¡æˆåŠŸè°ƒç”¨ <code>next()</code> ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª <code>IteratorResult</code> å¯¹è±¡ï¼ŒåŒ…å«è¿­ä»£å™¨è¿”å›çš„ ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p><code>IteratorResult</code> åŒ…å«ä¸¤ä¸ªå±æ€§ï¼Œ <code>done</code> å’Œ <code>value</code> ã€‚</p>
<p><code>done</code> è¡¨ç¤ºæ˜¯å¦è¿˜å¯ä»¥å†æ¬¡è°ƒç”¨ <code>next()</code> ã€‚</p>
<p><code>value</code> è¡¨ç¤ºåŒ…å«å¯è¿­ä»£å¯¹è±¡çš„ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p><code>done</code> ä¸º <code>false</code> æ—¶å¯ä»¥å–å¾— <code>value</code> ï¼Œ<code>done</code> ä¸º <code>true</code> æ—¶ <code>value</code> è¿”å› <code>undefined</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'foo'</span>, <span class="string">'bar'</span>];</span><br><span class="line"><span class="comment">// è¿­ä»£å™¨å·¥å‚å‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="comment">// è¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">let</span> iter = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iter); <span class="comment">// ArrayIterator &#123;&#125;</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œè¿­ä»£</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: false, value: 'foo' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: false, value: 'bar' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: true, value: undefined &#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å™¨åˆ°è¾¾ <code>done: true</code> çŠ¶æ€åï¼Œå†æ¬¡è°ƒç”¨ <code>next()</code> ä¼šä¸€ç›´è¿”å›ç›¸åŒçš„å€¼ï¼Œå³ <code>undefined</code> ã€‚</p>
<p>å¦‚æœå¯è¿­ä»£å¯¹è±¡åœ¨è¿­ä»£æœŸé—´è¢«ä¿®æ”¹ï¼Œè¿­ä»£å™¨ä¹Ÿä¼šåæ˜ ç›¸åŒçš„å˜åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'foo'</span>, <span class="string">'baz'</span>];</span><br><span class="line"><span class="keyword">let</span> iter = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: false, value: 'foo' &#125;</span></span><br><span class="line"><span class="comment">// åœ¨æ•°ç»„ä¸­é—´æ’å…¥å€¼</span></span><br><span class="line">arr.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'bar'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: false, value: 'bar' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: false, value: 'baz' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">// &#123; done: true, value: undefined &#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å™¨ç»´æŠ¤ç€ä¸€ä¸ªæŒ‡å‘å¯è¿­ä»£å¯¹è±¡çš„å¼•ç”¨ï¼Œä¼šé˜»æ­¢åƒåœ¾å›æ”¶ç¨‹åºå›æ”¶å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªç±»å®ç°äº†å¯è¿­ä»£æ¥å£ï¼ˆIterableï¼‰</span></span><br><span class="line"><span class="comment">// è°ƒç”¨é»˜è®¤çš„è¿­ä»£å™¨å·¥å‚å‡½æ•°ä¼šè¿”å›</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ªå®ç°è¿­ä»£å™¨æ¥å£ï¼ˆIteratorï¼‰çš„è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      next() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="string">'foo'</span> &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> f = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="keyword">let</span> h = f[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="comment">// æ‰“å°å‡ºå®ç°äº†è¿­ä»£å™¨æ¥å£çš„å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(h); <span class="comment">// &#123; next: f() &#123;&#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(h.next()); <span class="comment">// &#123;done: false, value: "foo"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(h.next()); <span class="comment">// &#123;done: false, value: "foo"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(h.next()); <span class="comment">// &#123;done: false, value: "foo"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(h.next()); <span class="comment">// &#123;done: false, value: "foo"&#125;</span></span><br><span class="line"><span class="comment">// Array ç±»å‹å®ç°äº†å¯è¿­ä»£æ¥å£ï¼ˆIterableï¼‰</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ Array ç±»å‹çš„é»˜è®¤è¿­ä»£å™¨å·¥å‚å‡½æ•°</span></span><br><span class="line"><span class="comment">// ä¼šåˆ›å»ºä¸€ä¸ª ArrayIterator çš„å®ä¾‹</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="comment">// æ‰“å°å‡º ArrayIterator çš„å®ä¾‹</span></span><br><span class="line"><span class="built_in">console</span>.log(a[<span class="built_in">Symbol</span>.iterator]()); <span class="comment">// Array Iterator &#123;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="è‡ªå®šä¹‰è¿­ä»£å™¨"><a href="#è‡ªå®šä¹‰è¿­ä»£å™¨" class="headerlink" title="è‡ªå®šä¹‰è¿­ä»£å™¨"></a>è‡ªå®šä¹‰è¿­ä»£å™¨</h5><p>ä»»ä½•å®ç° <code>Iterator</code> æ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºè¿­ä»£å™¨ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Counter çš„å®ä¾‹åº”è¯¥è¿­ä»£ limit æ¬¡</span></span><br><span class="line">  <span class="keyword">constructor</span>(limit) &#123;</span><br><span class="line">    <span class="keyword">this</span>.count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.limit = limit;</span><br><span class="line">  &#125;</span><br><span class="line">  next() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.count &lt;= <span class="keyword">this</span>.limit) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="keyword">this</span>.count++ &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span>, <span class="attr">value</span>: <span class="literal">undefined</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> counter = <span class="keyword">new</span> Counter(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter) &#123; <span class="built_in">console</span>.log(i); &#125;</span><br><span class="line"><span class="comment">// (nothing logged)</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰è¿­ä»£æ¬¡æ•°çš„è¿­ä»£å™¨ï¼Œä½†å®ƒçš„æ¯ä¸ªå®ä¾‹åªèƒ½è¢«è¿­ä»£ä¸€æ¬¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(limit) &#123;</span><br><span class="line">    <span class="keyword">this</span>.limit = limit;</span><br><span class="line">  &#125;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">1</span>,</span><br><span class="line">      limit = <span class="keyword">this</span>.limit;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      next() &#123;</span><br><span class="line">        <span class="keyword">if</span> (count &lt;= limit) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span>, <span class="attr">value</span>: count++ &#125;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span>, <span class="attr">value</span>: <span class="literal">undefined</span> &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> counter = <span class="keyword">new</span> Counter(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><code>Symbol.iterator</code> å±æ€§å¼•ç”¨çš„å·¥å‚å‡½æ•°è¿”å›ç›¸åŒçš„è¿­ä»£å™¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>];</span><br><span class="line"><span class="keyword">let</span> iter1 = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iter1[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// f values() &#123; [native code] &#125;</span></span><br><span class="line"><span class="keyword">let</span> iter2 = iter1[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iter1 === iter2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="æå‰ç»ˆæ­¢è¿­ä»£å™¨"><a href="#æå‰ç»ˆæ­¢è¿­ä»£å™¨" class="headerlink" title="æå‰ç»ˆæ­¢è¿­ä»£å™¨"></a>æå‰ç»ˆæ­¢è¿­ä»£å™¨</h5><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯é€‰çš„ <code>return</code> æ–¹æ³•æ¥æŒ‡å®šè¿­ä»£å™¨æå‰å…³é—­æ—¶çš„æ‰§è¡Œé€»è¾‘ã€‚</p>
<p>ä»¥ä¸‹æƒ…å†µå¯ä»¥è§¦å‘ <code>return</code> ï¼š</p>
<ul>
<li><code>for-of</code> å¾ªç¯é€šè¿‡ <code>break</code> ã€ <code>continue</code> ã€ <code>return</code> ã€ <code>throw</code> </li>
<li>è§£æ„æ“ä½œå¹¶æœªæ¶ˆè´¹æ‰€æœ‰å€¼</li>
</ul>
<p><code>return</code> æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„ <code>IteratorResult</code> å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(limit) &#123;</span><br><span class="line">    <span class="keyword">this</span>.limit = limit;</span><br><span class="line">  &#125;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">1</span>,</span><br><span class="line">      limit = <span class="keyword">this</span>.limit;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      next() &#123;</span><br><span class="line">        <span class="keyword">if</span> (count &lt;= limit) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span>, <span class="attr">value</span>: count++ &#125;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">return</span>() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Exiting early'</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> counter1 = <span class="keyword">new</span> Counter(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter1) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// Exiting early</span></span><br><span class="line"><span class="keyword">let</span> counter2 = <span class="keyword">new</span> Counter(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> counter2) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">'err'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// Exiting early</span></span><br><span class="line"><span class="keyword">let</span> counter3 = <span class="keyword">new</span> Counter(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">let</span> [a, b] = counter3;</span><br><span class="line"><span class="comment">// Exiting early</span></span><br></pre></td></tr></table></figure>

<p>æ•°ç»„çš„è¿­ä»£å™¨ä¸èƒ½å…³é—­ï¼Œå¯ä»¥ç»§ç»­ä»ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> iter = a[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> iter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> iter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p>æ‰‹åŠ¨ç»™ä¸å¯å…³é—­çš„è¿­ä»£å™¨æ·»åŠ  <code>return</code> æ–¹æ³•å¯è¡Œï¼Œåœ¨è¿­ä»£å™¨æå‰ç»ˆæ­¢æ—¶ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½†å¹¶ä¸èƒ½è®©è¿™ä¸ªè¿­ä»£å™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> iter = a[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line">iter.return = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Exiting early'</span>);</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> iter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// Exiting early</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> iter) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><p>ç”Ÿæˆå™¨æ˜¯ <code>ES6</code> æ–°å¢çš„ç»“æ„ï¼Œæ‹¥æœ‰åœ¨ä¸€ä¸ªå‡½æ•°å—å†…æš‚åœå’Œæ¢å¤ä»£ç æ‰§è¡Œçš„èƒ½åŠ›ã€‚</p>
<ol>
<li><h5 id="ç”Ÿæˆå™¨åŸºç¡€"><a href="#ç”Ÿæˆå™¨åŸºç¡€" class="headerlink" title="ç”Ÿæˆå™¨åŸºç¡€"></a>ç”Ÿæˆå™¨åŸºç¡€</h5><p>ç”Ÿæˆå™¨çš„å½¢å¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°åç§°å‰åŠ ä¸€ä¸ªæ˜Ÿå·è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆå™¨å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">let</span> generatorFn = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">// ä½œä¸ºå¯¹è±¡å­—é¢é‡æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> foo = &#123;</span><br><span class="line">  *generatorFn() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ä½œä¸ºç±»å®ä¾‹æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  *generatorFn() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½œä¸ºç±»é™æ€æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> *generatorFn() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·çš„ç”Ÿæˆå™¨å‡½æ•°ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFnA</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">generatorFnB</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">generatorFnC</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·çš„ç”Ÿæˆå™¨æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  *generatorFnD() &#123;&#125;</span><br><span class="line">  * generatorFnE() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨äºå®šä¹‰ç”Ÿæˆå™¨å‡½æ•°ã€‚</p>
<p>è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œä¸€å¼€å§‹å¤„äºæš‚åœæ‰§è¡Œçš„çŠ¶æ€ã€‚</p>
<p>ç”Ÿæˆå™¨å¯¹è±¡ä¹Ÿå®ç°äº† <code>Iterator</code> æ¥å£ï¼Œå…·æœ‰ <code>next()</code> æ–¹æ³•ã€‚</p>
<p><code>next</code> æ–¹æ³•è¿”å›å€¼ç±»ä¼¼äºè¿­ä»£å™¨ï¼Œæœ‰ä¸€ä¸ª <code>done</code> å±æ€§å’Œä¸€ä¸ª <code>value</code> å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generatorFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'foo'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorObject = generatorFn();</span><br><span class="line"><span class="built_in">console</span>.log(generatorObject); <span class="comment">// generatorFn &#123;&lt;suspended&gt;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(generatorObject.next()); <span class="comment">// &#123; done: true, value: 'foo' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(generatorObject.next()); <span class="comment">// &#123; done: true, value: undefined &#125;</span></span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆå™¨å‡½æ•°åªä¼šåœ¨åˆæ¬¡è°ƒç”¨ <code>next</code> æ–¹æ³•åå¼€å§‹æ‰§è¡Œã€‚</p>
</li>
</ol>
<h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><ol>
<li><h5 id="è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚"><a href="#è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚" class="headerlink" title="è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚"></a>è¯·å†™å‡½æ•°å®ç°ï¼Œåˆ©ç”¨å¯¹è±¡ä¸­çš„æ•°æ®æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœã€‚</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> template =</span><br><span class="line">  <span class="string">'æˆ‘ä»¬çš„å…¬å¸æ˜¯&#123;&#123;company&#125;&#125;,æˆ‘ä»¬å±äº&#123;&#123;group.name&#125;&#125;,æˆ‘ä»¬ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬&#123;&#123;group.job[0]&#125;&#125;ã€&#123;&#123;group["job"][1]&#125;&#125;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  company: <span class="string">'xxxxè‚¡ä»½æœ‰é™å…¬å¸'</span>,</span><br><span class="line">  group: &#123;</span><br><span class="line">    name: <span class="string">'xxç ”å‘éƒ¨'</span>,</span><br><span class="line">    job: [<span class="string">'aaa'</span>, <span class="string">'bbb'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tmpReplace</span>(<span class="params">tmp</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> tmp.replace(<span class="regexp">/&#123;&#123;(.*?)&#125;&#125;/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">node, key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> keys = [];</span><br><span class="line">    <span class="keyword">let</span> res = obj[key] || obj;</span><br><span class="line">    keys = key.split(<span class="string">'.'</span>);</span><br><span class="line">    <span class="keyword">if</span> (keys.length) &#123;</span><br><span class="line">      keys.forEach(<span class="function">(<span class="params">i, idx</span>) =&gt;</span> &#123;</span><br><span class="line">        keys.splice(idx, <span class="number">1</span>, ...i.split(<span class="regexp">/[\[|\]]/</span>));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> keys = key.split(<span class="regexp">/[\[|\]]/</span>);</span><br><span class="line">    keys.forEach(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</span><br><span class="line">      i = i.replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>);</span><br><span class="line">      <span class="keyword">let</span> j = res[i];</span><br><span class="line">      <span class="keyword">if</span> (j) res = j;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(tmpReplace(template));</span><br><span class="line"><span class="comment">// æˆ‘ä»¬çš„å…¬å¸æ˜¯xxxxè‚¡ä»½æœ‰é™å…¬å¸,æˆ‘ä»¬å±äºxxç ”å‘éƒ¨,æˆ‘ä»¬ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬aaaã€bbb</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚"><a href="#è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚" class="headerlink" title="è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚"></a>è¯·å†™å‡ºä¸Šè¿°ä»£ç æµè§ˆå™¨æ‰§è¡Œåï¼Œæ§åˆ¶å°çš„æ‰“å°é¡ºåºã€‚</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setTimeout'</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise2'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// script start</span></span><br><span class="line"><span class="comment">// script end</span></span><br><span class="line"><span class="comment">// promise1</span></span><br><span class="line"><span class="comment">// promise2</span></span><br><span class="line"><span class="comment">// setTimeout</span></span><br></pre></td></tr></table></figure>

<p>æ­¤é¢˜éœ€è¦ç†è§£å®ä»»åŠ¡å¾®ä»»åŠ¡çš„æ¦‚å¿µï¼Œç¬¬ä¸€è¡Œå’Œç¬¬åäº”è¡Œçš„æ‰“å°éƒ½æ˜¯åŒæ­¥ä»»åŠ¡ï¼Œæ‰€ä»¥ç›´æ¥æ‰“å¼•ã€‚ç¬¬ä¸‰è¡Œçš„å®šæ—¶å™¨æ˜¯å®ä»»åŠ¡ï¼Œæ‰§è¡Œåˆ°æ­¤å¤„ä¼šå°†å›è°ƒå‡½æ•°æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œ<code>Promise</code> æ˜¯å¾®ä»»åŠ¡ï¼Œç¬¬å…«è¡Œçš„ <code>.then</code> çš„å›è°ƒå±äºå¼‚æ­¥ï¼Œå…ˆæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œæ‰€ä»¥ç¬¬åäº”è¡Œå…ˆäº <code>promise</code> æ‰“å°ã€‚æ‰§è¡Œå®ŒåŒæ­¥ä»»åŠ¡ï¼Œå¼€å§‹ç¡®è®¤å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…ˆæ‰“å° <code>promise1</code> ï¼Œç„¶åæ‰§è¡Œç¬¬äºŒä¸ª <code>.then</code> ï¼Œå†æ¬¡å¢åŠ ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œç»§ç»­æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæœ€åå†å»ç¡®è®¤å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å®šæ—¶å™¨çš„è¾“å‡ºã€‚</p>
</li>
<li><h5 id="ç”¨-css-å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„-150px-ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚"><a href="#ç”¨-css-å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„-150px-ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚" class="headerlink" title="ç”¨ css å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„ 150px ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚"></a>ç”¨ <code>css</code> å®ç°å¦‚ä¸‹ä¸‰æ å¸ƒå±€ï¼Œè¦æ±‚ä¸¤è¾¹å„ <code>150px</code> ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚å†™ä¸¤ç§æ–¹æ³•ã€‚</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// ä½¿ç”¨ flex å¸ƒå±€</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgoldenrodyellow;</span><br><span class="line">&#125;</span><br><span class="line">// ä½¿ç”¨ç»å¯¹å®šä½</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgoldenrodyellow;</span><br><span class="line">&#125;</span><br><span class="line">// ä½¿ç”¨ table å¸ƒå±€</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgoldenrodyellow;</span><br><span class="line">&#125;</span><br><span class="line">// ä½¿ç”¨ grid å¸ƒå±€</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">150px</span> auto <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgoldenrodyellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/15/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-15/image-20201015111101303.png" alt="image-20201015111101303"></p>
</li>
<li><h5 id="è¯·ç”¨-promise-å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº-5-ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº-5-ï¼Œåˆ™-60-ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚"><a href="#è¯·ç”¨-promise-å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº-5-ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº-5-ï¼Œåˆ™-60-ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚" class="headerlink" title="è¯·ç”¨ promise å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº 5 ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº 5 ï¼Œåˆ™ 60 ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚"></a>è¯·ç”¨ promise å®ç°å‡½æ•°ï¼Œè¦æ±‚æ¯5ç§’è·å–ä¸€ä¸ªéšæœºæ•°ï¼Œå¦‚æœå°äº 5 ï¼Œç«‹å³ç»“æŸå‡½æ•°ï¼Œå¦‚æœå¤§äº 5 ï¼Œåˆ™ 60 ç§’åå‡½æ•°è¿è¡Œç»“æŸã€‚</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myRandom</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    _fx();</span><br><span class="line">  &#125;, <span class="number">5000</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">_fx</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> r = <span class="built_in">Math</span>.random() * <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (r &gt; <span class="number">5</span>) &#123;</span><br><span class="line">        resolve();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'å‡½æ•°ç«‹å³ç»“æŸ'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve();</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'å‡½æ•° 60s åç»“æŸ'</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">myRandom();</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™é“é¢˜æ²¡å¤ªçœ‹æ‡‚é¢˜ç›®è¦æ±‚ï¼Œä¸å¤ªæ‡‚è¿™ä¸ªé€»è¾‘ï¼Œå¥½åƒè¿™ä¸ªå‡½æ•°çš„éšæœºæ•°åªä¼šè·å–ä¸€æ¬¡ï¼Œä¸€æ¬¡åè¿™ä¸ªæ•°å¿…å®šä¼šæœ‰ä¸ªç»“æŸï¼Œè¦ä¹ˆæ˜¯ç«‹å³è¦ä¹ˆæ˜¯å»¶æ—¶ã€‚åˆæˆ–è€…æ˜¯åªæ˜¯å•çº¯å»¶è¿Ÿè¿™ä¸€æ¬¡çš„éšå³è°ƒç”¨ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 14</title>
    <url>/2020/10/14/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-14/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-14"><a href="#å­¦ä¹ ç¬”è®°-2020-10-14" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-14"></a>å­¦ä¹ ç¬”è®° 2020-10-14</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><ol>
<li><h5 id="é¡ºåºä¸è¿­ä»£"><a href="#é¡ºåºä¸è¿­ä»£" class="headerlink" title="é¡ºåºä¸è¿­ä»£"></a>é¡ºåºä¸è¿­ä»£</h5><p><code>Set</code> ä¼šç»´æŠ¤å€¼æ’å…¥æ—¶çš„é¡ºåºï¼Œæ”¯æŒæŒ‰é¡ºåºè¿­ä»£ã€‚å¯ä»¥é€šè¿‡ <code>values()</code> <code>keys()</code> æ–¹æ³•æˆ–æ˜¯ <code>Symbol.iterator</code> å–å¾—è¿™ä¸ªè¿­ä»£å™¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'val1'</span>, <span class="string">'val2'</span>, <span class="string">'val3'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s.values === s[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s.keys === s[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> s.values()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// val1 val2 val3</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> s[<span class="built_in">Symbol</span>.iterator]()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// val1 val2 val3</span></span><br></pre></td></tr></table></figure>

<p><code>values</code> æ˜¯é»˜è®¤è¿­ä»£å™¨ï¼Œå¯ä»¥é€šè¿‡æ‹“å±•æ“ä½œå°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<p><code>entries</code> æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºäº§ç”ŸåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'val1'</span>, <span class="string">'val2'</span>, <span class="string">'val3'</span>]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> pair <span class="keyword">of</span> s.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(pair);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ["val1", "val1"]</span></span><br><span class="line"><span class="comment">// ["val2", "val2"]</span></span><br><span class="line"><span class="comment">// ["val3", "val3"]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Set</span>.prototype);</span><br><span class="line"><span class="comment">// add: Æ’ add()</span></span><br><span class="line"><span class="comment">// clear: Æ’ clear()</span></span><br><span class="line"><span class="comment">// constructor: Æ’ Set()</span></span><br><span class="line"><span class="comment">// delete: Æ’ delete()</span></span><br><span class="line"><span class="comment">// entries: Æ’ entries()</span></span><br><span class="line"><span class="comment">// forEach: Æ’ forEach()</span></span><br><span class="line"><span class="comment">// has: Æ’ has()</span></span><br><span class="line"><span class="comment">// keys: Æ’ values()</span></span><br><span class="line"><span class="comment">// size: (...)</span></span><br><span class="line"><span class="comment">// values: Æ’ values()</span></span><br><span class="line"><span class="comment">// Symbol(Symbol.iterator): Æ’ values()</span></span><br><span class="line"><span class="comment">// Symbol(Symbol.toStringTag): "Set"</span></span><br><span class="line"><span class="comment">// get size: Æ’ size()</span></span><br><span class="line"><span class="comment">// __proto__: Object</span></span><br></pre></td></tr></table></figure>

<p><code>Set</code> çš„ <code>forEach</code> æ–¹æ³•ä¸æ•°ç»„çš„ç±»ä¼¼ï¼Œä¼ å…¥å›è°ƒå‚æ•°ä»¥åŠå¯é€‰çš„ <code>this</code> å€¼ã€‚</p>
</li>
<li><h5 id="å®šä¹‰æ­£å¼é›†åˆæ“ä½œ"><a href="#å®šä¹‰æ­£å¼é›†åˆæ“ä½œ" class="headerlink" title="å®šä¹‰æ­£å¼é›†åˆæ“ä½œ"></a>å®šä¹‰æ­£å¼é›†åˆæ“ä½œ</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XSet</span> <span class="keyword">extends</span> <span class="title">Set</span> </span>&#123;</span><br><span class="line">  union(...sets) &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.union(<span class="keyword">this</span>, ...sets);</span><br><span class="line">  &#125;</span><br><span class="line">  intersection(...sets) &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.intersection(<span class="keyword">this</span>, ...sets);</span><br><span class="line">  &#125;</span><br><span class="line">  difference(<span class="keyword">set</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.difference(<span class="keyword">this</span>, <span class="keyword">set</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  symmetricDifference(<span class="keyword">set</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.symmetricDifference(<span class="keyword">this</span>, <span class="keyword">set</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  cartesianProduct(<span class="keyword">set</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.cartesianProduct(<span class="keyword">this</span>, <span class="keyword">set</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  powerSet() &#123;</span><br><span class="line">    <span class="keyword">return</span> XSet.powerSet(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸¤ä¸ªæˆ–æ›´å¤šé›†åˆçš„å¹¶é›†</span></span><br><span class="line">  <span class="keyword">static</span> union(a, ...bSets) &#123;</span><br><span class="line">    <span class="keyword">const</span> unionSet = <span class="keyword">new</span> XSet(a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> b <span class="keyword">of</span> bSets) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> bValue <span class="keyword">of</span> b) &#123;</span><br><span class="line">        unionSet.add(bValue);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> unionSet;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸¤ä¸ªæˆ–æ›´å¤šé›†åˆçš„äº¤é›†</span></span><br><span class="line">  <span class="keyword">static</span> intersection(a, ...bSets) &#123;</span><br><span class="line">    <span class="keyword">const</span> intersectionSet = <span class="keyword">new</span> XSet(a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> aValue <span class="keyword">of</span> intersectionSet) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> b <span class="keyword">of</span> bSets) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!b.has(aValue)) &#123;</span><br><span class="line">          intersectionSet.delete(aValue);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> intersectionSet;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸¤ä¸ªé›†åˆçš„å·®é›†</span></span><br><span class="line">  <span class="keyword">static</span> difference(a, b) &#123;</span><br><span class="line">    <span class="keyword">const</span> differenceSet = <span class="keyword">new</span> XSet(a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> bValue <span class="keyword">of</span> b) &#123;</span><br><span class="line">      <span class="keyword">if</span> (a.has(bValue)) &#123;</span><br><span class="line">        differenceSet.delete(bValue);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> differenceSet;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸¤ä¸ªé›†åˆçš„å¯¹ç§°å·®é›†</span></span><br><span class="line">  <span class="keyword">static</span> symmetricDifference(a, b) &#123;</span><br><span class="line">    <span class="comment">// æŒ‰ç…§å®šä¹‰ï¼Œå¯¹ç§°å·®é›†å¯ä»¥è¡¨è¾¾ä¸º</span></span><br><span class="line">    <span class="keyword">return</span> a.union(b).difference(a.intersection(b));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸¤ä¸ªé›†åˆï¼ˆæ•°ç»„å¯¹å½¢å¼ï¼‰çš„ç¬›å¡å„¿ç§¯</span></span><br><span class="line">  <span class="comment">// å¿…é¡»è¿”å›æ•°ç»„é›†åˆï¼Œå› ä¸ºç¬›å¡å„¿ç§¯å¯èƒ½åŒ…å«ç›¸åŒå€¼çš„å¯¹</span></span><br><span class="line">  <span class="keyword">static</span> cartesianProduct(a, b) &#123;</span><br><span class="line">    <span class="keyword">const</span> cartesianProductSet = <span class="keyword">new</span> XSet();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> aValue <span class="keyword">of</span> a) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> bValue <span class="keyword">of</span> b) &#123;</span><br><span class="line">        cartesianProductSet.add([aValue, bValue]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cartesianProductSet;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸€ä¸ªé›†åˆçš„å¹‚é›†</span></span><br><span class="line">  <span class="keyword">static</span> powerSet(a) &#123;</span><br><span class="line">    <span class="keyword">const</span> powerSet = <span class="keyword">new</span> XSet().add(<span class="keyword">new</span> XSet());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> aValue <span class="keyword">of</span> a) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">set</span> of new XSet(powerSet)) &#123;</span><br><span class="line">        powerSet.add(<span class="keyword">new</span> XSet(<span class="keyword">set</span>).add(aValue));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return powerSet;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h4><p><code>ES6</code> æ–°å¢çš„å¼±é›†åˆç±»å‹ï¼Œå…¶ <code>API</code> æ˜¯ <code>Set</code> çš„å­é›†ã€‚</p>
<p>å¼±é›†åˆçš„å€¼åªèƒ½æ˜¯ <code>Object</code> æˆ–æ˜¯ç»§æ‰¿è‡ª <code>Object</code> çš„ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> val1 = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;,</span><br><span class="line">  val2 = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;,</span><br><span class="line">  val3 = &#123; <span class="attr">id</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ•°ç»„åˆå§‹åŒ–å¼±é›†åˆ</span></span><br><span class="line"><span class="keyword">const</span> ws1 = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([val1, val2, val3]);</span><br><span class="line"><span class="built_in">console</span>.log(ws1.has(val1)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(ws1.has(val2)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(ws1.has(val3)); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–æ˜¯å…¨æœ‰æˆ–å…¨æ— çš„æ“ä½œ</span></span><br><span class="line"><span class="comment">// åªè¦æœ‰ä¸€ä¸ªå€¼æ— æ•ˆå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¯¼è‡´æ•´ä¸ªåˆå§‹åŒ–å¤±è´¥</span></span><br><span class="line"><span class="keyword">const</span> ws2 = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([val1, <span class="string">'BADVAL'</span>, val3]);</span><br><span class="line"><span class="comment">// TypeError: Invalid value used in WeakSet</span></span><br><span class="line"><span class="keyword">typeof</span> ws2;</span><br><span class="line"><span class="comment">// ReferenceError: ws2 is not defined</span></span><br><span class="line"><span class="comment">// åŸå§‹å€¼å¯ä»¥å…ˆåŒ…è£…æˆå¯¹è±¡å†ç”¨ä½œå€¼</span></span><br><span class="line"><span class="keyword">const</span> stringVal = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'val1'</span>);</span><br><span class="line"><span class="keyword">const</span> ws3 = <span class="keyword">new</span> <span class="built_in">WeakSet</span>([stringVal]);</span><br><span class="line"><span class="built_in">console</span>.log(ws3.has(stringVal)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¯ç”¨çš„æ–¹æ³•ï¼š</p>
<ul>
<li><code>add()</code></li>
<li><code>has()</code></li>
<li><code>delete()</code></li>
</ul>
<p><code>WeakSet</code> åŒæ ·å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œå…¶å€¼ä¸å±äºæ­£å¼å¼•ç”¨ï¼Œä¸ä¼šå½±å“åƒåœ¾å›æ”¶ï¼Œæ²¡æœ‰è¿­ä»£èƒ½åŠ›ã€‚å¯ä»¥ç”¨äºæ ‡è®° <code>DOM</code> å…ƒç´ æ˜¯å¦å¤„äºæŸç§çŠ¶æ€ã€‚</p>
<h4 id="è¿­ä»£ä¸æ‹“å±•æ“ä½œ"><a href="#è¿­ä»£ä¸æ‹“å±•æ“ä½œ" class="headerlink" title="è¿­ä»£ä¸æ‹“å±•æ“ä½œ"></a>è¿­ä»£ä¸æ‹“å±•æ“ä½œ</h4><p><code>ES6</code> ä¸­æ–°å¢äº†è¿­ä»£å™¨ä¸æ‹“å±•æ“ä½œç¬¦ã€‚</p>
<p><code>Array</code> ã€å®šå‹æ•°ç»„ã€<code>Map</code> ã€<code>Set</code> å®šä¹‰äº†é»˜è®¤è¿­ä»£å™¨ï¼Œå¯ä»¥ä¼ å…¥ <code>for-of</code> å¾ªç¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> iterableThings = [</span><br><span class="line">  <span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">  (typedArr = <span class="built_in">Int16Array</span>.of(<span class="number">3</span>, <span class="number">4</span>)),</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">    [<span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line">  ]),</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">9</span>, <span class="number">10</span>])</span><br><span class="line">];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> iterableThing <span class="keyword">of</span> iterableThings) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> iterableThing) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// [5, 6]</span></span><br><span class="line"><span class="comment">// [7, 8]</span></span><br><span class="line"><span class="comment">// 9</span></span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ï¼Œè¿™äº›ç±»å‹éƒ½å…¼å®¹æ‹“å±•æ“ä½œç¬¦ã€‚</p>
<p>æ‹“å±•æ“ä½œç¬¦å¯ç”¨äºå¯è¿­ä»£å¯¹è±¡æ‰§è¡Œæµ…å¤åˆ¶ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1];</span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1 === arr2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = [&#123;&#125;];</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1];</span><br><span class="line">arr1[<span class="number">0</span>].foo = <span class="string">'bar'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr2[<span class="number">0</span>]); <span class="comment">// &#123; foo: 'bar' &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// æŠŠæ•°ç»„å¤åˆ¶åˆ°å®šå‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> typedArr1 = <span class="built_in">Int16Array</span>.of(...arr1);</span><br><span class="line"><span class="keyword">let</span> typedArr2 = <span class="built_in">Int16Array</span>.from(arr1);</span><br><span class="line"><span class="built_in">console</span>.log(typedArr1); <span class="comment">// Int16Array [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(typedArr2); <span class="comment">// Int16Array [1, 2, 3]</span></span><br><span class="line"><span class="comment">// æŠŠæ•°ç»„å¤åˆ¶åˆ°æ˜ å°„</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(arr1.map(<span class="function"><span class="params">x</span> =&gt;</span> [x, <span class="string">'val'</span> + x]));</span><br><span class="line"><span class="built_in">console</span>.log(map); <span class="comment">// Map &#123;1 =&gt; 'val 1', 2 =&gt; 'val 2', 3 =&gt; 'val 3'&#125;</span></span><br><span class="line"><span class="comment">// æŠŠæ•°ç»„å¤åˆ¶åˆ°é›†åˆ</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">set</span> = new Set(typedArr2);</span><br><span class="line">console.log(<span class="keyword">set</span>); // Set &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="comment">// æŠŠé›†åˆå¤åˆ¶å›æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [...set];</span><br><span class="line"><span class="built_in">console</span>.log(arr2); <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h3 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h3><p>å¾ªç¯æ˜¯è¿­ä»£æœºåˆ¶çš„åŸºç¡€ï¼Œå¯ä»¥æŒ‡å®šè¿­ä»£æ¬¡æ•°ä»¥åŠæ¯æ¬¡è¿­ä»£çš„æ“ä½œã€‚</p>
<p>è¿­ä»£ä¼šåœ¨ä¸€ä¸ªæœ‰åºé›†åˆä¸Šè¿›è¡Œã€‚æ­¤å¤„æœ‰åºç†è§£ä¸ºé›†åˆä¸­æ‰€æœ‰é¡¹éƒ½å¯ä»¥æŒ‰ç…§æ—¢å®šçš„é¡ºåºè¢«éå†åˆ°ï¼Œç‰¹åˆ«æ˜¯å¼€å§‹å’Œç»“æŸé¡¹æœ‰æ˜ç¡®çš„å®šä¹‰ã€‚</p>
<p>å¾ªç¯è¿­ä»£ä¸æ˜¯ç†æƒ³çš„æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆçŸ¥é“å¦‚ä½•ä½¿ç”¨æ•°æ®ç»“æ„ï¼Œé€šè¿‡é€’å¢ç´¢å¼•æ¥è®¿é—®æ•°æ®æ˜¯æ•°ç»„ç‹¬æœ‰çš„æ–¹å¼ï¼Œå¹¶ä¸é€šç”¨ã€‚</p>
<p><code>ES5</code> æ–°å¢äº† <code>Array.prototype.forEach</code> æ–¹æ³•ï¼Œè§£å†³äº†å•ç‹¬è®°å½•ç´¢å¼•æ¥å–å€¼çš„é—®é¢˜ï¼Œä½†æ²¡æœ‰åŠæ³•æ ‡è¯†è¿­ä»£ä½•æ—¶ç»ˆæ­¢ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><h4 id="ç”¨ç®­å¤´å‡½æ•°é‡å†™"><a href="#ç”¨ç®­å¤´å‡½æ•°é‡å†™" class="headerlink" title="ç”¨ç®­å¤´å‡½æ•°é‡å†™"></a>ç”¨ç®­å¤´å‡½æ•°é‡å†™</h4><p>ç”¨ç®­å¤´å‡½æ•°é‡å†™ä¸‹é¢çš„å‡½æ•°è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ask</span>(<span class="params">question, yes, no</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (confirm(question)) yes()</span><br><span class="line">  <span class="keyword">else</span> no();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ask(</span><br><span class="line">  &amp;quot;Do you agree?&amp;quot;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; alert(&amp;quot;You agreed.&amp;quot;); &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; alert(&amp;quot;You canceled the execution.&amp;quot;); &#125;</span><br><span class="line">);<span class="string">`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> ask = <span class="function">(<span class="params">question, yes, no</span>) =&gt;</span> confirm(question) ? yes() : no();</span><br><span class="line"></span><br><span class="line">ask(</span><br><span class="line">  &amp;quot;Do you agree?&amp;quot;,</span><br><span class="line">  () =&gt; alert(<span class="string">"You agreed."</span>),</span><br><span class="line">  () =&gt; alert(<span class="string">"You canceled the execution."</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 13</title>
    <url>/2020/10/13/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-13/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-13"><a href="#å­¦ä¹ ç¬”è®°-2020-10-13" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-13"></a>å­¦ä¹ ç¬”è®° 2020-10-13</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>set</code> æ–¹æ³•è¿”å›æ˜ å°„å®ä¾‹ï¼Œå› æ­¤å¯ä»¥é“¾å¼è°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">"key1"</span>, <span class="string">"val1"</span>);</span><br><span class="line">m.set(<span class="string">"key2"</span>, <span class="string">"val2"</span>)</span><br><span class="line"> .set(<span class="string">"key3"</span>, <span class="string">"val3"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m.size); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><code>Map</code> å¯ä»¥ä½¿ç”¨ä»»ä½•æ•°æ®ç±»å‹ä½œä¸ºé”®ï¼Œä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰æ¥åŒ¹é…ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">const</span> functionKey = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> symbolKey = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> objectKey = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">m.set(functionKey, <span class="string">"functionValue"</span>);</span><br><span class="line">m.set(symbolKey, <span class="string">"symbolValue"</span>);</span><br><span class="line">m.set(objectKey, <span class="string">"objectValue"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(m.get(functionKey)); <span class="comment">// functionValue</span></span><br><span class="line"><span class="built_in">console</span>.log(m.get(symbolKey)); <span class="comment">// symbolValue </span></span><br><span class="line"><span class="built_in">console</span>.log(m.get(objectKey)); <span class="comment">// objectValue </span></span><br><span class="line"><span class="comment">// SameValueZero æ¯”è¾ƒæ„å‘³ç€ç‹¬ç«‹å®ä¾‹ä¸å†²çª</span></span><br><span class="line"><span class="built_in">console</span>.log(m.get(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;)); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p><code>Map</code> ä¿æŒæ’å…¥é¡ºåºä¸å˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'key1'</span>, <span class="string">'val1'</span>],</span><br><span class="line">  [<span class="string">'key2'</span>, <span class="string">'val2'</span>],</span><br><span class="line">  [<span class="string">'key3'</span>, <span class="string">'val3'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log(m.entries === m[<span class="built_in">Symbol</span>.iterator]); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> pair <span class="keyword">of</span> m.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(pair);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [key1,val1]</span></span><br><span class="line"><span class="comment">// [key2,val2]</span></span><br><span class="line"><span class="comment">// [key3,val3]</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> pair <span class="keyword">of</span> m[<span class="built_in">Symbol</span>.iterator]()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(pair);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [key1,val1]</span></span><br><span class="line"><span class="comment">// [key2,val2]</span></span><br><span class="line"><span class="comment">// [key3,val3]</span></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'key1'</span>, <span class="string">'val1'</span>],</span><br><span class="line">  [<span class="string">'key2'</span>, <span class="string">'val2'</span>],</span><br><span class="line">  [<span class="string">'key3'</span>, <span class="string">'val3'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log([...m]); <span class="comment">// [[key1,val1],[key2,val2],[key3,val3]]</span></span><br></pre></td></tr></table></figure>

<p><code>Map</code> çš„ <code>keys()</code> <code>values()</code> æ–¹æ³•åˆ†åˆ«è¿”å›æ’å…¥é¡ºåºç”Ÿæˆçš„é”®å’Œå€¼çš„è¿­ä»£å™¨ã€‚</p>
<h4 id="é€‰æ‹©-Object-è¿˜æ˜¯-Map"><a href="#é€‰æ‹©-Object-è¿˜æ˜¯-Map" class="headerlink" title="é€‰æ‹© Object è¿˜æ˜¯ Map"></a>é€‰æ‹© Object è¿˜æ˜¯ Map</h4><p>åœ¨å†…å­˜å ç”¨æ–¹é¢ï¼Œä¸¤ç§ç±»å‹éƒ½ä¼šéšé”®çš„æ•°é‡çº¿æ€§å¢åŠ ã€‚ä½†ç»™å®šå›ºå®šå¤§å°çš„å†…å­˜ï¼Œ <code>Map</code> å¯ä»¥å¤šå­˜å‚¨ <code>50%</code> çš„é”®å€¼å¯¹ã€‚</p>
<p>åœ¨æ’å…¥æ€§èƒ½æ–¹é¢ï¼Œæ¶ˆè€—ç›¸å½“ã€‚ä½†æ’å…¥ <code>Map</code> ä¼šç¨å¿«ã€‚</p>
<p>åœ¨æŸ¥æ‰¾é€Ÿåº¦æ–¹é¢ï¼Œæ€§èƒ½å·®å¼‚æå°ï¼Œæ¶‰åŠå¤§é‡æŸ¥æ‰¾æ—¶ï¼Œ<code>Object</code> ä¼šæ›´å¥½ã€‚</p>
<p>åœ¨åˆ é™¤æ€§èƒ½æ–¹é¢ï¼Œ<code>Map</code> è¡¨ç°æ›´å¥½ã€‚</p>
<h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><p><code>ES6</code> æ–°å¢çš„é›†åˆç±»å‹ï¼Œå¼±æ˜ å°„ã€‚å…¶ <code>Api</code> æ˜¯ <code>Map</code> çš„å­é›†ã€‚</p>
<p>å¼±æ˜ å°„çš„é”®åªèƒ½æ˜¯ <code>Object</code> æˆ–æ˜¯ç»§æ‰¿è‡ª <code>Object</code> çš„ç±»å‹ã€‚å€¼çš„ç±»å‹æ²¡æœ‰é™åˆ¶ã€‚</p>
<p>å¯ä»¥å°†åŸå§‹å€¼åŒ…è£…æˆå¯¹è±¡ç”¨ä½œé”®ã€‚</p>
<p><code>WeakMap</code> çš„é”®ä¸å±äºæ­£å¼å¼•ç”¨ï¼Œä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ã€‚å½“é”®æ²¡æœ‰å…¶ä½™æŒ‡å‘å®ƒçš„å¼•ç”¨æ—¶ï¼Œåœ¨ä»£ç æ‰§è¡Œå®Œæˆåï¼Œå°±ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œé”®å€¼å¯¹å°±ä¼šä»å¼±æ˜ å°„ä¸­æ¶ˆå¤±ã€‚</p>
<p><code>WeakMap</code> æ²¡æœ‰è¿­ä»£æ–¹æ³•ï¼Œæ²¡æœ‰ä¸€æ¬¡æ€§é”€æ¯æ‰€æœ‰é”®å€¼çš„æ–¹æ³•ã€‚</p>
<p>å¼±æ˜ å°„çš„ç”¨å¤„ï¼š</p>
<ul>
<li><p>ç§æœ‰å˜é‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> wm = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(id) &#123;</span><br><span class="line">    <span class="keyword">this</span>.idProperty = <span class="built_in">Symbol</span>(<span class="string">'id'</span>);</span><br><span class="line">    <span class="keyword">this</span>.setId(id);</span><br><span class="line">  &#125;</span><br><span class="line">  setPrivate(property, value) &#123;</span><br><span class="line">    <span class="keyword">const</span> privateMembers = wm.get(<span class="keyword">this</span>) || &#123;&#125;;</span><br><span class="line">    privateMembers[property] = value;</span><br><span class="line">    wm.set(<span class="keyword">this</span>, privateMembers);</span><br><span class="line">  &#125;</span><br><span class="line">  getPrivate(property) &#123;</span><br><span class="line">    <span class="keyword">return</span> wm.get(<span class="keyword">this</span>)[property];</span><br><span class="line">  &#125;</span><br><span class="line">  setId(id) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setPrivate(<span class="keyword">this</span>.idProperty, id);</span><br><span class="line">  &#125;</span><br><span class="line">  getId() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getPrivate(<span class="keyword">this</span>.idProperty);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> User(<span class="number">123</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.getId()); <span class="comment">// 123</span></span><br><span class="line">user.setId(<span class="number">456</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.getId()); <span class="comment">// 456</span></span><br><span class="line"><span class="comment">// å¹¶ä¸æ˜¯çœŸæ­£ç§æœ‰çš„</span></span><br><span class="line"><span class="built_in">console</span>.log(wm.get(user)[user.idProperty]); <span class="comment">// 456</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†é˜²æ­¢å¤–éƒ¨è·å–åˆ°å¼±æ˜ å°„è€Œç ´åäº†ç§æœ‰æ€§ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> User = <span class="function">(<span class="params">(</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> wm = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(id) &#123;</span><br><span class="line">      <span class="keyword">this</span>.idProperty = <span class="built_in">Symbol</span>(<span class="string">'id'</span>);</span><br><span class="line">      <span class="keyword">this</span>.setId(id);</span><br><span class="line">    &#125;</span><br><span class="line">    setPrivate(property, value) &#123;</span><br><span class="line">      <span class="keyword">const</span> privateMembers = wm.get(<span class="keyword">this</span>) || &#123;&#125;;</span><br><span class="line">      privateMembers[property] = value;</span><br><span class="line">      wm.set(<span class="keyword">this</span>, privateMembers);</span><br><span class="line">    &#125;</span><br><span class="line">    getPrivate(property) &#123;</span><br><span class="line">      <span class="keyword">return</span> wm.get(<span class="keyword">this</span>)[property];</span><br><span class="line">    &#125;</span><br><span class="line">    setId(id) &#123;</span><br><span class="line">      <span class="keyword">this</span>.setPrivate(<span class="keyword">this</span>.idProperty, id);</span><br><span class="line">    &#125;</span><br><span class="line">    getId(id) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.getPrivate(<span class="keyword">this</span>.idProperty);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> User;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> User(<span class="number">123</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.getId()); <span class="comment">// 123</span></span><br><span class="line">user.setId(<span class="number">456</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.getId()); <span class="comment">// 456</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>DOM</code> èŠ‚ç‚¹å…ƒæ•°æ®</p>
<p>å¦‚æœä½¿ç”¨å¸¸è§„çš„ <code>Map</code> æ¥ä¿å­˜ <code>DOM</code> èŠ‚ç‚¹ï¼Œå½“ <code>DOM</code> èŠ‚ç‚¹åœ¨ <code>DOM</code> æ ‘ä¸­è¢«é”€æ¯ï¼Œæˆ‘ä»¬ä¾ç„¶ä¿å­˜ç€å®ƒçš„å¼•ç”¨ï¼Œ<code>DOM</code> èŠ‚ç‚¹ä¾ç„¶ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚è‹¥æ˜¯é‡‡ç”¨å¼±æ˜ å°„ï¼Œå°±ä¸ä¼šå‘ç”Ÿè¿™ç§çŠ¶å†µã€‚</p>
</li>
</ul>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p><code>ES6</code> æ–°å¢çš„é›†åˆç±»å‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">const</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">"val1"</span>, <span class="string">"val2"</span>, <span class="string">"val3"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s1.size); <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">const</span> s2 = <span class="keyword">new</span> <span class="built_in">Set</span>(&#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">"val1"</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">"val2"</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">"val3"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(s2.size); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ <code>API</code> :</p>
<ul>
<li><p><code>add()</code></p>
</li>
<li><p><code>has()</code></p>
</li>
<li><p><code>size</code></p>
</li>
<li><p><code>delete()</code></p>
<p>è¿”å›é›†åˆä¸­æ˜¯å¦å­˜åœ¨è¦åˆ é™¤çš„å€¼ã€‚</p>
</li>
<li><p><code>clear()</code></p>
</li>
</ul>
<p><code>add</code> æ–¹æ³•åŒæ ·è¿”å›é›†åˆå®ä¾‹ï¼Œå¯ä»¥é“¾å¼è°ƒç”¨ã€‚ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰æ¥è¿›è¡ŒåŒ¹é…ã€‚</p>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«"><a href="#å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«"></a>å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜çš„åŒºåˆ«</h3><ol>
<li>å‡½æ•°å£°æ˜æ˜¯ä¸€æ®µä»£ç å—ï¼Œå‡½æ•°è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ã€‚</li>
<li>å‡½æ•°è¡¨è¾¾å¼ä»…åœ¨ä»£ç æ‰§è¡Œåˆ°è¾¾æ—¶æ‰ä¼šåˆ›å»ºè¯¥å‡½æ•°ï¼Œä¸”ä»æ­¤åˆ»å¼€å§‹å¯ç”¨ã€‚å‡½æ•°å£°æ˜ä¼šåœ¨è„šæœ¬å¼€å§‹è¿è¡Œæ—¶è¢«åˆ›å»ºï¼Œåœ¨å£°æ˜è¯­å¥ä¹‹å‰ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚</li>
</ol>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked disabled type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueæºç  æ•°æ®åŠ«æŒ</title>
    <url>/2020/10/12/Vue%E6%BA%90%E7%A0%81-%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81/</url>
    <content><![CDATA[<p>åŒå‘æ•°æ®ç»‘å®šæ˜¯ <code>Vue</code> çš„ä¸€å¤§äº®ç‚¹å’Œé‡ç‚¹ï¼Œè¿™é‡Œè®²è§£ä¸€ä¸‹åŸç†å¹¶ä¸”é‡å†™ä¸€éã€‚ç‰ˆæœ¬ä¸º <code>2.x</code> ã€‚</p>
<a id="more"></a>

<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><code>Vue 2.x</code> ä¸­çš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ¥æºäºä¸€ä¸ªå¯¹è±¡æ–¹æ³•ï¼Œ <code>Object.defineProperty</code> ï¼Œ é€šè¿‡è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬å¯ä»¥å®šä¹‰å¯¹è±¡å±æ€§çš„ <code>getter</code> å’Œ <code>setter</code> ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨æ•°æ®è¢«é‡æ–°è®¾ç½®(å³è°ƒç”¨ <code>setter</code> æ—¶)è¿›è¡Œè§†å›¾æ›´æ–°ç­‰æ“ä½œã€‚</p>
<h2 id="å¤§è‡´æ€è·¯"><a href="#å¤§è‡´æ€è·¯" class="headerlink" title="å¤§è‡´æ€è·¯"></a>å¤§è‡´æ€è·¯</h2><p>ä½¿ç”¨ <code>Vue</code> æ—¶æˆ‘ä»¬ä¼šå¼•å…¥ <code>vue</code> çš„é»˜è®¤å¯¼å‡ºï¼Œè¿™ä¸ªé»˜è®¤å¯¼å‡ºæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ª <code>vue</code> å®ä¾‹ï¼Œå¹¶ä¼ å…¥æˆ‘ä»¬çš„é…ç½®å‚æ•°ï¼Œä¾‹å¦‚ç®¡ç†çš„ <code>dom</code> å…ƒç´ ä»¥åŠ <code>data</code> ç­‰å‚æ•°ï¼Œè™½ç„¶åœ¨ä¸€èˆ¬å¼€å‘ä¸­æˆ‘ä»¬ä¸ä¼šåœ¨æ ¹å®ä¾‹ä¸ŠæŒ‚è½½æ•°æ®ï¼Œä½†æ­¤å¤„ä»…åšä¸€ä¸ªç®€å•è¿˜åŸã€‚</p>
<p>ä¼ å…¥å‚æ•°åï¼Œæˆ‘ä»¬åœ¨æ„é€ å‡½æ•°å†…è°ƒç”¨åˆå§‹åŒ–å‡½æ•°ï¼Œåˆå§‹åŒ–æ“ä½œä¸€èˆ¬ä¸ºæŒ‚è½½é…ç½®é¡¹ï¼Œåˆå§‹åŒ–å„ç§æ•°æ®ï¼Œä¾‹å¦‚ <code>data</code> , <code>computed</code> <code>props</code> ç­‰ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹<code>data</code> åšä¸€å±‚ä»£ç†ï¼Œå› ä¸ºåœ¨é…ç½®é¡¹ä¸­ä¼ å…¥çš„ <code>data</code> ä¸€èˆ¬ä¸ºå‡½æ•°ï¼Œä»¥é˜²æ­¢ç»„ä»¶å¤ç”¨æ—¶å› ä¸ºå¼•ç”¨ç›¸åŒè€Œæ•°æ®æ··ä¹±ã€‚å¹¶ä¸”åœ¨ <code>vue</code> å®ä¾‹ä¸­æ— æ³•ç›´æ¥è®¿é—®åˆ°æ•°æ®ï¼Œæˆ‘ä»¬æŠŠ <code>data</code> æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œå¹¶ä½¿ç”¨ <code>Object.defineProperty</code> ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>this</code> ç›´æ¥è®¿é—®åˆ°å„é¡¹ <code>data</code> ã€‚</p>
<p>åšå®Œä»£ç†ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œå³è§‚å¯Ÿæ•°æ®é¡¹çš„ä¿®æ”¹ã€‚é¦–å…ˆæ˜¯ <code>data</code> æœ¬èº«ï¼Œæˆ‘ä»¬æŠ½å‡ºä¸€ä¸ª <code>observe</code> å‡½æ•°æ¥è¿›è¡Œè§‚å¯Ÿæ“ä½œï¼Œé¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„è§‚å¯Ÿå¯¹è±¡çš„ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å¼•ç”¨ç±»å‹å…¶å®æ²¡æœ‰è§‚å¯Ÿçš„å¿…è¦ï¼Œå› ä¸ºæ™®é€šç±»å‹çš„ä¿®æ”¹å·²ç»åœ¨çˆ¶çº§åšäº†è§‚å¯Ÿï¼Œæˆ‘ä»¬éœ€è¦æ·±å±‚è§‚å¯Ÿçš„æ˜¯å­å¯¹è±¡ã€å­æ•°ç»„ã€å­å¯¹è±¡å­æ•°ç»„å†…éƒ¨çš„å¼•ç”¨ç±»å‹ç­‰ã€‚</p>
<p>å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªè§‚å¯Ÿè€…æ¥è¿›è¡Œè§‚å¯Ÿã€‚åœ¨è§‚å¯Ÿè€…å†…éƒ¨ï¼Œæˆ‘ä»¬è¿­ä»£ä¼ å…¥çš„å¼•ç”¨ç±»å‹ï¼Œå¯¹æ¯ä¸ª <code>key</code> å’Œ <code>value</code> åšä¸€ä¸ªå“åº”å¼å¤„ç†ï¼Œå½“è®¿é—®å½“å‰å¯¹è±¡çš„ <code>key</code> å±æ€§æ—¶ï¼Œæˆ‘ä»¬è¿”å› <code>value</code> ã€‚æ­¤å¤„å¯ä»¥åšä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ”¶é›†ä¾èµ–ã€‚å½“è®¾ç½®å½“å‰å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å»ä¿®æ”¹ <code>value</code> çš„å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„ä¸èƒ½å¤Ÿç›´æ¥å»è·å–æˆ–è€…ä¿®æ”¹ <code>obj[key]</code> ( <code>obj</code> æŒ‡ä»£åšå“åº”å¼å¤„ç†çš„å¯¹è±¡æˆ–æ•°ç»„)ï¼Œå› ä¸ºæˆ‘ä»¬æ­£æ˜¯å¯¹ <code>obj[key]</code> åšäº†è§‚å¯Ÿï¼Œå½“æˆ‘ä»¬è§‚å¯Ÿåˆ°éœ€è¦è·å– <code>key</code> å±æ€§æ—¶ï¼Œ<code>getter</code> å†…éƒ¨åˆæ˜¯è·å– <code>key</code> å±æ€§ï¼Œä¼šé€ æˆæ­»å¾ªç¯ã€‚<code>setter</code> åŒç†ã€‚</p>
<p>æ•°ç»„æ— æ³•ç›´æ¥åšå“åº”å¼å¤„ç†ï¼Œæˆ‘ä»¬é€‰æ‹©éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ å•ç‹¬è§‚å¯Ÿã€‚ä½†æ­¤å¤„åˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸º <code>Object.defineProperty</code> æ— æ³•å“åº”æ•°ç»„çš„å˜åŒ–ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†æ•°ç»„ï¼Œä¾‹å¦‚å¢åŠ äº†æ–°çš„å…ƒç´ ï¼Œæ–°å¢çš„å…ƒç´ æ²¡æœ‰è¢«è§‚å¯Ÿï¼Œæ•°ç»„çš„ä¿®æ”¹ä¹Ÿæ²¡æœ‰è¢«è§‚å¯Ÿåˆ°ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é‡æ–°å®šä¹‰æ•°ç»„çš„ä¿®æ”¹æ–¹æ³•ï¼Œå°±æ˜¯ <code>push</code> <code>pop</code> <code>sort</code> <code>splice</code> <code>shift</code> <code>unshift</code> <code>reverse</code> ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°ç»„åŸå‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œé‡å†™è¿™ä¸ªæ•°ç»„å¯¹è±¡ä¸Šçš„ä¸ƒä¸ªæ–¹æ³•ï¼Œåœ¨æ–¹æ³•å†…éƒ¨è¿˜æ˜¯ä¾ç„¶æ‰§è¡ŒåŸæœ¬çš„å‡½æ•°å†…å®¹ï¼Œä½†æ­¤å¤„æˆ‘ä»¬å°±å¯ä»¥å¢åŠ ä¸€äº›è‡ªå·±çš„æ“ä½œï¼Œä¾‹å¦‚è§†å›¾åˆ·æ–°ç­‰ã€‚å®šä¹‰å®Œè¿™ä¸ªæ•°ç»„å¯¹è±¡åï¼Œæˆ‘ä»¬å°†å®ƒèµ‹å€¼ç»™éœ€è¦è¢«å“åº”å¼å¤„ç†çš„æ•°ç»„çš„åŸå‹ï¼Œé‚£ä¹ˆå°±å•ç‹¬å½±å“äº†æˆ‘ä»¬å“åº”å¼çš„æ•°ç»„ï¼Œè€Œä¸å¯¹å…¶ä½™çš„æ™®é€šæ•°ç»„äº§ç”Ÿå½±å“ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜æœ‰ä¸€äº›å°ç‚¹ï¼Œå°±æ˜¯æ¯æ¬¡å¯¹å¯¹è±¡çš„å€¼æˆ–æ˜¯æ•°ç»„çš„å…ƒç´ è§‚å¯Ÿæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„è¿™ä¸ªå…ƒç´ æ˜¯å¦ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦å†å¯¹è¿™ä¸ªå…ƒç´ è¿›è¡Œè§‚å¯Ÿã€‚</p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>é¦–å…ˆé…ç½®ä¸€ä¸ª <code>webpack</code> ç¯å¢ƒï¼Œä¸‹è½½ <code>webpack</code> <code>webpack-cli</code> <code>webpack-dev-server</code> ä»¥åŠ <code>html-webpack-plugin</code> ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•é…ç½® <code>webpack.config.js</code> ã€‚æˆ‘ä»¬éœ€è¦é…ç½®é¡¹ç›®çš„å…¥å£ï¼Œå‡ºå£ï¼Œæ’ä»¶ï¼Œä»¥åŠæ¨¡å—å¼•å…¥çš„è§„åˆ™ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// /webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.js'</span>, <span class="comment">// å®šä¹‰å…¥å£</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'index.js'</span>, <span class="comment">// å®šä¹‰å‡ºå£çš„æ–‡ä»¶å</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>) <span class="comment">// å®šä¹‰å‡ºå£è·¯å¾„</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: path.resolve(__dirname, <span class="string">'public/index.html'</span>) <span class="comment">// å®šä¹‰æ–‡ä»¶æ¨¡æ¿ä½ç½®</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  devtool: <span class="string">'source-map'</span>,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// é…ç½®æ¨¡å—å¼•å…¥çš„è§„åˆ™ï¼Œé¦–å…ˆä» src ç›®å½•å¯»æ‰¾ï¼Œå†å» node_modules ä¸­å¯»æ‰¾ã€‚</span></span><br><span class="line">    modules: [path.resolve(__dirname, <span class="string">'src'</span>), path.resolve(__dirname, <span class="string">'node_modules'</span>)]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å†æ¥çœ‹å…¥å£æ–‡ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ– Vue</span></span><br><span class="line"><span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      title: <span class="string">"Sirine' working time"</span>,</span><br><span class="line">      time: <span class="string">'2020-10-11'</span>,</span><br><span class="line">      info: &#123;</span><br><span class="line">        name: <span class="string">'zhao'</span>,</span><br><span class="line">        age: <span class="number">21</span>,</span><br><span class="line">        isGood: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      say: [</span><br><span class="line">        <span class="number">123</span>,</span><br><span class="line">        <span class="string">'456'</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          a: <span class="number">123</span>,</span><br><span class="line">          b: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">          c: &#123;</span><br><span class="line">            today: <span class="string">'is'</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„åªæ˜¯ç®€å•åˆ›å»ºäº†å®ä¾‹ã€‚</p>
<p>ç„¶åçœ‹ <code>vue</code> æ–‡ä»¶å¤¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/index.js</span></span><br><span class="line"><span class="keyword">import</span> initState <span class="keyword">from</span> <span class="string">'./init'</span>; <span class="comment">// å¼•å…¥åˆå§‹åŒ–æ•°æ®çš„å‡½æ•°ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// vue çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å®ä¾‹ã€‚</span></span><br><span class="line">  <span class="keyword">this</span>._init(options);</span><br><span class="line">&#125;</span><br><span class="line">Vue.prototype._init = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åœ¨åŸå‹ä¸ŠæŒ‚è½½åˆå§‹åŒ–å‡½æ•°ï¼Œå°†ä¼ å…¥çš„å‚æ•°æŒ‚è½½åˆ°å®ä¾‹ä¸Šã€‚</span></span><br><span class="line">  <span class="keyword">var</span> vm = <span class="keyword">this</span>;</span><br><span class="line">  vm.$options = options;</span><br><span class="line">  initState(vm); <span class="comment">// è°ƒç”¨åˆå§‹åŒ–æ•°æ®çš„å‡½æ•°ã€‚</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Vue;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥çœ‹ <code>initState</code> è¿™ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/init.js</span></span><br><span class="line"><span class="keyword">import</span> observe <span class="keyword">from</span> <span class="string">'./observe'</span>;</span><br><span class="line"><span class="keyword">import</span> proxyData <span class="keyword">from</span> <span class="string">'./proxy'</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥è§‚å¯Ÿå‡½æ•°å’Œä»£ç†æ•°æ®å‡½æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initState</span>(<span class="params">vm</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> options = vm.$options;</span><br><span class="line">  <span class="comment">// é¦–å…ˆå–å‡º options</span></span><br><span class="line">  <span class="keyword">if</span> (options.data) &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å‚æ•°ä¸­æ˜¯å¦æœ‰ data ï¼Œæœ‰æ‰æ‰§è¡Œåˆå§‹åŒ–ã€‚</span></span><br><span class="line">    initData(vm);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initData</span>(<span class="params">vm</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _data = vm.$options.data; <span class="comment">// å–å‡ºæ•°æ®</span></span><br><span class="line">  _data = vm._data = <span class="keyword">typeof</span> _data === <span class="string">'function'</span> ? _data.call(vm) : _data || &#123;&#125;;</span><br><span class="line">  <span class="comment">// å°†æ•°æ®æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯å¦æ˜¯å‡½æ•°ï¼Œæ˜¯çš„è¯è°ƒç”¨å®ƒï¼Œå¦çš„è¯ä¿æŒåŸæ ·ï¼Œå¹¶ç¡®ä¿è‡³å°‘æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> _data) &#123;</span><br><span class="line">    <span class="comment">// éå† data åšä¸€å±‚ä»£ç†ã€‚</span></span><br><span class="line">    proxyData(vm, <span class="string">'_data'</span>, key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è§‚å¯Ÿè¿™ä¸ª data</span></span><br><span class="line">  observe(_data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> initState;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆçœ‹ <code>proxyData</code> å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/proxy.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">proxyData</span>(<span class="params">data, target, key</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä¼ å…¥çš„å‚æ•°åˆ†åˆ«æ˜¯åšä»£ç†çš„å¯¹è±¡ï¼ŒæŒ‚è½½çš„å±æ€§åï¼Œå’Œå½“å‰çš„å±æ€§å</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(data, key, &#123;</span><br><span class="line">    <span class="keyword">get</span>() &#123;</span><br><span class="line">      <span class="comment">// å½“æˆ‘ä»¬è·å– data[key] æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä» data[target][key] ä¸­è·å–ã€‚</span></span><br><span class="line">      <span class="keyword">return</span> data[target][key];</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(newVal) &#123;</span><br><span class="line">      <span class="comment">// å½“æˆ‘ä»¬è®¾ç½® data[key] æ—¶ï¼Œå®é™…ä¸Šè®¾ç½®åœ¨äº† data[target][key]ã€‚</span></span><br><span class="line">      data[target][key] = newVal;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> proxyData;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„åšä¸€ä¸ªè§£é‡Šï¼Œæˆ‘ä»¬åœ¨ <code>initData</code> ä¸­å°† <code>options</code> ä¸­çš„ <code>data</code> æŒ‚è½½åˆ°äº† <code>vm._data</code> ä¸Šï¼Œè€Œæˆ‘ä»¬æƒ³è¦ç›´æ¥è°ƒç”¨ <code>vm.xxx</code> æ¥è·å–ï¼Œä½†æ˜¯ <code>vm</code> ä¸Šå¹¶æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œå®ƒå®é™…ä¸Šæ˜¯åœ¨ <code>vm._data.xxx</code> ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬åšä¸€å±‚ä»£ç†ï¼Œå½“è®¿é—® <code>vm.xxx</code> æ—¶ï¼Œæˆ‘ä»¬è¿”å› <code>vm._data.xxx</code> ï¼Œå½“è®¾ç½® <code>vm.xxx = yyy</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ‰§è¡Œäº† <code>vm._data.xxx = yyy</code> ã€‚</p>
<p>ç„¶åå†çœ‹ <code>observe</code> å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/observe.js</span></span><br><span class="line"><span class="keyword">import</span> Observer <span class="keyword">from</span> <span class="string">'./observer'</span>; <span class="comment">// å¼•å…¥å®é™…çš„è§‚å¯Ÿè€…</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> data !== <span class="string">'object'</span> || data === <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// é¦–å…ˆåˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¦‚æœä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸éœ€è¦å†æ·±å…¥è§‚å¯Ÿäº†ã€‚</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Observer(data); <span class="comment">// å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªè§‚å¯Ÿè€…å®ä¾‹ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> observe;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬æƒ³è¦æ·±å…¥è§‚å¯Ÿæ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ <code>observe</code> å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ¤æ–­ç±»å‹ï¼ŒåŸå§‹ç±»å‹å·²ç»åœ¨çˆ¶çº§ä¸­è¢«è§‚å¯Ÿäº†ï¼Œä¸éœ€è¦ç»§ç»­æ·±å…¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/observer.js</span></span><br><span class="line"><span class="keyword">import</span> defineReactiveData <span class="keyword">from</span> <span class="string">'./reactive'</span>;</span><br><span class="line"><span class="keyword">import</span> observeArr <span class="keyword">from</span> <span class="string">'./observeArr'</span>;</span><br><span class="line"><span class="keyword">import</span> arrMethods <span class="keyword">from</span> <span class="string">'./array'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Observer</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(data)) &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºæ•°ç»„ï¼Œæ˜¯æ•°ç»„çš„è¯ï¼Œç»™å®ƒèµ‹äºˆå˜å¼‚æ•°ç»„æ–¹æ³•ï¼Œå†è§‚å¯Ÿè¿™ä¸ªæ•°ç»„ã€‚</span></span><br><span class="line">    data.__proto__ = arrMethods;</span><br><span class="line">    observeArr(data); <span class="comment">// è§‚å¯Ÿæ•°ç»„çš„æ–¹æ³•ã€‚</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯å¯¹è±¡çš„è¯ã€‚</span></span><br><span class="line">    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(data); <span class="comment">// éå†å¯¹è±¡çš„é”®å€¼</span></span><br><span class="line">    keys.forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> value = data[key]; <span class="comment">// è·å–æ¯ä¸ªå€¼</span></span><br><span class="line">      defineReactiveData(data, key, value);</span><br><span class="line">      <span class="comment">// å°†å¯¹è±¡ï¼Œé”®åï¼Œé”®å€¼ä¼ å…¥å“åº”å¼å‡½æ•°è¿›è¡Œå“åº”å¼ç»‘å®šã€‚</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Observer;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„å¼•å…¥çš„å‡½æ•°è¾ƒå¤šï¼Œä¸€ä¸ªä¸ªçœ‹ã€‚</p>
<p>å…ˆçœ‹å¯¹è±¡éƒ¨åˆ†ï¼Œé€»è¾‘å·²ç»éå¸¸æ¸…æ™°ï¼Œå¯¹è¿™ä¸ªå¯¹è±¡çš„æ¯ä¸ªé”®å€¼è¿›è¡Œ <code>getter</code> <code>setter</code> é‡å†™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå–å‡ºæ¯ä¸ªå€¼å½¢æˆé—­åŒ…ç”¨æ¥è®¿é—®ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»å¾ªç¯é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/reactive.js</span></span><br><span class="line"><span class="keyword">import</span> observe <span class="keyword">from</span> <span class="string">'./observe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactiveData</span>(<span class="params">data, key, value</span>) </span>&#123;</span><br><span class="line">  observe(value); <span class="comment">// ç»§ç»­è§‚å¯Ÿè¿™ä¸ªä¼ å…¥çš„å€¼ï¼Œå¯èƒ½éœ€è¦æ·±å…¥è§‚å¯Ÿã€‚</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(data, key, &#123;</span><br><span class="line">    <span class="keyword">get</span>() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'å“åº”å¼ get'</span>, value);</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(newVal) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'å“åº”å¼ set'</span>, value, newVal);</span><br><span class="line">      <span class="keyword">if</span> (value === newVal) <span class="keyword">return</span>;</span><br><span class="line">      value = newVal;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineReactiveData;</span><br></pre></td></tr></table></figure>

<p>ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„è‡ªå®šä¹‰ <code>setter</code> å’Œ <code>getter</code> ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥å†™å…¥è®¸å¤šå…¶ä½™é€»è¾‘æ¥è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p>
<p>æ­¤å¤„è°ƒç”¨ <code>observe(value)</code> æ˜¯å› ä¸ºï¼Œ<code>data[key]</code> çš„å€¼å¯èƒ½æ˜¯æ•°ç»„å’Œå¯¹è±¡ï¼Œå®ƒä»¬çš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨åœ°å€ï¼Œä¸æ˜¯è¦†ç›–çš„æƒ…å†µä¸‹æ— æ³•ç›‘å¬åˆ°å˜åŒ–ï¼Œ æˆ‘ä»¬éœ€è¦å†æ¬¡è§‚å¯Ÿå®ƒï¼Œä½¿ç”¨ <code>observe</code> æ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ä¼šæ·±å…¥è§‚å¯Ÿï¼Œä¸æ˜¯çš„è¯å°±ç›´æ¥è¿”å›ã€‚</p>
<p>è°ˆå®Œäº†å¯¹è±¡ï¼Œå†æ¥çœ‹æ•°ç»„ã€‚</p>
<p><code>Object.defineProperty</code> æ— æ³•ç›‘å¬åˆ°æ•°ç»„çš„å˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦éå†æ•°ç»„ï¼Œè¿›è¡Œå•ç‹¬çš„ç›‘å¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/observeArr.js</span></span><br><span class="line"><span class="keyword">import</span> observe <span class="keyword">from</span> <span class="string">'./observe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observeArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    observe(item);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> observeArr;</span><br></pre></td></tr></table></figure>

<p>è€Œæ•°ç»„å¯¹äºè‡ªèº«å˜åŒ–çš„æ–¹æ³•æˆ‘ä»¬éœ€è¦è¿›è¡Œé‡å†™ï¼Œå¦åˆ™æ•°ç»„çš„ä¿®æ”¹æ²¡æœ‰åŠæ³•ç›‘å¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/vue/array.js</span></span><br><span class="line"><span class="keyword">import</span> ARRAY_METHODS <span class="keyword">from</span> <span class="string">'./config'</span>;</span><br><span class="line"><span class="keyword">import</span> observe <span class="keyword">from</span> <span class="string">'./observe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrayPrototype = <span class="built_in">Array</span>.prototype; <span class="comment">// å–å‡ºæ•°ç»„çš„åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> arrMethods = <span class="built_in">Object</span>.create(arrayPrototype); <span class="comment">// æ ¹æ®è¿™ä¸ªåŸå‹å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">ARRAY_METHODS.forEach(<span class="function"><span class="params">m</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// éå†ä¸ƒä¸ªæ•°ç»„æ–¹æ³•ï¼Œå¯¹æˆ‘ä»¬åˆ›å»ºçš„è¿™ä¸ªæ•°ç»„ä¸Šå†™å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</span></span><br><span class="line">  arrMethods[m] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> args = arrayPrototype.slice.call(<span class="built_in">arguments</span>); <span class="comment">// è½¬æ¢ä¼ å…¥çš„å‚æ•°ä¸ºæ•°ç»„ã€‚</span></span><br><span class="line">    <span class="keyword">var</span> result = arrayPrototype[m].apply(<span class="keyword">this</span>, args); <span class="comment">// è°ƒç”¨åŸæœ¬çš„æ–¹æ³•ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'åŠ¨æ€ä¿®æ”¹æ•°ç»„'</span>, m);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> newItem; <span class="comment">// æ­¤å¤„ç”¨äºç›‘å¬æ–°å¢çš„æ•°æ®ã€‚</span></span><br><span class="line">    <span class="keyword">switch</span> (m) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'push'</span>:</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'unshift'</span>:</span><br><span class="line">        newItem = args;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="comment">// å¦‚æœæ˜¯ push unshift æ–¹æ³•ï¼Œåªéœ€è¦ç›‘å¬æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°å³å¯ã€‚</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">'splice'</span>:</span><br><span class="line">        newItem = args.slice(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="comment">// å¦‚æœæ˜¯ splice æ–¹æ³•ï¼Œæˆ‘ä»¬ç›‘å¬å¯èƒ½å­˜åœ¨çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä»¥åŠæ›´å¤šã€‚</span></span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    newItem &amp;&amp; observe(newItem); <span class="comment">// å¦‚æœå­˜åœ¨æ–°çš„æ•°æ®ï¼Œæˆ‘ä»¬è¿›è¡Œç›‘å¬ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result; <span class="comment">// å°†åŸæœ¬æ•°ç»„çš„è¿”å›æŒ‡è¿”å›ã€‚</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> arrMethods;</span><br></pre></td></tr></table></figure>

<p>åˆ°æ­¤å·®ä¸å¤šå®Œæˆäº†ç®€å•çš„æ•°æ®åŠ«æŒï¼Œå½“æˆ‘ä»¬åŠ¨æ€ä¿®æ”¹è¿™äº›æ•°æ®çš„æ—¶å€™ï¼Œä¼šè¢«ç›‘å¬åˆ°å¹¶ä¸”è¿›è¡Œä¸€äº›éœ€è¦çš„æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 12</title>
    <url>/2020/10/12/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-12/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-12"><a href="#å­¦ä¹ ç¬”è®°-2020-10-12" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-12"></a>å­¦ä¹ ç¬”è®° 2020-10-12</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ol>
<li><h5 id="å½’å¹¶æ–¹æ³•"><a href="#å½’å¹¶æ–¹æ³•" class="headerlink" title="å½’å¹¶æ–¹æ³•"></a>å½’å¹¶æ–¹æ³•</h5><ul>
<li><p><code>reduce</code></p>
</li>
<li><p><code>reduceRight</code></p>
<p>ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œæ„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›å€¼ã€‚åŒºåˆ«æ˜¯ <code>reduce</code> ä»å¤´éå†åˆ°å°¾ï¼Œ <code>reduceRight</code> ä»å°¾éå†åˆ°å¤´ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå½’å¹¶å‡½æ•°å’Œå½’å¹¶èµ·ç‚¹çš„åˆå§‹å€¼ã€‚å½’å¹¶å‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œä¸Šä¸€ä¸ªå½’å¹¶å€¼ï¼Œå½“å‰é¡¹ï¼Œå½“å‰é¡¹çš„ç´¢å¼•å’Œæ•°ç»„æœ¬èº«ã€‚å‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºä¸‹ä¸€æ¬¡éå†çš„å½’å¹¶å€¼å³ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è¿­ä»£é»˜è®¤ä»æ•°ç»„ç¬¬äºŒé¡¹å¼€å§‹ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="å®šå‹æ•°ç»„"><a href="#å®šå‹æ•°ç»„" class="headerlink" title="å®šå‹æ•°ç»„"></a>å®šå‹æ•°ç»„</h4><p>äººä»¬æœŸæœ›å¼€å‘ä¸€å¥— <code>JavaScript API</code> æ¥åˆ©ç”¨ <code>3D</code> å›¾å½¢ <code>API</code> å’Œ <code>GPU</code> åŠ é€Ÿï¼Œä»¥ä¾¿æ¸²æŸ“è¿è¡Œå¤æ‚çš„ <code>3D</code> åº”ç”¨ç¨‹åºã€‚åŸºäº <code>OpenGL ES 2.0</code> è§„èŒƒå¼€å‘äº†ä¸€ä¸ª <code>API</code> åä¸º <code>WebGL</code> ã€‚æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå®ƒä¸åŸç”Ÿæ•°ç»„ä¹‹é—´æ ¼å¼ä¸åŒ¹é…ï¼Œå‡ºç°äº†æ€§èƒ½é—®é¢˜ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ <code>Mozilla</code> å®ç°äº† <code>CanvasFloatArray</code> ï¼Œæœ€ç»ˆå˜æˆ <code>Float32Array</code> ã€‚</p>
<ol>
<li><h5 id="ArrayBuffer"><a href="#ArrayBuffer" class="headerlink" title="ArrayBuffer"></a><code>ArrayBuffer</code></h5><p><code>ArrayBuffer</code> æ˜¯æ‰€æœ‰å®šå‹æ•°ç»„åŠè§†å›¾å¼•ç”¨çš„åŸºæœ¬å•ä½ï¼Œæ˜¯ä¸€ä¸ªæ™®é€šçš„ <code>JavaScript</code> æ„é€ å‡½æ•°ï¼Œå¯ç”¨äºåœ¨å†…å­˜ä¸­åˆ†é…ç‰¹å®šæ•°é‡çš„å­—èŠ‚ç©ºé—´ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">16</span>);</span><br><span class="line"><span class="built_in">console</span>.log(buf.byteLength); <span class="comment">// 16</span></span><br></pre></td></tr></table></figure>

<p><code>ArrayBuffeer</code> åˆ›å»ºåæ— æ³•æ”¹å˜å¤§å°ï¼Œä½†å¯ä»¥åˆ©ç”¨ <code>slice</code> æ–¹æ³•å¤åˆ¶éƒ¨åˆ†æˆä¸ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
<p>æŸ¥çœ‹ <code>ArrayBuffer</code> çš„åŸå‹å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">ArrayBuffer</span>.prototype);</span><br><span class="line">&#123;</span><br><span class="line">  byteLength: (...)</span><br><span class="line">  <span class="keyword">constructor</span>: Æ’ ArrayBuffer()</span><br><span class="line">  slice: Æ’ slice()</span><br><span class="line">  Symbol(Symbol.toStringTag): "ArrayBuffer"</span><br><span class="line">  <span class="keyword">get</span> byteLength: Æ’ byteLength()</span><br><span class="line">  __proto__: Object</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œ<code>ArrayBuffer</code> å…¶å®å’Œæ•°ç»„æ²¡æœ‰ç‰¹åˆ«å¤§çš„å…³ç³»ï¼Œåªæ˜¯åŸå‹å¯¹è±¡ä¸ŠæŒ‚è½½äº† <code>slice</code> æ–¹æ³•ä»¥åŠ <code>byteLength</code> å±æ€§ï¼Œå®ƒçš„åŸå‹æŒ‡å‘äº† <code>Object.prototype</code> ã€‚</p>
<ul>
<li><code>ArrayBuffer</code> åˆ†é…å¤±è´¥æ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
<li>åˆ†é…çš„å†…å­˜ä¸èƒ½è¶…è¿‡ <code>Number.MAX_SAFE_INTEGER</code> å³ (2^53 - 1) å­—èŠ‚ã€‚</li>
<li>å£°æ˜ <code>ArrayBuffer</code> ä¼šå°†æ‰€æœ‰äºŒè¿›åˆ¶ä½åˆå§‹åŒ–ä¸º <code>0</code> ã€‚</li>
<li>åˆ†é…çš„å †å†…å­˜å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ã€‚</li>
</ul>
</li>
<li><h5 id="DataView"><a href="#DataView" class="headerlink" title="DataView"></a><code>DataView</code></h5><p>å…è®¸è¯»å†™ <code>ArrayBuffer</code> çš„è§†å›¾ã€‚ä¸“ä¸ºæ–‡ä»¶ <code>I/O</code> å’Œç½‘ç»œ <code>I/O</code> è®¾è®¡ï¼Œæ”¯æŒå¯¹ç¼“å†²æ•°æ®çš„é«˜åº¦æ§åˆ¶ï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œå¯¹ç¼“å†²å†…å®¹æ²¡æœ‰ä»»ä½•é¢„è®¾ï¼Œä¹Ÿä¸èƒ½è¿­ä»£ã€‚</p>
<p>æŸ¥çœ‹ <code>DataView</code> çš„æ„é€ å‡½æ•°å®šä¹‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">DataView</span>(buffer: <span class="built_in">ArrayBuffer</span>, byteOffset?: number, byteLength?: number): <span class="built_in">DataView</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¿…å¡«çš„ <code>ArrayBuffer</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåç§»é‡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå­—èŠ‚é•¿åº¦ã€‚è‹¥ä¸æŒ‡å®šï¼Œåç§»é‡é»˜è®¤ä» <code>0</code> å¼€å§‹ï¼Œå­—èŠ‚é•¿åº¦é»˜è®¤ä¸ºå‰©ä½™ç¼“å†²ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fullDataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buf);</span><br><span class="line"><span class="built_in">console</span>.log(fullDataView.byteOffset); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(fullDataView.byteLength); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(fullDataView.buffer === buf); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> firstHalfDataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buf, <span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(firstHalfDataView.byteOffset); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(firstHalfDataView.byteLength); <span class="comment">// 8</span></span><br><span class="line"><span class="built_in">console</span>.log(firstHalfDataView.buffer === buf); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> secondHalfDataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buf, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(secondHalfDataView.byteOffset); <span class="comment">// 8</span></span><br><span class="line"><span class="built_in">console</span>.log(secondHalfDataView.byteLength); <span class="comment">// 8</span></span><br><span class="line"><span class="built_in">console</span>.log(secondHalfDataView.buffer === buf); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>ElementType</code></p>
<p>ç”¨äºå®ç° <code>JavaScript</code> ä¸­çš„ <code>Number</code> ç±»å‹åˆ°ç¼“å†²å†…äºŒè¿›åˆ¶æ ¼å¼çš„è½¬æ¢ã€‚æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p>
<ul>
<li><code>Int8</code></li>
<li><code>Uint8</code></li>
<li><code>Int16</code></li>
<li><code>Uint16</code></li>
<li><code>Int32</code></li>
<li><code>Uint32</code></li>
<li><code>Float32</code></li>
<li><code>Float64</code></li>
</ul>
<p>æ¯ç§ç±»å‹éƒ½æœ‰ <code>get</code> å’Œ <code>set</code> æ–¹æ³•ï¼Œä½¿ç”¨ <code>byteOffset</code> å®šä½ä½ç½®è¿›è¡Œè¯»å†™ã€‚ç±»å‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">2</span>); <span class="comment">// åˆ†é…äº†ä¸¤ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="keyword">const</span> view = <span class="keyword">new</span> <span class="built_in">DataView</span>(buf); <span class="comment">// å®šä¹‰ä¸€ä¸ªè§†å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(view.getInt8(<span class="number">0</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getInt8(<span class="number">1</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getInt16(<span class="number">0</span>)); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line">view.setUint8(<span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line"><span class="built_in">console</span>.log(view.getInt16(<span class="number">0</span>)); <span class="comment">// -256</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getInt8(<span class="number">1</span>)); <span class="comment">// 0</span></span><br><span class="line">view.setUint8(<span class="number">1</span>, <span class="number">0xff</span>);</span><br><span class="line"><span class="built_in">console</span>.log(view.getInt16(<span class="number">0</span>)); <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getInt8(<span class="number">1</span>)); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—èŠ‚åº</p>
<p>å­—èŠ‚åºæŒ‡è®¡ç®—ç³»ç»Ÿç»´æŠ¤çš„ä¸€ç§å­—èŠ‚é¡ºåºçš„çº¦å®šã€‚</p>
<p><code>DataView</code> æ”¯æŒä¸¤ç§çº¦å®šï¼Œå¤§ç«¯å­—èŠ‚åºå’Œå°ç«¯å­—èŠ‚åºã€‚</p>
<p>å¤§ç«¯å­—èŠ‚åºæŒ‡æœ€é«˜æœ‰æ•ˆä½ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œæœ€ä½æœ‰æ•ˆä½ä¿å­˜åœ¨æœ€åä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿç§°ç½‘ç»œå­—èŠ‚åºã€‚</p>
<p>å°ç«¯å­—èŠ‚åºåˆ™ç›¸åã€‚</p>
<p><code>DataView</code> ä¸éµå®ˆ <code>JavaScript</code> è¿è¡Œæ—¶æ‰€åœ¨ç³»ç»Ÿçš„åŸç”Ÿå­—èŠ‚åºã€‚å®ƒé»˜è®¤ä¸ºå¤§ç«¯å­—èŠ‚åºï¼Œä¹Ÿå¯ä»¥æ¥æ”¶å‚æ•°ä¿®æ”¹ä¸ºå°ç«¯å­—èŠ‚åºã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¡«å……ç¼“å†²ï¼Œè®©ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½éƒ½æ˜¯ 1</span></span><br><span class="line">view.setUint8(<span class="number">0</span>, <span class="number">0x80</span>); <span class="comment">// è®¾ç½®æœ€å·¦è¾¹çš„ä½ç­‰äº 1</span></span><br><span class="line">view.setUint8(<span class="number">1</span>, <span class="number">0x01</span>); <span class="comment">// è®¾ç½®æœ€å³è¾¹çš„ä½ç­‰äº 1</span></span><br><span class="line"><span class="comment">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span></span><br><span class="line"><span class="comment">// 0x8 0x0 0x0 0x1</span></span><br><span class="line"><span class="comment">// 1000 0000 0000 0001</span></span><br><span class="line"><span class="comment">// æŒ‰å¤§ç«¯å­—èŠ‚åºè¯»å– Uint16</span></span><br><span class="line"><span class="comment">// 0x80 æ˜¯é«˜å­—èŠ‚ï¼Œ0x01 æ˜¯ä½å­—èŠ‚</span></span><br><span class="line"><span class="comment">// 0x8001 = 2^15 + 2^0 = 32768 + 1 = 32769</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint16(<span class="number">0</span>)); <span class="comment">// 32769</span></span><br><span class="line"><span class="comment">// æŒ‰å°ç«¯å­—èŠ‚åºè¯»å– Uint16</span></span><br><span class="line"><span class="comment">// 0x01 æ˜¯é«˜å­—èŠ‚ï¼Œ0x80 æ˜¯ä½å­—èŠ‚</span></span><br><span class="line"><span class="comment">// 0x0180 = 2^8 + 2^7 = 256 + 128 = 384</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint16(<span class="number">0</span>, <span class="literal">true</span>)); <span class="comment">// 384</span></span><br><span class="line"><span class="comment">// æŒ‰å¤§ç«¯å­—èŠ‚åºå†™å…¥ Uint16</span></span><br><span class="line">view.setUint16(<span class="number">0</span>, <span class="number">0x0004</span>);</span><br><span class="line"><span class="comment">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span></span><br><span class="line"><span class="comment">// 0x0 0x0 0x0 0x4</span></span><br><span class="line"><span class="comment">// 0000 0000 0000 0100</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint8(<span class="number">0</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint8(<span class="number">1</span>)); <span class="comment">// 4</span></span><br><span class="line"><span class="comment">// æŒ‰å°ç«¯å­—èŠ‚åºå†™å…¥ Uint16</span></span><br><span class="line">view.setUint16(<span class="number">0</span>, <span class="number">0x0002</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="comment">// ç¼“å†²å†…å®¹ï¼ˆä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œäººä¸ºåŠ äº†ç©ºæ ¼ï¼‰</span></span><br><span class="line"><span class="comment">// 0x0 0x2 0x0 0x0</span></span><br><span class="line"><span class="comment">// 0000 0010 0000 0000</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint8(<span class="number">0</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(view.getUint8(<span class="number">1</span>)); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾¹ç•Œæƒ…å½¢</p>
<p><code>DataView</code> çš„æ“ä½œéœ€è¦åœ¨ç¼“å†²åŒºèŒƒå›´å†…ï¼Œå¦åˆ™ä¼šæŠ›å‡º <code>RangeError</code> ã€‚</p>
<p>å†™ç¼“å†²çš„æ—¶å€™ä¼šå°†å†™å…¥å€¼è½¬ä¸ºé€‚å½“ç±»å‹ï¼Œè‹¥æ˜¯æ— æ³•è½¬æ¢åˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="å®šå‹æ•°ç»„-1"><a href="#å®šå‹æ•°ç»„-1" class="headerlink" title="å®šå‹æ•°ç»„"></a>å®šå‹æ•°ç»„</h5><p>å®šå‹æ•°ç»„æ˜¯å¦ä¸€ç§å½¢å¼çš„ <code>ArrayBuffer</code> è§†å›¾ã€‚å®ƒç‰¹å®šäºä¸€ç§ <code>ElementType</code> ä¸”éµå¾ªç³»ç»ŸåŸç”Ÿçš„å­—èŠ‚åºã€‚ç›®çš„åœ¨äºæé«˜ä¸ <code>WebGL</code> ç­‰åŸç”Ÿåº“äº¤æ¢äºŒè¿›åˆ¶æ•°æ®çš„æ•ˆç‡ã€‚</p>
<p>åˆ›å»ºå®šå‹æ•°ç»„çš„æ–¹å¼åŒ…æ‹¬è¯»å–å·²æœ‰çš„ç¼“å†²ã€ä½¿ç”¨è‡ªæœ‰ç¼“å†²ã€å¡«å……å¯è¿­ä»£ç»“æ„ï¼Œä»¥åŠå¡«å……åŸºäºä»»æ„ç±»å‹çš„å®šå‹æ•°ç»„ã€‚å¦å¤–ï¼Œé€šè¿‡ <code>&lt;ElementType&gt;.from()</code> å’Œ <code>&lt;ElementType&gt;.of()</code> ä¹Ÿå¯ä»¥åˆ›å»ºå®šå‹æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ª 12 å­—èŠ‚çš„ç¼“å†²</span></span><br><span class="line"><span class="keyword">const</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">12</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¼•ç”¨è¯¥ç¼“å†²çš„ Int32Array</span></span><br><span class="line"><span class="keyword">const</span> ints = <span class="keyword">new</span> <span class="built_in">Int32Array</span>(buf);</span><br><span class="line"><span class="comment">// è¿™ä¸ªå®šå‹æ•°ç»„çŸ¥é“è‡ªå·±çš„æ¯ä¸ªå…ƒç´ éœ€è¦ 4 å­—èŠ‚</span></span><br><span class="line"><span class="comment">// å› æ­¤é•¿åº¦ä¸º 3</span></span><br><span class="line"><span class="built_in">console</span>.log(ints.length); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 6 çš„ Int32Array</span></span><br><span class="line"><span class="keyword">const</span> ints2 = <span class="keyword">new</span> <span class="built_in">Int32Array</span>(<span class="number">6</span>);</span><br><span class="line"><span class="comment">// æ¯ä¸ªæ•°å€¼ä½¿ç”¨ 4 å­—èŠ‚ï¼Œå› æ­¤ ArrayBuffer æ˜¯ 24 å­—èŠ‚</span></span><br><span class="line"><span class="built_in">console</span>.log(ints2.length); <span class="comment">// 6</span></span><br><span class="line"><span class="comment">// ç±»ä¼¼ DataViewï¼Œå®šå‹æ•°ç»„ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å‘å…³è”ç¼“å†²çš„å¼•ç”¨</span></span><br><span class="line"><span class="built_in">console</span>.log(ints2.buffer.byteLength); <span class="comment">// 24</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªåŒ…å«[2, 4, 6, 8]çš„ Int32Array</span></span><br><span class="line"><span class="keyword">const</span> ints3 = <span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(ints3.length); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(ints3.buffer.byteLength); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(ints3[<span class="number">2</span>]); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å¤åˆ¶ ints3 çš„å€¼åˆ›å»ºä¸€ä¸ª Int16Array</span></span><br><span class="line"><span class="keyword">const</span> ints4 = <span class="keyword">new</span> <span class="built_in">Int16Array</span>(ints3);</span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–°ç±»å‹æ•°ç»„ä¼šåˆ†é…è‡ªå·±çš„ç¼“å†²</span></span><br><span class="line"><span class="comment">// å¯¹åº”ç´¢å¼•çš„æ¯ä¸ªå€¼ä¼šç›¸åº”åœ°è½¬æ¢ä¸ºæ–°æ ¼å¼</span></span><br><span class="line"><span class="built_in">console</span>.log(ints4.length); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(ints4.buffer.byteLength); <span class="comment">// 8</span></span><br><span class="line"><span class="built_in">console</span>.log(ints4[<span class="number">2</span>]); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºäºæ™®é€šæ•°ç»„æ¥åˆ›å»ºä¸€ä¸ª Int16Array</span></span><br><span class="line"><span class="keyword">const</span> ints5 = <span class="built_in">Int16Array</span>.from([<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(ints5.length); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(ints5.buffer.byteLength); <span class="comment">// 8</span></span><br><span class="line"><span class="built_in">console</span>.log(ints5[<span class="number">2</span>]); <span class="comment">// 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºäºä¼ å…¥çš„å‚æ•°åˆ›å»ºä¸€ä¸ª Float32Array</span></span><br><span class="line"><span class="keyword">const</span> floats = <span class="built_in">Float32Array</span>.of(<span class="number">3.14</span>, <span class="number">2.718</span>, <span class="number">1.618</span>);</span><br><span class="line"><span class="built_in">console</span>.log(floats.length); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(floats.buffer.byteLength); <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">console</span>.log(floats[<span class="number">2</span>]); <span class="comment">// 1.6180000305175781</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®šå‹æ•°ç»„çš„æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Int16Array</span>.prototype);</span><br><span class="line"><span class="comment">// BYTES_PER_ELEMENT: 2 è¿”å›è¯¥ç±»å‹æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°</span></span><br><span class="line"><span class="comment">// buffer: (...)</span></span><br><span class="line"><span class="comment">// byteLength: (...)</span></span><br><span class="line"><span class="comment">// byteOffset: (...)</span></span><br><span class="line"><span class="comment">// constructor: Æ’ Int16Array()</span></span><br><span class="line"><span class="comment">// length: (...)</span></span><br><span class="line"><span class="comment">// Symbol(Symbol.toStringTag): (...)</span></span><br><span class="line"><span class="comment">// __proto__: Object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Int32Array</span>.prototype);</span><br><span class="line"><span class="comment">// BYTES_PER_ELEMENT: 4</span></span><br><span class="line"><span class="comment">// buffer: (...)</span></span><br><span class="line"><span class="comment">// byteLength: (...)</span></span><br><span class="line"><span class="comment">// byteOffset: (...)</span></span><br><span class="line"><span class="comment">// constructor: Æ’ Int32Array()</span></span><br><span class="line"><span class="comment">// length: (...)</span></span><br><span class="line"><span class="comment">// Symbol(Symbol.toStringTag): (...)</span></span><br><span class="line"><span class="comment">// __proto__: Object</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨åˆå§‹åŒ–æ—¶æ²¡æœ‰æä¾›å€¼ï¼Œé‚£ä¹ˆå…³è”çš„ç¼“å†²ä¼šä»¥ <code>0</code> å¡«å……ã€‚</p>
<ul>
<li><p>å®šå‹æ•°ç»„è¡Œä¸º</p>
<p>å®šå‹æ•°ç»„çš„åŸå‹å¯¹è±¡ä¸Šç»‘å®šäº†éå¸¸å¤šçš„æ•°ç»„æ–¹æ³•ï¼Œç»§æ‰¿è‡ªä¸€ä¸ªå« <code>TypedArray</code> çš„ç±»å‹ã€‚</p>
<p>å®šå‹æ•°ç»„ç¼ºå°‘ä¿®æ”¹å¤§å°çš„å‡ ä¸ªæ•°ç»„æ–¹æ³•ï¼š</p>
<ul>
<li><code>concat</code></li>
<li><code>pop</code></li>
<li><code>push</code></li>
<li><code>shift</code></li>
<li><code>splice</code></li>
<li><code>unshift</code></li>
</ul>
<p>ä½†æä¾›äº†ä¸¤ä¸ªæ–°æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºå¤åˆ¶æ•°æ®ï¼š</p>
<ul>
<li><code>set</code></li>
<li><code>subarray</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> container = <span class="keyword">new</span> <span class="built_in">Int16Array</span>(<span class="number">8</span>);</span><br><span class="line">container.set(<span class="built_in">Int8Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br><span class="line"><span class="built_in">console</span>.log(container); <span class="comment">// Int16Array(8)Â [1, 2, 3, 4, 0, 0, 0, 0]</span></span><br><span class="line">container.set([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>], <span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(container); <span class="comment">// Int16Array(8)Â [1, 2, 3, 4, 5, 6, 7, 8]</span></span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹ <code>set</code> çš„å‡½æ•°å®šä¹‰ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>(array: ArrayLike&lt;<span class="built_in">number</span>&gt;, offset?: <span class="built_in">number</span>): <span class="built_in">void</span></span><br></pre></td></tr></table></figure>

<p>åç§»é‡æº¢å‡ºæ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p><code>subarray</code> ä¼šä»åŸå®šå‹æ•°ç»„ä¸­å¤åˆ¶å‡ºä¸€ä¸ªæ–°å®šå‹æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> source = <span class="built_in">Int16Array</span>.of(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fullCopy = source.subarray();</span><br><span class="line"><span class="built_in">console</span>.log(fullCopy); <span class="comment">// Int16Array(4)Â [2, 4, 6, 7]</span></span><br><span class="line"><span class="keyword">const</span> halfCopy = source.subarray(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(halfCopy); <span class="comment">// Int16Array(2)Â [6, 7]</span></span><br><span class="line"><span class="keyword">const</span> partialCopy = source.subarray(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(partialCopy); <span class="comment">// Int16Array(2) [4, 6]</span></span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹ <code>subarray</code> çš„å‡½æ•°å®šä¹‰</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">subarray(begin?: <span class="built_in">number</span>, end?: <span class="built_in">number</span>): <span class="built_in">Int16Array</span></span><br></pre></td></tr></table></figure>

<p>æ‰‹å†™å®šå‹æ•°ç»„æ‹¼æ¥å‡½æ•°:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">typedArrayConcat</span>(<span class="params">typedArrayConstructor, ...typedArrays</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numElements = typedArrays.reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> (x.length || x) + y.length);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> resultArray = <span class="keyword">new</span> typedArrayConstructor(numElements);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> currentOffset = <span class="number">0</span>;</span><br><span class="line">  typedArrays.map(<span class="function"><span class="params">x</span> =&gt;</span> &#123;</span><br><span class="line">    resultArray.set(x, currentOffset);</span><br><span class="line">    currentOffset += x.length;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> resultArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> concatArray = typedArrayConcat(</span><br><span class="line">  <span class="built_in">Int32Array</span>,</span><br><span class="line">  <span class="built_in">Int8Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>),</span><br><span class="line">  <span class="built_in">Int16Array</span>.of(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>),</span><br><span class="line">  <span class="built_in">Float32Array</span>.of(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line">);</span><br><span class="line"><span class="built_in">console</span>.log(concatArray); <span class="comment">// Int32Array(9)Â [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸‹æº¢å’Œä¸Šæº¢</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é•¿åº¦ä¸º 2 çš„æœ‰ç¬¦å·æ•´æ•°æ•°ç»„</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªç´¢å¼•ä¿å­˜ä¸€ä¸ªäºŒè¡¥æ•°å½¢å¼çš„æœ‰ç¬¦å·æ•´æ•°</span></span><br><span class="line"><span class="comment">// èŒƒå›´æ˜¯-128ï¼ˆ-1 * 2^7ï¼‰~127ï¼ˆ2^7 - 1ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> ints = <span class="keyword">new</span> <span class="built_in">Int8Array</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// é•¿åº¦ä¸º 2 çš„æ— ç¬¦å·æ•´æ•°æ•°ç»„</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªç´¢å¼•ä¿å­˜ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°</span></span><br><span class="line"><span class="comment">// èŒƒå›´æ˜¯ 0~255ï¼ˆ2^7 - 1ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> unsignedInts = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// ä¸Šæº¢çš„ä½ä¸ä¼šå½±å“ç›¸é‚»ç´¢å¼•</span></span><br><span class="line"><span class="comment">// ç´¢å¼•åªå–æœ€ä½æœ‰æ•ˆä½ä¸Šçš„ 8 ä½</span></span><br><span class="line">unsignedInts[<span class="number">1</span>] = <span class="number">256</span>; <span class="comment">// 0x100</span></span><br><span class="line"><span class="built_in">console</span>.log(unsignedInts); <span class="comment">// [0, 0]</span></span><br><span class="line">unsignedInts[<span class="number">1</span>] = <span class="number">511</span>; <span class="comment">// 0x1FF</span></span><br><span class="line"><span class="built_in">console</span>.log(unsignedInts); <span class="comment">// [0, 255]</span></span><br><span class="line"><span class="comment">// ä¸‹æº¢çš„ä½ä¼šè¢«è½¬æ¢ä¸ºå…¶æ— ç¬¦å·çš„ç­‰ä»·å€¼</span></span><br><span class="line"><span class="comment">// 0xFF æ˜¯ä»¥äºŒè¡¥æ•°å½¢å¼è¡¨ç¤ºçš„-1ï¼ˆæˆªå–åˆ° 8 ä½ï¼‰,</span></span><br><span class="line"><span class="comment">// ä½† 255 æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°</span></span><br><span class="line">unsignedInts[<span class="number">1</span>] = <span class="number">-1</span>; <span class="comment">// 0xFF (truncated to 8 bits)</span></span><br><span class="line"><span class="built_in">console</span>.log(unsignedInts); <span class="comment">// [0, 255]</span></span><br><span class="line"><span class="comment">// ä¸Šæº¢è‡ªåŠ¨å˜æˆäºŒè¡¥æ•°å½¢å¼</span></span><br><span class="line"><span class="comment">// 0x80 æ˜¯æ— ç¬¦å·æ•´æ•°çš„ 128ï¼Œæ˜¯äºŒè¡¥æ•°å½¢å¼çš„-128</span></span><br><span class="line">ints[<span class="number">1</span>] = <span class="number">128</span>; <span class="comment">// 0x80</span></span><br><span class="line"><span class="built_in">console</span>.log(ints); <span class="comment">// [0, -128]</span></span><br><span class="line"><span class="comment">// ä¸‹æº¢è‡ªåŠ¨å˜æˆäºŒè¡¥æ•°å½¢å¼</span></span><br><span class="line"><span class="comment">// 0xFF æ˜¯æ— ç¬¦å·æ•´æ•°çš„ 255ï¼Œæ˜¯äºŒè¡¥æ•°å½¢å¼çš„-1</span></span><br><span class="line">ints[<span class="number">1</span>] = <span class="number">255</span>; <span class="comment">// 0xFF</span></span><br><span class="line"><span class="built_in">console</span>.log(ints); <span class="comment">// [0, -1]</span></span><br></pre></td></tr></table></figure>

<p>è¿˜å­˜åœ¨ä¸€ç§æ•°ç»„ç±»å‹ <code>Unit8ClampedArray</code> ï¼Œ ä¸å…è®¸ä»»ä½•æ–¹å‘æº¢å‡ºã€‚è¶…å‡ºçš„å€¼ä¼šè¢«å‘ä¸‹èˆå…¥ä¸º <code>255</code> ï¼Œ å°äºçš„å€¼ä¼šè¢«å‘ä¸Šèˆå…¥ä¸º <code>0</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>ES6</code> ä¸­æ–°å¢çš„é›†åˆç±»å‹ï¼ŒçœŸæ­£æ„ä¹‰ä¸Šçš„é”®å€¼å­˜å‚¨æœºåˆ¶ã€‚</p>
<ol>
<li><h5 id="åŸºæœ¬-API"><a href="#åŸºæœ¬-API" class="headerlink" title="åŸºæœ¬ API"></a>åŸºæœ¬ <code>API</code></h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–æ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦åŒ…å«é”®å€¼å¯¹æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m1 = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'key1'</span>, <span class="string">'val1'</span>],</span><br><span class="line">  [<span class="string">'key2'</span>, <span class="string">'val2'</span>],</span><br><span class="line">  [<span class="string">'key3'</span>, <span class="string">'val3'</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1.size); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(m1); <span class="comment">// Map(3)Â &#123;"key1" =&gt; "val1", "key2" =&gt; "val2", "key3" =&gt; "val3"&#125;</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰è¿­ä»£å™¨åˆå§‹åŒ–æ˜ å°„</span></span><br><span class="line"><span class="keyword">const</span> m2 = <span class="keyword">new</span> <span class="built_in">Map</span>(&#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> [<span class="string">"key1"</span>, <span class="string">"val1"</span>];</span><br><span class="line">    <span class="keyword">yield</span> [<span class="string">"key2"</span>, <span class="string">"val2"</span>];</span><br><span class="line">    <span class="keyword">yield</span> [<span class="string">"key3"</span>, <span class="string">"val3"</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">alert(m2.size); <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// æ˜ å°„æœŸå¾…çš„é”®/å€¼å¯¹ï¼Œæ— è®ºæ˜¯å¦æä¾›</span></span><br><span class="line"><span class="keyword">const</span> m3 = <span class="keyword">new</span> <span class="built_in">Map</span>([[]]);</span><br><span class="line">alert(m3.has(<span class="literal">undefined</span>)); <span class="comment">// true</span></span><br><span class="line">alert(m3.get(<span class="literal">undefined</span>)); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>set()</code></p>
<p>åˆå§‹åŒ–åæ·»åŠ é”®å€¼å¯¹çš„æ–¹æ³•ã€‚</p>
</li>
<li><p><code>get()</code></p>
<p>è·å–å€¼ã€‚</p>
</li>
<li><p><code>has()</code></p>
<p>æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å€¼ã€‚</p>
</li>
<li><p><code>size</code></p>
<p>è·å–æ˜ å°„ä¸­çš„é”®å€¼å¯¹æ•°é‡ã€‚</p>
</li>
<li><p><code>delete</code></p>
<p>åˆ é™¤æŸä¸ªé”®å€¼å¯¹ã€‚</p>
</li>
<li><p><code>clear</code></p>
<p>æ¸…ç©ºè¯¥æ˜ å°„çš„æ‰€æœ‰é”®å€¼å¯¹ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><ol>
<li><h4 id="æ˜¯å¦éœ€è¦-else"><a href="#æ˜¯å¦éœ€è¦-else" class="headerlink" title="æ˜¯å¦éœ€è¦ else ?"></a>æ˜¯å¦éœ€è¦ else ?</h4><p>å¦‚æœå‚æ•° <code>age</code> å¤§äº <code>18</code>ï¼Œé‚£ä¹ˆä¸‹é¢çš„å‡½æ•°å°†è¿”å› <code>true</code>ã€‚</p>
<p>å¦åˆ™å®ƒå°†ä¼šè¦æ±‚è¿›è¡Œç¡®è®¤ï¼Œå¹¶è¿”å›ç¡®è®¤ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> confirm(<span class="string">'Did parents allow you?'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>else</code> è¢«åˆ é™¤ï¼Œå‡½æ•°çš„å·¥ä½œæ–¹å¼ä¼šä¸åŒå—ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> confirm(<span class="string">'Did parents allow you?'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å·¥ä½œæ–¹å¼ç›¸åŒï¼Œå› ä¸º <code>return</code> æ‰§è¡Œåå‡½æ•°å°±å·²ç»ç»“æŸã€‚æ­¤å¤„çš„ <code>else</code> å¹¶æ²¡æœ‰æ„ä¹‰ã€‚</p>
</li>
<li><h4 id="ä½¿ç”¨-æˆ–-é‡å†™å‡½æ•°"><a href="#ä½¿ç”¨-æˆ–-é‡å†™å‡½æ•°" class="headerlink" title="ä½¿ç”¨ ? æˆ– || é‡å†™å‡½æ•°"></a>ä½¿ç”¨ ? æˆ– || é‡å†™å‡½æ•°</h4><p>å¦‚æœå‚æ•° <code>age</code> å¤§äº <code>18</code>ï¼Œé‚£ä¹ˆä¸‹é¢çš„å‡½æ•°è¿”å› <code>true</code>ã€‚</p>
<p>å¦åˆ™å®ƒå°†ä¼šè¦æ±‚è¿›è¡Œç¡®è®¤ï¼Œå¹¶è¿”å›ç¡®è®¤ç»“æœï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> confirm(<span class="string">'Do you have your parents permission to access this page?'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡å†™è¿™ä¸ªå‡½æ•°å¹¶ä¿è¯æ•ˆæœç›¸åŒï¼Œä¸ä½¿ç”¨ <code>if</code>ï¼Œä¸”åªéœ€ä¸€è¡Œä»£ç ã€‚</p>
<p>ç¼–å†™ <code>checkAge</code> çš„ä¸¤ä¸ªå˜ä½“ï¼š</p>
<ol>
<li><h5 id="ä½¿ç”¨é—®å·è¿ç®—ç¬¦"><a href="#ä½¿ç”¨é—®å·è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨é—®å·è¿ç®—ç¬¦ ?"></a>ä½¿ç”¨é—®å·è¿ç®—ç¬¦ <code>?</code></h5></li>
<li><h5 id="ä½¿ç”¨æˆ–è¿ç®—ç¬¦"><a href="#ä½¿ç”¨æˆ–è¿ç®—ç¬¦" class="headerlink" title="ä½¿ç”¨æˆ–è¿ç®—ç¬¦ ||"></a>ä½¿ç”¨æˆ–è¿ç®—ç¬¦ <code>||</code></h5></li>
</ol>
<ul>
<li><pre><code class="js"><span class="function"><span class="keyword">function</span> <span class="title">checkAge</span>(<span class="params">age</span>) </span>{
  <span class="keyword">return</span> age &gt; <span class="number">18</span> ? <span class="literal">true</span> : confirm(<span class="string">'Do you have your parents permission to access this page?'</span>);
}
&lt;!--ï¿¼<span class="number">19</span>--&gt;</code></pre>
</li>
</ul>
</li>
<li><h4 id="å‡½æ•°-min-a-b"><a href="#å‡½æ•°-min-a-b" class="headerlink" title="å‡½æ•° min(a, b)"></a>å‡½æ•° min(a, b)</h4><p>å†™ä¸€ä¸ªè¿”å›æ•°å­— <code>a</code> å’Œ <code>b</code> ä¸­è¾ƒå°çš„é‚£ä¸ªæ•°å­—çš„å‡½æ•° <code>min(a,b)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">min(<span class="number">2</span>, <span class="number">5</span>) == <span class="number">2</span></span><br><span class="line">min(<span class="number">3</span>, <span class="number">-1</span>) == <span class="number">-1</span></span><br><span class="line">min(<span class="number">1</span>, <span class="number">1</span>) == <span class="number">1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b ? b : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="å‡½æ•°-pow-x-n"><a href="#å‡½æ•°-pow-x-n" class="headerlink" title="å‡½æ•° pow(x, n)"></a>å‡½æ•° pow(x, n)</h4><p>å†™ä¸€ä¸ªå‡½æ•° <code>pow(x,n)</code>ï¼Œè¿”å› <code>x</code> çš„ <code>n</code> æ¬¡æ–¹ã€‚æ¢å¥è¯è¯´ï¼Œå°† <code>x</code> ä¸è‡ªèº«ç›¸ä¹˜ <code>n</code> æ¬¡ï¼Œè¿”å›æœ€ç»ˆç»“æœã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">pow(<span class="number">3</span>, <span class="number">2</span>) = <span class="number">3</span> * <span class="number">3</span> = <span class="number">9</span></span><br><span class="line">pow(<span class="number">3</span>, <span class="number">3</span>) = <span class="number">3</span> * <span class="number">3</span> * <span class="number">3</span> = <span class="number">27</span></span><br><span class="line">pow(<span class="number">1</span>, <span class="number">100</span>) = <span class="number">1</span> * <span class="number">1</span> * ...*<span class="number">1</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> x * pow(x, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked disabled type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 11</title>
    <url>/2020/10/11/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-11/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-11"><a href="#å­¦ä¹ ç¬”è®°-2020-10-11" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-11"></a>å­¦ä¹ ç¬”è®° 2020-10-11</h1><a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ol>
<li><h5 id="è½¬æ¢æ–¹æ³•"><a href="#è½¬æ¢æ–¹æ³•" class="headerlink" title="è½¬æ¢æ–¹æ³•"></a>è½¬æ¢æ–¹æ³•</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(colors.toString()); <span class="comment">// red,blue,green</span></span><br><span class="line"><span class="built_in">console</span>.log(colors.valueOf()); <span class="comment">//Â ["red", "blue", "green"]</span></span><br><span class="line"><span class="built_in">console</span>.log(colors); <span class="comment">//Â ["red", "blue", "green"]</span></span><br></pre></td></tr></table></figure>

<p><code>toString</code> æ–¹æ³•æœ¬è´¨æ˜¯è¿”å›æ•°ç»„ä¸­æ¯ä¸ªå€¼çš„ç­‰æ•ˆå­—ç¬¦ä¸²åŠ é€—å·åˆ†éš”æ‹¼æ¥æˆçš„å­—ç¬¦ä¸²</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person1 = &#123;</span><br><span class="line">  toLocaleString () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Sirine'</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Sirine'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person2 = &#123;</span><br><span class="line">  toLocaleString () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Severus'</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'siruis'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> people = [person1, person2];</span><br><span class="line"><span class="built_in">console</span>.log(people); <span class="comment">// [&#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(people.toString()); <span class="comment">// Sirine,siruis</span></span><br><span class="line"><span class="built_in">console</span>.log(people.toLocaleString()); <span class="comment">// Sirine,Severus</span></span><br></pre></td></tr></table></figure>

<p>ç”±ä¸Šä¾‹å¯ä»¥çœ‹å‡ºï¼Œ<code>toString</code> æ–¹æ³•è°ƒç”¨è‡ªèº«çš„ <code>toString</code> æ¥è½¬æ¢ï¼Œ<code>toLocaleString</code> è°ƒç”¨è‡ªèº«çš„ <code>toLocaleString</code> ã€‚</p>
</li>
<li><h5 id="æ ˆæ–¹æ³•"><a href="#æ ˆæ–¹æ³•" class="headerlink" title="æ ˆæ–¹æ³•"></a>æ ˆæ–¹æ³•</h5><p>åè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ•°æ®çš„æ¨å…¥å’Œåˆ é™¤åªå‘ç”Ÿåœ¨æ ˆé¡¶ã€‚</p>
<ul>
<li><p><code>push</code></p>
<p>æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æœ€æ–°é•¿åº¦ã€‚</p>
</li>
<li><p><code>pop</code></p>
<p>ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„é•¿åº¦ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="é˜Ÿåˆ—æ–¹æ³•"><a href="#é˜Ÿåˆ—æ–¹æ³•" class="headerlink" title="é˜Ÿåˆ—æ–¹æ³•"></a>é˜Ÿåˆ—æ–¹æ³•</h5><p>å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæœ«å°¾æ·»åŠ æ•°æ®ï¼Œå¼€å¤´è·å–æ•°æ®ã€‚</p>
<ul>
<li><p><code>shift</code></p>
<p>è¿”å›è¢«åˆ é™¤çš„é¡¹ã€‚</p>
</li>
<li><p><code>push</code></p>
</li>
<li><p><code>unshift</code></p>
<p>ä¸ <code>shift</code> ç›¸åï¼Œåœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä»»æ„æ•°é‡çš„å€¼ï¼Œè¿”å›æ–°çš„æ•°ç»„é•¿åº¦ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="æ’åºæ–¹æ³•"><a href="#æ’åºæ–¹æ³•" class="headerlink" title="æ’åºæ–¹æ³•"></a>æ’åºæ–¹æ³•</h5><p>ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•éƒ½è¿”å›è°ƒç”¨çš„æ•°ç»„çš„å¼•ç”¨ã€‚</p>
<ul>
<li><p><code>reverse</code></p>
<p>åå‘æ’åˆ—æ•°ç»„ã€‚</p>
</li>
<li><p><code>sort</code></p>
<p>æ’åºæ•°ç»„ã€‚é»˜è®¤æŒ‰ç…§å‡åºï¼Œæ¯ä¸€é¡¹è°ƒç”¨ <code>String</code> è½¬æ¢ï¼Œæ¯”è¾ƒå­—ç¬¦ä¸²å†³å®šé¡ºåºã€‚ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œå‡½æ•°çš„è¿”å›å€¼å†³å®šæ¯ä¸¤ä¸ªæ•°æ¯”è¾ƒçš„æ’åºæƒ…å†µï¼Œè¿”å›è´Ÿå€¼ä»£è¡¨ç¬¬ä¸€ä¸ªæ•°æ’åœ¨ç¬¬äºŒä¸ªå‰é¢ï¼Œè¿”å› <code>0</code> ä»£è¡¨ç›¸ç­‰ï¼Œè¿”å›æ­£å€¼ä»£è¡¨ç¬¬ä¸€ä¸ªæ•°æ’åœ¨ç¬¬äºŒä¸ªåé¢ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h5><ul>
<li><p><code>concat</code></p>
<p>åœ¨åŸæœ‰æ•°ç»„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†å‚æ•°æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚è¿”å›æ–°æ•°ç»„ã€‚</p>
<p><code>concat</code> é»˜è®¤ä¼šæ‰“å¹³æ•°ç»„å‚æ•°ï¼Œå³ä¼ å…¥çš„æ•°ç»„å‚æ•°ä¼šè¢«å±•å¼€ã€‚è®¾ç½®æ•°ç»„çš„ <code>Symbol.isConcatSpreadable</code> å¯ä»¥ä¿®æ”¹è¿™ä¸ªè¡Œä¸ºã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line"><span class="keyword">let</span> newColors = [<span class="string">"black"</span>, <span class="string">"brown"</span>];</span><br><span class="line"><span class="keyword">let</span> moreNewColors = &#123;</span><br><span class="line"> [<span class="built_in">Symbol</span>.isConcatSpreadable]: <span class="literal">true</span>,</span><br><span class="line"> length: <span class="number">2</span>,</span><br><span class="line"> <span class="number">0</span>: <span class="string">"pink"</span>,</span><br><span class="line"> <span class="number">1</span>: <span class="string">"cyan"</span></span><br><span class="line">&#125;;</span><br><span class="line">newColors[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">// å¼ºåˆ¶ä¸æ‰“å¹³æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> colors2 = colors.concat(<span class="string">"yellow"</span>, newColors);</span><br><span class="line"><span class="comment">// å¼ºåˆ¶æ‰“å¹³ç±»æ•°ç»„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> colors3 = colors.concat(moreNewColors);</span><br><span class="line"><span class="built_in">console</span>.log(colors); <span class="comment">// ["red", "green", "blue"]</span></span><br><span class="line"><span class="built_in">console</span>.log(colors2); <span class="comment">// ["red", "green", "blue", "yellow",["black", "brown"]]</span></span><br><span class="line"><span class="built_in">console</span>.log(colors3); <span class="comment">// ["red", "green", "blue", "pink", "cyan"]</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ul>
<li><p><code>slice</code></p>
<p>æ¥æ”¶ä¸€åˆ°äºŒä¸ªå‚æ•°ï¼Œè¿”å›å…ƒç´ çš„å¼€å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ï¼Œè‹¥åªæä¾›äº†å¼€å§‹ç´¢å¼•ï¼Œä¼šé»˜è®¤è¿”å›åˆ°æ•°ç»„æœ«å°¾ã€‚è¿”å›çš„æ•°ç»„ä¸åŒ…æ‹¬ç»“æŸç´¢å¼•(è‹¥å­˜åœ¨)å¯¹åº”çš„å…ƒç´ ã€‚ä¸å½±å“åŸæ•°ç»„ã€‚è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ¥å—è´Ÿå€¼ï¼Œä»£è¡¨ä»æœ«å°¾å¼€å§‹ã€‚è‹¥ç»“æŸä½ç½®å°äºå¼€å§‹ä½ç½®ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</p>
</li>
<li><p><code>splice</code></p>
<p>æœ‰ä¸‰ç§ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å…ƒç´ æˆ–æ˜¯ç©ºæ•°ç»„ã€‚</p>
<ul>
<li><p>åˆ é™¤</p>
<p>ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œåˆ é™¤çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ä»¥åŠåˆ é™¤çš„æ•°é‡ã€‚</p>
</li>
<li><p>æ’å…¥</p>
<p>ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼Œå¼€å§‹ä½ç½®ï¼Œ<code>0</code> å’Œæ’å…¥çš„å…ƒç´ ï¼Œä¸ä»…é™äºä¸‰ä¸ªå‚æ•°ï¼Œå¤šäºä¸‰ä¸ªçš„å‚æ•°éƒ½ä¼šè¢«çœ‹ä½œç”¨äºæ’å…¥çš„å…ƒç´ ã€‚</p>
</li>
<li><p>æ›¿æ¢</p>
<p>åœ¨åˆ é™¤çš„åŒæ—¶æ’å…¥æ–°å…ƒç´ ï¼Œå³æ’å…¥çš„å¦ä¸€ç§æ¨¡å¼ï¼Œä¸å†æ˜¯åˆ é™¤ <code>0</code> ä¸ªå…ƒç´ ã€‚</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line"><span class="keyword">let</span> removed = colors.splice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(colors); <span class="comment">// ["green", "blue"]</span></span><br><span class="line"><span class="built_in">console</span>.log(removed); <span class="comment">// ["red"]</span></span><br><span class="line"></span><br><span class="line">removed = colors.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'yellow'</span>, <span class="string">'orange'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(colors); <span class="comment">// ["green", "yellow", "orange", "blue"]</span></span><br><span class="line"><span class="built_in">console</span>.log(removed); <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line">removed = colors.splice(<span class="number">1</span>, <span class="number">1</span>, <span class="string">'red'</span>, <span class="string">'purple'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(colors); <span class="comment">// ["green", "red", "purple", "orange", "blue"]</span></span><br><span class="line"><span class="built_in">console</span>.log(removed); <span class="comment">// ["yellow"]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<ol start="6">
<li><h5 id="æœç´¢å’Œä½ç½®æ–¹æ³•"><a href="#æœç´¢å’Œä½ç½®æ–¹æ³•" class="headerlink" title="æœç´¢å’Œä½ç½®æ–¹æ³•"></a>æœç´¢å’Œä½ç½®æ–¹æ³•</h5><ul>
<li><code>indexOf</code></li>
<li><code>lastIndexOf</code></li>
<li><code>includes</code></li>
</ul>
<p>ä¸Šè¿°ä¸‰ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æŸ¥æ‰¾çš„å…ƒç´ å’Œä¸€ä¸ªå¯é€‰çš„èµ·å§‹ä½ç½®ã€‚å¹¶ä¸”ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒã€‚</p>
<p><code>indexOf</code> å’Œ <code>includes</code> ä»æ•°ç»„å‰å¤´å¼€å§‹æœç´¢ï¼Œ <code>lastIndexOf</code> ä»æœ«å°¾å¼€å§‹æœç´¢ã€‚<br><code>indexOf</code> å’Œ <code>lastIndeOf</code> è¿”å›æŸ¥æ‰¾çš„ä½ç½®æˆ–æ˜¯ <code>-1</code> ï¼Œ <code>includes</code> è¿”å› <code>true</code> æˆ– <code>false</code> è¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°è‡³å°‘ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚</p>
<ul>
<li><p><code>find</code></p>
</li>
<li><p><code>findIndex</code></p>
<p>ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•æ¥æ”¶æ–­è¨€å‡½æ•°å’Œä¸€ä¸ªå¯é€‰çš„æ–­è¨€å‡½æ•°å†…éƒ¨ <code>this</code> çš„å€¼ï¼Œæ–­è¨€å‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œå…ƒç´ ã€ç´¢å¼•å’Œæ•°ç»„æœ¬èº«ã€‚æ–­è¨€å‡½æ•°è¿”å›çœŸå€¼ï¼Œä»£è¡¨æ˜¯å¦åŒ¹é…ã€‚</p>
<p><code>find</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œ<code>findIndex</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ã€‚æ‰¾åˆ°åŒ¹é…é¡¹åï¼Œéƒ½ä¸å†ç»§ç»­æœç´¢ã€‚</p>
</li>
</ul>
</li>
<li><h5 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h5><p>ä»¥ä¸‹æ–¹æ³•éƒ½å¯¹æ•°ç»„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚</p>
<ul>
<li><p><code>every</code></p>
<p>è‹¥æ¯ä¸€é¡¹ä½¿å¾—å‡½æ•°è¿”å›å€¼éƒ½ä¸º <code>true</code> , é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•è¿”å› <code>true</code> ã€‚</p>
</li>
<li><p><code>filter</code></p>
<p>å‡½æ•°è¿”å›å€¼ä¸º <code>true</code> çš„é¡¹ç»„æˆä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</p>
</li>
<li><p><code>forEach</code></p>
<p>æ²¡æœ‰è¿”å›å€¼ï¼Œä»…å¯¹æ¯ä¸€é¡¹è¿è¡Œå‡½æ•°ã€‚</p>
</li>
<li><p><code>map</code></p>
<p>è¿”å›æ¯ä¸€é¡¹å‡½æ•°è°ƒç”¨çš„ç»“æœæ„æˆçš„å‡½æ•°ã€‚</p>
</li>
<li><p><code>some</code></p>
<p>æœ‰ä¸€é¡¹ä½¿å¾—å‡½æ•°è¿”å›å€¼ä¸º <code>true</code> , æ–¹æ³•è¿”å› <code>true</code> ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="switch-è¯­å¥"><a href="#switch-è¯­å¥" class="headerlink" title="switch è¯­å¥"></a>switch è¯­å¥</h3><ol>
<li><p><code>switch</code> è¯­å¥å¯ä»¥æ›¿ä»£ <code>if</code> åˆ¤æ–­ï¼Œæ‰§è¡Œä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒã€‚</p>
</li>
<li><p><code>switch</code> å’Œ <code>case</code> å…è®¸ä»»æ„è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">"1"</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">switch</span> (+a) &#123;</span><br><span class="line">  <span class="keyword">case</span> b + <span class="number">1</span>:</span><br><span class="line">    alert(<span class="string">"this runs, because +a is 1, exactly equals b+1"</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    alert(<span class="string">"this doesn't run"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p><code>case</code> åˆ†ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    alert(<span class="string">'Right!'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// (*) ä¸‹é¢è¿™ä¸¤ä¸ª case è¢«åˆ†åœ¨ä¸€ç»„</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    alert(<span class="string">'Wrong!'</span>);</span><br><span class="line">    alert(<span class="string">"Why don't you take a math class?"</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    alert(<span class="string">'The result is strange. Really.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="ä»»åŠ¡ï¼š"><a href="#ä»»åŠ¡ï¼š" class="headerlink" title="ä»»åŠ¡ï¼š"></a>ä»»åŠ¡ï¼š</h3><ol>
<li><p>å°† <code>switch</code> ç»“æ„é‡å†™ä¸º <code>if</code> ç»“æ„</p>
<p>å°†ä¸‹é¢ <code>switch</code> ç»“æ„çš„ä»£ç å†™æˆ <code>if..else</code> ç»“æ„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (browser) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'Edge'</span>:</span><br><span class="line">    alert( <span class="string">"You've got the Edge!"</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'Chrome'</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'Firefox'</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'Safari'</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'Opera'</span>:</span><br><span class="line">    alert( <span class="string">'Okay we support these browsers too'</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    alert( <span class="string">'We hope that this page looks ok!'</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (browser === <span class="string">'Edge'</span>) &#123;</span><br><span class="line">  alert(<span class="string">"You've got the Edge!"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (browser === <span class="string">'Chrome'</span></span><br><span class="line">  || browser === <span class="string">'Firefox'</span></span><br><span class="line">  || browser === <span class="string">'Safari'</span></span><br><span class="line">  || browser === <span class="string">'Opera'</span>) &#123;</span><br><span class="line">  alert( <span class="string">'Okay we support these browsers too'</span> );</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  alert( <span class="string">'We hope that this page looks ok!'</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>å°† <code>if</code> ç»“æ„é‡å†™ä¸º <code>switch</code> ç»“æ„</p>
<p>ç”¨ <code>switch</code> é‡å†™ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = +prompt(<span class="string">'a?'</span>, <span class="string">''</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">0</span>) &#123;</span><br><span class="line">  alert( <span class="number">0</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span>) &#123;</span><br><span class="line">  alert( <span class="number">1</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">2</span> || a == <span class="number">3</span>) &#123;</span><br><span class="line">  alert( <span class="string">'2,3'</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = +prompt(<span class="string">'a?'</span>, <span class="string">''</span>);</span><br><span class="line"><span class="keyword">switch</span>(a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    alert(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    alert(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    alert(<span class="string">'2,3'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="JavaScript-æ·±å…¥å­¦ä¹ "><a href="#JavaScript-æ·±å…¥å­¦ä¹ " class="headerlink" title="JavaScript æ·±å…¥å­¦ä¹ "></a>JavaScript æ·±å…¥å­¦ä¹ </h2><h3 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="headerlink" title="é”™è¯¯ç±»å‹"></a>é”™è¯¯ç±»å‹</h3><ol>
<li><h5 id="SyntaxError"><a href="#SyntaxError" class="headerlink" title="SyntaxError"></a>SyntaxError</h5><p>è¯­æ³•é”™è¯¯ï¼Œä¾‹å¦‚å˜é‡åä¸è§„èŒƒä¸åˆæ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="number">1</span> = <span class="number">1</span>; <span class="comment">// Uncaught SyntaxError: Unexpected number</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> = <span class="number">2</span>; <span class="comment">// Uncaught SyntaxError: Invalid left-hand side in assignment</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="ReferenceError"><a href="#ReferenceError" class="headerlink" title="ReferenceError"></a>ReferenceError</h5><p>å˜é‡æˆ–å‡½æ•°æœªå£°æ˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a(); <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="RangeError"><a href="#RangeError" class="headerlink" title="RangeError"></a>RangeError</h5><p>èŒƒå›´å‡ºé”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr.length = <span class="number">-1</span>; <span class="comment">// Uncaught RangeError: Invalid array length</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">66.66</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num.toFixed(<span class="number">-1</span>)); <span class="comment">// Uncaught RangeError: toFixed() digits argument must be between 0 and 100</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="TypeError"><a href="#TypeError" class="headerlink" title="TypeError"></a>TypeError</h5><p>ç±»å‹é”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">123</span>(); <span class="comment">// Uncaught TypeError: 123 is not a function</span></span><br></pre></td></tr></table></figure>
</li>
<li><h5 id="URIError"><a href="#URIError" class="headerlink" title="URIError"></a>URIError</h5><p>URI: uniform resource identifier ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</p>
<p>URL: uniform resource locator ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p>
<p>URN: uniform resource name ç»Ÿä¸€èµ„æºåç§°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="built_in">decodeURI</span>(<span class="string">'%abcde'</span>); <span class="comment">// Uncaught URIError: URI malformed at decodeURI (&lt;anonymous&gt;)</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="try-catch"><a href="#try-catch" class="headerlink" title="try catch"></a>try catch</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> json = <span class="built_in">JSON</span>.parse(jsonStr);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// å‡ºç°é”™è¯¯æ—¶æ•è·é”™è¯¯ã€‚</span></span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  <span class="comment">// æ— è®ºå‡ºé”™ä¸å¦éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="throw"><a href="#throw" class="headerlink" title="throw"></a>throw</h3><p>æ‰‹åŠ¨æŠ›å‡ºé”™è¯¯ã€‚</p>
<h3 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h3><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ <code>with</code> <code>callee</code> <code>caller</code> æ— æ³•ä½¿ç”¨ã€‚</p>
<p>å‡½æ•°å†…éƒ¨çš„ <code>this</code> é»˜è®¤å€¼ä¸º <code>undefined</code> ã€‚éœ€è¦æ˜¾å¼æŒ‡å®šã€‚</p>
<p>ä½¿ç”¨ <code>call</code> è¿™ç±»æ–¹æ³•æ”¹å˜ <code>this</code> æŒ‡å‘æ—¶ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯åŸå§‹å€¼ï¼Œä¼šè¢«åŒ…è£…ä¸ºåŒ…è£…ç±»ã€‚</p>
<p>å‡½æ•°çš„å‚æ•°ä¸å…è®¸é‡å¤ã€‚</p>
<p>å¯¹è±¡çš„é”®ä¸å…è®¸é‡å¤ï¼Œä½†ä¸æŠ¥é”™ï¼Œåªä¼šé»˜è®¤è¦†ç›–ã€‚</p>
<p><code>eval</code> å†…å­˜åœ¨ä¸€ä¸ªä½œç”¨åŸŸï¼Œå¤–éƒ¨æ— æ³•è®¿é—®å†…éƒ¨å˜é‡ã€‚</p>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
<li><input checked disabled type="checkbox"> æ•´ç† 18 å¹´çš„ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±</title>
    <url>/2020/10/11/%E5%86%99%E7%BB%99%E4%B8%A4%E5%B9%B4%E5%89%8D%E7%9A%84%E8%87%AA%E5%B7%B1/</url>
    <content><![CDATA[<h1 id="å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±"><a href="#å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±" class="headerlink" title="å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±"></a>å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±</h1><p>ä»Šå¤©æ˜¯ 2020 å¹´ 10 æœˆ 11æ—¥ï¼Œä¸€ä¸ªå¹³å¹³æ— å¥‡çš„å‘¨æ—¥ã€‚6ç‚¹æ²¡åˆ°å°±éš¾å—åœ°é†’äº†è¿‡æ¥ï¼Œæ‹”æ´—è¡£æœºæ°´ç®¡æ—¶åˆè®°é”™äº†æ–¹å‘ï¼Œå–·äº†è‡ªå·±ä¸€èº«çš„æ°´ã€‚17å·å°±è¦ä½“æµ‹ï¼Œæˆ‘è¿˜æœ‰ç‚¹å°ç„¦è™‘ã€‚</p>
<a id="more"></a>

<p>æ˜¨æ™šéšæ‰‹æ•´ç†äº†ä¸€ä¸‹ç£ç›˜ï¼Œå‘ç°äº†18å¹´å†™ä¸‹çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ç¿»äº†ä¸€ä¸‹ï¼Œåªè§‰å¾—å¥½ç¬‘ã€‚</p>
<p>ä¸¤å¹´å‰æˆ‘è¿˜ä¸çŸ¥é“æ€ä¹ˆè®°ç”µå­ç¬”è®°ï¼Œåªèƒ½ç¬¨æ‹™åœ°å°†ä»£ç å’Œæ€è€ƒå†™è¿›äº† <code>word</code> æ–‡æ¡£ï¼Œå†è¯•å›¾è½¬æˆ  <code>pdf</code> ã€‚è¿˜è®°å¾—åæ¥å‘ç°äº† <code>onenote</code> ï¼Œä¹Ÿç”¨å®ƒè®°è¿‡ä¸€å°æ®µæ—¶é—´ï¼Œä¸ºäº†æ›´å¥½åœ°è®°å½•ä»£ç ï¼Œä¸‹è½½äº† <code>highlight</code> æ’ä»¶æ¥é«˜äº®æç¤ºã€‚</p>
<p>è®°åœ¨ <code>onenote</code> é‡Œçš„ç¬”è®°æˆ‘éƒ½è½¬æˆ <code>markdown</code> äº†ï¼Œé‚£äº› <code>word</code> æ–‡æ¡£é‡Œçš„ä¸œè¥¿è¿˜æ²¡æ•´ç†ï¼ŒæŠ½æ—¶é—´æ•´ç†ä¸€ä¸‹ã€‚(<code>todo</code> <code>get</code> âœ”)</p>
<p>ä»”ç»†çœ‹çœ‹å½“æ—¶è®°çš„ç¬”è®°ï¼Œéƒ½æ˜¯äº›å­¦ä¹ æ—¶å€™çš„å›°æ‰°ã€‚åŸæ¥ <code>18</code> å¹´åº•æˆ‘å°±å·²ç»åœ¨çœ‹ <code>ES6</code> çš„å†…å®¹äº†ï¼Œè€Œä¸¤å¹´åçš„æˆ‘ä¾ç„¶ä¸æ•¢è¯´å­¦å¾—æœ‰å¤šç²¾å¦™ã€‚é‚£æ—¶å€™çš„æˆ‘å®Œå…¨æ‹ä¸æ¸…æ¥š <code>JSON</code> å’Œ <code>JS</code> å¯¹è±¡çš„å…³ç³»ï¼Œä¸çŸ¥é“æ˜¯è° <code>parse</code> æˆäº†è°ï¼Œåˆæ˜¯è° <code>stringify</code> æˆäº†è°ã€‚ä¹Ÿæ˜¯é‚£ä¸ªæ—¶å€™çœ‹ç€è‹±æ–‡ä¹¦ï¼Œè¯¯æ‰“è¯¯æ’ä¸‹è½½äº† <code>Nodejs</code> ï¼Œä¹Ÿä¸ä¼šç”¨ï¼Œåªèƒ½ä¸€å­—ä¸€å¥çœ‹ç€é™Œç”Ÿçš„å•è¯æ…¢æ…¢ç¢ç£¨ã€‚(<del>ä¸¤å¹´åè‹±æ–‡ä¾ç„¶çƒ‚çš„å¯ä»¥</del>) è¿˜è®°å¾—ä¸¤å¹´å‰æˆ‘å®Œå…¨ä¸æ‡‚ <code>github</code> å¦‚ä½•ä½¿ç”¨ï¼Œ<code>git</code> æ“ä½œåˆæ˜¯ä»€ä¹ˆï¼Œé‚£äº› <code>github</code> çš„å¼€æºé¡¹ç›®ä¸ºä»€ä¹ˆç›®å½•é‚£ä¹ˆå¤æ‚ï¼Œé‚£ä¹ˆå¤šæˆ‘ä¸è®¤è¯†çš„æ–‡ä»¶ã€‚å‰ç«¯å¼€å‘ä¸æ˜¯åªæœ‰ <code>html</code> <code>css</code> <code>js</code> å—ï¼Ÿç°åœ¨æƒ³èµ·ä¹Ÿåªèƒ½ä¸ºé‚£æ—¶å€™çš„æ— çŸ¥æ©é¢ã€‚</p>
<p>å›é¦–ä¸€ä¸‹ä¸¤å¹´çš„ç»å†ï¼Œå¾ˆæƒŠè®¶æˆ‘å±…ç„¶è¿˜åœ¨ <code>web</code> å¼€å‘è¿™æ¡è·¯ä¸Šæ‘¸çˆ¬æ»šæ‰“ï¼Œå¾ˆéš¾è¿‡æˆ‘å¤§æ¦‚æ²¡æ³•è¿½å¾—ä¸Šé‚£äº›å­¦å®‰å…¨çš„åŒå­¦ä»¬ã€‚åœ¨æˆ‘å¯¹å¼€å‘è¿˜ä¸€æ— æ‰€çŸ¥çš„æ—¶å€™ï¼Œä»–ä»¬å·²ç»æ‹¥æœ‰äº†è®¸å¤šçš„å¼€å‘ç»éªŒã€‚åœ¨æˆ‘å¯¹å®‰å…¨ä¸€çŸ¥åŠè§£çš„æ—¶å€™ï¼Œä»–ä»¬å·²ç»å¯ä»¥å·¦ä¸€ä¸ªæ¼æ´å³ä¸€ä¸ªæ¼æ´çš„æŒ£é’±äº†ã€‚æˆ‘æƒ³æˆ‘å¯¹é’±æ€»æ˜¯æ›´æ•æ„Ÿçš„ï¼Œæ‰€ä»¥æˆ‘æ€»æ˜¯å¯¹è¢«è¿œè¿œç”©ä¸‹çš„é‚£å‡ å¹´æ—¶å…‰è€¿è€¿äºæ€€ã€‚ä½†åˆå¾ˆåº†å¹¸æˆ‘æ²¡æœ‰å¤ªè¿‡è‡ªæš´è‡ªå¼ƒ(æˆ–è€…è¯´æ²¡æœ‰å¤ªé•¿æ—¶é—´çš„è‡ªæš´è‡ªå¼ƒ)ï¼Œæˆ‘æ€»æ˜¯åœ¨ä¸åœåœ°èµ¶ï¼Œå°±åƒ800ç±³ä¸€æ ·ï¼Œæˆ‘è¿½ä¸ä¸Šåˆ«äººï¼Œæˆ‘å¾ˆéš¾è¿‡ï¼Œèº«ä½“ä¹Ÿå¾ˆç´¯ï¼Œä½†æˆ‘åœ¨åŠªåŠ›åœ°ä¸åœæ­¥äº†ã€‚ä¹Ÿä¸ºæ­¤åˆ»çš„è‡ªå·±æ²¡æœ‰è¢«æ»šæ»šè€Œæ¥çš„æ´ªæµæ‹å¼€è€Œåº†å¹¸ï¼Œæˆ‘è‡³å°‘ä¹Ÿè¿˜æ˜¯æœ‰ç‚¹é•¿å¤„çš„å§ã€‚</p>
<p>ä¸€è½¬çœ¼å°±8ç‚¹äº†ï¼Œå¤§æ¦‚å†™äº†20åˆ†é’Ÿã€‚å…¶ä¸­æ— æ•°æ¬¡åœä¸‹æ€è€ƒã€ç¢ç£¨ï¼Œå¸Œæœ›å†™å¾—æ›´å¥½ä¸€äº›ã€‚å¥½è®©å°†æ¥çš„æˆ‘ï¼Œ(ä¹Ÿè®¸å°±æ˜¯ä¸¤å¹´å)çœ‹å¾—æ›´åŠ èˆ’å¿ƒã€‚</p>
<p>å…¶å®è¯´å¾—æ˜¯å†™ç»™ä¸¤å¹´å‰çš„è‡ªå·±ï¼Œä½†æˆ‘æ›´åŠ ç»™ä¸¤å¹´åçš„è‡ªå·±ã€‚åœ¨2022å¹´ï¼Œä¸çŸ¥é“æˆ‘åˆæ˜¯å“ªä¸ªæ¨¡æ ·ã€‚</p>
<p>æ„Ÿè°¢ä¸¤å¹´å‰çš„è‡ªå·±å¾ˆæœæ–­åœ°é€‰æ‹©äº†æ–¹å‘ï¼Œä¹Ÿæ²¡æœ‰å¤ªè¿‡è’åºŸè¿™äº›æ—¶å…‰ã€‚è®©ä»Šå¤©çš„æˆ‘ä¹Ÿæœ‰ä¸œè¥¿å¯å†™ï¼Œæ‘¸å¾—å‡ºä¸€ç‚¹ä¼˜ç‚¹æ²¾æ²¾è‡ªå–œã€‚</p>
<p>ä½†æ„¿ä¸¤å¹´åçš„è‡ªå·±æ›´åŠ å¹¸è¿ä¸æˆåŠŸï¼Œæ„¿æˆ‘è¿™æ®µæ—¶æ—¥çš„åŠªåŠ›éƒ½æœ‰å›æŠ¥ï¼Œå¸Œæœ›è‡ªå·±æœªæ¥å¯ä»¥çš„è¿‡å¾—å¾ˆå¥½ã€‚</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®° 2020 10 10</title>
    <url>/2020/10/10/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2020-10-10/</url>
    <content><![CDATA[<h1 id="å­¦ä¹ ç¬”è®°-2020-10-10"><a href="#å­¦ä¹ ç¬”è®°-2020-10-10" class="headerlink" title="å­¦ä¹ ç¬”è®° 2020-10-10"></a>å­¦ä¹ ç¬”è®° 2020-10-10</h1><blockquote>
<p>å†³å®šä»ä»Šå¤©å¼€å§‹æ¯å¤©è®°å½•å½“æ—¥å­¦ä¹ æ‰€å¾—ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•"><a href="#JavaScript-é«˜çº§ç¨‹åºè®¾è®¡-ç¬¬4ç‰ˆ-é˜…è¯»è®°å½•" class="headerlink" title="JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•"></a>JavaScript é«˜çº§ç¨‹åºè®¾è®¡(ç¬¬4ç‰ˆ) é˜…è¯»è®°å½•</h2><h3 id="é›†åˆå¼•ç”¨ç±»å‹"><a href="#é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="é›†åˆå¼•ç”¨ç±»å‹"></a>é›†åˆå¼•ç”¨ç±»å‹</h3><h4 id="1-Object"><a href="#1-Object" class="headerlink" title="1. Object"></a>1. Object</h4><p><code>Object</code> æ˜¯ <code>ECMAScript</code> ä¸­æœ€å¸¸ç”¨çš„ç±»å‹ä¹‹ä¸€ã€‚</p>
<p>åˆ›å»º <code>Object</code> å®ä¾‹çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦å’Œ <code>Object</code> æ„é€ å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">person.name = <span class="string">'Sirine'</span>;</span><br><span class="line">person.age = <span class="number">21</span>;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¨èä½¿ç”¨ âœ”</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Sirine'</span>,</span><br><span class="line">  age: <span class="number">21</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>å¯¹è±¡ä¸­è·å–å±æ€§çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>ç‚¹è¯­æ³•</p>
</li>
<li><p>ä¸­æ‹¬å·è¯­æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(person[<span class="string">"name"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(person.name);</span><br><span class="line"><span class="comment">// ä»¥ä¸Šä¸¤ç§è¯­æ³•ç­‰ä»·</span></span><br></pre></td></tr></table></figure>

<p>ä½†åœ¨ä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•è·å–å±æ€§æ—¶å¯ä»¥ä¼ å…¥å˜é‡æˆ–æ˜¯åŒ…å«ç©ºæ ¼ç­‰å­—ç¬¦çš„é”®åã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> propertyName = <span class="string">'name'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[propertyName]);</span><br><span class="line"><span class="comment">// === console.log(person['name']);</span></span><br><span class="line"><span class="comment">// é”®ååŒ…å«ç©ºæ ¼æ—¶å¿…é¡»ä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•ã€‚</span></span><br><span class="line">person[<span class="string">'first name'</span>] = <span class="string">'Zhao'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[<span class="string">'first name'</span>]);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-Array"><a href="#2-Array" class="headerlink" title="2. Array"></a>2. Array</h4><p><code>ECMAScript</code> ä¸­çš„æ•°ç»„ååˆ†è‡ªç”±ï¼Œæ•°ç»„å†…å…ƒç´ çš„ç±»å‹ä¸å—é™åˆ¶ï¼Œå¤§å°ä¹Ÿæ˜¯åŠ¨æ€çš„ã€‚</p>
<p>åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ä¹Ÿæ˜¯ä¸¤ç§ã€‚</p>
<ul>
<li><p><code>Array</code> æ„é€ å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 0 çš„ç©ºæ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 20 çš„ç©ºæ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 3 ï¼ŒåŒ…å« red blue green ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ•°ç»„å­—é¢é‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> colors = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'yellow'</span>];</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º3ï¼ŒåŒ…å« red blue green ä¸‰ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">let</span> names = [];</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 0 çš„ç©ºæ•°ç»„ã€‚</span></span><br><span class="line">  <span class="keyword">let</span> options = [,,,,,];</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•°ç»„ã€‚ç©ºä½å…ƒç´ ä¸º `undefined`;</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> option <span class="keyword">of</span> options) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(option === <span class="literal">undefined</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// true * 5</span></span><br><span class="line">  <span class="comment">// ç©ºä½å…ƒç´ åœ¨ map join ç­‰æ–¹æ³•ä¸­ä¼šè¢«è·³è¿‡ã€‚</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<p><code>ES6</code> å½“ä¸­æ–°å¢äº†ä¸¤ä¸ªåˆ›å»ºæ•°ç»„çš„é™æ€æ–¹æ³•ã€‚</p>
<ul>
<li><p><code>Array.from</code></p>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†ä»»ä½•å¯è¿­ä»£çš„ç»“æ„ä¾‹å¦‚ç±»æ•°ç»„ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<p>å¯è¿­ä»£ç»“æ„ä¸¾ä¾‹ï¼šå­—ç¬¦ä¸²ã€<code>Map</code> å®ä¾‹ï¼Œ <code>Set</code> å®ä¾‹ï¼Œæ‹¥æœ‰ <code>[Symbol.iterator]</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œå‡½æ•°çš„ <code>arguments</code> å¯¹è±¡ï¼Œ æºå¸¦æœ‰ç´¢å¼•é”®å€¼å’Œ <code>length</code> å±æ€§çš„å¯¹è±¡ã€‚</p>
<p>è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¢«è½¬æ¢çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ˜ å°„å‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ˜ å°„å‡½æ•°çš„ <code>this</code> æŒ‡å‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> a2 = <span class="built_in">Array</span>.from(a1, x =&gt; x**<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> a3 = <span class="built_in">Array</span>.from(a1, <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> x**<span class="keyword">this</span>.exponent&#125;, &#123;<span class="attr">exponent</span>: <span class="number">2</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// [1, 4, 9, 16]</span></span><br><span class="line"><span class="built_in">console</span>.log(a3); <span class="comment">// [1, 4, 9, 16]</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p><code>Array.of</code></p>
<p>ç”¨äºæ›¿ä»£ <code>Array.prototype.slice.call(arguments)</code> ï¼Œå°†ä¼ å…¥çš„å‚æ•°è½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
</li>
</ul>
<p>æ•°ç»„çš„ç´¢å¼•å€¼å¯ä»¥åŠ¨æ€ä¿®æ”¹ï¼Œå¹¶ä¸”ä¼šç›´æ¥å½±å“åˆ°æ•°ç»„çš„é•¿åº¦ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> options = [<span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>];</span><br><span class="line">options.length = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(options);</span><br><span class="line"><span class="comment">//Â [10, 9, 8, 7, 6, 5, 4, empty Ã— 3]</span></span><br><span class="line">options.length = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(options);</span><br><span class="line"><span class="comment">//Â [10, 9, 8]</span></span><br><span class="line">options[<span class="number">50</span>] = <span class="number">50</span>;</span><br><span class="line"><span class="built_in">console</span>.log(options);</span><br><span class="line"><span class="comment">// [10, 9, 8, empty Ã— 47, 50]</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ•°ç»„ä¸­è®¿é—®ä¸å­˜åœ¨çš„å…ƒç´ (ä¾‹å¦‚ä¸‹æ ‡è¶Šç•Œ)çš„æ—¶å€™ä¼šè¿”å› <code>undefined</code> ã€‚å‰é¢ä¹Ÿæåˆ°äº†è¢«è®¾ç½®ä¸º <code>empty</code> çš„æ•°ç»„å…ƒç´ è¢«è®¿é—®æ—¶ä¹Ÿæ˜¯è¢«å½“ä½œ <code>undefined</code> ã€‚</p>
<p>æ•°ç»„æœ€å¤šå¯ä»¥åŒ…å«çš„å…ƒç´ å€¼ä¸º <code>4 294 967 295</code> ã€‚</p>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li><code>instanceof</code></li>
<li><code>Array.isArray</code> </li>
</ul>
<p>ä¸¤è€…çš„åŒºåˆ«æ˜¯ <code>instanceof</code> çš„è¿”å›ç»“æœå–å†³äº <code>Array</code> æ„é€ å‡½æ•°(å³æ˜¯å¦ä¸ºæŸä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹)ï¼Œè€Œ <code>isArray</code> åªä¼šåˆ¤æ–­æ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p><code>Array</code> æ–°å¢çš„ä¸‰ä¸ªè¿­ä»£å™¨æ–¹æ³•ï¼š</p>
<ul>
<li><p><code>keys()</code></p>
<p>è¿”å›æ•°ç»„ç´¢å¼•çš„è¿­ä»£å™¨ã€‚</p>
</li>
<li><p><code>values()</code></p>
<p>è¿”å›æ•°ç»„å…ƒç´ çš„è¿­ä»£å™¨ã€‚</p>
</li>
<li><p><code>entries()</code></p>
<p>è¿”å›ç´¢å¼•å€¼å¯¹çš„è¿­ä»£å™¨ã€‚</p>
</li>
</ul>
<p>ä¸‰ä¸ªè¿­ä»£å™¨éƒ½å¯ä»¥é€šè¿‡ <code>Array.from</code> è½¬æ¢ä¸ºæ•°ç»„ã€‚ä¹Ÿå¯ä»¥ç”¨äº <code>for of</code> å¾ªç¯è¿­ä»£ã€‚</p>
<p><code>Array</code> æ–°å¢çš„å¤åˆ¶å’Œå¡«å……æ–¹æ³•ï¼š</p>
<ul>
<li><p><code>copyWithin(insertIndex, copyIndex, lastIndex)</code></p>
</li>
<li><p><code>fill(arg, startIndex, lastIndex)</code></p>
<p>ä¸¤ä¸ªæ–¹æ³•çš„ç´¢å¼•å€¼éƒ½æ”¯æŒè´Ÿå€¼ã€‚</p>
<p><code>copyWithin</code> ä» <code>copyIndex</code> å¼€å§‹å¤åˆ¶åˆ° <code>lastIndex</code> ç»“æŸ(å¯å¿½ç•¥)ï¼Œå¤åˆ¶åˆ° <code>insertIndex</code> ä½ç½®ã€‚è‹¥å¿½ç•¥å¤åˆ¶ç´¢å¼•åˆ™å…¨éƒ¨å¤åˆ¶ã€‚</p>
<p><code>fill</code> æ–¹æ³•å°†ç¬¬ä¸€ä¸ªå‚æ•°å¡«å……åˆ° <code>startIndex</code> å¼€å§‹åˆ° <code>lastIndex</code> å‰ä¸€ä¸ªä½ç½®ï¼Œè‹¥å¿½ç•¥ç´¢å¼•å€¼åˆ™æ•´ä¸ªæ•°ç»„è¿›è¡Œå¡«å……ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•çš„æ“ä½œéƒ½æ˜¯å¯¹åŸæœ‰å…ƒç´ çš„è¦†ç›–ã€‚</p>
</li>
</ul>
<h2 id="ç°ä»£-JavaScript-æ•™ç¨‹"><a href="#ç°ä»£-JavaScript-æ•™ç¨‹" class="headerlink" title="ç°ä»£ JavaScript æ•™ç¨‹"></a>ç°ä»£ JavaScript æ•™ç¨‹</h2><h3 id="break-continue"><a href="#break-continue" class="headerlink" title="break/continue"></a>break/continue</h3><p>éè¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„ä¸èƒ½ä¸ä¸‰å…ƒè¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i &gt; <span class="number">5</span>) &#123;</span><br><span class="line">  alert(i);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ²¡æœ‰é—®é¢˜</span></span><br><span class="line"></span><br><span class="line">(i &gt; <span class="number">5</span>) ? alert(i) : <span class="keyword">continue</span>; <span class="comment">// è¯­æ³•é”™è¯¯</span></span><br></pre></td></tr></table></figure>

<h4 id="æ ‡ç­¾ç”¨æ³•ï¼š"><a href="#æ ‡ç­¾ç”¨æ³•ï¼š" class="headerlink" title="æ ‡ç­¾ç”¨æ³•ï¼š"></a>æ ‡ç­¾ç”¨æ³•ï¼š</h4><p>é€‚ç”¨äºå¤šå±‚å¾ªç¯åµŒå¥—è·³å‡ºçš„åœºæ™¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">outer: <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (condition) <span class="keyword">break</span> outer; <span class="comment">// è‹¥æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è·³å‡ºè‡³æœ€å¤–å±‚ã€‚</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">alert(<span class="string">'Done!'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ï¼š"><a href="#ä»»åŠ¡ï¼š" class="headerlink" title="ä»»åŠ¡ï¼š"></a>ä»»åŠ¡ï¼š</h4><h5 id="1-æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼"><a href="#1-æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼" class="headerlink" title="1. æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼"></a>1. æœ€åä¸€æ¬¡å¾ªç¯çš„å€¼</h5><p>æ­¤ä»£ç æœ€åä¸€æ¬¡ <code>alert</code> å€¼æ˜¯å¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> (i) &#123;</span><br><span class="line">  alert( i-- );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆä¸º <code>1</code>  ï¼Œå¾ªç¯ä½“å†…ä½¿ç”¨äº†åç½®è‡ªå‡ï¼Œé‚£ä¹ˆåœ¨å¼¹å‡ºåæ‰ä¼šå¯¹ <code>i</code> è‡ªå‡ï¼Œå½“ <code>i</code> ä¸º <code>1</code> æ—¶ï¼Œå¼¹å‡ºæ˜¾ç¤ºï¼Œç„¶åè‡ªå‡ä¸º <code>0</code> , å†æ¬¡åˆ¤æ–­å¾ªç¯æ¡ä»¶ï¼Œä¸ç¬¦åˆï¼Œä¸å†è¿›å…¥å¾ªç¯ã€‚</p>
<h5 id="2-while-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"><a href="#2-while-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ" class="headerlink" title="2. while å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"></a>2. while å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ</h5><p>ä»¥ä¸‹ä¸¤ä¸ªå¾ªç¯çš„ <code>alert</code> å€¼æ˜¯å¦ç›¸åŒï¼Ÿ</p>
<ol>
<li><p>å‰ç¼€å½¢å¼ <code>++i</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (++i &lt; <span class="number">5</span>) alert( i );</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>åç¼€å½¢å¼ <code>i++</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i++ <span class="xml"><span class="tag">&lt; <span class="attr">5</span>) <span class="attr">alert</span>( <span class="attr">i</span> );</span></span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>ä¸¤ä¸ªå¾ªç¯çš„ <code>alert</code> å€¼å‰å››æ¬¡ç›¸ç­‰ï¼Œå› ä¸ºä¸ç®¡æ˜¯å‰ç½®è¿˜æ˜¯åç½®ï¼Œ<code>i</code> çš„è‡ªå¢éƒ½åœ¨æ¡ä»¶åˆ¤æ–­å¤„å®Œæˆï¼Œå¯¹äº <code>alert</code> ä¸å½±å“ã€‚</p>
<p>ä½†æ˜¯è‡ªå¢çš„æ—¶é—´å½±å“äº†å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ã€‚</p>
<p>å› ä¸ºç¬¬ä¸€ä¸ªå¾ªç¯æ˜¯è‡ªå¢åå†åˆ¤æ–­ï¼Œæ¯æ¬¡å¾ªç¯çš„ <code>i</code> ä¸º <code>1, 2, 3, 4, 5</code> , ç¬¬äº”æ¬¡å·²ç»æ— æ³•æ»¡è¶³æ¡ä»¶åˆ¤æ–­ï¼Œä¸å†è¿›å…¥å¾ªç¯ï¼Œæ‰€ä»¥åªæ‰“å°äº†å››æ¬¡ã€‚</p>
<p>ç¬¬äºŒä¸ªå¾ªç¯æ˜¯è‡ªå¢å‰åˆ¤æ–­ï¼Œåˆ¤æ–­æ—¶çš„ <code>i</code> å€¼ä¾æ¬¡ä¸º <code>0, 1, 2, 3, 4, 5</code> ï¼Œå› æ­¤è¯¥å¾ªç¯å¤šäº†ä¸€æ¬¡è¿›å…¥å¾ªç¯çš„æœºä¼šï¼Œå› ä¸ºè¿›å…¥å¾ªç¯æ—¶ <code>i</code> å·²ç»å®Œæˆè‡ªå¢ï¼Œæ‰€ä»¥æ‰“å°çš„å€¼ä¾æ¬¡ä¸º <code>1, 2, 3, 4, 5</code> ã€‚</p>
<h5 id="3-for-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"><a href="#3-for-å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ" class="headerlink" title="3. for å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ"></a>3. for å¾ªç¯æ˜¾ç¤ºå“ªäº›å€¼ï¼Ÿ</h5><p>ä¸¤æ¬¡å¾ªç¯ <code>alert</code> å€¼æ˜¯å¦ç›¸åŒï¼Ÿ</p>
<ol>
<li><p>åç¼€å½¢å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) alert( i );</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>å‰ç¼€å½¢å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) alert( i );</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>ä¸¤æ¬¡å¾ªç¯æ˜¾ç¤ºçš„å€¼å®Œå…¨ç›¸åŒï¼Œå› ä¸º <code>for</code> å¾ªç¯çš„è‡ªå¢æ¡ä»¶æ˜¯å•ç‹¬æ‰§è¡Œï¼Œä¸ä¸æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ä¸€èµ·ã€‚å†™æˆ <code>while</code> å¾ªç¯å°±æ˜¯ç±»ä¼¼äºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; <span class="number">5</span>)&#123;</span><br><span class="line">  alert(i);</span><br><span class="line">  i++;</span><br><span class="line">  <span class="comment">// or</span></span><br><span class="line">  ++i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™æ ·çš„è‡ªå¢æ— è®ºæ˜¯å‰ç½®è¿˜æ˜¯åç½®éƒ½æ²¡æœ‰å½±å“ã€‚</p>
<h5 id="4-ä½¿ç”¨-for-å¾ªç¯è¾“å‡ºå¶æ•°"><a href="#4-ä½¿ç”¨-for-å¾ªç¯è¾“å‡ºå¶æ•°" class="headerlink" title="4. ä½¿ç”¨ for å¾ªç¯è¾“å‡ºå¶æ•°"></a>4. ä½¿ç”¨ for å¾ªç¯è¾“å‡ºå¶æ•°</h5><p>ä½¿ç”¨ <code>for</code> å¾ªç¯è¾“å‡ºä» <code>2</code> åˆ° <code>10</code> çš„å¶æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2 4 6 8 10</span></span><br></pre></td></tr></table></figure>

<h5 id="5-ä½¿ç”¨-while-æ›¿æ¢-for"><a href="#5-ä½¿ç”¨-while-æ›¿æ¢-for" class="headerlink" title="5. ä½¿ç”¨ while æ›¿æ¢ for"></a>5. ä½¿ç”¨ while æ›¿æ¢ for</h5><p>é‡å†™ä»£ç ï¼Œåœ¨ä¿è¯ä¸æ”¹å˜å…¶è¡Œä¸ºçš„æƒ…å†µä¸‹ï¼Œå°† <code>for</code> å¾ªç¯æ›´æ”¹ä¸º <code>while</code>ï¼ˆè¾“å‡ºåº”ä¿æŒä¸å˜ï¼‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  alert( <span class="string">`number <span class="subst">$&#123;i&#125;</span>!`</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">  alert( <span class="string">`number <span class="subst">$&#123;i&#125;</span>!`</span> );</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6-é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢"><a href="#6-é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢" class="headerlink" title="6. é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢"></a>6. é‡å¤è¾“å…¥ï¼Œç›´åˆ°æ­£ç¡®ä¸ºæ­¢</h5><p>ç¼–å†™ä¸€ä¸ªæç¤ºç”¨æˆ·è¾“å…¥å¤§äº <code>100</code> çš„æ•°å­—çš„å¾ªç¯ã€‚å¦‚æœç”¨æˆ·è¾“å…¥å…¶ä»–æ•°å€¼ â€”â€” è¯·ä»–é‡æ–°è¾“å…¥ã€‚</p>
<p>å¾ªç¯ä¸€ç›´åœ¨è¯·æ±‚ä¸€ä¸ªæ•°å­—ï¼Œç›´åˆ°ç”¨æˆ·è¾“å…¥äº†ä¸€ä¸ªå¤§äº <code>100</code> çš„æ•°å­—ã€å–æ¶ˆè¾“å…¥æˆ–è¾“å…¥äº†ä¸€ä¸ªç©ºè¡Œä¸ºæ­¢ã€‚</p>
<p>åœ¨è¿™æˆ‘ä»¬å‡è®¾ç”¨æˆ·åªä¼šè¾“å…¥æ•°å­—ã€‚åœ¨æœ¬é¢˜ç›®ä¸­ï¼Œä¸éœ€è¦å¯¹éæ•°å€¼è¾“å…¥è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> input = prompt(<span class="string">'please input a number greater than 100!'</span>);</span><br><span class="line"><span class="keyword">while</span>(input &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (input === <span class="literal">null</span>) &#123;</span><br><span class="line">    alert(<span class="string">'input canceled.'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (input === <span class="string">''</span>) &#123;</span><br><span class="line">    alert(<span class="string">'you enter a nothing.'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  input = prompt(<span class="string">'please input a number greater than 100!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒè§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> num;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  num = prompt(<span class="string">"Enter a number greater than 100?"</span>, <span class="number">0</span>);</span><br><span class="line">&#125; <span class="keyword">while</span> (num &lt;= <span class="number">100</span> &amp;&amp; num);</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç®€æ´ï¼Œåˆ©ç”¨äº† <code>do while</code> å¾ªç¯çš„ç‰¹æ€§ã€‚</p>
<h5 id="7-è¾“å‡ºç´ æ•°"><a href="#7-è¾“å‡ºç´ æ•°" class="headerlink" title="7. è¾“å‡ºç´ æ•°"></a>7. è¾“å‡ºç´ æ•°</h5><p>å¤§äº <code>1</code> ä¸”ä¸èƒ½è¢«é™¤äº† <code>1</code> å’Œå®ƒæœ¬èº«ä»¥å¤–çš„ä»»ä½•æ•°æ•´é™¤çš„æ•´æ•°å«åš<a href="https://en.wikipedia.org/wiki/Prime_number" target="_blank" rel="noopener">ç´ æ•°</a>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œ<code>n &gt; 1</code> ä¸”ä¸èƒ½è¢« <code>1</code> å’Œ <code>n</code> ä»¥å¤–çš„ä»»ä½•æ•°æ•´é™¤çš„æ•´æ•°ï¼Œè¢«ç§°ä¸ºç´ æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>5</code> æ˜¯ç´ æ•°ï¼Œå› ä¸ºå®ƒä¸èƒ½è¢« <code>2</code>ã€<code>3</code> å’Œ <code>4</code> æ•´é™¤ï¼Œä¼šäº§ç”Ÿä½™æ•°ã€‚</p>
<p><strong>å†™ä¸€ä¸ªå¯ä»¥è¾“å‡º <code>2</code> åˆ° <code>n</code> ä¹‹é—´çš„æ‰€æœ‰ç´ æ•°çš„ä»£ç ã€‚</strong></p>
<p>å½“ <code>n = 10</code>ï¼Œç»“æœè¾“å‡º <code>2ã€3ã€5ã€7</code>ã€‚</p>
<p>P.S. ä»£ç åº”é€‚ç”¨äºä»»ä½• <code>n</code>ï¼Œè€Œä¸æ˜¯å¯¹ä»»ä½•å›ºå®šå€¼è¿›è¡Œç¡¬æ€§è°ƒæ•´ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> n = prompt(<span class="string">''</span>, <span class="number">2</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPrime</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'the n invalid'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.sqrt(n));</span><br><span class="line">  <span class="keyword">while</span> (num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n === num) &#123;</span><br><span class="line">      num--;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n % num === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num--;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (isPrime(i)) arr.push(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-æ·±å…¥å­¦ä¹ "><a href="#JavaScript-æ·±å…¥å­¦ä¹ " class="headerlink" title="JavaScript æ·±å…¥å­¦ä¹ "></a>JavaScript æ·±å…¥å­¦ä¹ </h2><h3 id="æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•"><a href="#æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•" class="headerlink" title="æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•"></a>æ‰‹å†™æ•°ç»„åŸå‹æ–¹æ³•</h3><h4 id="unshift-æ–¹æ³•"><a href="#unshift-æ–¹æ³•" class="headerlink" title="unshift æ–¹æ³•"></a>unshift æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.myUnShift = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = <span class="built_in">arguments</span>.length;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">this</span>.splice(i, <span class="number">0</span>, <span class="built_in">arguments</span>[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº"><a href="#æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº" class="headerlink" title="æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº"></a>æ•°ç»„å…ƒç´ æŒ‰ç…§å­—èŠ‚é•¿åº¦æ’åº</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBytes</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = str.length;</span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str.charCodeAt(i) &gt; <span class="number">255</span>) len++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'today'</span>, <span class="string">'ä»Šå¤©'</span>, <span class="string">'ok'</span>, <span class="string">'haha'</span>, <span class="string">'you say ä»€ä¹ˆ'</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> getBytes(a) - getBytes(b);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">// Â ["ok", "ä»Šå¤©", "haha", "today", "you say ä»€ä¹ˆ"]</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„-typeof-å‡½æ•°"><a href="#æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„-typeof-å‡½æ•°" class="headerlink" title="æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„ typeof å‡½æ•°"></a>æ‰‹å†™å¯ä»¥åˆ¤æ–­æ‰€æœ‰ç±»å‹çš„ typeof å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTypeof</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> type = <span class="keyword">typeof</span> arg;</span><br><span class="line">  <span class="keyword">var</span> toStr = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line">  <span class="keyword">if</span> (arg === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'null'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> toStr.call(arg).slice(<span class="number">8</span>, <span class="number">-1</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> type;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">myTypeof([]); <span class="comment">// "Array"</span></span><br><span class="line">myTypeof(&#123;&#125;); <span class="comment">// "Object"</span></span><br><span class="line">myTypeof(<span class="number">123</span>); <span class="comment">// "number"</span></span><br><span class="line">myTypeof(<span class="string">'123'</span>); <span class="comment">// "string"</span></span><br><span class="line">myTypeof(<span class="literal">false</span>); <span class="comment">// "boolean"</span></span><br><span class="line">myTypeof(<span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>)); <span class="comment">// "Number"</span></span><br><span class="line">myTypeof(<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'123'</span>)); <span class="comment">// "String"</span></span><br><span class="line">myTypeof(<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)); <span class="comment">// "Boolean"</span></span><br><span class="line">myTypeof(<span class="literal">null</span>); <span class="comment">// "null"</span></span><br><span class="line">myTypeof(<span class="literal">undefined</span>); <span class="comment">// "undefined"</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length;</span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> item = <span class="keyword">this</span>[i];</span><br><span class="line">    <span class="keyword">if</span> (newArr.indexOf(item) === <span class="number">-1</span>) &#123;</span><br><span class="line">      newArr.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="string">'a'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(test.unique());</span><br><span class="line"><span class="comment">//Â [1, 2, 3, 5, "a"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length;</span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = <span class="keyword">this</span>[i];</span><br><span class="line">    <span class="keyword">if</span> (!obj.hasOwnProperty(item)) &#123;</span><br><span class="line">      obj[item] = <span class="literal">true</span>;</span><br><span class="line">      newArr.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="string">'a'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(test.unique());</span><br><span class="line"><span class="comment">// [1, 2, 3, 5, "a"]</span></span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²å»é‡"><a href="#å­—ç¬¦ä¸²å»é‡" class="headerlink" title="å­—ç¬¦ä¸²å»é‡"></a>å­—ç¬¦ä¸²å»é‡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.unique = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newStr = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length;</span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(<span class="keyword">this</span>[i])) <span class="keyword">continue</span>;</span><br><span class="line">    obj[<span class="keyword">this</span>[i]] = <span class="literal">true</span>;</span><br><span class="line">    newStr += <span class="keyword">this</span>[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newStr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'122132312341nfskdjfhhhrbbfjsdhfuke'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.unique());</span><br><span class="line"><span class="comment">// 1234nfskdjhrbue</span></span><br></pre></td></tr></table></figure>

<h3 id="é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦"><a href="#é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦" class="headerlink" title="é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦"></a>é‡å¤å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸é‡å¤å­—ç¬¦</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = str.length;</span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  <span class="keyword">var</span> j;</span><br><span class="line">  <span class="keyword">var</span> flag;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> tmp1 = str[i];</span><br><span class="line">    <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> tmp2 = str[j];</span><br><span class="line">      <span class="keyword">if</span> (tmp1 === tmp2) &#123;</span><br><span class="line">        flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag === <span class="literal">true</span>) <span class="keyword">return</span> str[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'12213a231234qqqqeuerhkrjbrkfmigrhiofjcrjef'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(find(str));</span><br><span class="line"><span class="comment">// a</span></span><br></pre></td></tr></table></figure>

<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li><p><code>arguments</code> ç±»å‹ä¸º <code>object</code></p>
</li>
<li><pre><code class="js"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>{
  <span class="built_in">console</span>.log(a);
  <span class="built_in">console</span>.log(test);
  <span class="built_in">console</span>.log(test.name);
  <span class="built_in">console</span>.log(test === a);
}
a(); <span class="comment">// a is not defined</span>
test();
<span class="comment">// Æ’ a() {</span>
<span class="comment">//   console.log(a);</span>
<span class="comment">//   console.log(test);</span>
<span class="comment">//   console.log(test.name);</span>
<span class="comment">//   console.log(test === a);</span>
<span class="comment">// }</span>
<span class="comment">// Æ’ a() {</span>
<span class="comment">//   console.log(a);</span>
<span class="comment">//   console.log(test);</span>
<span class="comment">//   console.log(test.name);</span>
<span class="comment">//   console.log(test === a);</span>
<span class="comment">// }</span>
<span class="comment">// a</span>
<span class="comment">// true</span></code></pre>
</li>
</ul>
<h2 id="TODO-LIST"><a href="#TODO-LIST" class="headerlink" title="TODO-LIST"></a>TODO-LIST</h2><ul>
<li><input disabled type="checkbox"> æƒ³å°è¯•ä¸€ä¸‹ <code>hugo</code> ä½œä¸ºåšå®¢ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-4</title>
    <url>/2020/06/07/VueNote-4/</url>
    <content><![CDATA[<h1 id="Vueç¬”è®°-â‘£"><a href="#Vueç¬”è®°-â‘£" class="headerlink" title="Vueç¬”è®° â‘£"></a>Vueç¬”è®° â‘£</h1><h2 id="ğŸ“ƒ-æ­£æ–‡"><a href="#ğŸ“ƒ-æ­£æ–‡" class="headerlink" title="ğŸ“ƒ æ­£æ–‡"></a>ğŸ“ƒ æ­£æ–‡</h2><h3 id="â‘ -Vue-å•æ–‡ä»¶ç»„ä»¶"><a href="#â‘ -Vue-å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="â‘  Vue å•æ–‡ä»¶ç»„ä»¶"></a>â‘  Vue å•æ–‡ä»¶ç»„ä»¶</h3><h4 id="1-1-style-ä¸­çš„-scoped"><a href="#1-1-style-ä¸­çš„-scoped" class="headerlink" title="1.1 style ä¸­çš„ scoped"></a>1.1 style ä¸­çš„ scoped</h4><p>åœ¨ <code>Vue</code> çš„å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œæœ‰ <code>template</code> , <code>script</code>, <code>style</code> ä¸‰ç§æ ‡ç­¾ã€‚å…¶ä¸­çš„ <code>style</code> æœ‰ä¸€ä¸ª <code>scoped</code> å±æ€§ã€‚åœ¨æ–‡æ¡£ä¸­çš„è§£é‡Šä¸º</p>
<blockquote>
<p>å½“ <code>style</code>  æ ‡ç­¾æœ‰ <code>scoped</code> å±æ€§æ—¶ï¼Œå®ƒçš„ <code>CSS</code> åªä½œç”¨äºå½“å‰ç»„ä»¶ä¸­çš„å…ƒç´ ã€‚è¿™ç±»ä¼¼äº <code>Shadow DOM</code> ä¸­çš„æ ·å¼å°è£…ã€‚</p>
</blockquote>
<p>å®é™…äº§ç”Ÿçš„æ•ˆæœä¸ºï¼Œå½“å‰é¡µé¢çš„æŸäº›å…ƒç´ éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç‰¹å±æ€§ï¼Œè€Œæˆ‘ä»¬å†™çš„æ ·å¼éƒ½ä¼šåŒ¹é…è¿™ä¸ªç‹¬ç‰¹çš„å±æ€§æ¥ä¿æŒä¸è¢«å…¶ä½™ç»„ä»¶å½±å“ã€‚</p>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.example</span> &#123;</span></span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"example"</span>&gt;</span>hi<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è½¬æ¢ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.example</span><span class="selector-attr">[data-v-f3f3eg9]</span> &#123;</span></span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"example"</span> <span class="attr">data-v-f3f3eg9</span>&gt;</span>hi<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªç‹¬ç‰¹å±æ€§åªä¼šå‡ºç°åœ¨å½“å‰é¡µé¢çš„ç›´æ¥ä½¿ç”¨çš„æ ‡ç­¾ä¸Šï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„ç»„ä»¶çš„æœ€å¤–å±‚çˆ¶å…ƒç´ ã€‚é‚£ä¹ˆæƒ³è¦æ ¹æ®è½¬æ¢è§„åˆ™ï¼Œæ˜¯æ— æ³•åŒ¹é…åˆ°è¿™ä¸ªç»„ä»¶çš„å†…éƒ¨å…ƒç´ çš„ã€‚æƒ³è¦å†²ç ´è¿™ä¸ªè§„åˆ™è€Œä¸å–æ¶ˆ <code>scoped</code> å±æ€§ï¼Œå°±éœ€è¦æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚</p>
<p>åŸç”Ÿä¸­å¯ä»¥ç¼–å†™ä»¥ä¸‹ä»£ç æ¥ä½¿æ ·å¼ä½œç”¨å˜æ·±ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.a</span> &gt;&gt;&gt; <span class="selector-class">.b</span> &#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è½¬æ¢ä¸ºï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.a</span><span class="selector-attr">[data-v-f3f3eg9]</span> <span class="selector-class">.b</span> &#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œ<code>css</code> é¢„å¤„ç†å™¨ä¹Ÿè®¸æ— æ³•è§£æè¿™ç§è¯­æ³•ï¼Œå¯ä»¥ç”¨ <code>/deep/</code> å’Œ <code>::v-deep</code> æ¥ä»£æ›¿ã€‚</p>
<h4 id="1-2-Node-API-æœåŠ¡å™¨é…ç½®"><a href="#1-2-Node-API-æœåŠ¡å™¨é…ç½®" class="headerlink" title="1.2  Node API æœåŠ¡å™¨é…ç½®"></a>1.2  Node API æœåŠ¡å™¨é…ç½®</h4><h5 id="1-2-1-æƒ³è¦å·æ‡’çš„å¼€å§‹"><a href="#1-2-1-æƒ³è¦å·æ‡’çš„å¼€å§‹" class="headerlink" title="1.2.1 æƒ³è¦å·æ‡’çš„å¼€å§‹"></a>1.2.1 æƒ³è¦å·æ‡’çš„å¼€å§‹</h5><p>å†™é¡¹ç›®çš„æ—¶å€™ï¼Œå› ä¸ºåœ¨æœ¬åœ°è·‘çš„è¯ï¼Œè¦å¼€ <code>MySQL</code> æœåŠ¡è¿˜è¦å¼€åç«¯ä¸€ä¸ªæœåŠ¡ï¼Œæˆ‘è§‰å¾—çƒ¦ä¸”å ç”¨èµ„æºã€‚æ‰€ä»¥å‡†å¤‡é…ç½®åˆ°æˆ‘çš„å°éœ¸ç‹æœºå™¨ä¸Šã€‚</p>
<h5 id="1-2-2-é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡"><a href="#1-2-2-é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡" class="headerlink" title="1.2.2 é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡"></a>1.2.2 é¢å‘æœç´¢å¼•æ“çš„ç»è¿‡</h5><p>å› ä¸ºåŸå…ˆåœ¨å°éœ¸ç‹é‡Œè£…å¥½äº†å®å¡” <code>Linux</code> é¢æ¿ï¼Œæ‰€ä»¥ç›´æ¥å»æœç´¢ <code>pm2</code> ç®¡ç†å™¨ï¼Œä½†æ˜¯æˆ‘éšæ‰‹ç‚¹å‡»å®‰è£…çš„å…¶ä»–è½¯ä»¶éƒ½è£…å¥½äº†ï¼Œ <code>pm2</code> ç®¡ç†å™¨è¿˜æ˜¯è·Ÿæ²¡è£…ä¼¼çš„ã€‚äºæ˜¯æœç´¢äº†ä¸€ç•ªï¼Œæ‰“å°å‡ºå®‰è£…æ—¶çš„æ—¥å¿—ä¿¡æ¯ä¸€çœ‹ï¼Œå‘ç°æ— æ³•è¿æ¥åˆ° <code>github</code> ï¼Œäºæ˜¯ç…§ç€è¿™ä¸ªæ–¹æ³•å»æœç´¢ï¼Œåˆæ˜¯æ›´æ”¹ <code>github</code> çš„ <code>ip</code> åœ°å€ï¼Œåˆæ˜¯é…ç½® <code>git</code> çš„è´¦å·ä¿¡æ¯ï¼Œåˆæ˜¯è®¾ç½®ä»£ç†ã€‚</p>
<p><strong>é€šé€šæ²¡æœ‰ç”¨</strong></p>
<p>äºæ˜¯åˆä»”ç»†æŸ¥çœ‹äº†ä¸€ä¸‹æŠ¥é”™ä¿¡æ¯ï¼Œå‘ç°æ˜¾ç¤º <code>443</code> é”™è¯¯ã€‚æˆ‘è‡ªå·±æƒ³äº†ä¸€ä¸‹ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰æ”¾è¡Œç«¯å£çš„åŸå› ï¼Œäºæ˜¯å»æ§åˆ¶å°æŠŠå‡ºå…¥çš„ <code>443</code> ç«¯å£éƒ½æ”¾äº†ä¸€ä¸‹ã€‚éªŒè¯å‡ºæ¥æ˜¯å‡ºè¡Œçš„ç«¯å£çš„é—®é¢˜ã€‚</p>
<h5 id="1-2-3-å®‰è£…å¥½çš„ç»“æœ"><a href="#1-2-3-å®‰è£…å¥½çš„ç»“æœ" class="headerlink" title="1.2.3 å®‰è£…å¥½çš„ç»“æœ"></a>1.2.3 å®‰è£…å¥½çš„ç»“æœ</h5><p>å®‰è£…å¥½ä»¥åè¿˜æ˜¯æ²¡æœ‰æ­£å¸¸è¿è¡Œï¼Œå› ä¸ºæ–°å»ºçš„é¡¹ç›®æ— æ³•è¿›è¡Œæ˜ å°„ï¼Œä¹ŸæŸ¥ä¸åˆ°ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯â€¦â€¦</p>
<p>äºæ˜¯åœ¨å¯ä»¥è¿é€š <code>github</code> çš„æƒ…å†µä¸‹ï¼Œæˆ‘åªå¥½è‡ªå·±ç”¨ <code>npm</code> ä¸‹è½½äº† <code>forever</code> æ¥è¿è¡Œï¼Œæ‡’å¾—ä¸‹ <code>pm2</code> å†å¼„äº†ã€‚</p>
<h4 id="1-3-token-çš„ä½¿ç”¨"><a href="#1-3-token-çš„ä½¿ç”¨" class="headerlink" title="1.3  token çš„ä½¿ç”¨"></a>1.3  token çš„ä½¿ç”¨</h4><p><code>token</code> è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘ä¹Ÿæ˜¯ç»å†äº†ä»å®Œå…¨å¼„ä¸æ‡‚åˆ°ç›®å‰å¤§æ¦‚çŸ¥é“ä½œç”¨çš„æƒ…å†µäº†ï¼Œè¿™ä¸€æ¬¡å­¦ç€å†™åå°ç®¡ç†ç³»ç»Ÿï¼Œä¹Ÿç”¨åˆ°äº† <code>token</code> ã€‚å¤§æ¦‚å†™ä¸€ä¸‹æ–°äº†è§£åˆ°çš„ä¸œè¥¿ã€‚</p>
<h5 id="1-3-1-æŒä¹…æ€§-ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶"><a href="#1-3-1-æŒä¹…æ€§-ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶" class="headerlink" title="1.3.1 æŒä¹…æ€§/ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶"></a>1.3.1 æŒä¹…æ€§/ä¼šè¯æœŸé—´å­˜å‚¨æœºåˆ¶</h5><p>åœ¨è·å– <code>token</code> ä¹‹åæ˜¯éœ€è¦ä¸´æ—¶ä¿å­˜ä½è¿™ä¸ªå­—ç¬¦ä¸²æ¥ä½¿ç”¨çš„ï¼Œè€Œæˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯å­˜å‚¨åœ¨ <code>localstorage</code> ä¸­ï¼Œç„¶ååˆæƒ³ç€ï¼Œä¸€ç›´å­˜åœ¨é‡Œå¤´ï¼Œæ¯æ¬¡æ‰“å¼€ä¸éƒ½ç›´æ¥ç™»ä¸Šäº†å—ï¼Ÿ</p>
<p>è™½ç„¶ä¹‹å‰å†™äº†ç‚¹é¡¹ç›®ä½¿ç”¨è¿‡ <code>token</code> ï¼Œä½†å½“æ—¶é‚£ä¸ªé¡¹ç›®çš„ç™»é™†æœºåˆ¶æ˜¯ä¹ä¸ç‰ˆçš„ï¼Œäºæ˜¯æˆ‘ä¹Ÿå°±æ²¡åœ¨æ„ã€‚</p>
<p>è¿™æ¬¡äº†è§£åˆ° <code>token</code> å¯ä»¥å­˜å‚¨åœ¨ <code>sessionStorage</code> ä¸­æ¥è¿›è¡Œä¼šè¯æœŸé—´çš„è´¦æˆ·éªŒè¯ã€‚å¯ä»¥ä¿è¯è¿™ä¸ª <code>token</code> åªåœ¨å½“å‰ç½‘ç«™æ‰“å¼€æœŸé—´ç”Ÿæ•ˆã€‚</p>
<h4 id="1-4-éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶"><a href="#1-4-éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶" class="headerlink" title="1.4 éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶"></a>1.4 éç™»é™†çŠ¶æ€çš„è®¿é—®é™åˆ¶</h4><p>ä¸€ä¸ªéå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œå³åœ¨éç™»é™†çŠ¶æ€ä¸‹å¯¹éç™»é™†é¡µé¢çš„è®¿é—®é™åˆ¶ã€‚å¯ä»¥ä½¿ç”¨è·¯ç”±å¯¼èˆªå®ˆå«æ¥æ§åˆ¶è®¿é—®æƒé™ã€‚</p>
<p>åœ¨æœªç™»å½•çš„çŠ¶æ€ä¸‹ï¼Œæ˜¯æ²¡æœ‰ <code>token</code> çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>router.beforeEach</code> æ¥æ§åˆ¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// to ä»£è¡¨å°†è¦è®¿é—®çš„è·¯å¾„</span></span><br><span class="line">  <span class="comment">// from ä»£è¡¨ä»å“ªä¸ªè·¯å¾„è€Œæ¥</span></span><br><span class="line">  <span class="comment">// next ä¸ºä¸€ä¸ªå‡½æ•°ä¸ºæ¥ä¸‹æ¥è·³è½¬</span></span><br><span class="line">  <span class="keyword">if</span> (to.path === <span class="string">'/login'</span>) <span class="keyword">return</span> next();</span><br><span class="line">  <span class="keyword">const</span> token = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">'token'</span>);</span><br><span class="line">  <span class="keyword">if</span> (!token) <span class="keyword">return</span> next(<span class="string">'/login'</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="1-5-vscode-è¯­æ³•æ ¼å¼åŒ–ä¸-eslint-å†²çªé—®é¢˜"><a href="#1-5-vscode-è¯­æ³•æ ¼å¼åŒ–ä¸-eslint-å†²çªé—®é¢˜" class="headerlink" title="1.5 vscode è¯­æ³•æ ¼å¼åŒ–ä¸ eslint å†²çªé—®é¢˜"></a>1.5 vscode è¯­æ³•æ ¼å¼åŒ–ä¸ eslint å†²çªé—®é¢˜</h4><p>åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œ<code>eslint</code> æœ‰ä¸€äº›è§„åˆ™æ¯”è¾ƒè‹›åˆ»ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²åªèƒ½ç”¨å•å¼•å·è¡¨ç¤ºï¼Œä¸èƒ½æœ‰è¡Œå°¾ç©ºæ ¼ï¼Œæ¯ä¸ªæ–‡ä»¶æœ€åéœ€è¦èµ·ä¸€ä¸ªæ–°è¡Œã€‚</p>
<p>é‚£ä¹ˆåœ¨ <code>vscode</code> çš„è‡ªåŠ¨æ ¼å¼åŒ–ä¸ <code>eslint</code> äº§ç”Ÿå†²çªçš„æ—¶å€™éœ€è¦å¯¹å…¶ä¸­ä¸€æ–¹è¿›è¡Œé…ç½®ï¼Œ <code>eslint</code> çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬éƒ½ä¼šåœ¨é¡¹ç›®åˆ›å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆã€‚è¿™é‡Œæä¸€ä¸‹ <code>vscode</code> çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>.prettierrc</code> æ¥è¿›è¡Œé…ç½®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//æ ¼å¼åŒ–æ—¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·</span></span><br><span class="line">    <span class="string">"semi"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//æ ¼å¼åŒ–æ—¶ç”Ÿæˆå•å¼•å·</span></span><br><span class="line">    <span class="string">"singleQuote"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//å•è¡Œæ‰€å…è®¸çš„å­—ç¬¦é•¿åº¦ è‹¥è¶…è¿‡åˆ™ä¼šè‡ªåŠ¨æ¢è¡Œ</span></span><br><span class="line">    <span class="string">"printWidth"</span>: <span class="number">200</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥"><a href="#1-6-è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥" class="headerlink" title="1.6 è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥"></a>1.6 è·¯ç”±è·³è½¬çš„å‚æ•°æ³¨å…¥</h4><p>åœ¨ä½¿ç”¨è·¯ç”±è·³è½¬åˆ°æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨è·¯å¾„ä¸­æ”¾å…¥ä¸€ä¸ª <code>id</code> æ¥è·å–æŒ‡å®šçš„æ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥åœ¨è·¯ç”±é…ç½®æ—¶ï¼ŒæŒ‡å®š <code>props</code> ä¸º <code>true</code> æ¥è¡¨æ˜å‚æ•°çš„æ³¨å…¥ï¼Œç„¶åå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>props</code> æ¥æ¥æ”¶è¿™ä¸ªå‚æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/categories/edit/:id'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/views/CategoryEdit.vue'</span>),</span><br><span class="line">  props: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'CategoryEdit'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    id: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶å <code>id</code> å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªå˜é‡ç›´æ¥ä½¿ç”¨</p>
<h3 id="â‘¡-é¡¹ç›®ä¼˜åŒ–"><a href="#â‘¡-é¡¹ç›®ä¼˜åŒ–" class="headerlink" title="â‘¡ é¡¹ç›®ä¼˜åŒ–"></a>â‘¡ é¡¹ç›®ä¼˜åŒ–</h3><h4 id="2-1-é¡¹ç›®ä¼˜åŒ–ç­–ç•¥"><a href="#2-1-é¡¹ç›®ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="2.1 é¡¹ç›®ä¼˜åŒ–ç­–ç•¥"></a>2.1 é¡¹ç›®ä¼˜åŒ–ç­–ç•¥</h4><h5 id="2-1-1-ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š"><a href="#2-1-1-ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š" class="headerlink" title="2.1.1 ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š"></a>2.1.1 ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š</h5><p>æ‰“åŒ…æ—¶ï¼Œä¸ºäº†ç›´è§‚åœ°å‘ç°é¡¹ç›®ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œå¯ä»¥åœ¨æ‰“åŒ…æ—¶ç”ŸæˆæŠ¥å‘Šã€‚ç”ŸæˆæŠ¥å‘Šçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<h6 id="â‘ -é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š"><a href="#â‘ -é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š" class="headerlink" title="â‘  é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š"></a>â‘  é€šè¿‡å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ç”ŸæˆæŠ¥å‘Š</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ vue-cli çš„å‘½ä»¤é€‰é¡¹å¯ä»¥ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Š</span></span><br><span class="line"><span class="comment">// --report é€‰é¡¹å¯ä»¥ç”Ÿæˆ report.html ä»¥å¸®åŠ©åˆ†æåŒ…å†…å®¹</span></span><br><span class="line">vue-cli-service build --report</span><br></pre></td></tr></table></figure>

<h6 id="â‘¡-é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š"><a href="#â‘¡-é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š" class="headerlink" title="â‘¡ é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š"></a>â‘¡ é€šè¿‡å¯è§†åŒ–çš„UIé¢æ¿ç›´æ¥æŸ¥çœ‹æŠ¥å‘Š</h6><p>åœ¨å¯è§†åŒ–çš„UIé¢æ¿ä¸­ï¼Œé€šè¿‡<strong>æ§åˆ¶å°</strong>å’Œ<strong>åˆ†æ</strong>é¢æ¿ï¼Œå¯ä»¥æ–¹ä¾¿åœ°çœ‹åˆ°é¡¹ç›®ä¸­å­˜åœ¨çš„é—®é¢˜ã€‚</p>
<h5 id="2-1-2-ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£"><a href="#2-1-2-ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£" class="headerlink" title="2.1.2 ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£"></a>2.1.2 ä¸ºå¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼æŒ‡å®šä¸åŒçš„æ‰“åŒ…å…¥å£</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue é¡¹ç›®çš„å¼€å‘æ¨¡å¼ä¸å‘å¸ƒæ¨¡å¼ï¼Œå…¬ç”¨åŒä¸€ä¸ªæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ (src/main.js)ã€‚ä¸ºäº†å°†é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸å‘å¸ƒè¿‡ç¨‹åˆ†ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸¤ç§æ¨¡å¼å„è‡ªæŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ï¼Œå³ï¼š</p>
<p>â‘  å¼€å‘æ¨¡å¼çš„å…¥å£æ–‡ä»¶ä¸º src/main-dev.js</p>
<p>â‘¡ å‘å¸ƒæ¨¡å¼çš„å…¥å£æ–‡ä»¶ä¸º src/main-prod.js</p>
<p>åœ¨ <code>vue.config.js</code> å¯¼å‡ºçš„é…ç½®å¯¹è±¡ä¸­ï¼Œæ–°å¢ <code>configureWebpack</code> æˆ– <code>chainWebpack</code> èŠ‚ç‚¹ï¼Œ æ¥è‡ªå®šä¹‰ <code>webpack</code> çš„æ‰“åŒ…é…ç½®ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œ <code>configureWebpack</code> å’Œ <code>chainWebpack</code> çš„ä½œç”¨ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬ä¿®æ”¹ <code>webpack</code> é…ç½®çš„æ–¹å¼ä¸åŒï¼š</p>
<p>â‘  <code>chainWebpack</code> é€šè¿‡é“¾å¼ç¼–ç¨‹çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ <code>webpack</code> é…ç½®ã€‚</p>
<p>â‘¡ <code>configureWebpack</code> é€šè¿‡æ“ä½œå¯¹è±¡çš„å½¢å¼ï¼Œæ¥ä¿®æ”¹é»˜è®¤çš„ <code>webpack</code> é…ç½®ã€‚</p>
<h5 id="2-1-2-ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN"><a href="#2-1-2-ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN" class="headerlink" title="2.1.2 ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN"></a>2.1.2 ç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡ import è¯­æ³•å¯¼å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œæœ€ç»ˆä¼šè¢«æ‰“åŒ…åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä»è€Œå¯¼è‡´æ‰“åŒ…æˆåŠŸåï¼Œå•æ–‡ä»¶ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ã€‚</p>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ webpack çš„ externals èŠ‚ç‚¹ï¼Œæ¥é…ç½®å¹¶åŠ è½½å¤–éƒ¨çš„ CDN èµ„æºã€‚å‡¡æ˜¯å£°æ˜åœ¨ externals ä¸­çš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œéƒ½ä¸ä¼šè¢«æ‰“åŒ…ã€‚</p>
<h5 id="2-1-3-Element-UI-ç»„ä»¶æŒ‰éœ€åŠ è½½"><a href="#2-1-3-Element-UI-ç»„ä»¶æŒ‰éœ€åŠ è½½" class="headerlink" title="2.1.3 Element-UI ç»„ä»¶æŒ‰éœ€åŠ è½½"></a>2.1.3 Element-UI ç»„ä»¶æŒ‰éœ€åŠ è½½</h5><p>æ³¨é‡Šæ‰ <code>element-UI</code> çš„æŒ‰éœ€å¼•å…¥æ’ä»¶çš„å¯¼å…¥ï¼Œå¼•å…¥ <code>cdn</code> é“¾æ¥å¯¼å…¥ <code>js</code> å’Œ <code>css</code> å³å¯ã€‚</p>
<h5 id="2-1-4-è·¯ç”±æ‡’åŠ è½½"><a href="#2-1-4-è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="2.1.4 è·¯ç”±æ‡’åŠ è½½"></a>2.1.4 è·¯ç”±æ‡’åŠ è½½</h5><p>è·¯ç”±æ‡’åŠ è½½å³ä¸ºåœ¨è·¯ç”±æŒ‡å®šç»„ä»¶çš„æ—¶å€™ç”¨å‡½æ•°çš„å½¢å¼æ¥å¼•å…¥ç»„ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/login'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/Login.vue'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‹¥æ˜¯æƒ³è¦å°†éƒ¨åˆ†ç»„ä»¶æ‰“åŒ…åœ¨ä¸€èµ·å¯ä»¥è¿™æ ·æŒ‡å®š:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/login'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "group-foo" */</span><span class="string">'@/components/Login.vue'</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/test'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "group-foo" */</span><span class="string">'@/components/test.vue'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="2-1-5-é¦–é¡µå†…å®¹å®šåˆ¶"><a href="#2-1-5-é¦–é¡µå†…å®¹å®šåˆ¶" class="headerlink" title="2.1.5 é¦–é¡µå†…å®¹å®šåˆ¶"></a>2.1.5 é¦–é¡µå†…å®¹å®šåˆ¶</h5><p>åœ¨ <code>vue.config.js</code> ä¸­ç»™ <code>html</code> æ’ä»¶å†™å…¥ä¸€ä¸ªå±æ€§æ¥æ§åˆ¶ <code>index.html</code> çš„å†…å®¹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”Ÿäº§æ¨¡å¼</span></span><br><span class="line">config.plugin(<span class="string">'html'</span>).tap(<span class="function"><span class="params">args</span> =&gt;</span> &#123;</span><br><span class="line">  args[<span class="number">0</span>].isProd = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> args;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">htmlWebpackPlugin.options.isProd</span> ? '' <span class="attr">:</span> '<span class="attr">dev</span> <span class="attr">-</span> ' %&gt;</span>ç”µå•†åå°ç®¡ç†ç³»ç»Ÿ <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">htmlWebpackPlugin.options.isProd</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure>



<p><code>vue-cli</code> ä¸­é…ç½® <code>webpack</code> é…ç½®é¡¹<a href="https://cli.vuejs.org/zh/config/#vue-config-js" target="_blank" rel="noopener">å‚è€ƒ</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-3</title>
    <url>/2019/12/14/VueNote-3/</url>
    <content><![CDATA[<h1 id="Vueç¬”è®°-â‘¢"><a href="#Vueç¬”è®°-â‘¢" class="headerlink" title="Vueç¬”è®° â‘¢"></a>Vueç¬”è®° â‘¢</h1><h2 id="ğŸ“ƒ-æ­£æ–‡"><a href="#ğŸ“ƒ-æ­£æ–‡" class="headerlink" title="ğŸ“ƒ æ­£æ–‡"></a>ğŸ“ƒ æ­£æ–‡</h2><h3 id="â‘ -Vuex-å¯¹è±¡"><a href="#â‘ -Vuex-å¯¹è±¡" class="headerlink" title="â‘  Vuex å¯¹è±¡"></a>â‘  <code>Vuex</code> å¯¹è±¡</h3><h4 id="1-1-vuex-ä¸­çš„-state"><a href="#1-1-vuex-ä¸­çš„-state" class="headerlink" title="1.1 vuex ä¸­çš„ state"></a>1.1 vuex ä¸­çš„ state</h4><p>åˆ›å»º <code>vuex</code> å®ä¾‹å¯¹è±¡æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªåŒ…å« <code>state</code> å±æ€§çš„å¯¹è±¡ï¼Œè¡¨ç¤ºè¯¥ <code>store</code> å¯¹è±¡åŒ…å«çš„å…¨å±€çŠ¶æ€ï¼Œå¯ä»¥ç†è§£ä¸ºå…¨å±€å±æ€§ï¼Œå³å…¶ä½™ç»„ä»¶éƒ½å¯ä»¥è®¿é—®çš„å…±äº«æ•°æ®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">state: &#123;</span><br><span class="line">  data: something</span><br><span class="line">&#125;</span><br><span class="line">&#123;&#123;$store.state.data&#125;&#125;</span><br></pre></td></tr></table></figure>



<a id="more"></a>

<h4 id="1-2-vuex-ä¸­çš„-mutations"><a href="#1-2-vuex-ä¸­çš„-mutations" class="headerlink" title="1.2  vuex ä¸­çš„ mutations"></a>1.2  vuex ä¸­çš„ mutations</h4><p>è¯¥å±æ€§çš„å€¼ä¸ºä¸€ä¸ªåŒ…å«è®¸å¤šå‡½æ•°çš„å¯¹è±¡ï¼Œå¯ä»¥è¿‘ä¼¼çœ‹ä½œ <code>methods</code> ï¼Œä½†æ˜¯è¿™é‡Œæ›´ä¸¥è°¨ä¸€äº›ï¼Œå®˜æ–¹å¸Œæœ›æˆ‘ä»¬å°†å¯¹ <code>state</code> ä¸­çš„å€¼çš„ä¿®æ”¹éƒ½é€šè¿‡ <code>mutations</code> æ¥å®ç°ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡å®˜æ–¹çš„æµè§ˆå™¨æ’ä»¶ <code>devtools</code> æ¥è¿›è¡Œè¿½è¸ªã€‚</p>
<p>æ‰€æœ‰ <code>mutations</code> çš„æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå›ºå®šçš„å½¢å‚ï¼Œå³ <code>state</code> ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥ç›´æ¥è°ƒç”¨ <code>state</code> ä¸­çš„æ•°æ®ã€‚</p>
<p>åœ¨ç»„ä»¶ä¸­å¯¹äº <code>mutations</code> çš„è°ƒç”¨éœ€è¦é€šè¿‡ <code>this.$store.commit</code> æ¥å®ç°ï¼Œè¯¥æ–¹æ³•çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²å’Œå¯é€‰çš„ä¼ å…¥å‚æ•°ã€‚</p>
<p>ä¼ å‚æ—¶å­˜åœ¨ä¸¤ç§æäº¤é£æ ¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§æäº¤é£æ ¼</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">methods: &#123;</span><br><span class="line">  anotherExample(n)&#123;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'example'</span>, n);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mutations å®šä¹‰</span></span><br><span class="line">mutations: &#123;</span><br><span class="line">  example(state, extra)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(extra) <span class="comment">// n</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æäº¤é£æ ¼</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">methods: &#123;</span><br><span class="line">  anotherExample(n)&#123;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">      type: <span class="string">'example'</span>,</span><br><span class="line">      extra: n</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mutations å®šä¹‰</span></span><br><span class="line">mutations: &#123;</span><br><span class="line">  example(state, payload)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(payload) <span class="comment">// &#123;type: "increment", extra: n&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-3-vuex-ä¸­çš„-actions"><a href="#1-3-vuex-ä¸­çš„-actions" class="headerlink" title="1.3 vuex ä¸­çš„ actions"></a>1.3 vuex ä¸­çš„ actions</h4><p><code>actions</code> å¯ä»¥çœ‹ä½œä¸€ä¸ªä¸­è½¬ï¼Œå½“æˆ‘ä»¬éœ€è¦æ‰§è¡Œä¸€äº›å¼‚æ­¥æ–¹æ³•æ—¶ï¼Œç›´æ¥åœ¨ <code>mutations</code> ä¸­å®ç°çš„è¯ï¼Œä¼šå¯¼è‡´ <code>devtools</code> è¿½è¸ªå‡ºé”™ï¼Œæ•°æ®æ— æ³•å®æ—¶æ›´æ–°ã€‚è€Œå¾€å¾€é¡µé¢çš„æ›´æ”¹å·²ç»å®Œæˆï¼Œä¼šå¯¼è‡´æ··ä¹±ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯¹å¼‚æ­¥æ–¹æ³•çš„æ‰§è¡Œå°±å¯ä»¥å†™åœ¨ <code>actions</code> ä¸­ï¼Œå¼‚æ­¥å®Œæˆæ—¶å†è°ƒç”¨ <code>mutations</code> æ¥å®Œæˆå¯¹æ•°æ®çš„æ›´æ”¹ã€‚</p>
<p><code>actions</code> ä¸­çš„æ–¹æ³•çš„å½¢å‚ä¸º <code>context</code> ï¼Œ ä»£è¡¨è¯¥ <code>store</code> å®ä¾‹ã€‚</p>
<p>åœ¨ç»„ä»¶ä¸­å¯¹äº <code>actions</code> çš„è°ƒç”¨ä½¿ç”¨ <code>this.$store.dispatch</code> æ¥å®ç°ï¼Œå‚æ•°ä¸ <code>commit</code> ç±»ä¼¼ã€‚</p>
<h4 id="1-4-ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹"><a href="#1-4-ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹" class="headerlink" title="1.4 ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹"></a>1.4 ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•å®ä¾‹</h4><p>é¦–å…ˆåœ¨ç»„ä»¶ä¸­çš„ <code>methods</code> å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">asyncClick()&#123;</span><br><span class="line">  <span class="keyword">this</span>.$store</span><br><span class="line">  .dispatch(<span class="string">'UpdatedInfo'</span>,<span class="string">'i am payload'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>store</code> å®ä¾‹çš„ <code>actions</code> ä¸­å®šä¹‰ä¸€ä¸ª <code>UpdatedInfo</code> æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">UpdatedInfo(context, payload)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resovle,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      context.commit(<span class="string">'changeName'</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(payload);</span><br><span class="line">      resovle(<span class="string">'updated'</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>setTimeout</code> æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª <code>promise</code> ï¼Œå½“å¼‚æ­¥æ“ä½œæ‰§è¡Œæ—¶ï¼Œå®ç° <code>resolve</code> å¹¶å°†éœ€è¦çš„å€¼ä¼ é€’å‡ºå»ã€‚</p>
<p>é‚£ä¹ˆåœ¨ç»„ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨ <code>.then</code> æ¥å®ç°å¼‚æ­¥æ“ä½œå®Œæˆçš„åé¦ˆã€‚</p>
<p><img src="/2019/12/14/VueNote-3/1-1.png" alt="1-1"></p>
<p>ä»æ­¤å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼‚æ­¥æ“ä½œå’Œå®Œæˆçš„åé¦ˆç¡®å®æ˜¯åœ¨ä¸¤ä¸ªä¸åŒæ–‡ä»¶ä¸­å®ç°çš„ã€‚</p>
<h4 id="1-5-vuex-ä¸­çš„-getters"><a href="#1-5-vuex-ä¸­çš„-getters" class="headerlink" title="1.5 vuex ä¸­çš„ getters"></a>1.5 vuex ä¸­çš„ getters</h4><p><code>getters</code> ç±»ä¼¼äº <code>computed</code> ï¼Œä¸å¤šæè¿°ã€‚å‚æ•°å›ºå®šä¸º <code>state</code> ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ <code>getters</code> æ¥è·å–å…¨éƒ¨ <code>getters</code> ä»¥æ­¤è°ƒç”¨å…¶ä½™çš„ <code>getter</code> ã€‚</p>
<p>æƒ³è¦å®ç°åœ¨ <code>getters</code> ä¸­ä¼ å…¥é¢å¤–å‚æ•°çš„è¯å¯ä»¥å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  example(state)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> something;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚ä¸‹è°ƒç”¨</span></span><br><span class="line">&#123;&#123;$store.getters.example(arg)&#125;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-vuex-ä¸­çš„-modules"><a href="#1-6-vuex-ä¸­çš„-modules" class="headerlink" title="1.6 vuex ä¸­çš„ modules"></a>1.6 vuex ä¸­çš„ modules</h4><p><code>vuex</code> å®ä¾‹å¯¹è±¡å¯ä»¥åˆ†æ¨¡å—ç®¡ç†ï¼Œ <code>modules</code> çš„å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªé”®å¯¹åº”çš„å€¼ä¸ºä¸€ä¸ªç±» <code>store</code> å¯¹è±¡ï¼ŒåŒ…å« <code>state</code> <code>mutations</code> <code>getters</code> <code>actions</code> ç­‰å±æ€§ï¼Œç»„ä»¶ä¸­è·å–æ¨¡å—å†…éƒ¨çš„ <code>state</code> ç›´æ¥åœ¨æ ¹ <code>state</code> ä¸­æ ¹æ®æ¨¡å—åæ¥è·å–å€¼ï¼Œå†…éƒ¨åŸç†æ˜¯å°†æ¨¡å—ç›´æ¥æŒ‚åˆ°æ ¹ <code>state</code> ä¸Šï¼Œå¹¶ä¸”å†…éƒ¨çš„ <code>mutations</code> <code>getters</code> ä¸€ç±»éƒ½æ˜¯ç›´æ¥æŒ‚è½½ <code>store</code> å¯¹è±¡ä¸Šï¼Œè°ƒç”¨æ–¹æ³•æ²¡æœ‰å˜åŒ–ï¼Œ <code>getters</code> å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°å³æ ¹ <code>state</code> ã€‚</p>
<p><code>actions</code> ä¸­çš„ <code>context</code> å€¼çš„ä½œç”¨åŸŸä¸ºè‡ªå·±ï¼Œå³åœ¨ <code>actions</code> ä¸­è°ƒç”¨ <code>context</code> ä¸­çš„ <code>mutations</code> åªä¼šè°ƒç”¨è‡ªèº«å†…éƒ¨çš„ <code>mutations</code> ã€‚</p>
<p><img src="/2019/12/14/VueNote-3/1-2.png" alt="1-2"></p>
<p>è¯¥å›¾ä¸ºæ‰“å°å‡ºçš„ <code>context</code> å€¼ã€‚</p>
<h4 id="1-7-å®˜æ–¹æ¨èçš„-mutations-å¸¸é‡å†™æ³•"><a href="#1-7-å®˜æ–¹æ¨èçš„-mutations-å¸¸é‡å†™æ³•" class="headerlink" title="1.7 å®˜æ–¹æ¨èçš„ mutations å¸¸é‡å†™æ³•"></a>1.7 å®˜æ–¹æ¨èçš„ mutations å¸¸é‡å†™æ³•</h4><p>ç”±äºåœ¨ <code>commit</code> <code>mutations</code> æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œæ²¡æœ‰æç¤ºï¼Œæœ‰å¯èƒ½å‡ºç°é”™è¯¯ã€‚äºæ˜¯å®˜æ–¹æ¨èäº†ä½¿ç”¨å¸¸é‡è¡¨ç¤º <code>mutations</code> å‡½æ•°åçš„æ–¹æ³•ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> INCREMENT = <span class="string">'increment'</span>;</span><br><span class="line"><span class="comment">// æˆ–å†™äºå¤–éƒ¨ js æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> INCREMENT = <span class="string">'increment'</span>;</span><br><span class="line">mutations: &#123;</span><br><span class="line">  [INCREMENT](state)&#123;</span><br><span class="line">    <span class="comment">// some code...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-8-vuex-çš„-actions-ç­‰æ˜ å°„"><a href="#1-8-vuex-çš„-actions-ç­‰æ˜ å°„" class="headerlink" title="1.8 vuex çš„ actions ç­‰æ˜ å°„"></a>1.8 vuex çš„ actions ç­‰æ˜ å°„</h4><p>åœ¨ <code>vuex</code> ä¸­ï¼Œ è‹¥æ˜¯å› ä¸ºé¢‘ç¹è°ƒç”¨ <code>this.$store.getters.xxxx</code> æˆ–æ˜¯ <code>dispatch</code> ç­‰æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>MapGetters</code> å’Œ <code>MapActions</code> ç­‰å°† <code>store</code> å¯¹è±¡ä¸Šçš„æ–¹æ³•æ˜ å°„åˆ°å½“å‰ç»„ä»¶å†…éƒ¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; MapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([<span class="string">'addCart'</span>]),</span><br><span class="line">  aMethod()&#123;</span><br><span class="line">    <span class="keyword">this</span>.addCart(args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapGetters([<span class="string">'cartList'</span>]),</span><br><span class="line">  aComputed()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.cartList</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="â‘¡-axios"><a href="#â‘¡-axios" class="headerlink" title="â‘¡ axios"></a>â‘¡ axios</h3><h4 id="2-1-å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§"><a href="#2-1-å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§" class="headerlink" title="2.1 å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§"></a>2.1 å°è£…ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿…è¦æ€§</h4><p>åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸åº”è¯¥å¯¹ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¡†æ¶è¿‡åˆ†ä¾èµ–ã€‚ä¾‹å¦‚ <code>axios</code> ï¼Œä¸åº”è¯¥åœ¨æ¯ä¸ªç»„ä»¶ä¸­å•ç‹¬å¼•å…¥å¹¶åœ¨ <code>methods</code> ä¸­å†™å…¥è°ƒç”¨æ–¹æ³•ã€‚å¦‚æœæ¡†æ¶å‡ºäº†é—®é¢˜ï¼Œå°±ä¼šå¼•å‘å¾ˆå¤šéº»çƒ¦ã€‚<del>è¯è¯´ <code>vue</code> å‡ºäº†é—®é¢˜ä¼šå’‹æ · ğŸ˜‚</del></p>
<p>å› æ­¤ï¼Œå¯ä»¥è€ƒè™‘è‡ªå·±å°è£…ä¸€ä¸‹ç¬¬ä¸‰æ–¹æ¡†æ¶çš„ä½¿ç”¨ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨è‡ªå·±å°è£…çš„æ–‡ä»¶ã€‚</p>
<h4 id="2-2-axios-å°è£…"><a href="#2-2-axios-å°è£…" class="headerlink" title="2.2 axios å°è£…"></a>2.2 axios å°è£…</h4><p>åœ¨ <code>src</code> ä¸­æ–°å»ºä¸€ä¸ª <code>network</code> æ–‡ä»¶å¤¹ä½œä¸ºå°è£…æ¨¡å—çš„ç›®å½•ã€‚</p>
<p><img src="/2019/12/14/VueNote-3/2-1.png" alt="2-1"></p>
<p>åœ¨ <code>request.js</code> ä¸­å¼•å…¥ <code>axios</code> ç„¶åå¯¼å‡ºè‡ªå·±å†™çš„åŒ…è£…å‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config, success, failure</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">'...'</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line">  instance(config)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    success(res)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    failure(err)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ä¸€ä¸ª <code>axios</code> å®ä¾‹ï¼Œé™¤äº†è§„å®šè¯·æ±‚çš„åŸºæœ¬ <code>config</code> ï¼Œè¿˜è¦æ±‚äº†è¯·æ±‚æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°ï¼Œæ¥å®ç°åœ¨ç»„ä»¶å†…çš„ç›¸åº”å›è°ƒæ“ä½œã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">'@/network/request'</span></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">'category'</span>,</span><br><span class="line">&#125;,(res)=&gt;&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;,(err)=&gt;&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æˆ–æ˜¯ç›´æ¥åœ¨ <code>config</code> ä¸­å†™å…¥å›è°ƒå‡½æ•°ã€‚</p>
<p>ç†è§£åï¼Œæ”¹ç”¨ <code>Promise</code> æ¥å®ç°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">      baseURL: <span class="string">'http://106.54.54.237:8000/api/v1'</span>,</span><br><span class="line">      timeout: <span class="number">5000</span></span><br><span class="line">    &#125;)</span><br><span class="line">    instance(config)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶å†…éƒ¨ä»£ç ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">'@/network/request'</span></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">'category'</span>,</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç„¶è€Œå®é™…ä¸Šï¼Œ<code>instance</code> çš„è¿”å›å€¼å°±æ˜¯ä¸€ä¸ª <code>Promise</code> ï¼Œç›´æ¥è¿”å› <code>instance</code> çš„è¿”å›å€¼å°±å¯ä»¥ã€‚</p>
<h4 id="2-3-axios-æ‹¦æˆªå™¨"><a href="#2-3-axios-æ‹¦æˆªå™¨" class="headerlink" title="2.3 axios æ‹¦æˆªå™¨"></a>2.3 axios æ‹¦æˆªå™¨</h4><p>æ‹¦æˆªå™¨åˆ†ä¸ºè¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆªã€‚</p>
<ul>
<li><p>è¯·æ±‚æ‹¦æˆª</p>
<p>è¯·æ±‚æ‹¦æˆªä¸­åˆ†ä¸ºé…ç½®æ‹¦æˆªå’Œé”™è¯¯æ‹¦æˆªï¼Œåˆ†åˆ«å¯¹åº”è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å’Œç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">instance.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(config);</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;, err =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><code>instance</code> å¯¹åº”äºå‰æ–‡ã€‚<br>ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°ä¸­çš„å‚æ•°ä¸º <code>config</code> ï¼Œå¹¶ä¸”åœ¨æ‹¦æˆªæ“ä½œå®Œæˆåå¿…é¡»å°† <code>config</code> è¿”å›ï¼Œå¦åˆ™æ— æ³•å®Œæˆè¯·æ±‚ã€‚</p>
<p><img src="/2019/12/14/VueNote-3/2-2.png" alt="2-2"></p>
<p>å¸¸ç”¨äºä¿®æ”¹ä¸ç¬¦åˆæœåŠ¡å™¨è¦æ±‚çš„ä¿¡æ¯ï¼ŒåŠ å…¥è¯·æ±‚è¿‡æ¸¡åŠ¨ç”»ï¼Œæ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</p>
</li>
<li><p>å“åº”æ‹¦æˆª</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">instance.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">return</span> res.data;</span><br><span class="line">&#125;, err =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼äºè¯·æ±‚æ‹¦æˆªï¼Œä¸€ä¸ªå“åº”æˆåŠŸæ‹¦æˆªï¼Œä¸€ä¸ªå“åº”å¤±è´¥æ‹¦æˆªã€‚</p>
<p>å“åº”æˆåŠŸæ‹¦æˆªä¹Ÿéœ€è¦å°†ç»“æœå†æ¬¡è¿”å›ã€‚</p>
</li>
</ul>
<h3 id="â‘¢-webpack-åˆ«åé…ç½®"><a href="#â‘¢-webpack-åˆ«åé…ç½®" class="headerlink" title="â‘¢ webpack åˆ«åé…ç½®"></a>â‘¢ webpack åˆ«åé…ç½®</h3><h4 id="3-1-alias-é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜"><a href="#3-1-alias-é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜" class="headerlink" title="3.1 alias é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜"></a>3.1 alias é…ç½®æ— æ³•ç”Ÿæ•ˆé—®é¢˜</h4><p>åœ¨è¯•å›¾ç»™é¡¹ç›®è·¯å¾„é…ç½®åˆ«åæ—¶ï¼Œå‘ç°æ— è®ºæ€æ ·æ”¹éƒ½ä¼šæŠ¥é”™æç¤ºæ‰¾ä¸åˆ°ç»„ä»¶ã€‚</p>
<p>ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹åå‘ç°ï¼Œåº”è¯¥æ˜¯åœ¨æ‰§è¡Œ <code>npm run dev</code> æ—¶ï¼Œ<code>webpack.base.conf.js</code> æ–‡ä»¶ä¸­çš„é…ç½®åªä¼šåœ¨æŒ‡ä»¤æ‰§è¡Œæ—¶ç”Ÿæ•ˆï¼Œåç»­ä¿®æ”¹çš„è¯éœ€è¦å†æ¬¡æ‰§è¡Œå‘½ä»¤æ¥ç”Ÿæ•ˆã€‚</p>
<h4 id="3-2-alias-ä½¿ç”¨æ³¨æ„ç‚¹"><a href="#3-2-alias-ä½¿ç”¨æ³¨æ„ç‚¹" class="headerlink" title="3.2 alias ä½¿ç”¨æ³¨æ„ç‚¹"></a>3.2 alias ä½¿ç”¨æ³¨æ„ç‚¹</h4><p>åœ¨ <code>script</code> æ ‡ç­¾ä¸­ä½¿ç”¨ <code>import</code> å¯¼å…¥æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«åï¼Œåœ¨ <code>template</code> æ ‡ç­¾ä¸­å¯¹ <code>img</code> ä¹‹ç±»çš„ <code>src</code> è·¯å¾„éœ€è¦åœ¨å¼€å§‹å¤„æ·»åŠ  <code>~</code> ç¬¦å·æŒ‡ç¤º <code>html</code> æ ‡ç­¾ä¸­çš„åˆ«åä½¿ç”¨ã€‚</p>
<h3 id="â‘£-Error-in-render-é—®é¢˜è®°å½•"><a href="#â‘£-Error-in-render-é—®é¢˜è®°å½•" class="headerlink" title="â‘£ Error in render é—®é¢˜è®°å½•"></a>â‘£ Error in render é—®é¢˜è®°å½•</h3><h4 id="4-1-é—®é¢˜æè¿°"><a href="#4-1-é—®é¢˜æè¿°" class="headerlink" title="4.1 é—®é¢˜æè¿°"></a>4.1 é—®é¢˜æè¿°</h4><p>åœ¨å†™ <code>Python</code> æ¯”èµ›é¢˜ç›®è¯•å›¾æ··å­¦åˆ†æ—¶ï¼Œå†™æ•°æ®å¯è§†åŒ–æ”¶å°¾ç¯èŠ‚å‡ºç°äº†éå¸¸å¤šé—®é¢˜ã€‚æµè§ˆå™¨æ§åˆ¶å°ä¸åœåœ°æŠ¥é”™ï¼Œæ˜¾ç¤ºä¸º</p>
<p><img src="/2019/12/14/VueNote-3/20190209195753429.png" alt="img"></p>
<p>æ‰¾ä¸åˆ°é—®é¢˜å‡ºå¤„ï¼ŒæŸ¥äº†ä¸€ç•ªå‘ç°æœ‰äººæåˆ° <code>error in render</code> è¡¨ç¤ºåœ¨æ¸²æŸ“éƒ¨åˆ†å‡ºäº†é—®é¢˜ï¼Œåº”è¯¥å»æ‰¾æ¨¡æ¿çš„é—®é¢˜ã€‚æ’æŸ¥ä¸€ç•ªç¡®å®æ˜¯æ¨¡å—å¤„çš„å¾ªç¯éƒ¨åˆ†å‡ºäº†é—®é¢˜ã€‚</p>
<h3 id="â‘¤-Vue-é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•"><a href="#â‘¤-Vue-é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•" class="headerlink" title="â‘¤ Vue é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•"></a>â‘¤ Vue é¡¹ç›®éƒ¨ç½²é—®é¢˜è®°å½•</h3><h4 id="5-1-æ‰“åŒ…åè·¯å¾„é—®é¢˜"><a href="#5-1-æ‰“åŒ…åè·¯å¾„é—®é¢˜" class="headerlink" title="5.1 æ‰“åŒ…åè·¯å¾„é—®é¢˜"></a>5.1 æ‰“åŒ…åè·¯å¾„é—®é¢˜</h4><p>åŒæ ·æ˜¯é‚£ä¸ª <code>Python</code> æ¯”èµ›ï¼Œå†™å®Œå‰ç«¯éƒ¨åˆ†åæ‰“åŒ…æƒ³åšä¸€ä¸ªé¢„è§ˆï¼ŒæŠŠèµ„æºéƒ½æ”¾åˆ°æœåŠ¡å™¨ç½‘ç«™æ ¹ç›®å½•å‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚</p>
<p><img src="/2019/12/14/VueNote-3/image-20200508094542121.png" alt="image-20200508094542121"></p>
<p><img src="/2019/12/14/VueNote-3/image-20200508094605218.png" alt="image-20200508094605218"></p>
<p><img src="/2019/12/14/VueNote-3/image-20200508094618992.png" alt="image-20200508094618992"></p>
<p>è€Œåœ¨ <code>github pages</code> éƒ¨ç½²ä»¥åŠæœ¬åœ°æ‰“å¼€æ‰“åŒ…åæ–‡ä»¶éƒ½ä¼šå‡ºç°é™æ€èµ„æºè®¿é—®ä¸åˆ°çš„æƒ…å†µã€‚</p>
<p>æœ¬åœ°é™æ€èµ„æºæ­£ç¡®è·¯å¾„ğŸ‘‡</p>
<p><img src="/2019/12/14/VueNote-3/image-20200508094721461.png" alt="image-20200508094721461"></p>
<p>æœ¬åœ°é™æ€èµ„æºé”™è¯¯è·¯å¾„ğŸ‘‡</p>
<p><img src="/2019/12/14/VueNote-3/image-20200508094753038.png" alt="image-20200508094753038"></p>
<p><code>github pages</code> è®¿é—®é—®é¢˜ä¹Ÿå·®ä¸å¤šã€‚</p>
<p>ä¸€å¼€å§‹çš„é—®é¢˜æ˜¯ <code>js</code> å’Œ <code>css</code> æ–‡ä»¶ä¹Ÿæ— æ³•è®¿é—®ï¼Œå› ä¸ºä½¿ç”¨çš„éƒ½æ˜¯ç»å¯¹è·¯å¾„ã€‚åœ¨é¡¹ç›®è®¿é—®æ—¶å­˜åœ¨å­ç›®å½•å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>åœ¨ <code>Vue</code> é¡¹ç›®å†…é…ç½® <code>vue.config.js</code> æ–‡ä»¶æ—¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: process.env.NODE_ENV === <span class="string">'production'</span> ? <span class="string">'./'</span>:<span class="string">''</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚ä½†è¿™æ ·æ“ä½œåä¾ç„¶åªæœ‰ <code>js</code> <code>css</code> æ–‡ä»¶ç”Ÿæ•ˆï¼Œæˆ‘æ”¾åœ¨ <code>public</code> æ–‡ä»¶ä¸‹çš„ <code>data</code> æ–‡ä»¶ä¾ç„¶æ— æ³•è®¿é—®åˆ°ã€‚</p>
<p>ä»”ç»†è§‚å¯Ÿä¸¤å¤„æ–‡ä»¶å¼•ç”¨çš„æ–¹æ³•ï¼Œå‘ç°åœ¨å¼•ç”¨ <code>css</code> æ—¶ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¼•ç”¨ <code>json</code> æ–‡ä»¶æ—¶ç”¨çš„æ˜¯ç»å¯¹è·¯å¾„ä¸”æ˜¯æ ¹ç›®å½•èµ·ã€‚</p>
<p>å› ä¸ºäº†è§£åˆ° <code>vue</code> é¡¹ç›®æœ€åæ‰“åŒ…çš„æ–‡ä»¶æ˜¯åœ¨ <code>public</code> ç›®å½•è¿è¡Œçš„ï¼Œå³ä½¿æ˜¯æœ¬åœ°è¿è¡Œæ—¶ä¹Ÿæ˜¯ï¼Œé‚£ä¹ˆå°±å°è¯•æŠŠç»å¯¹è·¯å¾„ä¿®æ”¹ä¸ºç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ä¿®æ”¹å®Œåè§‚å¯Ÿè¯·æ±‚è·¯å¾„ï¼Œå·²ç»æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•è¯·æ±‚æˆåŠŸã€‚çœ‹äº†ä¸€ä¸‹æ§åˆ¶å°æŠ¥é”™æ¶ˆæ¯ï¼Œå¯ä»¥å‘ç°æ˜¯å› ä¸ºè·¨åŸŸé—®é¢˜ã€‚</p>
<p>æœ¬åœ°æ–‡ä»¶è®¿é—®æ²¡æœ‰åŠæ³•è§£å†³ï¼Œå°è¯•æ”¾åˆ° <code>github pages</code> æ¥è¯•éªŒä»¥åŠåœ¨æœåŠ¡å™¨è¿›è¡Œå­ç›®å½•çš„è¯•éªŒã€‚</p>
<h4 id="5-2-å‡å°‘æ‰“åŒ…å-chunk-js-æ–‡ä»¶çš„å¤§å°"><a href="#5-2-å‡å°‘æ‰“åŒ…å-chunk-js-æ–‡ä»¶çš„å¤§å°" class="headerlink" title="5.2 å‡å°‘æ‰“åŒ…å chunk.js æ–‡ä»¶çš„å¤§å°"></a>5.2 å‡å°‘æ‰“åŒ…å chunk.js æ–‡ä»¶çš„å¤§å°</h4><p>å½“æˆ‘å°è¯•æ‰“å¼€ <code>github pages</code> ä¸Šçš„é¡¹ç›®æ—¶ï¼Œå‘ç°é€Ÿåº¦æ…¢çš„ç¦»è°±ã€‚</p>
<p>é™¤å»è®¿é—® <code>github</code> æœ¬èº«å¸¦æ¥çš„æ…¢é€Ÿä»¥å¤–ï¼Œæˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ <code>network</code> å‘ç°æœ‰ä¸€ä¸ª <code>js</code> æ–‡ä»¶è¯·æ±‚äº†ä¸€åˆ†é’Ÿè¿˜æ²¡æœ‰è¯·æ±‚å®Œï¼Œåœ¨èµ„æºç®¡ç†å™¨é‡ŒæŸ¥çœ‹äº†ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œè¶³è¶³æœ‰ 1000 å¤š <code>k</code> ï¼Œäºæ˜¯æˆ‘å¼€å§‹å°è¯•å‡å°‘è¿™éƒ¨åˆ†çš„å¤§å°ã€‚</p>
<p>å¤§æ¦‚åŸå› æ˜¯æ‰“åŒ…çš„æ¨¡å—å¤ªå¤šå¤ªå¤§ï¼Œä½†æˆ‘çš„è¿™ä¸ªé¡¹ç›®ä¾èµ–çš„æ¨¡å—å¹¶ä¸å¤šï¼Œåº”å½“æ˜¯æŸä¸ªæ¨¡å—å¤ªå¤§ã€‚æˆ‘éšä¾¿ç¿»äº†ä¸€ä¸‹ <code>chunk</code> è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šå‘ç°è®¸å¤šä¸ <code>echarts</code> ç›¸å…³çš„å†…å®¹ã€‚äºæ˜¯å‡†å¤‡å‡è½»è¿™ä¸ªæ¨¡å—å¼•èµ·çš„è´Ÿæ‹…ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ <code>index.html</code> ä¸­å¼•ç”¨éœ€è¦çš„æ¨¡å— <code>cdn</code> é“¾æ¥ã€‚ </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/echarts/4.7.0/echarts.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>vue.config.js</code> ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;  </span><br><span class="line">  configureWebpack: &#123;    </span><br><span class="line">    externals: &#123;</span><br><span class="line">      <span class="string">'vue'</span>: <span class="string">'Vue'</span>,</span><br><span class="line">      <span class="string">'echarts'</span>: <span class="string">'echarts'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äº‹å®ä¸Šè¿™ä¸ªéƒ¨åˆ†åº”è¯¥æ€ä¹ˆå†™æˆ‘éƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†è¿™æ ·å­å°±å¯ä»¥æˆåŠŸäº†ã€‚</p>
<p>ç„¶åå† <code>push</code> åˆ° <code>github</code> ä¸Šï¼Œæ‰“å¼€ <code>github pages</code> å°±ä¼šå‘ç°å¯ä»¥å¤§å¤§æé€Ÿã€‚</p>
<p>ä¸”å‰é¢çš„è·¯å¾„é—®é¢˜ä¹Ÿå·²ç»è§£å†³ã€‚</p>
<p>è§‚å¯Ÿäº†ä¸€ä¸‹è¯·æ±‚åˆ—è¡¨ï¼Œå‘ç°å¯ä¼˜åŒ–çš„ç‚¹ã€‚</p>
<ul>
<li>å¤šæ¬¡è¯·æ±‚ <code>data.json</code> æ–‡ä»¶ï¼Œå¯ä»¥æŠŠè¯·æ±‚ä¸€æ¬¡åŒ–ï¼Œå°†æ•°æ®æ”¾åœ¨ <code>vuex</code> ä¸­ã€‚</li>
<li>å…¶ä½™æ¨¡å—ä¹Ÿå¯èƒ½å¸¦æ¥å½±å“ã€‚</li>
<li>èƒŒæ™¯å›¾ç‰‡çš„è¯·æ±‚æ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥è€ƒè™‘å‹ç¼©å›¾ç‰‡ã€‚</li>
</ul>
<h4 id="5-3-å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜"><a href="#5-3-å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜" class="headerlink" title="5.3 å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜"></a>5.3 å•é¡µé¢åº”ç”¨åœ¨å­ç›®å½•è·¯ç”±è·³è½¬çš„é—®é¢˜</h4><p>å†™å¦ä¸€ä¸ªå•é¡µé¢åº”ç”¨çš„æ—¶å€™å‘ç°äº†é—®é¢˜ï¼Œé€šè¿‡ä¸Šé¢çš„ç»éªŒï¼Œå·²ç»åœ¨é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­å†™å¥½äº†åŸºæœ¬è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ä½†åœ¨æˆ‘æŠŠé¡¹ç›®æ”¾è¿›æœåŠ¡å™¨æ ¹ç½‘ç«™çš„å­ç›®å½• <code>/ask</code> æ—¶å‡ºç°äº†è·¯ç”±è·³è½¬çš„é—®é¢˜ã€‚</p>
<p><code>Vue</code> æä¾›çš„åªæ˜¯å‰ç«¯è·¯ç”±ï¼Œæ— æ³•ç›´æ¥ç”¨æ¥è·å–èµ„æºï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ ¹è·¯å¾„è¿˜æ˜¯ <code>&#39;/&#39;</code> ï¼Œä½†è®¿é—® <code>ip/ask</code> æ—¶æ— æ³•æ­£ç¡®çš„è·³è½¬è·¯ç”±ã€‚</p>
<p>åŸå…ˆçš„è®¾å®šæ˜¯è®¿é—® <code>&#39;/&#39;</code> æ—¶é‡å®šå‘åˆ° <code>/question</code> ï¼Œä½†æ­¤æ—¶æˆ‘ä»¬è®¿é—®çš„å…¶å®æ˜¯ <code>/ask</code> ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸‹å‘ç° <code>vue-router</code> å¯ä»¥è®¾ç½®ä¸€ä¸ª <code>base</code> è·¯å¾„ï¼Œå°†è·¯ç”±è·³è½¬åŠ ä¸Šä¸€ä¸ªåŸºç¡€ <code>/ask</code> ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  routes,</span><br><span class="line">  base: <span class="string">'/ask'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå†æ¬¡æ‰“åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
<p>è®¿é—® <code>ip/ask</code> æ—¶å¯ä»¥æ­£ç¡®çš„é‡å®šå‘åˆ° <code>ip/ask/question</code> ï¼Œå¹¶ä¸”å…¶ä»–éƒ¨åˆ†çš„è·³è½¬ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p>
<h4 id="5-4-å¤šé¡µé¢åº”ç”¨é—®é¢˜"><a href="#5-4-å¤šé¡µé¢åº”ç”¨é—®é¢˜" class="headerlink" title="5.4 å¤šé¡µé¢åº”ç”¨é—®é¢˜"></a>5.4 å¤šé¡µé¢åº”ç”¨é—®é¢˜</h4><p>æ¥è§¦åˆ°ä¸€ä¸ªå¤šé¡µé¢åº”ç”¨é¡¹ç›®ï¼Œå¾ˆæ‡µé€¼ã€‚æŠŠé…ç½®æ–‡ä»¶æ‹äº†ä¸€éåï¼Œå‘ç°ä½¿ç”¨äº† <code>glob</code> æ¨¡å—ï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ªé¡¹ç›®çš„è¿è¡Œè·¯å¾„ä¸‹å°±æ˜¯å­˜åœ¨å¤šä¸ªé¡µé¢ï¼Œæƒ³è¦å»å“ªä¸ªé¡µé¢ï¼Œç›´æ¥æ‰“å¼€è¿™ä¸ª <code>html</code> é¡µé¢å³å¯ã€‚</p>
<h4 id="5-5-çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜"><a href="#5-5-çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜" class="headerlink" title="5.5 çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜"></a>5.5 çˆ¶å­ç»„ä»¶ä¼ å€¼é—®é¢˜</h4><p>åœ¨å†™é¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªç»„ä»¶å†…çš„å†…å®¹é«˜åº¦é‡å¤ï¼Œäºæ˜¯å‡†å¤‡æŠ½å‡ºæ¥å†™ä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶ï¼Œè€Œåœ¨æˆ‘å†™çš„å­ç»„ä»¶ä¸­ï¼Œä¼ å€¼æ˜¯éœ€è¦è¢«ä¿®æ”¹çš„ã€‚è€Œè¿™ä¸ªè¡Œä¸ºå®˜æ–¹æ˜¯ä¸æ¨èçš„ï¼Œé‚£ä¹ˆå°±åœ¨ <code>data</code> åŸŸä¸­æ–°å»ºä¸¤ä¸ªå˜é‡ï¼Œä½†æ˜¯æ€»æ˜¯å‡ºç°æ— æ³•æ­£ç¡®èµ‹å€¼çš„æƒ…å†µã€‚</p>
<p>åå¾—çŸ¥æ˜¯å› ä¸º <code>data</code> åŸŸåªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>watch</code> æ¥ç›‘å¬ <code>props</code> å†…éœ€è¦çš„å‚æ•°ï¼Œç„¶åå»èµ‹å€¼ç»™ <code>data</code> åŸŸã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-2</title>
    <url>/2019/12/12/VueNote-2/</url>
    <content><![CDATA[<h1 id="Vue-ç¬”è®°-â‘¡"><a href="#Vue-ç¬”è®°-â‘¡" class="headerlink" title="Vue ç¬”è®° â‘¡"></a>Vue ç¬”è®° â‘¡</h1><h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>â‘ çˆ¶å­ç»„ä»¶ä¼ å€¼</h3><h4 id="1-1-å­ç»„ä»¶è®¿é—®é—®é¢˜"><a href="#1-1-å­ç»„ä»¶è®¿é—®é—®é¢˜" class="headerlink" title="1.1 å­ç»„ä»¶è®¿é—®é—®é¢˜"></a>1.1 å­ç»„ä»¶è®¿é—®é—®é¢˜</h4><p>åœ¨ <code>vue</code> ä¸­ï¼Œå­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶çš„å€¼æ˜¯éœ€è¦ç»è¿‡ç‰¹å®šçš„æ“ä½œçš„ã€‚<br>æˆ‘å¾ˆå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¤Ÿç›´æ¥è®¿é—®ï¼ŒæŒ‰ç†è¯´ï¼ŒåµŒå¥—å…³ç³»æ˜¯åº”è¯¥å¯ä»¥è®¿é—®åˆ°çˆ¶ä½œç”¨åŸŸçš„å€¼çš„ã€‚</p>
<a id="more"></a>

<p>æˆ‘åšäº†ä¸€ç‚¹å°è¯•ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cmp</span>&gt;</span><span class="tag">&lt;/<span class="name">cmp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cmp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>efg<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">Vue.component(<span class="string">'cmp'</span>,&#123;</span></span><br><span class="line"><span class="actionscript">  template: <span class="string">'#cmp'</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">  el: <span class="string">'#app'</span>,</span></span><br><span class="line">  data: &#123;</span><br><span class="line"><span class="actionscript">    msg: <span class="string">'abc'</span>,</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/12/12/VueNote-2/1-1.png" alt="1-1"><br>æ­¤æ—¶ç›´æ¥æŠ¥é”™ã€‚é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºï¼Œæ— æ³•å¯»æ‰¾åˆ° <code>msg</code> å±æ€§æˆ–æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ä¸€ä¸ª <code>data</code> ä¸­çš„æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤å¯»æ‰¾è‡ªèº«å†…éƒ¨çš„ <code>data</code>ã€‚<br>å¯ä»¥ç†è§£æˆï¼Œä½¿ç”¨æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤å¯»æ‰¾ <code>this.msg</code> ã€‚å¦‚æœæƒ³è¦è®¿é—®çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®æ—¶ï¼Œéœ€è¦èƒ½å¤Ÿæ‰¾åˆ°çˆ¶ç»„ä»¶å®ä¾‹çš„å¼•ç”¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handle"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cmp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> @<span class="attr">click</span>=<span class="string">"handle"</span>&gt;</span>abcd<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>efg<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      msg: <span class="string">'abc'</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      handle()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(vm.msg);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥ç›´æ¥æŒ‡å®šå¯¹åº”çš„ <code>vue</code> å®ä¾‹æ¥è°ƒç”¨ <code>msg</code>æ•°æ®ã€‚ä½†è¿™æ ·çš„è¯ï¼Œå¤ªè¿‡äºæ­»æ¿ä¸”æ²¡æœ‰ç‰¹åˆ«å¤§æ„ä¹‰ã€‚</li>
<li>å¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡çš„ <code>$children</code> <code>$parent</code> å±æ€§æ¥è·å–çˆ¶å­ç»„ä»¶ã€‚</li>
</ul>
<h4 id="1-2-props-ä¸­çš„-default-é—®é¢˜"><a href="#1-2-props-ä¸­çš„-default-é—®é¢˜" class="headerlink" title="1.2 props ä¸­çš„ default é—®é¢˜"></a>1.2 <code>props</code> ä¸­çš„ <code>default</code> é—®é¢˜</h4><p>åœ¨ä½¿ç”¨ <code>props</code> ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®æ•°æ®çš„ <code>default</code> å±æ€§ï¼Œåœ¨æŸäº›ç‰ˆæœ¬ä¸Šï¼Œ <code>default</code> ä¸ºç©ºæ•°ç»„æˆ–ç©ºå¯¹è±¡æ—¶ä¼šæŠ¥é”™ï¼Œéœ€è¦ä½¿ç”¨å·¥å‚å‡½æ•°è¿”å›ç©ºæ•°ç»„å’Œå¯¹è±¡ã€‚<br>æœäº†ä¸€ä¸‹ï¼Œæ‰¾ä¸åˆ°åŸç†è§£é‡Šï¼Œå…¶å®ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆã€‚</p>
<h4 id="1-3-çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹"><a href="#1-3-çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹" class="headerlink" title="1.3 çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹"></a>1.3 çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ å€¼æ¡ˆä¾‹</h4><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ¡ˆä¾‹ï¼Œçœ‹çš„æ—¶å€™è§‰å¾—æŒºç®€å•æŒºå®¹æ˜“æ‹æ¸…æ¥šçš„ï¼Œè‡ªå·±æ‰‹åŠ¨å†™ä¸€ä¸‹åˆæ‡µäº†å¥½ä¹…ã€‚</p>
<ul>
<li>å®ç°å­ç»„ä»¶è·å–çˆ¶ç»„ä»¶çš„å€¼ï¼Œä½¿ç”¨å±æ€§ç»‘å®šåŠ  <code>props</code> è·å–ã€‚</li>
<li>å®ç°å­ç»„ä»¶å†…éƒ¨ <code>input</code> å…ƒç´ å’Œæ•°æ®åŒå‘ç»‘å®š</li>
<li>å®ç°å­ç»„ä»¶å†…éƒ¨æ•°æ®æ›´æ”¹å½±å“çˆ¶ç»„ä»¶æ•°æ®ï¼Œä½¿ç”¨ <code>this.$emit</code> å®ç°ã€‚</li>
<li>å®ç°æ•°æ®ä¸€çš„æ›´æ”¹å½±å“åˆ°æ•°æ®äºŒ</li>
<li>å®ç°æ•°æ®äºŒçš„æ›´æ”¹å½±å“åˆ°æ•°æ®ä¸€<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cmp</span> <span class="attr">:cnum1</span>=<span class="string">"num1"</span> <span class="attr">:cnum2</span>=<span class="string">"num2"</span> @<span class="attr">num1change</span>=<span class="string">"num1change"</span> @<span class="attr">num2change</span>=<span class="string">"num2change"</span>&gt;</span><span class="tag">&lt;/<span class="name">cmp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cmp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      props: &#123;&#123; cnum1 &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      data: &#123;&#123; dnum1 &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnum1"</span> @<span class="attr">input</span>=<span class="string">"num1input"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      props: &#123;&#123; cnum2 &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      data: &#123;&#123; dnum2 &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnum2"</span> @<span class="attr">input</span>=<span class="string">"num2input"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> vm = &#123;<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">  el: <span class="string">'#app'</span>,</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    num1: 1,</span><br><span class="line">    num2: 100,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    num1change(value)&#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.num1 = value;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    num2change(value)&#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.num2 = value;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cmp: &#123;</span><br><span class="line"><span class="actionscript">      template: <span class="string">'#cmp'</span>,</span></span><br><span class="line"><span class="actionscript">      props: [<span class="string">'cnum1'</span>, <span class="string">'cnum2'</span>],</span></span><br><span class="line">      data()&#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">          dnum1: <span class="keyword">this</span>.cnum1,</span></span><br><span class="line"><span class="actionscript">          dnum2: <span class="keyword">this</span>.cnum2</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        num1input(event)&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.dnum1 = event.target.value;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.dnum2 = <span class="keyword">this</span>.dnum1 * <span class="number">100</span>;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>,<span class="keyword">this</span>.dnum1);</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>,<span class="keyword">this</span>.dnum2);</span></span><br><span class="line">        &#125;,</span><br><span class="line">        num2input(event)&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.dnum2 = event.target.value;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.dnum1 = <span class="keyword">this</span>.dnum2 / <span class="number">100</span>;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>,<span class="keyword">this</span>.dnum2);</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>,<span class="keyword">this</span>.dnum1);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="â‘¡-vue-router-å­¦ä¹ "><a href="#â‘¡-vue-router-å­¦ä¹ " class="headerlink" title="â‘¡ vue-router å­¦ä¹ "></a>â‘¡ <code>vue-router</code> å­¦ä¹ </h3><h4 id="2-1-è·¯ç”±è·³è½¬é—®é¢˜"><a href="#2-1-è·¯ç”±è·³è½¬é—®é¢˜" class="headerlink" title="2.1 è·¯ç”±è·³è½¬é—®é¢˜"></a>2.1 è·¯ç”±è·³è½¬é—®é¢˜</h4><ul>
<li><p>é…ç½® <code>vue-router</code> çš„ <code>index.js</code> æ–‡ä»¶ä¸­çš„ <code>vue-router</code> å®ä¾‹å¯¹è±¡æ—¶ï¼Œé™¤å» <code>routes</code> æ•°ç»„å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å±æ€§ <code>mode=history</code> å³å¯å°†æµè§ˆæ—¶ <code>url</code> ä¸­çš„ <code>#</code> å»é™¤ã€‚</p>
</li>
<li><p>åœ¨é¡µé¢çš„ç»„ä»¶è·³è½¬ä¸­ï¼Œ <code>router-link</code> å…ƒç´ å¯ä»¥ä½¿ç”¨æŸäº›å±æ€§æ¥é…ç½®ï¼Œæ¯”å¦‚ <code>tag</code> å±æ€§æ¥è®¾ç½®æœ€ç»ˆæ¸²æŸ“ä¸ºä»€ä¹ˆå…ƒç´ ï¼Œ <code>replace</code> å±æ€§è®¾ç½®è¯¥è·¯ç”±è·³è½¬æ–¹å¼ä¸º <code>history.replaceState</code> ï¼Œä»£è¡¨ä¸å¯é€šè¿‡æµè§ˆå™¨çš„åé€€å’Œå‰è¿›æ¥ä¿®æ”¹ã€‚</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Appç»„ä»¶<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/home"</span> <span class="attr">replace</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/about"</span> <span class="attr">replace</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯ä»¥ä½¿ç”¨ä»£ç æ›¿æ¢ <code>router-link</code> è·³è½¬ï¼Œä½¿ç”¨ <code>this.$router.push</code> æˆ–æ˜¯ <code>this.$router.replace</code> æ¥å®ç°è·¯ç”±è·³è½¬ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œä¸è¦è·³è¿‡ <code>vue-router</code> è‡ªå·±ä½¿ç”¨ <code>history</code> ä¸€ç±»çš„æ–¹æ³•æ¥å®ç°è·¯ç”±è·³è½¬ã€‚</p>
</blockquote>
</li>
<li><p>å¯ä»¥åœ¨ <code>router-link</code> æ ‡ç­¾ä¸Šè®¾ç½® <code>active-class</code> å±æ€§æ›¿æ¢ <code>active</code> è·¯ç”±çš„ç±»åï¼Œä¹Ÿå¯ä»¥åœ¨ <code>vue-router</code> å®ä¾‹å¯¹è±¡ä¸­è®¾ç½® <code>linkActiveClass</code> å®ç°å…¨å±€æ›¿æ¢ã€‚</p>
</li>
</ul>
<h4 id="2-2-è·¯ç”±æ‡’åŠ è½½"><a href="#2-2-è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="2.2 è·¯ç”±æ‡’åŠ è½½"></a>2.2 è·¯ç”±æ‡’åŠ è½½</h4><ul>
<li>æƒ³è¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ï¼Œåœ¨ <code>vue-router</code> å®ä¾‹å¯¹è±¡ä¸­é…ç½® <code>routes</code> æ—¶ï¼Œè®¾ç½® <code>component</code> æ—¶ä½¿ç”¨å‡½æ•°ä½œä¸ºå€¼ï¼Œå‡½æ•°å†…éƒ¨å¯¼å…¥ç»„ä»¶ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/Home'</span>)</span><br><span class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/About'</span>)</span><br><span class="line"><span class="keyword">const</span> User = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/User'</span>)</span><br></pre></td></tr></table></figure>

<p>â€‹    ç„¶åä½¿ç”¨å¯¹åº”çš„å˜é‡åä¸º <code>component</code> çš„å€¼ã€‚é‚£ä¹ˆï¼Œæ‰“åŒ…åçš„ <code>js</code> æ–‡ä»¶å°±ä¼šåˆ†æˆå¤šä»½ã€‚</p>
<h4 id="2-3-router-push-ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜"><a href="#2-3-router-push-ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜" class="headerlink" title="2.3 $router.push ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜"></a>2.3 <code>$router.push</code> ç­‰æ–¹æ³•æŠ¥é”™é—®é¢˜</h4><p>å­¦ä¹ çš„æ—¶å€™ï¼Œå°è¯•äº†è·¯ç”±è·³è½¬ä½¿ç”¨ä»£ç å®ç°ï¼Œç»“æœåœ¨é‡å¤ç‚¹å‡»åŒä¸€ä¸ªè·¯ç”±æŒ‡å‘å…ƒç´ çš„æ—¶å€™ï¼Œæ§åˆ¶å°ç–¯ç‹‚æŠ¥é”™ã€‚</p>
<p><img src="/2019/12/12/VueNote-2/1-3.png" alt="1-3"></p>
<p>æœäº†å¾ˆä¹…å¾ˆä¹…è§£å†³æ–¹æ³•ï¼Œå¤§è‡´æ˜¯ä½ç‰ˆæœ¬ <code>vue-router</code> çš„ä¸€ä¸ª <code>bug</code> ï¼Œä½†æˆ‘çœ‹äº†ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œè¯´æ˜¯æˆ‘çš„è¿™ä¸ªç‰ˆæœ¬å·²ç»ä¿®å¤äº† <code>bug</code> å‘€ï¼Ÿæˆ‘å€’æ˜¯æ²¡çœ‹å‡ºæ¥å“ªé‡Œä¿®å¤äº†â€¦ åˆ é™¤é‡è£… <code>node_modules</code> ä¹Ÿä¸é¡¶ç”¨ï¼Œè¿˜æœ‰ä¸ªåœ¨ <code>router</code> çš„ <code>index.js</code> å†™ä¸€æ®µä»£ç çš„æ–¹æ³•ï¼Œæˆ‘è¯•äº†ä¸€æŠŠæ²¡ç”¨ã€‚(å…¶å®æ˜¯æœ‰ç”¨çš„ï¼Œåªæ˜¯æˆ‘æ¼å†™äº†ä¸ªæ–¹æ³•)</p>
<p>ç¿»äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œå†™çš„ <code>emmmmmm</code> </p>
<p>ç„¶ååˆå»ç¿» <code>github</code> ä¸Šçš„ <code>issues</code> ï¼Œç¡®å®æœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯é˜…è¯»èƒ½åŠ›å®åœ¨æ‰æ€¥ï¼Œåªæ˜¯çœ‹äº†ä¸ªå¤§æ¦‚ï¼Œæœ‰ä¸ªè¡¥å†™æ•è·é”™è¯¯ä»£ç çš„æˆ‘æ²¡çœ‹æ‡‚è¡¥å†™åœ¨å“ªå„¿ï¼Œè¿˜æœ‰ä¸ªåœ¨ <code>$router.push</code> æ–¹æ³•å¤šå†™ä¸€ä¸ªç©ºçš„ç®­å¤´å‡½æ•°ä½œä¸ºå‚æ•°çš„æ–¹æ³•ï¼Œç¡®å®è§£å†³äº†ï¼Œä½†æ˜¯ä¸å¤ªæ‡‚ä¸ºä»€ä¹ˆã€‚ä¼°è®¡æˆ‘å¾—å»çœ‹çœ‹è¿™å‡ ä¸ªå‡½æ•°çš„æºç æ‰èƒ½çŸ¥é“äº†ã€‚</p>
<p>æœ€ååˆæ˜¯ä¸€é¡¿ç–¯ç‹‚æœç´¢ï¼Œè¿˜æ˜¯ä¹‹å‰çœ‹åˆ°çš„æ—§æ–¹æ³•ï¼Œå°±åœ¨è¿™ä¸ªæ—¶å€™æˆ‘çªç„¶é¡¿æ‚Ÿã€‚æˆ‘çš„è·¯ç”±è·³è½¬é€‰æ‹©çš„æ˜¯ <code>replace</code> æ–¹æ³•è€Œä¸æ˜¯ <code>push</code>  ã€‚å‰æ–‡æåˆ°çš„é‚£ä¸ªåœ¨ <code>index.js</code> åŠ ä»£ç çš„æ“ä½œå¯¹æˆ‘çš„ç»„ä»¶æ ¹æœ¬ä¸ç”Ÿæ•ˆï¼Œå› ä¸ºæˆ‘å‹æ ¹æ²¡é…ç½® <code>replace</code> æ–¹æ³• ğŸ˜‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">const</span> routerPush = Router.prototype.push;</span><br><span class="line"><span class="keyword">const</span> routerReplace = Router.prototype.replace;</span><br><span class="line">Router.prototype.push = <span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">location</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> routerPush.call(<span class="keyword">this</span>, location).catch(<span class="function"><span class="params">error</span> =&gt;</span> error)</span><br><span class="line">&#125;</span><br><span class="line">Router.prototype.replace = <span class="function"><span class="keyword">function</span> <span class="title">replace</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> routerReplace.call(<span class="keyword">this</span>, location).catch(<span class="function"><span class="params">error</span> =&gt;</span> error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚å°±æ˜¯æ”¹å†™äº†åŸå‹é“¾ä¸Šçš„ <code>push</code> æ–¹æ³•å’Œ <code>replace</code> æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç»‘å®šäº† <code>this</code> ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯æ•è·äº†é”™è¯¯ã€‚</p>
<p>é—®é¢˜è§£å†³ã€‚</p>
<blockquote>
<p>æ—¥åå†æ¥ç»†è‡´ç ”ç©¶è¿™ä¸ªåŠæ³•ã€‚</p>
</blockquote>
<h4 id="2-4-keep-alive-ä¸ä¸€æ¬¡åˆ›å»º"><a href="#2-4-keep-alive-ä¸ä¸€æ¬¡åˆ›å»º" class="headerlink" title="2.4 keep-alive ä¸ä¸€æ¬¡åˆ›å»º"></a>2.4 <code>keep-alive</code> ä¸ä¸€æ¬¡åˆ›å»º</h4><p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå­ç»„ä»¶åœ¨è¢«è·¯ç”±è·³è½¬è¿›å…¥å’Œç¦»å¼€çš„æ—¶å€™ï¼Œä¼šè¢«é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œå¯ä»¥é€šè¿‡ <code>created</code> å’Œ <code>destroyed</code> é’©å­å‡½æ•°è¿›è¡ŒéªŒè¯ã€‚</p>
<p>å¦‚æœæƒ³è¦ä½¿ä¸€ä¸ªç»„ä»¶è¢«ä¿æŒï¼Œå¯ä»¥ä½¿ç”¨ <code>keep-alive</code> æ ‡ç­¾åŒ…è£¹ <code>router-view</code> æ¥å®ç°ä»…ä¸€æ¬¡åˆ›å»ºã€‚</p>
<p>åŒæ—¶ï¼Œä½¿ç”¨äº† <code>keep-alive</code> æ ‡ç­¾åï¼Œè¢«åŒ…è£¹çš„å­ç»„ä»¶å°±å¯ä»¥è°ƒç”¨ <code>activated</code> å’Œ <code>deactivated</code> é’©å­å‡½æ•°æ¥è¡¨ç¤ºå½“å‰è·¯ç”±æ˜¯å¦æ´»è·ƒã€‚</p>
<p>è‹¥æ˜¯æƒ³è¦æ’é™¤æŸä¸ªå­ç»„ä»¶ï¼Œæƒ³è¦å…¶é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œå¯ä»¥è®¾ç½® <code>keep-alive</code> æ ‡ç­¾çš„å±æ€§ <code>exclude</code> ä¸ºè¯¥å­ç»„ä»¶çš„ <code>name</code> å±æ€§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>VueNote-1</title>
    <url>/2019/12/09/VueNote-1/</url>
    <content><![CDATA[<h1 id="Vue-ç¬”è®°-â‘ "><a href="#Vue-ç¬”è®°-â‘ " class="headerlink" title="Vue ç¬”è®° â‘ "></a>Vue ç¬”è®° â‘ </h1><h3 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h3><blockquote>
<p>è¯´å¥½å‡æœŸå†çœ‹ <code>vue</code> çš„ï¼Œç»“æœè¿˜æ˜¯æ²¡å¿ä½å“ˆâ€¦</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="â‘ -å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ"><a href="#â‘ -å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ" class="headerlink" title="â‘  å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ"></a>â‘  å®ç°ç‚¹å‡»å…ƒç´ å˜è‰²æ•ˆæœ</h3><p><img src="/2019/12/09/VueNote-1/20191209_220854.gif" alt="ç‚¹å‡»å˜è‰²æ¼”ç¤º"></p>
<p>ä¸€å¼€å§‹çš„è¦æ±‚å°±æ˜¯ä½¿ç”¨ <code>data</code> çš„æ•°ç»„æ¥åšæ•°æ®ç„¶åæ¸²æŸ“åˆ—è¡¨å¹¶å®ç°ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶ï¼ŒæŸä¸ªå…ƒç´ å˜è‰²ã€‚</p>
<p>ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œå°†è¿‡ç¨‹æ‹†åˆ†å¼€ã€‚</p>
<ol>
<li>é¦–å…ˆæ˜¯ä½¿ç”¨ <code>v-for</code> æŒ‡ä»¤å¾ªç¯ç”Ÿæˆå…ƒç´ ã€‚</li>
<li>ç„¶åè€ƒè™‘ç»™æ¯ä¸ªå…ƒç´ ç»‘å®š <code>click</code> äº‹ä»¶ã€‚</li>
<li>ç‚¹å‡»æ—¶ç»™å½“å‰ç‚¹å‡»å…ƒç´ æ·»åŠ æŒ‡å®šç±»ååŒæ—¶ç§»é™¤å…¶ä»–æ‰€æœ‰å…ƒç´ çš„ç±»åã€‚</li>
</ol>
<p>ç„¶åå°±å¼€å§‹è’™åœˆäº†ï¼Œåº”è¯¥æ€ä¹ˆç»™æ•°ç»„æ•°æ®å’Œç±»ååŠ¨æ€å¯¹åº”å‘¢ï¼Ÿ<br>çº ç»“äº†åŠå¤©ï¼Œç”¨äº†å¯¹è±¡çš„æ–¹æ³•ã€‚<br><img src="/2019/12/09/VueNote-1/pic2.png" alt="å¯¹è±¡æ•°æ®è§£å†³"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.red</span> &#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">"index"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"(value,key, index) in list"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">:class</span>=<span class="string">"value?'red':''"</span> </span></span><br><span class="line"><span class="tag">    @<span class="attr">click</span>=<span class="string">"handle(key)"</span>&gt;</span>&#123;&#123; key &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      list:&#123;</span><br><span class="line"><span class="actionscript">        <span class="string">'aaaaaaaaaa'</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'bbbbbbbbbbbb'</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'cccccccccccccc'</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'dddddddddddddddd'</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'eeeeeeeeeeeeeeeeee'</span>:<span class="literal">false</span>,</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      handle(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> list = <span class="keyword">this</span>.list;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> list)&#123;</span></span><br><span class="line"><span class="actionscript">          list[i]=<span class="literal">false</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        list[index]=<span class="literal">true</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå…œå…œè½¬è½¬åŠå¤©çœ‹åˆ°åˆ«äººçš„è§£å†³æ–¹æ³•ï¼Œç¬é—´æ„Ÿè§‰è‡ªå·±æ˜¯ä¸ª <code>**</code> ã€‚<br><img src="/2019/12/09/VueNote-1/pic1.png" alt="æ•°ç»„è§£å†³æ–¹æ³•"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.red</span> &#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">"index"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"(item, index) in list"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">:class</span>=<span class="string">"&#123;'red':currentIndex==index&#125;"</span> </span></span><br><span class="line"><span class="tag">    @<span class="attr">click</span>=<span class="string">"handle(index)"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      list:[</span><br><span class="line"><span class="actionscript">        <span class="string">'aaaaaaaaaa'</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'bbbbbbbbbbbb'</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'cccccccccccccc'</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'dddddddddddddddd'</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">'eeeeeeeeeeeeeeeeee'</span>,</span></span><br><span class="line">      ],</span><br><span class="line">      currentIndex: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      handle(index)&#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">this</span>.currentIndex=index;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åªéœ€è¦ä¸€ä¸ªè®°å½•å½“å‰åº”è¯¥é«˜äº®çš„ç´¢å¼•å€¼ï¼Œæ¸²æŸ“å…ƒç´ æ—¶ä½œä¸ºç±»åæ˜¯å¦æ·»åŠ çš„åˆ¤æ–­æ¡ä»¶ï¼Œç„¶åç‚¹å‡»äº‹ä»¶ä¸­åŠ¨æ€ä¿®æ”¹è¿™ä¸ªç´¢å¼•å€¼å°±å¯ä»¥ã€‚</p>
<h3 id="â‘¡-åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†"><a href="#â‘¡-åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†" class="headerlink" title="â‘¡ åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†"></a>â‘¡ åŠ¨æ€åˆ‡æ¢æ¸²æŸ“çš„åº•å±‚åŸç†</h3><blockquote>
<p>å…ˆç»™å‡ºä¸€ä¸ªå°ä¾‹å­</p>
</blockquote>
<p><img src="/2019/12/09/VueNote-1/20191210_174526.gif" alt="åŠ¨æ€åˆ‡æ¢æ¼”ç¤º"><br>ä¾‹å­å¾ˆç®€å•ï¼Œå°±æ˜¯æ ¹æ® <code>data</code> çš„ä¸€ä¸ª <code>flag</code> å€¼åŠ¨æ€åˆ‡æ¢å…ƒç´ ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"flag"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"use-phone"</span>&gt;</span>ç”¨æˆ·æ‰‹æœºå·<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"use-phone"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"use-email"</span>&gt;</span>ç”¨æˆ·é‚®ç®±<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"use-email"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"flag=!flag;"</span>&gt;</span>åˆ‡æ¢ç±»å‹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      flag: <span class="literal">true</span>,</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯åœ¨åˆ‡æ¢çš„æ—¶å€™ä¼šæ³¨æ„åˆ°ï¼Œè¾“å…¥çš„ <code>value</code> å€¼åœ¨å…ƒç´ åˆ‡æ¢çš„æ—¶å€™è¢«ä¿ç•™äº†ã€‚<br>åŸå› æ˜¯ <code>vue</code> åº•å±‚çš„è™šæ‹Ÿ <code>dom</code> åœ¨æ›´æ–°æ—¶ä¼šæ¯”å¯¹æ–°æ—§å…ƒç´ çš„æ”¹å˜ï¼Œå°½å¯èƒ½çš„å‡å°‘ä¿®æ”¹çš„èŒƒå›´ã€‚<br>æ–°æ—§å…ƒç´ é™¤äº† <code>id</code> å€¼ä»¥å¤–éƒ½æ˜¯ç›¸åŒçš„ã€‚å› æ­¤ï¼Œ <code>input</code> ç»„ä»¶çš„ <code>value</code> å€¼è¢«ä¿ç•™ã€‚<br>ä¸“ä¸šæœ¯è¯­åº”è¯¥æ˜¯ <code>input</code> å’Œ <code>label</code> è¢«å¤ç”¨ã€‚</p>
<h3 id="â‘¢-è´­ç‰©è½¦å®ä¾‹"><a href="#â‘¢-è´­ç‰©è½¦å®ä¾‹" class="headerlink" title="â‘¢ è´­ç‰©è½¦å®ä¾‹"></a>â‘¢ è´­ç‰©è½¦å®ä¾‹</h3><blockquote>
<p>å…ˆç»™å‡ºæ¼”ç¤º</p>
</blockquote>
<p><img src="/2019/12/09/VueNote-1/20191210_192637.gif" alt="è´­ç‰©è½¦å®ä¾‹æ¼”ç¤º"></p>
<p>ä¸€ä¸ªå¾ˆç®€å•çš„è´­ç‰©è½¦ä¾‹å­ï¼Œç»¼åˆè¿ç”¨äº† <code>v-for</code> <code>v-if</code> <code>v-else</code> <code>v-bind</code> <code>v-on</code> <code>computed</code> <code>methods</code> ç­‰æŒ‡ä»¤ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e9e9e9</span>;</span><br><span class="line">  <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">  <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e9e9e9</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f7f7f7</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5c6b77</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">v-if</span>=<span class="string">"books.length"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>ä¹¦ç±åç§°<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>å‡ºç‰ˆæ—¥æœŸ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>ä»·æ ¼<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ•°é‡<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in books"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">:key</span>=<span class="string">"item.id"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.date &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.price | showPrice &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"decrement(index)"</span> <span class="attr">:disabled</span>=<span class="string">"item.count&lt;=1"</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          &#123;&#123; item.count &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"increment(index)"</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"remove(index)"</span>&gt;</span>ç§»é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è´­ç‰©è½¦ä¸ºç©º<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ€»ä»·æ ¼ &#123;&#123; totalPrice &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;  </span><br><span class="line">    books: [</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">1</span>,</span><br><span class="line">        name: <span class="string">'ã€Šç®—æ³•å¯¼è®ºã€‹'</span>,</span><br><span class="line">        date: <span class="string">'2006-9'</span>,</span><br><span class="line">        price: <span class="number">85.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">2</span>,</span><br><span class="line">        name: <span class="string">'ã€ŠUNIXç¼–ç¨‹è‰ºæœ¯ã€‹'</span>,</span><br><span class="line">        date: <span class="string">'2006-2'</span>,</span><br><span class="line">        price: <span class="number">59.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">3</span>,</span><br><span class="line">        name: <span class="string">'ã€Šç¼–ç¨‹ç ç‘ã€‹'</span>,</span><br><span class="line">        date: <span class="string">'2008-10'</span>,</span><br><span class="line">        price: <span class="number">39.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">4</span>,</span><br><span class="line">        name: <span class="string">'ã€Šä»£ç å¤§å…¨ã€‹'</span>,</span><br><span class="line">        date: <span class="string">'2006-3'</span>,</span><br><span class="line">        price: <span class="number">125.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;        </span><br><span class="line">    increment(index)&#123;</span><br><span class="line">      <span class="keyword">this</span>.books[index].count++;</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement(index)&#123;</span><br><span class="line">      <span class="keyword">this</span>.books[index].count--;</span><br><span class="line">    &#125;,</span><br><span class="line">    remove(index)&#123;</span><br><span class="line">      <span class="keyword">this</span>.books.splice(index,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters: &#123;</span><br><span class="line">    showPrice(price)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'ï¿¥'</span>+ price.toFixed(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    totalPrice()&#123;</span><br><span class="line">      <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.books.length; i++)&#123;</span><br><span class="line">        sum+=<span class="keyword">this</span>.books[i].price * <span class="keyword">this</span>.books[i].count;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æŒ‡ä»¤æ¥å®ç°å„ç§æ“ä½œï¼Œæœ€ç»ˆéƒ½å°†æ”¹å˜ä½“ç°åˆ° <code>data</code> ä¸­çš„ <code>books</code> æ•°ç»„ï¼Œé¡µé¢å†…å®¹ä¹Ÿä¼šç›¸åº”æ”¹å˜ã€‚<br>åœ¨å¯¹ä»·æ ¼æ¸²æŸ“æ—¶ï¼Œå› ä¸ºæ•°æ®çš„åŸå§‹æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ï¼Œå› ä¸ºè¿™ç§ä¿®æ”¹åœ¨é¡µé¢ä¸­å­˜åœ¨å¤šå¤„ï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ª <code>filter</code> è¿‡æ»¤å™¨æ¥å®ç°ã€‚</p>
<p>åœ¨å¯¹äºæ€»ä»·æ ¼çš„ç´¯åŠ å¤„ï¼Œæœ‰å¾ˆå¤šå®ç°æ–¹å¼ï¼Œåˆ—ä¸¾ä¸€ä¸‹ã€‚</p>
<ol>
<li>åŸå§‹çš„ <code>for</code> å¾ªç¯ï¼Œéå†æ•°ç»„ï¼Œè®¡ç®—æ¯ä¸€é¡¹å¯¹åº”çš„æ€»ä»·æ ¼å¹¶ç´¯åŠ ã€‚</li>
<li>ä½¿ç”¨ <code>for-in</code> å¾ªç¯<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> <span class="keyword">this</span>.books)&#123;</span><br><span class="line">  <span class="keyword">const</span> book = <span class="keyword">this</span>.books[i];</span><br><span class="line">  totalPrice += book.price * books.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨ <code>for-of</code> å¾ªç¯<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> <span class="keyword">this</span>.books)&#123;</span><br><span class="line">  totalPrice += item.price * item.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨é«˜é˜¶å‡½æ•° <code>reduce</code></li>
</ol>
<h3 id="â‘£-Vue-åŒå‘ç»‘å®šåŸç†"><a href="#â‘£-Vue-åŒå‘ç»‘å®šåŸç†" class="headerlink" title="â‘£ Vue åŒå‘ç»‘å®šåŸç†"></a>â‘£ Vue åŒå‘ç»‘å®šåŸç†</h3><p><code>vue</code> ä¸­çš„ <code>v-model</code> æŒ‡ä»¤å®ç°äº†æ•°æ®çš„åŒå‘ç»‘å®šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦å¤–ä¸¤ä¸ªæŒ‡ä»¤æ¥å®ç°åŒå‘ç»‘å®šã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"message"</span>&gt;</span></span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      message: <span class="string">'a'</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2019/12/09/VueNote-1/20200304_173734.gif" alt="æ•°æ®åŒå‘ç»‘å®šæ¼”ç¤º"></p>
<p><code>v-on</code> + <code>v-bind</code> é…åˆäº§ç”Ÿæ•°æ®åŒå‘ç»‘å®šæ•ˆæœã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"message"</span> @<span class="attr">input</span>=<span class="string">"valueChange"</span>&gt;</span></span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      message: <span class="string">'a'</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      valueChange(e)&#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">this</span>.message = e.target.value;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="â‘¤-Vue-å“åº”å¼æ³¨æ„ç‚¹"><a href="#â‘¤-Vue-å“åº”å¼æ³¨æ„ç‚¹" class="headerlink" title="â‘¤ Vue å“åº”å¼æ³¨æ„ç‚¹"></a>â‘¤ Vue å“åº”å¼æ³¨æ„ç‚¹</h3><p><code>vue</code> å®ä¾‹ä¸­ <code>data</code> ä¸­çš„æ•°ç»„å“åº”å¼å­˜åœ¨äºä¸ƒä¸ªæ–¹æ³•ä¸­ï¼Œ <code>push</code> <code>pop</code> <code>splice</code> <code>shift</code> <code>unshift</code> <code>sort</code> <code>reverse</code> ï¼Œé™¤æ­¤ä¹‹å¤–å¯ä»¥ä½¿ç”¨ <code>vue</code> å®˜æ–¹æä¾›çš„ <code>set</code> <code>delete</code> æ–¹æ³•æ¥å“åº”å¼æ›´æ–°æ•°ç»„æˆ–å¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.set(state.info, <span class="string">'keyOrIndex'</span>, <span class="string">'value'</span>)</span><br><span class="line">Vue.delete(state.info, <span class="string">'keyOrIndex'</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€æ˜“è®¡ç®—å™¨</title>
    <url>/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/</url>
    <content><![CDATA[<h1 id="ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ-ä¼˜åŒ–è¿‡ç¨‹"><a href="#ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ-ä¼˜åŒ–è¿‡ç¨‹" class="headerlink" title="ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ+ä¼˜åŒ–è¿‡ç¨‹"></a>ç®€æ˜“è®¡ç®—å™¨åˆ¶ä½œ+ä¼˜åŒ–è¿‡ç¨‹</h1><h2 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h2><blockquote>
<p>å…¶å®å­¦äº†è›®ä¹… <code>js</code> çš„ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰å°è¯•è¿‡ç”¨ <code>js</code> å»åŠ¨æ‰‹å†™ä¸€äº›å°ä¸œè¥¿ã€‚<br>ç¢°å·§åœ¨æŸä¸ªå­¦ä¹ å¹³å°çœ‹åˆ°äº†è®¡ç®—å™¨çš„åˆ¶ä½œï¼Œé¡ºæ‰‹è®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<a id="more"></a>

<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>ç®€å•åˆ°ä»¤äººå‘æŒ‡çš„åˆå§‹ç®€é™‹ç‰ˆæœ¬ğŸ‘‡</p>
<blockquote>
<p>å¿˜è®°ç²˜æºç äº†ï¼Œç¬¬ä¸€éƒ¨åˆ†å…¨æ˜¯å›¾ç‰‡çœŸçš„å¾ˆæç¬‘ã€‚</p>
</blockquote>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A81.png" alt></p>
<p><code>js</code> ä»£ç ä¹Ÿæ˜¯ä¸€æ ·çš„ç²—ç³™éšæ„ã€‚</p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A82.png" alt></p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A83.png" alt></p>
<p>æ•ˆæœæ¼”ç¤ºï¼š</p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A84.png" alt><br><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A85.png" alt><br><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A86.png" alt><br><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A87.png" alt></p>
<p>ç„¶åå°±æ˜¯å¯¹ <code>js</code> ä»£ç çš„ä¼˜åŒ–ã€‚</p>
<ol>
<li><p>å°†é‡å¤ä»£ç æŠ½å‡ºæ¥åŒ…è£…æˆä¸ºç‹¬ç«‹çš„å‡½æ•°ã€‚</p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A88.png" alt></p>
</li>
<li><p>å°†å››ä¸ªäº‹ä»¶ç»‘å®šé›†åˆåˆ°ä¸€ä¸ªå¾ªç¯å†…å®Œæˆã€‚</p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A810.png" alt></p>
<blockquote>
<p>é¡ºä¾¿ï¼Œæˆ‘å¯çœŸæ˜¯ä¸ªæ‰‹è¯¯å°èƒ½æ‰‹ã€‚</p>
</blockquote>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A89.png" alt></p>
</li>
</ol>
<h2 id="ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨-ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—"><a href="#ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨-ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—" class="headerlink" title="ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨(ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—)"></a>ğŸ’»ç¾åŒ–ç‰ˆè®¡ç®—å™¨<del>(ä»¥ä¸‹æ‰æ˜¯æ­£æ–‡ç³»åˆ—)</del></h2><p>é¦–å…ˆæ˜¯ <code>html</code> å’Œ <code>css</code> éƒ¨åˆ†ï¼Œå·®ä¸å¤šæ˜¯ç…§æ¬ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>./ç®€æ˜“è®¡ç®—å™¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>HTML, CSS, JavaScript è®¡ç®—å™¨<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"clear"</span> <span class="attr">class</span>=<span class="string">"btn other"</span> <span class="attr">value</span>=<span class="string">"C"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"delete"</span> <span class="attr">class</span>=<span class="string">"btn other"</span> <span class="attr">value</span>=<span class="string">"D"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"display"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"7"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"8"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"9"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn operator toget"</span> <span class="attr">value</span>=<span class="string">"+"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"4"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"5"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"6"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn operator toget"</span> <span class="attr">value</span>=<span class="string">"*"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn operator toget"</span> <span class="attr">value</span>=<span class="string">"-"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn number toget"</span> <span class="attr">value</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn operator toget"</span> <span class="attr">value</span>=<span class="string">"."</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn operator toget"</span> <span class="attr">value</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"cal"</span> <span class="attr">class</span>=<span class="string">"btn other"</span> <span class="attr">value</span>=<span class="string">"="</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">style</span>=<span class="string">"text-align:center"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/./ç®€æ˜“è®¡ç®—å™¨.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Open Sans'</span>, sans-serif;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#495678</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">form</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#495678</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">4px</span> <span class="number">4px</span> <span class="number">#3d4a65</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">40px</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">30px</span> <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">280px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">45px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn</span>, <span class="selector-id">#display</span>, <span class="selector-tag">form</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#display</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#98d1dc</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">6px</span> <span class="number">6px</span> <span class="number">0px</span> <span class="number">#3facc0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dededc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">47px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">115px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.number</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#72778b</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">#5f6680</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dededc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.number</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">#5f6680</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.operator</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#dededc</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">#bebebe</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#72778b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.operator</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">#bebebe</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.other</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#e3844c</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">#e76a3d</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dededc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.other</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">#e76a3d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ·å¼å›¾ï¼š</p>
<p><img src="/2019/11/07/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A8/%E7%AE%80%E6%98%93%E8%AE%A1%E7%AE%97%E5%99%A811.png" alt></p>
<p>ç„¶åå…ˆæ˜¯ç®€å•ç²—æš´çš„ <code>js</code> ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//displayæ¡†æ˜¾ç¤ºæ›´æ”¹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> shownums = <span class="built_in">document</span>.getElementById(<span class="string">"display"</span>);</span><br><span class="line">  shownums.value+=num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¸…ç©ºæ˜¾ç¤ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> shownums = <span class="built_in">document</span>.getElementById(<span class="string">"display"</span>);</span><br><span class="line">  shownums.value=<span class="string">""</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ é™¤ä¸€ä¸ªè¾“å…¥å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">backspace</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> shownums = <span class="built_in">document</span>.getElementById(<span class="string">"display"</span>);</span><br><span class="line">  shownums.value=shownums.value.substring(<span class="number">0</span>,shownums.value.length<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸ºæ‰€æœ‰ num å’Œ operator çš„ button æ·»åŠ ç‚¹å‡»ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="keyword">var</span> Btns = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"toget"</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;Btns.length;i++)&#123;</span><br><span class="line">  Btns[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">get</span>(this.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ˜¯å‰é¢å‡ ä¸ªæ˜¾ç¤ºéƒ¨åˆ†çš„å‡½æ•°ï¼Œéƒ½å¾ˆç®€å•ã€‚ä¸è¿‡æˆ‘å‘ç°æˆ‘è€æ˜¯å¿˜è®°å­—ç¬¦ä¸²æ˜¯æ— æ³•æ›´æ”¹çš„ï¼Œè€Œä¸”è®°ä¸æ¸…æ•°ç»„å’Œå­—ç¬¦ä¸²å„è‡ªçš„æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ‰¾åˆ°æ¸…é™¤æŒ‰é’®ç»‘å®šç‚¹å‡»ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="keyword">var</span> clearBtn = <span class="built_in">document</span>.getElementById(<span class="string">"clear"</span>);</span><br><span class="line">clearBtn.onclick=clear;</span><br><span class="line"><span class="comment">//åˆ é™¤ä¸€ä¸ªè¾“å…¥çš„ç»‘å®šç›‘å¬</span></span><br><span class="line"><span class="keyword">var</span> deleteBtn = <span class="built_in">document</span>.getElementById(<span class="string">"delete"</span>);</span><br><span class="line">deleteBtn.onclick=backspace;</span><br><span class="line"><span class="comment">//è®¡ç®—ç»“æœçš„ç‚¹å‡»ç»‘å®šç›‘å¬</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="built_in">document</span>.getElementById(<span class="string">"cal"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculates</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result=<span class="number">0</span>;</span><br><span class="line">  result = <span class="built_in">document</span>.getElementById(<span class="string">"display"</span>).value;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"display"</span>).value=<span class="built_in">eval</span>(result);</span><br><span class="line">&#125;</span><br><span class="line">re.onclick=calculates;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååˆ°äº†è¿™é‡Œï¼Œå†™ç€å†™ç€æ‡µäº†ä¸€ä¸‹ã€‚æœ¬æ¥ä»¥ä¸ºè¦æ‘©æ‹³æ“¦æŒè‡ªå·±å†™è®¡ç®—çš„å‡½æ•°ï¼Œæ€ä¹ˆæ€ä¹ˆå–ç¬¦å·ï¼Œç»“æœç›´æ¥ä¸€ä¸ª <code>eval</code> å‡½æ•°ç ¸äº†ä¸Šæ¥ã€‚ emmmmmï¼Œ æˆ‘ä¸€å®šæ˜¯æ²‰æµ¸åœ¨å†™ <code>C</code> çš„æ—¶å€™ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯è‡ªå·±åŠ¨æ‰‹å»å†™ã€‚ç°åœ¨å†™åˆ«çš„è¯­è¨€ï¼Œæœ‰äº†å¾ˆå¤šå†…ç½®çš„å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘æ€»ä¸è®°å¾—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ—¶é—´å±•ç¤º</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showTime</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> y = today.getFullYear();</span><br><span class="line">  <span class="keyword">var</span> M = today.getMonth()+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> d = today.getDate();</span><br><span class="line">  <span class="keyword">var</span> h = today.getHours();</span><br><span class="line">  <span class="keyword">var</span> m = today.getMinutes();</span><br><span class="line">  <span class="keyword">var</span> s = today.getSeconds();</span><br><span class="line">  m=checkTime(m);</span><br><span class="line">  s=checkTime(s);</span><br><span class="line">  <span class="keyword">var</span> week=today.getDay();</span><br><span class="line">  <span class="keyword">var</span> w = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"æ˜ŸæœŸå¤©"</span>,<span class="string">"æ˜ŸæœŸä¸€"</span>,<span class="string">"æ˜ŸæœŸäºŒ"</span>,<span class="string">"æ˜ŸæœŸä¸‰"</span>,<span class="string">"æ˜ŸæœŸå››"</span>,<span class="string">"æ˜ŸæœŸäº”"</span>,<span class="string">"æ˜ŸæœŸå…­"</span>);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"time"</span>).innerHTML=y+<span class="string">"å¹´"</span>+M+<span class="string">"æœˆ"</span>+d+<span class="string">"æ—¥"</span>+<span class="string">"&lt;/br&gt;"</span>+h+<span class="string">":"</span>+m+<span class="string">":"</span>+s+<span class="string">" "</span>+w[week];</span><br><span class="line">  setTimeout(<span class="string">"showTime()"</span>,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkTime</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">    i=<span class="string">"0"</span>+i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  showTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ˜¯ä¸€ä¸ªæ—¶é—´å±•ç¤ºï¼Œè¿™ä¸ç¦è®©æˆ‘æƒ³èµ·äº†ä¸Šå‘¨é‡åˆ°çš„å‘ã€‚<br><code>input</code> ä¸­ <code>type</code> ä¸º <code>date</code> çš„é‚£ä¸ªå…ƒç´  <code>value</code> å€¼çš„æ¥æ”¶æ˜¯æœ‰æ ¼å¼è¦æ±‚çš„ï¼Œæ¯”å¦‚æ—¥çš„æ•°å­—å°±è¦æ±‚æ˜¯ä¸¤ä½æ•°ã€‚</p>
<p>æˆ‘å†™äº†ä¸€ä¸ªè‡ªåŠ¨è·å–å½“å¤©æ—¥æœŸçš„å‡½æ•°ï¼Œåœ¨æˆ‘è‡ªå·±æµ‹è¯•çš„æ—¶å€™ï¼Œæ˜¯åœ¨äºŒåå‡ å·ï¼Œéƒ½æ²¡æœ‰å‡ºç°è¿‡é—®é¢˜ã€‚åˆ«äººåœ¨å››äº”å·çš„æ—¶å€™ä¸€æµ‹ï¼Œå°±é‡åˆ° <code>bug</code> äº†ã€‚ğŸ˜‚</p>
<h2 id="ğŸ’¡æ€»ç»“"><a href="#ğŸ’¡æ€»ç»“" class="headerlink" title="ğŸ’¡æ€»ç»“"></a>ğŸ’¡æ€»ç»“</h2><p>ä¸€ä¸ªç®€å•çš„è®¡ç®—å™¨å°±å·®ä¸å¤šæ˜¯è¿™æ ·äº†ã€‚å†™å®Œä¸€çœ‹å¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿â€¦â€¦å”¯ä¸€è®°å¾—çš„å¤§æ¦‚æ˜¯è¿™ä¸ªè®¡ç®—å™¨çš„æ ·å¼å¾ˆå¥½çœ‹ï¼Œ <code>eval</code> è®©æˆ‘çœ¼å‰ä¸€äº®(?)</p>
<blockquote>
<p>é¡ºä¾¿è®°ä¸€ä¸‹ï¼Œè¦å»äº†è§£ä¸€ä¸‹ <code>setTimeout</code> å’Œ <code>setInterval</code> çš„å¼‚åŒã€‚</p>
</blockquote>
<h2 id="2020-å¹´å›é¡¾"><a href="#2020-å¹´å›é¡¾" class="headerlink" title="2020 å¹´å›é¡¾"></a>2020 å¹´å›é¡¾</h2><p>ä»”ç»†åˆçœ‹äº†ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œå…¶å®é‡ç‚¹åœ¨äºè·å– <code>dom</code> å…ƒç´ ä»¥åŠå€¼ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œä¹Ÿè®¸è¿˜æœ‰é¡µé¢çš„æ ·å¼å’Œå¸ƒå±€ã€‚</p>
<p>é‚£ä¸ªæ—¶å€™è¿˜æ˜¯å¾ˆéš¾æ¥å—ä¸€ä¸ªè¯­è¨€å†…ç½®ä¸€å¤§å †çš„å‡½æ•°å’Œæ–¹æ³•ï¼Œå› ä¸ºæˆ‘é‚£æ—¶å€™è§‰å¾—è®°ä¸‹æ¥å¾ˆéš¾ï¼Œç°åœ¨å´å¥½åƒå·²ç»ä¹ æƒ¯äº†è®¸å¤šã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
        <tag>css</tag>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/11/04/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>
<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>CSStip</title>
    <url>/2019/10/27/css%E5%B0%8Ftip/</url>
    <content><![CDATA[<h1 id="ä¸€äº›å…³äºCSSçš„tip"><a href="#ä¸€äº›å…³äºCSSçš„tip" class="headerlink" title="ä¸€äº›å…³äºCSSçš„tip"></a>ä¸€äº›å…³äºCSSçš„tip</h1><ul>
<li><code>margin</code> å€¼çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„ <code>width</code> ã€‚</li>
<li>ä¸‰è§’å½¢çš„åˆ¶ä½œåˆ©ç”¨ <code>width</code> <code>height</code> ä¸º0 ç„¶åè®¾ç½® <code>border</code> ã€‚</li>
<li>æ°”æ³¡çš„åˆ¶ä½œ<br><img src="/2019/10/27/css%E5%B0%8Ftip/bubble.png" alt="bubble"></li>
</ul>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bubble"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle common"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cover common"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>   <span class="comment">&lt;!-- ç”¨æ¥è¦†ç›–çš„å€’ä¸‰è§’ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.bubble</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>; </span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#FFB5BF</span>; </span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.common</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>; </span><br><span class="line">  <span class="attribute">position</span>: absolute;      <span class="comment">/* ä½¿ç”¨ç»å¯¹å®šä½ */</span></span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, 0);  <span class="comment">/* æ°´å¹³å±…ä¸­ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">20px</span> solid <span class="number">#FFB5BF</span>;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cover</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">20px</span> solid <span class="number">#94E8FF</span>;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>loading</code> æ•ˆæœåˆ¶ä½œåˆ©ç”¨ <code>CSS3</code> çš„åŠ¨ç”»<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loading"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#FFB5BF</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: loading-animation <span class="number">1.2s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> loading-animation &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>è¡Œçº§å…ƒç´ çš„é«˜åº¦å–å†³äºæ–‡ä½“å­—ä½“å¤§å°ã€‚</li>
<li>æ–‡å­—éšè—çš„æ–¹æ³•:<ul>
<li><code>height: 0</code>+<code>padding</code>æ’‘å‡ºèƒŒæ™¯å›¾ç‰‡ï¼Œç„¶åè®¾ç½®<code>overflow: hidden</code></li>
<li><code>text-indent: -10000</code></li>
<li>å°†æ–‡å­—åŒ…å…¥<code>span</code>å…ƒç´ ä¸­ï¼Œç„¶å<code>display: none</code></li>
</ul>
</li>
<li><code>a</code> æ ‡ç­¾çš„æ ·å¼éœ€è¦éµå®ˆ <code>link</code> <code>visited</code> <code>hover</code> <code>active</code> é¡ºåºï¼Œåœ¨ <code>href</code> ä¸å¡«å…¥å€¼çš„æ—¶å€™ï¼Œ <code>a:link</code> ä¸èµ·ä½œç”¨ã€‚</li>
<li>æµè§ˆå™¨å°†æ ‡ç­¾é—´çš„æ¢è¡Œç©ºç™½æ¸²æŸ“ä¸ºä¸€ä¸ªç©ºæ ¼å¯¼è‡´éƒ¨åˆ†å…ƒç´ é—´å‡ºç°é—´éš™è§£å†³æ–¹æ³•ï¼š<ul>
<li>ç¼–å†™é¡µé¢æ—¶ä¸æ¢è¡Œã€‚</li>
<li>å®¹å™¨çš„ <code>font-size</code> è®¾ç½®ä¸º <code>0</code>.</li>
<li>æˆ‘ä»¬éœ€è¦å°†liå†…çš„å­—ç¬¦é—´éš”è®¾ä¸ºé»˜è®¤ã€‚<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">ul</span>&#123;<span class="attribute">letter-spacing</span>: -<span class="number">4px</span>;&#125;</span><br></pre></td></tr></table></figure>
ä¹‹åè®°å¾—è®¾ç½®liå†…å­—ç¬¦é—´éš”<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;<span class="attribute">letter-spacing</span>: normal;&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>divé‡ŒåµŒå¥—äº† <code>img</code> åº•éƒ¨ä¼šå‡ºç°ç™½è¾¹<ul>
<li>å› ä¸º <code>img</code> é»˜è®¤æ˜¯æŒ‰åŸºçº¿ <code>(baseline)</code> å¯¹é½çš„ã€‚</li>
<li>è¦å»æ‰ç©ºæ ¼å¯ä»¥ä½¿ç”¨ <code>vertical-align: bottom</code> æˆ–å°† <code>img</code> æ ‡ç­¾å˜ä¸ºå—çº§å…ƒç´ ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li><p><code>line-height</code> ä»…åœ¨å€¼ä¸ºçº¯æ•°å­—æ—¶ï¼Œæ‰ä¼šä½¿åä»£ç»§æ‰¿è¯¥æ¯”å€¼ï¼Œå¦åˆ™ç»§æ‰¿è®¡ç®—åçš„ç»“æœã€‚</p>
</li>
<li><p><code>p</code> å…ƒç´ ä¸èƒ½åŒ…å« <code>div</code> å…ƒç´ ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ä½“é¢œè‰²é—ªç°é—®é¢˜</title>
    <url>/2019/10/22/%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2%E9%97%AA%E7%8E%B0%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜"><a href="#transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜" class="headerlink" title="transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜"></a>transitionå±æ€§é¡µé¢åŠ è½½aå…ƒç´ å­—ä½“é¢œè‰²é—ªç°é—®é¢˜</h3><blockquote>
<p>åœ¨å†™éœ€æ±‚çš„æ—¶å€™ï¼Œå¯¹ <code>index.html</code> é¡µé¢çš„æŒ‰é’®åšäº† <code>transition</code> æ•ˆæœæ¥ä½¿æ ·å¼å±•ç¤ºæ›´å¹³æ»‘ã€‚</p>
</blockquote>
<a id="more"></a>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.main-area</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">54px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color .<span class="number">5s</span> ease,</span><br><span class="line">  color .<span class="number">5s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main-area</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3399FF</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå‘ç°æƒ³è¦çš„æ•ˆæœç¡®å®å¯ä»¥åšåˆ°ï¼Œ<strong>ä½†æ˜¯</strong>æ¯æ¬¡æ‰“å¼€é¡µé¢çš„æ—¶å€™éƒ½å¯ä»¥çœ‹åˆ°aå…ƒç´ çš„å­—ä½“é¢œè‰²ä» <strong><em>å„ç§å¥‡æ€ªçš„é¢œè‰²</em></strong> é—ªç°ä¸ºè®¾å®šçš„é¢œè‰²ã€‚</p>
<p>ç ”ç©¶äº†ä¸€ä¼šå„¿ï¼Œçœ‹åˆ° <code>transition</code> çš„ä¸€ä¸ªå±æ€§ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">transition-property : none | all | [&lt;IDENT&gt;][','&lt;IDENT&gt;]* ;</span><br></pre></td></tr></table></figure>

<p><code>transition-property</code> æ˜¯ç”¨æ¥æŒ‡å®šå½“å…ƒç´ å…¶ä¸­ä¸€ä¸ªå±æ€§æ”¹å˜æ—¶æ‰§è¡Œ <code>transition</code> æ•ˆæœï¼Œå…¶ä¸­ <code>none</code> æ²¡æœ‰å±æ€§æ”¹å˜ï¼›<code>all</code> æ‰€æœ‰å±æ€§éƒ½æ”¹å˜ï¼Œå®ƒä¹Ÿæ˜¯é»˜è®¤å€¼ï¼›<code>indent</code> å¯ä»¥å¡«å†™å…ƒç´ å±æ€§åã€‚</p>
<blockquote>
<p>ğŸ‘†ä»¥ä¸Šæ¥è‡ªæŸæ•™ç¨‹ç½‘ç«™</p>
</blockquote>
<p>ç„¶åæ‰“å¼€ F12 çœ‹äº†ä¸€ä¸‹ å¯¹åº”ä½ç½®çš„ <code>a</code> å…ƒç´ çš„æ‰€æœ‰ <code>color</code> å±æ€§ã€‚</p>
<p><img src="/2019/10/22/%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2%E9%97%AA%E7%8E%B0%E9%97%AE%E9%A2%98/transition.png" alt="transition"></p>
<p>å°±å¯ä»¥çœ‹åˆ°åœ¨é‡ç½®æ ·å¼è¡¨ <code>reset.css</code> ä¸­çš„ <code>color</code> è®¾ç½®ä¸ºç»§æ‰¿å€¼ã€‚<br>å–æ¶ˆè¿™ä¸ªæ ·å¼ï¼Œå°±å¯ä»¥çœ‹åˆ° <code>a</code> çš„ <code>color</code> å˜ä¸ºæˆ‘ä»¬çœ‹åˆ°çš„é—ªç°å‰çš„é¢œè‰²ã€‚</p>
<p><img src="/2019/10/22/%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2%E9%97%AA%E7%8E%B0%E9%97%AE%E9%A2%98/transition1.png" alt="transition1"></p>
<p><img src="/2019/10/22/%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2%E9%97%AA%E7%8E%B0%E9%97%AE%E9%A2%98/transition2.png" alt="transition2"></p>
<p>æŒ‰æˆ‘çš„ç†è§£ä¹Ÿå°±æ˜¯ï¼Œæµè§ˆå™¨è®°ä½äº†è¿™ä¸ªè¦†ç›–è¿‡ç¨‹ï¼Œç„¶åæŠŠå®ƒå±•ç¤ºä¸ºåŠ¨ç”»æ•ˆæœï¼Œé‚£æˆ‘ä»¬åº”è¯¥è¦æƒ³åŠæ³•æŠŠè¿™ä¸ªè¦†ç›– <code>a</code> é»˜è®¤é¢œè‰²çš„è¿‡ç¨‹æå‰åˆ° <code>transition</code> æ²¡æœ‰è®°ä½çš„æ—¶å€™ã€‚</p>
<p>æˆ‘çš„åšæ³•æ˜¯åœ¨ <code>head</code> æ ‡ç­¾ä¸­å†™å…¥ <code>style</code> ç›´æ¥è¦†ç›– <code>a</code> çš„ <code>color</code> å±æ€§ã€‚</p>
<p>å…¶ä½™è§£å†³æ–¹æ³•å¾…åç»­ç ”ç©¶ã€‚<del>å¤§æ¦‚ä¸ä¼šæœ‰åç»­</del></p>
<h3 id="æ¥è‡ªä¸¤å¹´åçš„åç»­"><a href="#æ¥è‡ªä¸¤å¹´åçš„åç»­" class="headerlink" title="æ¥è‡ªä¸¤å¹´åçš„åç»­"></a>æ¥è‡ªä¸¤å¹´åçš„åç»­</h3><p>å…¶å®åˆ°ä»Šå¤©æˆ‘ä¹Ÿæ²¡çœ‹å‡ºæ¥é‚£ä¸ªå¥‡æ€ªçš„è“ç´«è‰²åˆ°åº•æ˜¯å“ªé‡Œæ¥çš„ï¼Œæˆ‘åˆæ‰“å¼€å½“æ—¶çš„æ–‡ä»¶é‡çœ‹äº†ä¸€éã€‚å°†å½“æ—¶åœ¨ <code>style</code> æ ‡ç­¾é‡Œçš„æ ·å¼æ³¨é‡Šæ‰ï¼Œå´æ²¡æœ‰å†çœ‹è§å½“æ—¶çš„è“ç´«è‰²ã€‚å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯æˆ‘ä»”ç»†çœ‹äº†çœ‹å½“æ—¶å†™çš„æ ·å¼ï¼Œæˆ‘å‘ç°æˆ‘ä¼¼ä¹å¹¶æ²¡æœ‰å¯¹ <code>a</code>  å…ƒç´ è®¾ç½®é»˜è®¤é¢œè‰²ï¼Œåªè®¾ç½®äº† <code>hover</code> æ—¶çš„é¢œè‰²ã€‚</p>
<p>å½“ç„¶äº†ï¼Œæˆ‘åˆç¿»çœ‹äº†å¼€å‘è€…å·¥å…·çš„è®¡ç®—æ ·å¼ï¼Œå…¶å®é‚£ä¸ªé¢œè‰²åªæ˜¯ <code>a</code> å…ƒç´ çš„é»˜è®¤è“è‰²è€Œå·²â€¦â€¦</p>
<p>å½“æ—¶å±…ç„¶ä¸€æƒŠä¸€ä¹çš„ï¼Œæ„Ÿè§‰é‡åˆ°äº†ä»€ä¹ˆéš¾é¢˜ã€‚ğŸ˜‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSç»§æ‰¿</title>
    <url>/2019/10/22/CSS%E7%BB%A7%E6%89%BF/</url>
    <content><![CDATA[<h3 id="ğŸ¤ªç¢ç¢å¿µ"><a href="#ğŸ¤ªç¢ç¢å¿µ" class="headerlink" title="ğŸ¤ªç¢ç¢å¿µ"></a>ğŸ¤ªç¢ç¢å¿µ</h3><blockquote>
<p>ä¸€å¼€å§‹è®°å½•åœ¨ <code>Onenote</code> ä¸­çš„ç¬”è®°å¤åˆ¶éƒ½æ˜¯ç›´æ¥å›¾ç‰‡å½¢å¼ã€‚æ‰€ä»¥æˆ‘å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬å†è½¬åˆ° <code>markdown</code>ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>åœ¨é˜…è¯»ã€ŠCSSæƒå¨æŒ‡å—ã€‹è¿‡ç¨‹ä¸­ï¼Œåœ¨ç»§æ‰¿è¿™ä¸€æ¨¡å—å‘ç°äº†é€‰æ‹©å™¨æƒé‡çš„ä¸€äº›å†…å®¹ã€‚</p>
<ul>
<li>ç»§æ‰¿å¾—åˆ°çš„å€¼æ²¡æœ‰ç‰¹æ®Šæ€§ï¼Œæƒé‡å¼±äº <code>0</code> ç‰¹æ®Šæ€§ï¼ˆé€šé…ç¬¦ï¼‰</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      * &#123;<span class="attribute">color</span>:gray;&#125;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">h1</span><span class="selector-id">#page-title</span> &#123;<span class="attribute">color</span>:black;&#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"page-title"</span>&gt;</span>Meerkat <span class="tag">&lt;<span class="name">em</span>&gt;</span>Central<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      Welcome to the best place on the web for meerkat information!</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/10/22/CSS%E7%BB%A7%E6%89%BF/pic.png" alt="æ¼”ç¤º"></p>
<h2 id="ğŸ‘‡å›¾ç‰‡å½¢å¼"><a href="#ğŸ‘‡å›¾ç‰‡å½¢å¼" class="headerlink" title="ğŸ‘‡å›¾ç‰‡å½¢å¼"></a>ğŸ‘‡å›¾ç‰‡å½¢å¼</h2><p><del>ç³Šçš„å¦ˆéƒ½ä¸è®¤è¯†</del></p>
<p><img src="/2019/10/22/CSS%E7%BB%A7%E6%89%BF/1.jpg" alt><br><img src="/2019/10/22/CSS%E7%BB%A7%E6%89%BF/2.jpg" alt><br><img src="/2019/10/22/CSS%E7%BB%A7%E6%89%BF/3.jpg" alt></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬</title>
    <url>/2019/10/19/for%E5%BE%AA%E7%8E%AF%E6%B7%BB%E5%8A%A0%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC/</url>
    <content><![CDATA[<h1 id="forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬"><a href="#forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬" class="headerlink" title="forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬"></a>forå¾ªç¯æ·»åŠ äº‹ä»¶ç›‘å¬</h1><blockquote>
<p>åœ¨å†™æŸä¸ªéœ€æ±‚æ—¶ï¼Œæƒ³è¦åšç‚¹å‡»æŒ‰é’®åŠ¨æ€æ·»åŠ æ ·å¼è¡¨ç¤ºé€‰ä¸­çš„æ•ˆæœï¼Œåœ¨å†™ <code>js</code> ä»£ç çš„æ—¶å€™é‡åˆ°äº†ç–‘é—®ç‚¹ã€‚</p>
</blockquote>
<a id="more"></a>

<p><img src="/2019/10/19/for%E5%BE%AA%E7%8E%AF%E6%B7%BB%E5%8A%A0%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC/for%E5%BE%AA%E7%8E%AF.png" alt="é¡µé¢"></p>
<p>é¡µé¢å¦‚ä¸Šæ‰€ç¤ºï¼Œå¤´éƒ¨çš„ä¸‰ä¸ªæŒ‰é’®åœ¨ç‚¹å‡»åæ°¸è¿œåªä¼šå¯¹æœ€åä¸€ä¸ªæŒ‰é’®è¿›è¡Œæ ·å¼æ·»åŠ æˆ–ç§»é™¤ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> chooseArea = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"choose-area"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;chooseArea.children.length;i++)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(chooseArea.children);</span><br><span class="line">  <span class="keyword">var</span> child = chooseArea.children[i];</span><br><span class="line">  child.onclick=(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(child);</span><br><span class="line">  <span class="keyword">if</span>(child.className==<span class="string">""</span>)</span><br><span class="line">    child.className=<span class="string">"active"</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„å…ˆæ‹¿å‡ºä¸»è¦çš„ä»£ç (æ­¤æ—¶çš„å·²ç»æ˜¯ä¸å®Œæ•´+ä¹±æ”¹ç‰ˆæœ¬)ï¼Œéƒ¨åˆ†æ‰“å°ä»£ç ä¸ºè°ƒè¯•æ—¶ç¼–å†™ã€‚<br>æŸ¥äº†ä¸€ä¸‹ç™¾åº¦ï¼Œå¤§æ¦‚äº†è§£åˆ°æ˜¯ <code>onclick</code> æˆ–æ˜¯æ·»åŠ äº‹ä»¶ç›‘å¬ä¸€ç±»éƒ½ä¸æ˜¯å³æ—¶è¿è¡Œã€‚è€Œå†…éƒ¨ä¼šè°ƒç”¨å¤–éƒ¨çš„å˜é‡ï¼Œåœ¨ <code>click</code> äº‹ä»¶çš„å‡½æ•°è¿è¡Œæ—¶ï¼Œ<code>i</code> æ—©å·²è‡ªå¢è‡³æœ€å¤§å€¼ï¼Œæ‰€ä»¥æ°¸è¿œæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ã€‚æ­¤å¤„çš„è§£å†³æ–¹æ³•æ˜¯é—­åŒ…ã€‚(æˆ‘ç»ˆäºçŸ¥é“é—­åŒ…çš„ä½œç”¨äº†â€¦)</p>
<p>ä¿®æ”¹åçš„ä»£ç (ä¾ç„¶æœ‰å¾…æ”¹è¿›ï¼Œæ—¶é—´æœªå®š)ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> chooseArea = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"choose-area"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;chooseArea.children.length;i++)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(chooseArea.children);</span><br><span class="line">  <span class="keyword">var</span> child = chooseArea.children[i];</span><br><span class="line">	(<span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">child,i</span>)</span>&#123;</span><br><span class="line">	  child.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (child.className == <span class="string">""</span>)</span><br><span class="line">          child.className = <span class="string">"active"</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          child.className=<span class="string">""</span>;</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;chooseArea.children.length;j++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span>&#123;</span><br><span class="line">            chooseArea.children[j].className=<span class="string">""</span>;</span><br><span class="line">          &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;;</span><br><span class="line">	  &#125;)(child,i);</span><br></pre></td></tr></table></figure>

<p>é—­åŒ…éƒ½è§£å†³ä¸äº†çš„æˆ‘å¯çœŸæ˜¯ä¸ªèœé¸¡â€¦(lllï¿¢Ï‰ï¿¢)</p>
<h2 id="2020-å¹´çš„å›é¡¾"><a href="#2020-å¹´çš„å›é¡¾" class="headerlink" title="2020 å¹´çš„å›é¡¾"></a>2020 å¹´çš„å›é¡¾</h2><p>è¿™ç¯‡å¤§æ¦‚æ˜¯æœ€è®©æˆ‘æ— å¥ˆçš„ï¼Œç°åœ¨æˆ‘å·²ç»å®Œå…¨æ¸…æ¥šç¬”è®°ä¸­è®°å½•çš„é—®é¢˜äº†ã€‚</p>
<p>ä¸€ä¸ªå¾ˆæ™®éç®€å•çš„éœ€æ±‚ï¼Œå¤šä¸ªæŒ‰é’®ï¼Œç›‘å¬æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶æ¥åˆ‡æ¢é€‰ä¸­çŠ¶æ€ã€‚</p>
<p>æˆ‘ä»¬é€‰æ‹©éå†æŒ‰é’®çš„ <code>dom</code> ç±»æ•°ç»„ï¼Œå¦‚æœä»…ä»…é‡‡ç”¨ <code>ES5</code> æ¥å®Œæˆï¼Œç¡®å®ä¼šé‡åˆ°é—®é¢˜ã€‚</p>
<p>åŸå› åœ¨äº <code>var</code> å£°æ˜çš„å±€é™æ€§ï¼Œ <code>var</code> ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸï¼Œåœ¨ <code>for</code> å¾ªç¯å†…éƒ¨å£°æ˜çš„æ‰€æœ‰å˜é‡çš„ä½œç”¨åŸŸéƒ½æ˜¯é«˜äºå—çº§çš„ï¼Œæ‰€æœ‰å—çº§å†…éƒ¨å…±äº«åŒæ ·çš„å˜é‡ï¼Œæ‰€ä»¥æœ€åæˆ‘ä»¬èƒ½æ‰¾åˆ°çš„ <code>i</code> æ˜¯å¾ªç¯ç»“æŸçš„å€¼ï¼Œæ‰€æœ‰æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶éƒ½æ˜¯è§¦å‘æœ€åä¸€ä¸ªæŒ‰é’®çš„æ ·å¼å˜åŒ–ã€‚</p>
<p>æ­¤å¤„çš„è§£å†³æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>let</code> å£°æ˜å—çº§ä½œç”¨åŸŸçš„å˜é‡ã€‚</li>
<li>è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å½¢æˆé—­åŒ…ï¼Œä¹Ÿå°±æ˜¯å½¢æˆå‡½æ•°ä½œç”¨åŸŸæ¥ä¿å­˜æ¯ä¸€ä¸ª <code>i</code>  ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜</title>
    <url>/2019/10/18/Promise%E4%B8%AD%E7%9A%84setTimeOut%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜"><a href="#Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜" class="headerlink" title="Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜"></a>Promiseä¸­çš„setTimeOutå‚æ•°é—®é¢˜</h3><blockquote>
<p>åœ¨çœ‹ <a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544" target="_blank" rel="noopener">å»–é›ªå³°çš„ <code>javascript</code> æ•™ç¨‹çš„ Promise </a> ä¸€èŠ‚çœ‹åˆ°ä¸€ä¸ªç–‘é—®ç‚¹ã€‚</p>
</blockquote>
<p>å…³äºPromiseçš„å¼‚æ­¥æ‰§è¡Œï¼Œå…¶ä¸­ä¸€ä¸ªç¤ºä¾‹ä»£ç ä¸­çœ‹åˆ°äº†setTimeOutçš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logging = <span class="built_in">document</span>.getElementById(<span class="string">'test-promise2-log'</span>);</span><br><span class="line"><span class="keyword">while</span> (logging.children.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">  logging.removeChild(logging.children[logging.children.length - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  p.innerHTML = s;</span><br><span class="line">  logging.appendChild(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0.5ç§’åè¿”å›input*inputçš„è®¡ç®—ç»“æœ:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">'calculating '</span> + input + <span class="string">' x '</span> + input + <span class="string">'...'</span>);</span><br><span class="line">    setTimeout(resolve, <span class="number">500</span>, input * input);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0.5ç§’åè¿”å›input+inputçš„è®¡ç®—ç»“æœ:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">'calculating '</span> + input + <span class="string">' + '</span> + input + <span class="string">'...'</span>);</span><br><span class="line">    setTimeout(resolve, <span class="number">500</span>, input + input);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  log(<span class="string">'start new Promise...'</span>);</span><br><span class="line">  resolve(<span class="number">123</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">  log(<span class="string">'Got value: '</span> + result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨è®² <code>input*input</code> å’Œ <code>input+input</code> ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥ä¸ºç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°çš„å‚æ•°æ—¶ï¼Œè¾“å‡ºç»“æœå¯ä»¥åšåˆ°å»¶æ—¶ã€‚</p>
<p>ä½†å¦‚æœæˆ‘å°†ä»£ç ä¿®æ”¹ä¸ºç›´æ¥ä½œä¸ºç¬¬ä¸€ä¸ª <code>resove</code> çš„å‚æ•°ä¼ å…¥ï¼Œå°±æ— æ³•åšåˆ°å»¶æ—¶çš„æ•ˆæœã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logging = <span class="built_in">document</span>.getElementById(<span class="string">'test-promise2-log'</span>);</span><br><span class="line"><span class="keyword">while</span> (logging.children.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">  logging.removeChild(logging.children[logging.children.length - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  p.innerHTML = s;</span><br><span class="line">  logging.appendChild(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0.5ç§’åè¿”å›input*inputçš„è®¡ç®—ç»“æœ:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">'calculating '</span> + input + <span class="string">' x '</span> + input + <span class="string">'...'</span>);</span><br><span class="line">    setTimeout(resolve(input*input), <span class="number">500</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0.5ç§’åè¿”å›input+inputçš„è®¡ç®—ç»“æœ:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    log(<span class="string">'calculating '</span> + input + <span class="string">' + '</span> + input + <span class="string">'...'</span>);</span><br><span class="line">    setTimeout(resolve(input+input), <span class="number">500</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  log(<span class="string">'start new Promise...'</span>);</span><br><span class="line">  resolve(<span class="number">123</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">  log(<span class="string">'Got value: '</span> + result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åº”è¯¥æ˜¯å› ä¸ºå¼‚æ­¥ä¸€ç±»çš„åŸå› ï¼Œå¾…æ•´ç†ã€‚</p>
<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>ä¸€å¹´åæˆ‘æ¥æ›´æ–°äº†ï¼Œç°åœ¨å›çœ‹çœŸæ˜¯ä¸ªç™½ç—´é—®é¢˜ã€‚</p>
<p>å…ˆæ <code>setTimeout</code> å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">var timeoutID = scope.setTimeout(function[, delay, arg1, arg2, ...]);</span><br><span class="line">var timeoutID = scope.setTimeout(function[, delay]); </span><br><span class="line"><span class="keyword">var</span> timeoutID = scope.setTimeout(code[, delay]);</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯è¯¥å‡½æ•°çš„è°ƒç”¨å®ä¾‹ã€‚</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä»£ç ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ã€‚</p>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯¥å‡½æ•°çš„è°ƒç”¨æ—¶å»¶ï¼Œæ˜¯å¯é€‰å‚æ•°ï¼Œçœç•¥çš„è¯é»˜è®¤ä¸º <code>0</code> ã€‚</p>
</li>
<li><p>ç¬¬ä¸‰ä¸ªåŠåé¢çš„å‚æ•°ä¸ºå‚æ•°åˆ—è¡¨ï¼Œä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ã€‚</p>
</li>
</ul>
<p>é‚£ä¹ˆåœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>input * input</code> or <code>input + input</code> éƒ½æ˜¯ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•° <code>resolve</code> å›è°ƒçš„å‚æ•°ã€‚</p>
<p>è€Œæˆ‘å½“æ—¶æƒ³åˆ°çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ç›´æ¥å†™ä¸º <code>resolve(input * input)</code> ï¼Œè¿™æ ·å…¶å®æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºè¿™æ ·çš„ä¹¦å†™æ–¹æ³•ä»£è¡¨äº†ç›´æ¥è°ƒç”¨ <code>resolve</code> å›è°ƒã€‚é‚£ä¹ˆ <code>setTimeou</code> çš„å»¶è¿Ÿä½œç”¨å°±æ— æ•ˆäº†ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSä¼ªç±»é€‰æ‹©å™¨</title>
    <url>/2019/06/05/CSS%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ "><a href="#é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ " class="headerlink" title="é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ "></a>é€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ </h3><p>åœ¨é˜…è¯»ã€ŠCSSæƒå¨æŒ‡å—ã€‹çš„è¿‡ç¨‹ä¸­ï¼Œè¯»åˆ°å…³äºä¼ªç±»é€‰æ‹©å™¨æ—¶çš„â€œé€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ â€éƒ¨åˆ†ï¼Œå‘ç°å¯¹äºä¼ªç±» <code>:first-child</code> å­˜åœ¨è¯¯è§£ã€‚</p>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123; <span class="attribute">font-weight</span>: bold; &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span> &#123; <span class="attribute">text-transform</span>: uppercase; &#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>These are the necessary step:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Insert key<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Turn key <span class="tag">&lt;<span class="name">strong</span>&gt;</span>clockwise<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Push accelerator<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span> Do <span class="tag">&lt;<span class="name">em</span>&gt;</span>not<span class="tag">&lt;/<span class="name">em</span>&gt;</span> push the brake at the same time as the accelerator.</span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹å‰æ˜¯å°† <code>p:first-child</code> ç†è§£ä¸ºç¬¬ä¸€ä¸ª <code>p</code> å…ƒç´ ï¼Œé˜…è¯»åå‘ç°å…¶çœŸå®å«ä¹‰ä¸ºæŸå…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„æ‰€æœ‰ <code>p</code> å…ƒç´ ã€‚</p>
<p><img src="/2019/06/05/CSS%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8/pic1.png" alt="æ¼”ç¤º"></p>
<p><strong>ä¼ªç±»çš„å®è´¨ä¸ºç¬¦åˆ:åçš„è¦æ±‚çš„å…ƒç´ ã€‚</strong></p>
<h3 id="2020å¹´çš„å›é¡¾"><a href="#2020å¹´çš„å›é¡¾" class="headerlink" title="2020å¹´çš„å›é¡¾"></a>2020å¹´çš„å›é¡¾</h3><p>çœ‹äº†å½“æ—¶çš„è®°å½•ï¼Œæ„Ÿè§‰è¿˜æ˜¯æ€ªæ€ªçš„ã€‚äºæ˜¯æ”¹äº†ä¸€ä¸‹ä»£ç å†æ¬¡å°è¯•ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line">      font-weight: bold;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line">      text-transform: uppercase;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"first-child"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"second-child"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>These are the necessary step:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Insert key<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Turn key <span class="tag">&lt;<span class="name">strong</span>&gt;</span>clockwise<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Push accelerator<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> Do <span class="tag">&lt;<span class="name">em</span>&gt;</span>not<span class="tag">&lt;/<span class="name">em</span>&gt;</span> push the brake at the same time as the accelerator.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2019/06/05/CSS%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8/image-20201013205859864.png" alt="image-20201013205859864"></p>
<p>æŸ¥çœ‹å±•ç¤ºçš„æ•ˆæœå¯ä»¥çœ‹å‡ºï¼Œ <code>p:first-child</code> çš„å«ä¹‰è§£é‡Šä¸ºï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå­å…ƒç´ çš„æ‰€æœ‰ <code>p</code> æ ‡ç­¾ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>font-faceè¿œç¨‹é—®é¢˜</title>
    <url>/2019/06/02/font-face%E8%BF%9C%E7%A8%8B%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><p>åœ¨é˜…è¯» <code>Head First HTMLä¸CSS</code> ç¬¬2ç‰ˆè¿‡ç¨‹ä¸­ï¼Œåœ¨å¢åŠ å­—ä½“å’Œé¢œè‰²æ ·å¼éƒ¨åˆ†å­¦ä¹ åˆ°ä¸ºé¡µé¢å¢åŠ Webå­—ä½“ã€‚<br>å…¶ä¸­è¿ç”¨äº† <code>@font-face</code> åŠŸèƒ½ï¼Œç…§ç¤ºä¾‹æ‰€å†™æ˜¯å¤±è´¥çš„ã€‚</p>
<a id="more"></a>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Emblema One"</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">"https://wickedlysmart.com/hfhtmlcss/chapter8/journal/EmblemaOne-Regular.woff"</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>), </span><br><span class="line">       <span class="built_in">url</span>(<span class="string">"https://wickedlysmart.com/hfhtmlcss/chapter8/journal/EmblemaOne-Regular.ttf"</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>);</span><br><span class="line">&#125;</span><br><span class="line">//urlåçš„formatæ˜¯åæ¥åŠ çš„ï¼Œæµ‹è¯•åå¹¶æ— æ•ˆæœã€‚</span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Emblema One"</span>, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">220%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/06/02/font-face%E8%BF%9C%E7%A8%8B%E9%97%AE%E9%A2%98/pic1.png" alt="æ¼”ç¤º"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œä¼šæ˜¾ç¤ºè¯·æ±‚å­—ä½“å¤±è´¥ã€‚<br>ä½†æ˜¯å¦‚æœå­—ä½“æ˜¯å­˜å‚¨åœ¨æœ¬åœ°çš„ï¼Œåˆ™æˆåŠŸã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Emblema One"</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">"EmblemaOne-Regular.woff"</span>), </span><br><span class="line">       <span class="built_in">url</span>(<span class="string">"EmblemaOne-Regular.ttf"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Emblema One"</span>, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">220%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/06/02/font-face%E8%BF%9C%E7%A8%8B%E9%97%AE%E9%A2%98/pic2.png" alt="æ¼”ç¤º"></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰å®éªŒåˆ©ç”¨åœ¨çº¿å­—ä½“åº“â€œæœ‰å­—åº“â€ä¹Ÿå¯ä»¥æˆåŠŸ</p>
<p><img src="/2019/06/02/font-face%E8%BF%9C%E7%A8%8B%E9%97%AE%E9%A2%98/pic3.png" alt="æ¼”ç¤º"></p>
<p>ç…§å®ƒçš„è¦æ±‚è¿›è¡Œè®¾ç½®å¯ä»¥æˆåŠŸ</p>
<p><img src="/2019/06/02/font-face%E8%BF%9C%E7%A8%8B%E9%97%AE%E9%A2%98/pic4.png" alt="æ¼”ç¤º"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>é‚±å¥‡ç¼–ç çš„javascriptå®ç°</title>
    <url>/2019/05/29/%E9%82%B1%E5%A5%87%E7%BC%96%E7%A0%81%E7%9A%84javascript%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h2 id="ğŸ“ƒæ­£æ–‡"><a href="#ğŸ“ƒæ­£æ–‡" class="headerlink" title="ğŸ“ƒæ­£æ–‡"></a>ğŸ“ƒæ­£æ–‡</h2><h3 id="åŠ å‡ä¹˜"><a href="#åŠ å‡ä¹˜" class="headerlink" title="åŠ å‡ä¹˜"></a>åŠ å‡ä¹˜</h3><p>åœ¨<a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023021250770016" target="_blank" rel="noopener">å»–é›ªå³°è€å¸ˆçš„ç½‘ç«™</a>çœ‹åˆ°äº†é—­åŒ…å†…å®¹ï¼Œå…¶ä¸­çš„è„‘æ´å¤§å¼€éƒ¨åˆ†å°±æ˜¯å…³äºé‚±å¥‡ç¼–ç çš„åŠ æ³•ã€‚</p>
<h4 id="åŠ æ³•"><a href="#åŠ æ³•" class="headerlink" title="åŠ æ³•"></a>åŠ æ³•</h4><a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ•°å­—0:</span></span><br><span class="line"><span class="keyword">var</span> zero = <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ•°å­—1:</span></span><br><span class="line"><span class="keyword">var</span> one = <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰åŠ æ³•:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n, m</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m(f)(n(f)(x));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¡ç®—æ•°å­—2 = 1 + 1:</span></span><br><span class="line"><span class="keyword">var</span> two = add(one, one);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æ•°å­—3 = 1 + 2:</span></span><br><span class="line"><span class="keyword">var</span> three = add(one, two);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æ•°å­—5 = 2 + 3:</span></span><br><span class="line"><span class="keyword">var</span> five = add(two, three);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ è¯´å®ƒæ˜¯3å°±æ˜¯3ï¼Œä½ è¯´å®ƒæ˜¯5å°±æ˜¯5ï¼Œä½ æ€ä¹ˆè¯æ˜ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘µå‘µï¼Œçœ‹è¿™é‡Œ:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™3ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°3æ¬¡:</span></span><br><span class="line">(three(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'print 3 times'</span>);</span><br><span class="line">&#125;))();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™5ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°5æ¬¡:</span></span><br><span class="line">(five(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'print 5 times'</span>);</span><br><span class="line">&#125;))();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§ç»­æ¥ç€ç©ä¸€ä¼š...</span></span><br></pre></td></tr></table></figure>

<p>åŠ æ³•å…¶å®æ¯”è¾ƒå¥½ç†è§£ï¼Œå…³äºå‡æ³•éƒ¨åˆ†åœ¨ç½‘ä¸Šæœç´¢äº†å¾ˆä¹…ã€‚æ‰¾åˆ°çš„ä»£ç æ¯”è¾ƒéš¾ç†è§£ã€‚</p>
<h4 id="å‡æ³•"><a href="#å‡æ³•" class="headerlink" title="å‡æ³•"></a>å‡æ³•</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ZERO = <span class="function"><span class="keyword">function</span> (<span class="params">f</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">z</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ADD1 = <span class="function"><span class="keyword">function</span> (<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">z</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> f(n(f)(z));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pred = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">action</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> fx = <span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> h(g(action));</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">return</span> n(fx)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> u;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> TWO = pred(THREE)=<span class="function"><span class="keyword">function</span>(<span class="params">action</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> h(g(action));</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> u;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">TWO(action)(x)=<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(g(action));</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;(x)=THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(g(action));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> SUB1 = <span class="function"><span class="keyword">function</span> (<span class="params">n</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">z</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> ((n (<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> h(g(f));</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;))&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> z;</span><br><span class="line">        &#125;))(<span class="function"><span class="keyword">function</span> (<span class="params">u</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> u;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> ONE = ADD1(ZERO);</span><br><span class="line"><span class="keyword">var</span> TWO = ADD1(ONE);</span><br><span class="line"><span class="keyword">var</span> THREE = ADD1(TWO);</span><br><span class="line">(TWO(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'1'</span>);</span><br><span class="line">&#125;))();</span><br><span class="line">(THREE(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">'2'</span>);</span><br><span class="line">&#125;))();</span><br><span class="line">THREE = <span class="function"><span class="keyword">function</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(f(ONE(f)(x)));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">THREE(f) = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> f(f(ONE(f)(x)));</span><br><span class="line">&#125;;</span><br><span class="line">TWO = pred(THREE) = <span class="function"><span class="keyword">function</span>(<span class="params">action</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> h(g(action));</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> u;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">TWO(action) = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(g(action));</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">TWO(action)(x) = THREE(<span class="function"><span class="keyword">function</span>(<span class="params">g</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(g(action));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/*function(g)&#123;</span></span><br><span class="line"><span class="comment">  return function(h)&#123;</span></span><br><span class="line"><span class="comment">    return h(g(action));</span></span><br><span class="line"><span class="comment">  &#125;;</span></span><br><span class="line"><span class="comment">&#125;=f</span></span><br><span class="line"><span class="comment">f(x)=function(g)&#123;</span></span><br><span class="line"><span class="comment">  return function(h)&#123;</span></span><br><span class="line"><span class="comment">    return h(g(action));</span></span><br><span class="line"><span class="comment">  &#125;;</span></span><br><span class="line"><span class="comment">&#125;(x)=function(h)&#123;</span></span><br><span class="line"><span class="comment">  return h(x(action));</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">function(h)&#123;</span></span><br><span class="line"><span class="comment">  return h(x(action));</span></span><br><span class="line"><span class="comment">&#125;(x)=x(x(action))</span></span><br><span class="line"><span class="comment">f(f(ONE(f)(x)))(g)</span></span><br><span class="line"><span class="comment">f(f(f(x)))(g)</span></span><br><span class="line"><span class="comment">f(f(x))(g)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">TWO(action)(x) = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> f(f(ONE(f)(x)));</span><br><span class="line">&#125;(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">= f(f(ONE(f)(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)))(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">= f(f(f(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)))(<span class="function"><span class="keyword">function</span> (<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">=f(f(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;(action));</span><br><span class="line">&#125;))(<span class="function"><span class="keyword">function</span> (<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">=f(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;(action));</span><br><span class="line">  &#125;(action));</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span> (<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">= <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;(action));</span><br><span class="line">    &#125;(action));</span><br><span class="line">  &#125;(action));</span><br><span class="line">&#125;(<span class="function"><span class="keyword">function</span> (<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;)</span><br><span class="line">= <span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> u;</span><br><span class="line">&#125;(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;(action));</span><br><span class="line">    &#125;(action));</span><br><span class="line">  &#125;(action))</span><br><span class="line">= <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;(action));</span><br><span class="line">    &#125;(action));</span><br><span class="line">  &#125;(action)</span><br><span class="line">= action(<span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> h(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;(action));</span><br><span class="line">    &#125;(action))</span><br><span class="line">= action(action(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">      &#125;(action)))</span><br><span class="line">= action(action(x));</span><br><span class="line">TWO = <span class="function"><span class="keyword">function</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(ONE(f)(x));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ONE(f)(x)=f(ZERO(f)(x))=f(x);</span><br><span class="line">ONE = <span class="function"><span class="keyword">function</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(ZERO(f)(x));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®åˆ°æœ€åç®—å‡ºç»“æœæˆ‘ä¹Ÿæ²¡ç»•å‡ºå¼¯æ¥ğŸ™ƒ</p>
<h4 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•"></a>ä¹˜æ³•</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multi</span>(<span class="params">n, m</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m(n(f))(x);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//test six</span></span><br><span class="line"><span class="keyword">var</span>  six = multi(three,two);</span><br><span class="line">(multi(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'print 6 times'</span>);</span><br><span class="line">&#125;))();</span><br></pre></td></tr></table></figure>

<p>å¤§ä½¬ä»¬æœç„¶éƒ½å¾ˆå–œæ¬¢æŒ‘æˆ˜è‡ªå·±(lllï¿¢Ï‰ï¿¢)ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>mysqlè¿è¡Œç°æœ‰sqlæ–‡ä»¶</title>
    <url>/2018/12/31/mysql%E8%BF%90%E8%A1%8C%E7%8E%B0%E6%9C%89sql%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p>2018.12.31 23:18 <strong>MySQLå­¦ä¹ ä¸­</strong></p>
<p>PHPå’ŒMySQLWebå¼€å‘ç¬¬å››ç‰ˆ</p>
<h1 id="å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜"><a href="#å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜" class="headerlink" title="å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜"></a>å…³äºå‘½ä»¤è¡Œè¿è¡Œç°æœ‰çš„sqlæ–‡ä»¶é—®é¢˜</h1><a id="more"></a>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\wamp\bin\mysql\mysql5.7.23&gt;mysql -h localhost -u bookorama -D books -p &lt; bookorama.sql</span><br><span class="line">ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23&gt;<span class="built_in">cd</span> bin</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23\bin&gt;mysql -h localhost -u bookorama -D books -p &lt; D:\zyWEB\SQLjb\bookorama.sql</span><br><span class="line">Enter password: ************</span><br><span class="line">ERROR 1050 (42S01) at line 1: Table <span class="string">'customers'</span> already exists</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23\bin&gt;mysql -h localhost -u bookorama -D books -p &lt; D:\zyWEB\SQLjb\bookorama.sql</span><br><span class="line">Enter password: ************</span><br><span class="line">ERROR 1064 (42000) at line 8: You have an error <span class="keyword">in</span> your SQL syntax; check the manual that corresponds to your MySQL server version <span class="keyword">for</span> the right syntax to use near <span class="string">'data not null</span></span><br><span class="line"><span class="string">)'</span> at line 6</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23\bin&gt;mysql -h localhost -u bookorama -D books -p &lt; D:\zyWEB\SQLjb\bookorama.sql</span><br><span class="line">Enter password: ************</span><br><span class="line">ERROR 1050 (42S01) at line 1: Table <span class="string">'customers'</span> already exists</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23\bin&gt;mysql -h localhost -u bookorama -D books -p &lt; D:\zyWEB\SQLjb\bookorama.sql</span><br><span class="line">Enter password: ************</span><br><span class="line"></span><br><span class="line">D:\wamp\bin\mysql\mysql5.7.23\bin&gt;</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡æ— æ•°æ¬¡å°è¯•ä¸çº ç»“ï¼Œä¸€å¼€å§‹æç¤ºæƒé™ä¸å¤Ÿï¼Œå¾ˆæ— è¯­ï¼Œè®°å¾—ä¸Šæ¬¡åˆ›å»º <code>bookorama</code> è¿™ä¸ªè´¦æˆ·æ—¶åº”è¯¥ç»™äº†ä»–æƒé™çš„ï¼Œç„¶ååˆå¼€ <code>mysql</code> æ§åˆ¶å°é‡æ–°ç»™æƒé™ç„¶åå†æ¥å‘½ä»¤è¡Œç»§ç»­æ•²å‘½ä»¤ï¼Œåˆå‘ç° <code>sql</code> æ–‡ä»¶ä¸­å†™é”™äº†ï¼Œç„¶ååˆæ”¹ï¼Œæœ€ç»ˆæ˜¯æˆåŠŸäº†ã€‚QAQ</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>ProjectASocialNewsWebPageapp</title>
    <url>/2018/12/17/ProjectASocialNewsWebPageapp/</url>
    <content><![CDATA[<p>2018.12.17 11:07 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter26 <code>&lt;Project: a social news web app&gt;</code></p>
</blockquote>
<p>åŸé¢˜:</p>
<h1 id="Project-a-social-news-web-app"><a href="#Project-a-social-news-web-app" class="headerlink" title="Project: a social news web app"></a>Project: a social news web app</h1><p>This final project is the culmination of the book. You can check out the <a href="https://thejsway-publink.herokuapp.com" target="_blank" rel="noopener">expected result</a>. Good luck!</p>
<a id="more"></a>

<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>This project builds upon the social news program and web pages you created previously. This time, the objective is to make a social news application based on a Node.js server.</p>
<h2 id="Functional-requirements"><a href="#Functional-requirements" class="headerlink" title="Functional requirements"></a>Functional requirements</h2><ul>
<li>A link is defined by its title, its URL and its author (submitter).</li>
<li>If a new link URL does not start with â€œhttp://â€œ or â€œhttps://â€œ, â€œhttp://â€œ is automatically added at its beginning.</li>
<li>The web app displays a list of at least three already existing links, fetched from the server through an AJAX request.</li>
<li>A button exists for the user to submit a new link. When clicked, a form appears before the link list to input the new link properties (author, title and URL).</li>
<li>In this form, all link fields are mandatory.</li>
<li>When the new link is validated by the user, it is sent as form data to the server. If the operation is successful, the server returns the new link as JSON data. The new link is added at the top of the link list, replacing the form. A message indicates the success of the operation, then disappears after two seconds.</li>
</ul>
<h2 id="Technical-requirements"><a href="#Technical-requirements" class="headerlink" title="Technical requirements"></a>Technical requirements</h2><ul>
<li>The server must use a user-defined module exporting link-related code.</li>
<li>You should reuse any useful code from the previous projects.</li>
<li>All your code should be correctly indented.</li>
<li>Names should be wisely chosen and adhere to the camelCase convention.</li>
<li>Code duplication should be avoided.</li>
</ul>
<h2 id="Expected-result"><a href="#Expected-result" class="headerlink" title="Expected result"></a>Expected result</h2><p>Here are a few screenshots of the expected result.</p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013192921261.png" alt="image-20201013192921261"></p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013192927246.png" alt="image-20201013192927246"></p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013192932469.png" alt="image-20201013192932469"></p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013192937932.png" alt="image-20201013192937932"></p>
<p>=ã€‚=å†³å®šè®¤çœŸçš„å†™ä¸€ä¸‹è¿‡ç¨‹</p>
<h3 id="1-å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚"><a href="#1-å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚" class="headerlink" title="1.å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚"></a>1.å°†é¡µé¢æ›´æ”¹ä¸ºæœåŠ¡ç«¯ã€‚</h3><p>å°† <code>fitst.html</code> <code>eample.js</code> <code>first.css</code> ä»¥åŠéƒ¨åˆ†éœ€æ±‚çš„ <code>js</code> æˆ–è€… <code>css</code> æ–‡ä»¶å¤åˆ¶åˆ° <code>myserver</code>  æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013193413251.png" alt="image-20201013193413251"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">'/first'</span>, (request, response) =&gt; &#123;</span><br><span class="line">  response.sendFile(<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/views/first.html`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä¸€ä¸ª <code>app.get</code> æ¥ä½¿ <code>localhost:3000/first</code> å±•ç¤ºä¸º <code>first.html</code> ã€‚</p>
<p>ç™¾èˆ¬å°è¯•å‘ç°æ— æ³•å®ç°åˆå§‹åŒ–ä¸‰ä¸ªé“¾æ¥ï¼Œä¸€ç•ªæ“ä½œåå‘ç°è‡ªå·±æ‰“å¼€äº†å¦ä¸€ä¸ªè·¯å¾„çš„ <code>example.js</code>ï¼ˆ???ä¿®æ”¹åå‘ç°ä¼ å…¥å‡½æ•° <code>createmenu(link)</code> çš„ <code>link</code> ä¸º <code>undefined</code> å¹¶ä¸”åªå‡ºç°äº†ä¸€ä¸ªé“¾æ¥æ¡†(??? æ§åˆ¶å°è¾“å‡ºå¤§æ³•åå‘ç°ä¼ å…¥çš„ <code>link</code> ä¸º <code>Array(3)</code> (??? è¯´å¥½çš„ <code>JSON</code> å‘¢???)äºæ˜¯å¾ªç¯éå†åï¼Œä¾¿è¾¾æˆäº†æ•ˆæœã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fetch(<span class="string">'http://localhost:3000/api/first'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">  .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> one <span class="keyword">of</span> result) &#123;</span><br><span class="line">      createmenu(one);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err.message);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/api/first'</span>, jsonParser, (request, response) =&gt; &#123;</span><br><span class="line">  response.json(links);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/first'</span>, (request, response) =&gt; &#123;</span><br><span class="line">  response.sendFile(<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/views/first.html`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013193423479.png" alt="image-20201013193423479"></p>
<p>çˆ±å¿ƒä¸ºå•¥å˜æˆäº†é—®å·ï¼Œæˆ‘ä¹Ÿæ¯é¸¡ã€‚</p>
<p>åˆåœ¨ <code>JSON</code> çš„ç±»å‹ä¸Šçº ç»“äº†å¾ˆä¹…ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">linkform.addEventListener(<span class="string">'submit'</span>, e =&gt; &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="keyword">const</span> formData = <span class="keyword">new</span> FormData(e.target);</span><br><span class="line">  fetch(<span class="string">'http://localhost:3000/api/first'</span>, &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: formData</span><br><span class="line">  &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.text())</span><br><span class="line">    .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      createsucceed(result);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(<span class="string">'/ai/first'</span>, upload.array(), (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!(request.body.input.startsWith(<span class="string">'http://'</span>) || request.body.input.startsWith(<span class="string">'https://'</span>))) &#123;</span><br><span class="line">    request.body.input = <span class="string">'http://'</span> + request.body.input;</span><br><span class="line">  &#125;</span><br><span class="line">  response.send(<span class="built_in">JSON</span>.stringify(request.body));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®è¦æ±‚ä¸ºä½œä¸ºè¡¨å•æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œè€ŒæœåŠ¡å™¨ä»¥ <code>JSON</code> æ•°æ®çš„å½¢å¼è¿”å›æ–°é“¾æ¥ã€‚<br>ç»è¿‡æ•°æ¬¡å°è¯•åå‘ç°åœ¨æœåŠ¡å™¨ä»¥ <code>JSON.stringify</code> æ–¹æ³•çš„è¿”å›ç±»å‹è¿”å›çš„è¯, å†è½¬æ¢ä¸º <code>text</code> å³å¯è¾¾æˆæ•ˆæœã€‚(ä½†æ˜¯æˆåŠŸæ—¶çš„æç¤ºæ¶ˆæ¯çš„æ ·å¼ä¿¡æ¯æ€ä¹ˆç»™æˆ‘æä¸¢äº†â€¦.)</p>
<p><img src="/2018/12/17/ProjectASocialNewsWebPageapp/image-20201013193431327.png" alt="image-20201013193431327"></p>
<p>æ–°çš„æ•°æ®æ€ä¹ˆåˆæˆ <code>undefined</code> çš„äº†ã€‚<br>è·¯å¾„çš„ <code>api</code> å°‘äº†ä¸€ä¸ª <code>p</code> çœŸå¥½ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> createlink = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> linkform = <span class="built_in">document</span>.createElement(<span class="string">'form'</span>);</span><br><span class="line">  linkform.className = <span class="string">'linkForm'</span>;</span><br><span class="line">  <span class="keyword">const</span> input1 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input2 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input3 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input4 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  input1.style.width = <span class="string">'250px'</span>;</span><br><span class="line">  input2.style.width = <span class="string">'450px'</span>;</span><br><span class="line">  input3.style.width = <span class="string">'300px'</span>;</span><br><span class="line">  input4.style.width = <span class="string">'100px'</span>;</span><br><span class="line">  input1.type = <span class="string">'text'</span>;</span><br><span class="line">  input1.name = <span class="string">'title'</span>;</span><br><span class="line">  input2.type = <span class="string">'text'</span>;</span><br><span class="line">  input2.name = <span class="string">'url'</span>;</span><br><span class="line">  input3.type = <span class="string">'text'</span>;</span><br><span class="line">  input3.name = <span class="string">'submitted'</span>;</span><br><span class="line">  input4.type = <span class="string">'submit'</span>;</span><br><span class="line">  input1.required = <span class="string">'required'</span>;</span><br><span class="line">  input2.required = <span class="string">'required'</span>;</span><br><span class="line">  input3.required = <span class="string">'required'</span>;</span><br><span class="line">  input4.id = <span class="string">'inputbutton'</span>;</span><br><span class="line">  input4.value = <span class="string">'Add link'</span>;</span><br><span class="line">  linkform.addEventListener(<span class="string">'submit'</span>, e =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="keyword">const</span> formData = <span class="keyword">new</span> FormData(e.target);</span><br><span class="line">    fetch(<span class="string">'http://localhost:3000/api/first'</span>, &#123;</span><br><span class="line">      method: <span class="string">'POST'</span>,</span><br><span class="line">      body: formData</span><br><span class="line">    &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">      .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">        createsucceed(result);</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err.message);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  linkform.appendChild(input1);</span><br><span class="line">  linkform.appendChild(input2);</span><br><span class="line">  linkform.appendChild(input3);</span><br><span class="line">  linkform.appendChild(input4);</span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(linkform, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">&#125;;</span><br><span class="line">app.post(<span class="string">'/api/first'</span>, upload.array(), (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!(request.body.url.startsWith(<span class="string">'http://'</span>) || request.body.url.startsWith(<span class="string">'https://'</span>))) &#123;</span><br><span class="line">    request.body.url = <span class="string">'http://'</span> + request.body.url;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> res1 = request.body.title;</span><br><span class="line">  <span class="keyword">const</span> res2 = request.body.url;</span><br><span class="line">  <span class="keyword">const</span> res3 = request.body.submitted;</span><br><span class="line">  <span class="keyword">const</span> res = &#123;</span><br><span class="line">    title: res1,</span><br><span class="line">    url: res2,</span><br><span class="line">    author: res3</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  response.send(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ç–¯ç‹‚çš„æ§åˆ¶å°è¾“å‡ºå¤§æ³•åå‘ç°, ä¼ åˆ°å®¢æˆ·ç«¯çš„åº”è¯¥æ˜¯ <code>JSON</code> å¯¹è±¡è€Œä¸æ˜¯å­—ç¬¦ä¸² æ‰€ä»¥æ”¹ä¸º <code>response.json()</code> ç„¶åå°±åŸºæœ¬è¾¾æˆæ•ˆæœã€‚<br>å¤§è‡´å®Œå·¥ã€‚ç»¿è‰²çš„æ ·å¼ä¿¡æ¯æ‡’å¾—å†™äº†=ã€‚=</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>nodejs è®°ä¸€æ¬¡è¢«è‡ªå·±è ¢å“­çš„ç»å†</title>
    <url>/2018/12/16/nodejs-%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%A2%AB%E8%87%AA%E5%B7%B1%E8%A0%A2%E5%93%AD%E7%9A%84%E7%BB%8F%E5%8E%86/</url>
    <content><![CDATA[<p>2018.12.16 22:46 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter25</p>
</blockquote>
<p>è¢«è‡ªå·±è ¢å“­äº†TT</p>
<a id="more"></a>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> multer = <span class="built_in">require</span>(<span class="string">'multer'</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</span><br><span class="line"><span class="keyword">const</span> jsonParser = bodyParser.json();</span><br><span class="line"><span class="keyword">const</span> upload = multer();</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="keyword">const</span> articles = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">    title: <span class="string">'First article'</span>,</span><br><span class="line">    content: <span class="string">'Hello World!'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">    title: <span class="string">'Lorem ipsum'</span>,</span><br><span class="line">    content:</span><br><span class="line">      <span class="string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut hendrerit mauris ac porttitor accumsan. Nunc vitae pulvinar odio, auctor interdum dolor. Aenean sodales dui quis metus iaculis, hendrerit vulputate lorem vestibulum.'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">3</span>,</span><br><span class="line">    title: <span class="string">'Lorem ipsum in French'</span>,</span><br><span class="line">    content:</span><br><span class="line">      <span class="string">'Jâ€™en dis autant de ceux qui, par mollesse dâ€™esprit, câ€™est-Ã -dire par la crainte de la peine et de la douleur, manquent aux devoirs de la vie. Et il est trÃ¨s facile de rendre raison de ce que jâ€™avance.'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line">app.use(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'*'</span>);</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'Origin, X-Requested-With, Content-Type, Accept'</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br><span class="line">app.post(<span class="string">'/api/cars'</span>, jsonParser, (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> cars = request.body;</span><br><span class="line">  response.send(<span class="string">`You sent me a list of cars: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(cars)&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(<span class="string">'/animals'</span>, upload.array(), (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> name = request.body.name;</span><br><span class="line">  <span class="keyword">const</span> vote = request.body.strongest;</span><br><span class="line">  response.send(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, you voted: <span class="subst">$&#123;vote&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(<span class="string">'/tshirt'</span>);</span><br><span class="line">app.get(<span class="string">'/hello'</span>, (request, response) =&gt; &#123;</span><br><span class="line">  response.sendFile(<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/views/hello.html`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">'/api/articles'</span>, (request, response) =&gt; &#123;</span><br><span class="line">  response.json(articles);</span><br><span class="line">&#125;);</span><br><span class="line">app.use(express.static(<span class="string">'public'</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> listener = app.listen(process.env.PORT || <span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Your app is listening on port <span class="subst">$&#123;listener.address().port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸€ç›´æ— æ³•è¾¾æˆ <strong>è‡ªå·±å‘é€è¯·æ±‚ç»™è‡ªå»ºçš„æœåŠ¡å™¨</strong> çš„ä»£ç æ•ˆæœã€‚ç„¶è€Œï¼Œæ§åˆ¶å°ä¸€ç›´åœ¨æç¤ºç¼ºå°‘ä¸œè¥¿â€¦â€¦ åªè¦è°ƒæ¢é¡ºåºå°±å¯ä»¥äº†â€¦â€¦ å‘µ=ã€‚=<br>è¿˜ä¸æ¸…æ¥š <code>use</code> çš„æ„ä¹‰æ˜¯å•¥â€¦â€¦ è¢«è‡ªå·±è ¢åˆ°æ²¡å¿ƒæƒ…è®°å½•äº†â€¦â€¦ å°±è¿™æ ·æŠŠâ€¦â€¦</p>
<p>åˆå†™äº† <code>tshirt</code> éƒ¨åˆ†ï¼Œç„¶è€Œï¼Œè¿˜æ˜¯ä¸€å¤´é›¾æ°´äº†å¥½ä¹…ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> travel = &#123;</span><br><span class="line">  name: <span class="string">'Sam'</span>,</span><br><span class="line">  countries: [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'a'</span>, <span class="attr">year</span>: <span class="number">1</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'b'</span>, <span class="attr">year</span>: <span class="number">2</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'c'</span>, <span class="attr">year</span>: <span class="number">3</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Send data to the server</span></span><br><span class="line">fetch(<span class="string">'http://localhost:3000/api/countries'</span>, &#123;</span><br><span class="line">  method: <span class="string">'POST'</span>,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    Accept: <span class="string">'application/json'</span>,</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  body: <span class="built_in">JSON</span>.stringify(travel)</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> response.text())</span><br><span class="line">  .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(result);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err.message);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">'/api/countries'</span>, jsonParser, (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> travel = request.body;</span><br><span class="line">  <span class="built_in">console</span>.log(travel);</span><br><span class="line">  <span class="comment">// const travel = JSON.stringify(request.body);</span></span><br><span class="line">  <span class="comment">// const name = JSON.stringify(request.body).name;</span></span><br><span class="line">  <span class="comment">// let a = JSON.stringify(request.body);</span></span><br><span class="line">  <span class="comment">// let travel = JSON.parse(a);</span></span><br><span class="line">  <span class="comment">// console.log(travel);</span></span><br><span class="line">  <span class="comment">// const name = travel.name;</span></span><br><span class="line">  <span class="comment">// console.log(name);</span></span><br><span class="line">  <span class="comment">// const length = travel.countries.length;</span></span><br><span class="line">  response.send(</span><br><span class="line">    <span class="string">`Your name is <span class="subst">$&#123;travel.name&#125;</span> and you visited <span class="subst">$&#123;travel.countries.length&#125;</span> countries. Keep traveling!`</span></span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸€å¼€å§‹ç›´æ¥å®šä¹‰ <code>name</code> ä¸ <code>countries</code> ä½†æ˜¯ä¼šæœªå®šä¹‰ã€‚ä¸çŸ¥é“ä¸ºå•¥ï¼Œåœ¨ <code>JSON</code> çš„ç±»å‹ä¸Šçº ç»“äº†å¾ˆä¹…ã€‚åŸå…ˆçš„å†™æ³•( <code>key</code> ä¸åŠ åŒå¼•å· å¹¶ä¸” <code>travel</code> è¢«æˆ‘å†™æˆäº† <code>Array</code> )ä¼¼ä¹æ˜¯æœ‰é—®é¢˜çš„ã€‚ç–¯ç‹‚çš„ä¿®æ”¹ä¹‹åæœ€ç»ˆè°œä¹‹é€šè¿‡â€¦â€¦ =ã€‚=æ”¹æ—¥å†è¯´</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>New article</title>
    <url>/2018/12/16/New-article/</url>
    <content><![CDATA[<p>2018.12.16 16:04 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter23 Coding time <code>&lt;New article&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="New-article"><a href="#New-article" class="headerlink" title="New article"></a>New article</h1><p>Write the HTML code that shows input fields for creating a new blog article by entering its title and content.<br>Then, write the associated JavaScript code to send the article fields as form data to the URL <a href="https://thejsway-server.herokuapp.com/articles" target="_blank" rel="noopener">https://thejsway-server.herokuapp.com/articles</a>. You should receive a confirmation message from the server and display it on the page.</p>
<p><img src="/2018/12/16/New-article/image-20201013192424143.png" alt="image-20201013192424143"></p>
<p>W&gt; The server only accepts POST requests at this URL.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'form'</span>).addEventListener(<span class="string">'submit'</span>, e =&gt; &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="keyword">const</span> formData = <span class="keyword">new</span> FormData(e.target);</span><br><span class="line">  fetch(<span class="string">'https://thejsway-server.herokuapp.com/articles'</span>, &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: formData</span><br><span class="line">  &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.text())</span><br><span class="line">    .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">'result'</span>).textContent = result;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å‘ç° <strong>1</strong> ä¸ªé—®é¢˜, <code>submit</code> äº‹ä»¶æ˜¯ç»‘å®šåœ¨ <code>form</code> ä¸Šè€Œä¸æ˜¯ <code>type</code> ä¸º <code>submit</code> çš„æŒ‰é’®ä¸Šã€‚<br>=ã€‚=å‘µ</p>
<h2 id="2018-12-17-0-50-æ›´æ–°"><a href="#2018-12-17-0-50-æ›´æ–°" class="headerlink" title="2018.12.17 0:50 æ›´æ–°"></a>2018.12.17 0:50 æ›´æ–°</h2><p>åŠ ä¸ŠæœåŠ¡å™¨éƒ¨åˆ†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'form'</span>).addEventListener(<span class="string">'submit'</span>, e =&gt; &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="keyword">const</span> formData = <span class="keyword">new</span> FormData(e.target);</span><br><span class="line">  fetch(<span class="string">'https://thejsway-server.herokuapp.com/articles'</span>, &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    body: formData</span><br><span class="line">  &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.text())</span><br><span class="line">    .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).textContent = result;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> articles = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">    title: <span class="string">'First article'</span>,</span><br><span class="line">    content: <span class="string">'Hello World!'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">    title: <span class="string">'Lorem ipsum'</span>,</span><br><span class="line">    content:</span><br><span class="line">      <span class="string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut hendrerit mauris ac porttitor accumsan. Nunc vitae pulvinar odio, auctor interdum dolor. Aenean sodales dui quis metus iaculis, hendrerit vulputate lorem vestibulum.'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">3</span>,</span><br><span class="line">    title: <span class="string">'Lorem ipsum in French'</span>,</span><br><span class="line">    content:</span><br><span class="line">      <span class="string">'Jâ€™en dis autant de ceux qui, par mollesse dâ€™esprit, câ€™est-Ã -dire par la crainte de la peine et de la douleur, manquent aux devoirs de la vie. Et il est trÃ¨s facile de rendre raison de ce que jâ€™avance.'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">'/articles'</span>, upload.array(), (request, response) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> newid = articles.length + <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(request.body);</span><br><span class="line">  <span class="keyword">const</span> newtitle = request.body.title;</span><br><span class="line">  <span class="keyword">const</span> newcontent = request.body.content;</span><br><span class="line">  articles.push(&#123;</span><br><span class="line">    id: newid,</span><br><span class="line">    title: newtitle,</span><br><span class="line">    content: newcontent</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`New article added successfully with ID <span class="subst">$&#123;newid&#125;</span>`</span>);</span><br><span class="line">  <span class="comment">// response.send(`New article added successfully with ID $&#123;newid&#125;`);</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>çªç„¶æˆåŠŸ d=====(ï¿£â–½ï¿£*)b å¼€ç†</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Github profile</title>
    <url>/2018/12/16/Github-profile/</url>
    <content><![CDATA[<p>2018.12.16 13:22 <strong>ES6å­¦ä¹ ä¸­</strong><del>(ä¼¼ä¹å‡ºç°äº†çˆ¬è™«(å¹¶ä¸ )</del></p>
<blockquote>
<p>Thejsway/chapter22 Coding time <code>&lt;GitHub profile&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="GitHub-profile"><a href="#GitHub-profile" class="headerlink" title="GitHub profile"></a>GitHub profile</h1><p>The ubiquitous code sharing platform <a href="https://github.com" target="_blank" rel="noopener">GitHub</a> has a public API. The goal of this exercise is to display some information about a GitHub user, identified by his login. The API documentation is available <a href="https://developer.github.com/v3/users/" target="_blank" rel="noopener">here</a>.<br>Use this API to show the profile picture, name and website address of a GitHub user whose login is entered in a text box.</p>
<p><img src="/2018/12/16/Github-profile/image-20201013191407437.png" alt="image-20201013191407437"></p>
<p>You can test your code by using the GitHub logins of prominent JS community members like <code>brendaneich</code>  (JavaScriptâ€™s father),  <code>douglascrockford</code> or  <code>vjeux</code>  .<br>=ã€‚=å¥½åƒæœ‰ç‚¹éš¾åº¦ã€‚æ²¡æœ‰ç»™ä»€ä¹ˆæç¤ºï¼Œåªç»™äº†å®˜æ–¹æ•™ç¨‹(<del>ç„¶è€Œå¹¶çœ‹ä¸æ‡‚</del>)<br>äºæ˜¯ç™¾åº¦<br>ç›¸å…³æ–‡ç« ï¼š<br><a href="https://www.jianshu.com/p/628a0747c492" target="_blank" rel="noopener">pythonçˆ¬å–</a><br><a href="https://blog.csdn.net/qq_25537177/article/details/80528834" target="_blank" rel="noopener">è²Œä¼¼æ˜¯js?</a><br>=ã€‚=è´¹å°½å¿ƒæ€çš„æˆ‘ä¼¼ä¹å†™äº†å‡ºæ¥</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> grabgithub = <span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">  fetch(<span class="string">'https://api.github.com/users/'</span> + name)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">    .then(<span class="function"><span class="params">users</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// for(const auser of users)&#123;</span></span><br><span class="line">      <span class="comment">// name = name.replace(/\s+/g,"").toLowerCase();</span></span><br><span class="line">      <span class="comment">// const username = auser.login.replace(/\s+/g,"").toLowerCase();</span></span><br><span class="line">      <span class="comment">// console.log(username);</span></span><br><span class="line">      <span class="comment">// if(name === username)&#123;</span></span><br><span class="line">      <span class="comment">// createinfo(auser);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      createinfo(users);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createinfo</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> incon = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">  incon.src = user.avatar_url;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="built_in">document</span>.createElement(<span class="string">'h1'</span>);</span><br><span class="line">  name.textContent = user.name;</span><br><span class="line">  <span class="keyword">const</span> address = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  address.href = user.html_url;</span><br><span class="line">  address.textContent = user.html_url;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(incon);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(name);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(address);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'grabButton'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).childNodes;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> a <span class="keyword">of</span> div) &#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).removeChild(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'input'</span>).value;</span><br><span class="line">  grabgithub(input);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ³¨é‡Šéƒ¨åˆ†ä¸ºåŸä»£ç ï¼ŒåŸå…ˆç†è§£ä¸ºåœ¨ <a href="https://api.github.com/users" target="_blank" rel="noopener">https://api.github.com/users</a> æŸ¥æ‰¾ä¿¡æ¯ï¼Œåæ¥å‘ç°è¿™ä¸ªé¡µé¢åªæœ‰46ä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œä»”ç»†è§‚å¯Ÿäº†ä¸€ä¼šå„¿ å®˜æ–¹æ–‡æ¡£ã€‚å‘ç°åº”è¯¥æ˜¯åœ¨ <a href="https://api.github.com/users/username" target="_blank" rel="noopener">https://api.github.com/users/username</a> æŸ¥æ‰¾ã€‚äºæ˜¯ä¿®æ”¹ä»£ç ã€‚åœ¨ç‰¹å®šé¡µé¢è¯»å–ä¿¡æ¯ã€‚æ•ˆæœè¾¾æˆã€‚è·å–åœ°å€éƒ¨åˆ†åº”è¯¥æ˜¯è·å–åšå®¢ã€‚æœªä¿®æ”¹(=ã€‚=å¤ªæ‡’)</p>
<p><img src="/2018/12/16/Github-profile/image-20201013191701861.png" alt="image-20201013191701861"></p>
<p><img src="/2018/12/16/Github-profile/image-20201013191709344.png" alt="image-20201013191709344"></p>
<p>æƒ³ç»“æŸçš„æˆ‘åˆå‘ç°äº†æ–°é—®é¢˜=ã€‚=å‘µï¼Œä¸ºä»€ä¹ˆ <code>h1</code> æ²¡æœ‰è¢«åˆ æ‰ã€‚ã€‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'grabButton'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> divs = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).children);</span><br><span class="line">  <span class="keyword">if</span> (divs.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.length; i++) &#123;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).removeChild(divs[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'input'</span>).value;</span><br><span class="line">  grabgithub(input);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> grabgithub = <span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">  fetch(<span class="string">'https://api.github.com/users/'</span> + name)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">    .then(<span class="function"><span class="params">users</span> =&gt;</span> &#123;</span><br><span class="line">      createinfo(users);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createinfo</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> incon = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">  incon.src = user.avatar_url;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="built_in">document</span>.createElement(<span class="string">'h1'</span>);</span><br><span class="line">  name.textContent = user.name;</span><br><span class="line">  <span class="keyword">const</span> address = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  address.href = user.blog;</span><br><span class="line">  address.textContent = user.blog;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(incon);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(name);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).appendChild(address);</span><br><span class="line">  divs = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.getElementById(<span class="string">'information'</span>).children);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åæ­»é©¬å½“åšæ´»é©¬åŒ»çš„æˆ‘ å°† <code>divs</code> è½¬åŒ–ä¸º <code>Array</code> ç„¶åå°±æˆåŠŸäº†=ã€‚=å‘µ</p>
<h2 id="2020-å¹´çš„å›é¡¾"><a href="#2020-å¹´çš„å›é¡¾" class="headerlink" title="2020 å¹´çš„å›é¡¾"></a>2020 å¹´çš„å›é¡¾</h2><p>å…¶å®åªæ˜¯è°ƒå–æ¥å£æ¸²æŸ“å‡½æ•°çš„ä»»åŠ¡ï¼Œæ²¡æœ‰æˆ‘å½“æ—¶æƒ³çš„é‚£ä¹ˆå¤æ‚ï¼Œåªæ˜¯é‚£ä¸ªæ—¶å€™æˆ‘è¿˜ç†è§£ä¸äº†è¿™äº›ä¸œè¥¿ã€‚</p>
<p>çœ‹äº†ä¸€ä¸‹æœ€åå‡ºç°çš„é‚£ä¸ªç§»é™¤å­å…ƒç´ å‡ºé”™çš„åœ°æ–¹ï¼Œåº”è¯¥æ˜¯å› ä¸ºè·å–äº†å­å…ƒç´ ç±»æ•°ç»„ï¼Œç„¶åè¿­ä»£å®ƒï¼Œä½†æ˜¯æˆ‘åˆåœ¨åˆ é™¤å®ƒï¼Œèµ·äº†å†²çªã€‚</p>
<p>åˆ é™¤å­å…ƒç´ æ¯”è¾ƒç®€å•çš„æ–¹æ³•å¯ä»¥ç›´æ¥å°†çˆ¶å…ƒç´ çš„ <code>innerHTML</code> è®¾ç½®ä¸ºç©ºã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>ProjectASocialNewsWebPage</title>
    <url>/2018/12/15/ProjectASocialNewsWebPage/</url>
    <content><![CDATA[<p>2018.12.15 20:42 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter19 <code>&lt;Project: a social news web page&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Project-a-social-news-web-page"><a href="#Project-a-social-news-web-page" class="headerlink" title="Project: a social news web page"></a>Project: a social news web page</h1><p>You know now enough JavaScript and DOM to go ahead and create interactive web pages for real!</p>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>This project builds upon the social news program you created previously. This time, the objective is to make a social news web page.<br>The general idea and page layout for this project are inspired by the <a href="https://www.discovermeteor.com/" target="_blank" rel="noopener">Discover Meteor book</a>â€˜s example application.</p>
<h2 id="Functional-requirements"><a href="#Functional-requirements" class="headerlink" title="Functional requirements"></a>Functional requirements</h2><ul>
<li>A link is defined by its title, its URL and its author (submitter).</li>
<li>If a new link URL does not start with â€œhttp://â€œ or â€œhttps://â€œ, â€œhttp://â€œ is automatically added at its beginning.</li>
<li>The web page displays a list of at least three already existing links.</li>
<li>A button exists for the user to submit a new link. When clicked, a form appears before the link list to input the new link properties (author, title and URL).</li>
<li>In this form, all link fields are mandatory.</li>
<li>When the new link is validated by the user, it is displayed at the top of the link list, replacing the form. A message indicates the success of the operation, then disappears after two seconds.</li>
</ul>
<h2 id="Technical-requirements"><a href="#Technical-requirements" class="headerlink" title="Technical requirements"></a>Technical requirements</h2><ul>
<li><p>You should reuse any useful code from the previous project.</p>
</li>
<li><p>All your code should be correctly indented.</p>
</li>
<li><p>Names should be wisely chosen and adhere to the camelCase convention.</p>
</li>
<li><p>Code duplication should be avoided.</p>
</li>
</ul>
<h2 id="Starter-code"><a href="#Starter-code" class="headerlink" title="Starter code"></a>Starter code</h2><p>Because this is first and foremost a JavaScript project, here is the complete HTML/CSS code of the web page. It is also online as a <a href="https://codepen.io/bpesquet/pen/pPyxLG/" target="_blank" rel="noopener">CodePen</a>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>My web page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æœ€æ–°ç¼–è¯‘å’Œç¼©å°CSS --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./css/first.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>A social news web page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-default"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"navbar-toggle collapsed"</span> <span class="attr">data-toggle</span>=<span class="string">"collapse"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">data-target</span>=<span class="string">"#bs-example-navbar-collapse-1"</span> <span class="attr">aria-expanded</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Toggle navigation<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-link"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> PubLink<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapse navbar-collapse"</span> <span class="attr">id</span>=<span class="string">"bs-example-navbar-collapse-1"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"submitButton"</span> <span class="attr">class</span>=<span class="string">"btn btn-default navbar-btn"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"navbar-text navbar-right"</span>&gt;</span>A social news web page built with â¤ and JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å­˜æ”¾åŠ¨æ€å†…å®¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jsä»£ç  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/example.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jQueryï¼ˆBootstrapçš„JavaScriptæ’ä»¶æ‰€å¿…éœ€çš„ï¼‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- åŒ…å«æ‰€æœ‰å·²ç¼–è¯‘çš„æ’ä»¶(å¦‚ä¸‹)ï¼Œæˆ–è€…æ ¹æ®éœ€è¦åŒ…å«å•ä¸ªæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.5px</span> solid;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#afaeae</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#inputbutton</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">hsl</span>(208, 62%, 40%);</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Main link element (&lt;div&gt; tag) */</span></span><br><span class="line"><span class="selector-class">.link</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Link title (&lt;a&gt; tag) */</span></span><br><span class="line"><span class="selector-class">.linkTitle</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#428bca</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.linkTitle</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Link URL (&lt;span&gt; tag) */</span></span><br><span class="line"><span class="selector-class">.linkUrl</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Link headline containing title &amp; URL (&lt;h4&gt; tag) */</span></span><br><span class="line"><span class="selector-class">.linkHeadline</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Link author (&lt;span&gt; tag) */</span></span><br><span class="line"><span class="selector-class">.linkAuthor</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.linkForm</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç åšäº†é€‚å½“æ›´æ”¹ã€‚</p>
<h2 id="Expected-result"><a href="#Expected-result" class="headerlink" title="Expected result"></a>Expected result</h2><p><img src="/2018/12/15/ProjectASocialNewsWebPage/image-20201013190336868.png" alt="image-20201013190336868"></p>
<p><img src="/2018/12/15/ProjectASocialNewsWebPage/image-20201013190344372.png" alt="image-20201013190344372"></p>
<p><img src="/2018/12/15/ProjectASocialNewsWebPage/image-20201013190352014.png" alt="image-20201013190352014"></p>
<p><img src="/2018/12/15/ProjectASocialNewsWebPage/image-20201013190356227.png" alt="image-20201013190356227"></p>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><h4 id="1-ç¼–å†™å‡½æ•°-createlink-ç”¨äºåˆ›å»ºé“¾æ¥"><a href="#1-ç¼–å†™å‡½æ•°-createlink-ç”¨äºåˆ›å»ºé“¾æ¥" class="headerlink" title="1.ç¼–å†™å‡½æ•°  createlink()  ç”¨äºåˆ›å»ºé“¾æ¥"></a>1.ç¼–å†™å‡½æ•°  <code>createlink()</code>  ç”¨äºåˆ›å»ºé“¾æ¥</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> createlink = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> linkform = <span class="built_in">document</span>.createElement(<span class="string">'form'</span>);</span><br><span class="line">  linkform.className = <span class="string">'linkForm'</span>;</span><br><span class="line">  <span class="keyword">const</span> input1 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input2 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input3 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input4 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  input1.style.width = <span class="string">'250px'</span>;</span><br><span class="line">  input2.style.width = <span class="string">'450px'</span>;</span><br><span class="line">  input3.style.width = <span class="string">'300px'</span>;</span><br><span class="line">  input4.style.width = <span class="string">'100px'</span>;</span><br><span class="line">  input1.type = <span class="string">'text'</span>;</span><br><span class="line">  input2.type = <span class="string">'text'</span>;</span><br><span class="line">  input3.type = <span class="string">'text'</span>;</span><br><span class="line">  input4.type = <span class="string">'submit'</span>;</span><br><span class="line">  input4.id = <span class="string">'inputbutton'</span>;</span><br><span class="line">  input4.value = <span class="string">'Add link'</span>;</span><br><span class="line">  linkform.appendChild(input1);</span><br><span class="line">  linkform.appendChild(input2);</span><br><span class="line">  linkform.appendChild(input3);</span><br><span class="line">  linkform.appendChild(input4);</span><br><span class="line">  <span class="comment">// const count = document.getElementsByClassName("link");</span></span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(linkform, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'submitButton'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> form = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'form'</span>);</span><br><span class="line">  <span class="keyword">if</span> (form.length === <span class="number">0</span>) &#123;</span><br><span class="line">    createlink();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>addEventListener()</code> ä¸­çš„å‡½æ•°éƒ¨åˆ†è‹¥åŠ ä¸Šæ‹¬å·ï¼Œåˆ™ç›´æ¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ä½“ç°åœ¨è¯¥ç½‘é¡µä¸Šåˆ™æ˜¯ä¸ç”¨ç‚¹å‡» <code>submit</code> æŒ‰é’®å°±å‡ºç°äº†åˆ›å»ºé“¾æ¥çš„åˆ—è¡¨ã€‚éƒ¨åˆ†åˆå§‹åŒ–è¿‡ç¨‹è¿‡äºç¹çã€‚æœ‰å› æœªéªŒè¯æ˜¯å¦å­˜åœ¨è¡¨å•è€Œå¯¼è‡´å¤šæ¬¡ç‚¹å‡»æŒ‰é’®çš„æƒ…å†µä¸‹ä¼šå‡ºç°å¤šä¸ªè¡¨å•ã€‚</p>
<h4 id="2-æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥"><a href="#2-æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥" class="headerlink" title="2.æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥"></a>2.æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­åˆ›å»ºä¸‰ä¸ªç°æœ‰é“¾æ¥</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> links = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Hacker News'</span>,</span><br><span class="line">    url: <span class="string">'http://news.ycombinator.com'</span>,</span><br><span class="line">    author: <span class="string">'Baptiste'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Reddit'</span>,</span><br><span class="line">    url: <span class="string">'http://reddit.com'</span>,</span><br><span class="line">    author: <span class="string">'Thomas'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Boing Boing'</span>,</span><br><span class="line">    url: <span class="string">'http://bolingboling.net'</span>,</span><br><span class="line">    author: <span class="string">'Daniel'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> link <span class="keyword">of</span> links) &#123;</span><br><span class="line">    <span class="keyword">const</span> linkb = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    <span class="keyword">const</span> linkheadling = <span class="built_in">document</span>.createElement(<span class="string">'h4'</span>);</span><br><span class="line">    <span class="keyword">const</span> linktitle = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">    <span class="keyword">const</span> linkurl = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="keyword">const</span> linkauthor = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    linkb.className = <span class="string">'link'</span>;</span><br><span class="line">    linkheadling.className = <span class="string">'linkHeadline'</span>;</span><br><span class="line">    linktitle.className = <span class="string">'linkTitle'</span>;</span><br><span class="line">    linkurl.className = <span class="string">'linkUrl'</span>;</span><br><span class="line">    linkauthor.className = <span class="string">'linkAuthor'</span>;</span><br><span class="line">    linktitle.textContent = link.title;</span><br><span class="line">    linktitle.href = link.url;</span><br><span class="line">    linkurl.textContent = link.url;</span><br><span class="line">    linkauthor.textContent = <span class="string">'Submitted by '</span> + link.author;</span><br><span class="line">    linkheadling.appendChild(linktitle);</span><br><span class="line">    linkheadling.appendChild(linkurl);</span><br><span class="line">    linkb.appendChild(linkheadling);</span><br><span class="line">    linkb.appendChild(linkauthor);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(linkb);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æœ‰ç²—å¿ƒå¿˜äº†åŠ å¤–åŒ…çš„ <code>div</code> ç›’å­</p>
<h4 id="3-ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†"><a href="#3-ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†" class="headerlink" title="3.ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†"></a>3.ç¼–å†™æˆåŠŸåˆ›å»ºé“¾æ¥éƒ¨åˆ†</h4><blockquote>
<p>å¯¹ä¸Šé¢ä»£ç è¿›è¡Œéƒ¨åˆ†æ”¹å†™</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> links = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Hacker News'</span>,</span><br><span class="line">    url: <span class="string">'http://news.ycombinator.com'</span>,</span><br><span class="line">    author: <span class="string">'Baptiste'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Reddit'</span>,</span><br><span class="line">    url: <span class="string">'http://reddit.com'</span>,</span><br><span class="line">    author: <span class="string">'Thomas'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Boing Boing'</span>,</span><br><span class="line">    url: <span class="string">'http://bolingboling.net'</span>,</span><br><span class="line">    author: <span class="string">'Daniel'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createmenu</span>(<span class="params">link</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> linkb = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkheadling = <span class="built_in">document</span>.createElement(<span class="string">'h4'</span>);</span><br><span class="line">  <span class="keyword">const</span> linktitle = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkurl = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkauthor = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  linkb.className = <span class="string">'link'</span>;</span><br><span class="line">  linkheadling.className = <span class="string">'linkHeadline'</span>;</span><br><span class="line">  linktitle.className = <span class="string">'linkTitle'</span>;</span><br><span class="line">  linkurl.className = <span class="string">'linkUrl'</span>;</span><br><span class="line">  linkauthor.className = <span class="string">'linkAuthor'</span>;</span><br><span class="line">  linktitle.textContent = link.title;</span><br><span class="line">  linktitle.href = link.url;</span><br><span class="line">  linkurl.textContent = link.url;</span><br><span class="line">  linkauthor.textContent = <span class="string">'Submitted by '</span> + link.author;</span><br><span class="line">  linkheadling.appendChild(linktitle);</span><br><span class="line">  linkheadling.appendChild(linkurl);</span><br><span class="line">  linkb.appendChild(linkheadling);</span><br><span class="line">  linkb.appendChild(linkauthor);</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(linkb);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> link <span class="keyword">of</span> links) &#123;</span><br><span class="line">    createmenu(link);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createsucceed</span>(<span class="params">link</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> box = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">  box.classname = <span class="string">'succeed'</span>;</span><br><span class="line">  box.textContent = <span class="string">`The link <span class="subst">$&#123;link.title&#125;</span> has been succesfully added!`</span>;</span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(box, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">  createmenu(link);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> createlink = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> linkform = <span class="built_in">document</span>.createElement(<span class="string">'form'</span>);</span><br><span class="line">  linkform.className = <span class="string">'linkForm'</span>;</span><br><span class="line">  <span class="keyword">const</span> input1 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input2 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input3 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input4 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  input1.style.width = <span class="string">'250px'</span>;</span><br><span class="line">  input2.style.width = <span class="string">'450px'</span>;</span><br><span class="line">  input3.style.width = <span class="string">'300px'</span>;</span><br><span class="line">  input4.style.width = <span class="string">'100px'</span>;</span><br><span class="line">  input1.type = <span class="string">'text'</span>;</span><br><span class="line">  input2.type = <span class="string">'text'</span>;</span><br><span class="line">  input3.type = <span class="string">'text'</span>;</span><br><span class="line">  input4.type = <span class="string">'submit'</span>;</span><br><span class="line">  input4.id = <span class="string">'inputbutton'</span>;</span><br><span class="line">  input4.value = <span class="string">'Add link'</span>;</span><br><span class="line">  input4.addEventListener(<span class="string">'submit'</span>, e =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> inputs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>);</span><br><span class="line">    <span class="keyword">if</span> (!(inputs[<span class="number">1</span>].value.startsWith(<span class="string">'http://'</span>) || inputs[<span class="number">1</span>].value.startsWith(<span class="string">'https://'</span>))) &#123;</span><br><span class="line">      inputs[i].value = <span class="string">'http://'</span> + inputs[i].value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> link = &#123;</span><br><span class="line">      title: input[<span class="number">0</span>].value,</span><br><span class="line">      url: inputs[<span class="number">1</span>].value,</span><br><span class="line">      author: inputs[<span class="number">2</span>].value</span><br><span class="line">    &#125;;</span><br><span class="line">    links.push(link);</span><br><span class="line">    createsucceed(link);</span><br><span class="line">  &#125;);</span><br><span class="line">  linkform.appendChild(input1);</span><br><span class="line">  linkform.appendChild(input2);</span><br><span class="line">  linkform.appendChild(input3);</span><br><span class="line">  linkform.appendChild(input4);</span><br><span class="line">  <span class="comment">// const count = document.getElementsByClassName("link");</span></span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(linkform, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'submitButton'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> form = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'form'</span>);</span><br><span class="line">  <span class="keyword">if</span> (form.length === <span class="number">0</span>) &#123;</span><br><span class="line">    createlink();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é—®é¢˜ï¼šæ— æ³•å‡ºç°æˆåŠŸæäº¤çš„ç•Œé¢ã€‚å¹¶ä¸”æ–°å»ºçš„é“¾æ¥ä¹Ÿä¸ä¼šæ˜¾ç¤ºã€‚<br>å°† <code>input4</code> çš„ <code>addEventListener()</code> äº‹ä»¶æ›´æ”¹ä¸ºclick å¹¶é˜»æ­¢ <code>submit</code> çš„é»˜è®¤è¡Œä¸º å³å¯å‡ºç°æç¤ºå¹¶åˆ›å»ºæ–°é“¾æ¥ã€‚æ–°é—®é¢˜ï¼šæç¤ºçš„æ•ˆæœæœªè¾¾æˆï¼Œè¡¨å•å¦‚ä½•æ¶ˆå¤±ã€‚</p>
<p>éƒ¨åˆ†ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formdata</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">if</span> (!(inputs[<span class="number">1</span>].value.startsWith(<span class="string">'http://'</span>) || inputs[<span class="number">1</span>].value.startsWith(<span class="string">'https://'</span>))) &#123;</span><br><span class="line">    inputs[<span class="number">1</span>].value = <span class="string">'http://'</span> + inputs[<span class="number">1</span>].value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> alink = &#123;</span><br><span class="line">    title: inputs[<span class="number">0</span>].value,</span><br><span class="line">    url: inputs[<span class="number">1</span>].value,</span><br><span class="line">    author: inputs[<span class="number">2</span>].value</span><br><span class="line">  &#125;;</span><br><span class="line">  links.push(alink);</span><br><span class="line">  createsucceed(alink);</span><br><span class="line">&#125;</span><br><span class="line">input4.addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  formdata();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="4-ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†"><a href="#4-ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†" class="headerlink" title="4.ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†"></a>4.ç¼–å†™ä¸¤ç§’é’Ÿåæç¤ºçš„æ¶ˆå¤±éƒ¨åˆ†</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> links = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Boing Boing'</span>,</span><br><span class="line">    url: <span class="string">'http://bolingboling.net'</span>,</span><br><span class="line">    author: <span class="string">'Daniel'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Reddit'</span>,</span><br><span class="line">    url: <span class="string">'http://reddit.com'</span>,</span><br><span class="line">    author: <span class="string">'Thomas'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Hacker News'</span>,</span><br><span class="line">    url: <span class="string">'http://news.ycombinator.com'</span>,</span><br><span class="line">    author: <span class="string">'Baptiste'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createmenu</span>(<span class="params">link</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> linkb = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkheadling = <span class="built_in">document</span>.createElement(<span class="string">'h4'</span>);</span><br><span class="line">  <span class="keyword">const</span> linktitle = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkurl = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  <span class="keyword">const</span> linkauthor = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  linkb.className = <span class="string">'link'</span>;</span><br><span class="line">  linkheadling.className = <span class="string">'linkHeadline'</span>;</span><br><span class="line">  linktitle.className = <span class="string">'linkTitle'</span>;</span><br><span class="line">  linkurl.className = <span class="string">'linkUrl'</span>;</span><br><span class="line">  linkauthor.className = <span class="string">'linkAuthor'</span>;</span><br><span class="line">  linktitle.textContent = link.title;</span><br><span class="line">  linktitle.href = link.url;</span><br><span class="line">  linkurl.textContent = link.url;</span><br><span class="line">  linkauthor.textContent = <span class="string">'Submitted by '</span> + link.author;</span><br><span class="line">  linkheadling.appendChild(linktitle);</span><br><span class="line">  linkheadling.appendChild(linkurl);</span><br><span class="line">  linkb.appendChild(linkheadling);</span><br><span class="line">  linkb.appendChild(linkauthor);</span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(linkb, <span class="built_in">document</span>.getElementsByClassName(<span class="string">'link'</span>)[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> link <span class="keyword">of</span> links) &#123;</span><br><span class="line">    createmenu(link);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createsucceed</span>(<span class="params">link</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> box = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">  <span class="keyword">const</span> pa = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  box.id = <span class="string">'succeed'</span>;</span><br><span class="line">  pa.textContent = <span class="string">`The link <span class="subst">$&#123;link.title&#125;</span> has been succesfully added!`</span>;</span><br><span class="line">  box.appendChild(pa);</span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(box, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">  createmenu(link);</span><br><span class="line">  <span class="keyword">const</span> linkform = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'linkForm'</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).removeChild(linkform);</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> it = <span class="built_in">document</span>.getElementById(<span class="string">'succeed'</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).removeChild(it);</span><br><span class="line">  &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formdata</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">if</span> (!(inputs[<span class="number">1</span>].value.startsWith(<span class="string">'http://'</span>) || inputs[<span class="number">1</span>].value.startsWith(<span class="string">'https://'</span>))) &#123;</span><br><span class="line">    inputs[<span class="number">1</span>].value = <span class="string">'http://'</span> + inputs[<span class="number">1</span>].value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> alink = &#123;</span><br><span class="line">    title: inputs[<span class="number">0</span>].value,</span><br><span class="line">    url: inputs[<span class="number">1</span>].value,</span><br><span class="line">    author: inputs[<span class="number">2</span>].value</span><br><span class="line">  &#125;;</span><br><span class="line">  links.push(alink);</span><br><span class="line">  createsucceed(alink);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> createlink = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> linkform = <span class="built_in">document</span>.createElement(<span class="string">'form'</span>);</span><br><span class="line">  linkform.className = <span class="string">'linkForm'</span>;</span><br><span class="line">  <span class="keyword">const</span> input1 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input2 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input3 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  <span class="keyword">const</span> input4 = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">  input1.style.width = <span class="string">'250px'</span>;</span><br><span class="line">  input2.style.width = <span class="string">'450px'</span>;</span><br><span class="line">  input3.style.width = <span class="string">'300px'</span>;</span><br><span class="line">  input4.style.width = <span class="string">'100px'</span>;</span><br><span class="line">  input1.type = <span class="string">'text'</span>;</span><br><span class="line">  input2.type = <span class="string">'text'</span>;</span><br><span class="line">  input3.type = <span class="string">'text'</span>;</span><br><span class="line">  input4.type = <span class="string">'submit'</span>;</span><br><span class="line">  input4.id = <span class="string">'inputbutton'</span>;</span><br><span class="line">  input4.value = <span class="string">'Add link'</span>;</span><br><span class="line">  input4.addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    formdata();</span><br><span class="line">  &#125;);</span><br><span class="line">  linkform.appendChild(input1);</span><br><span class="line">  linkform.appendChild(input2);</span><br><span class="line">  linkform.appendChild(input3);</span><br><span class="line">  linkform.appendChild(input4);</span><br><span class="line">  <span class="built_in">document</span></span><br><span class="line">    .getElementById(<span class="string">'content'</span>)</span><br><span class="line">    .insertBefore(linkform, <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).childNodes[<span class="number">0</span>]);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'submitButton'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> form = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'form'</span>);</span><br><span class="line">  <span class="keyword">if</span> (form.length === <span class="number">0</span>) &#123;</span><br><span class="line">    createlink();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœåŸºæœ¬å®ç°ã€‚é—ç•™é—®é¢˜ï¼šéƒ¨åˆ†ä»£ç é‡å¤ä¸”ç¹çï¼Œä½†ä¸çŸ¥å¦‚ä½•æŠ½è±¡å‡ºæ¥ã€‚åˆå§‹åŒ–é¡µé¢æ‰€éœ€æ—¶é—´å¤ªä¹…ï¼Œä¸çŸ¥å¦‚ä½•ä¼˜åŒ– =ã€‚=<br>å‹‰å¼ºç®—å®Œæˆ =ã€‚= (ä¸»è¦æ˜¯ç´¯äº†)</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>start and stop</title>
    <url>/2018/12/15/start-and-stop/</url>
    <content><![CDATA[<p>2018.12.15 18:04 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter18 Coding time <code>&lt;Bouncing ball&gt;``(&lt;Chronometer&gt;)</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Bouncing-ball"><a href="#Bouncing-ball" class="headerlink" title="Bouncing ball"></a>Bouncing ball</h1><p>The goal of this exercise is to make a basketball bounce across the screen. You can download the ball image <a href="https://raw.githubusercontent.com/bpesquet/thejsway/master/resources/basketball.jpg" target="_blank" rel="noopener">here</a>.<br>Start with the following HTML and CSS content.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"start"</span>&gt;</span>Start<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"stop"</span> <span class="attr">disabled</span>&gt;</span>Stop<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"frame"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Update the "src" attribute if you downloaded the image locally --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"ball"</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/bpesquet/thejsway/master/resources/basketball.jpg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#ball</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">111px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Write the JavaScript code that makes the ball bounce horizontally.</p>
<p><img src="/2018/12/15/start-and-stop/image-20201013185155126.png" alt="image-20201013184742806"></p>
<p>With your solution, create a variable with values 1 or -1 that dictates the direction in which the ball should move.</p>
<p>ä¸å¼€å§‹å’Œåœæ­¢è®¡æ—¶ç±»ä¼¼ã€‚<br>å‡ºç°é—®é¢˜ï¼š<br><strong>1.æ— æ³•åœæ­¢åŠ¨ç”»ã€‚</strong><br>(ä¼¼ä¹æ˜¯å› ä¸º <code>balljump()</code> å†…éƒ¨å¸¦æœ‰ <code>requestAnimationFrame()</code> è€Œé‡å¤å¯ç”¨ã€‚<br>æ”¹è¿›ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> balljump = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> weizhi = <span class="built_in">parseFloat</span>(getComputedStyle(ball).top);</span><br><span class="line">  <span class="keyword">if</span> (weizhi + ballheight &gt;= <span class="number">300</span> || weizhi &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    movement = -movement;</span><br><span class="line">  &#125;</span><br><span class="line">  ball.style.top = weizhi + movement + <span class="string">'px'</span>;</span><br><span class="line">  <span class="keyword">let</span> a = requestAnimationFrame(balljump);</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å°è¯•åœ¨ <code>balljump()</code> è°ƒç”¨æ—¶æ˜¾ç¤ºå‡½æ•°ç¼–å· ç»“æœä¸º</p>
<p><img src="/2018/12/15/start-and-stop/image-20201013184956322.png" alt="image-20201013184742806"></p>
<p>æ•… <code>balljump()</code> å†…éƒ¨å¤šæ¬¡è°ƒç”¨è¯¥å‡½æ•° æ— æ³•åœæ­¢<br><strong>2.å¤šæ¬¡ç‚¹å‡»å¼€å§‹ä¼šå¤šæ¬¡ç´¯åŠ   <code>requestAnimationFrame()</code>  è€Œå¯¼è‡´åŠ¨ç”»é€Ÿåº¦åŠ å¿«ã€‚</strong><br><strong>3.</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> balljump = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> weizhi = <span class="built_in">parseFloat</span>(getComputedStyle(ball).top);</span><br><span class="line">  <span class="keyword">if</span> (weizhi + ballheight &gt;= <span class="number">300</span> || weizhi &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    movement = -movement;</span><br><span class="line">  &#125;</span><br><span class="line">  ball.style.top = weizhi + movement + <span class="string">'px'</span>;</span><br><span class="line">  requestAnimationFrame(balljump);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> animationId = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> movement = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ball = <span class="built_in">document</span>.getElementById(<span class="string">'ball'</span>);</span><br><span class="line"><span class="keyword">const</span> ballheight = <span class="built_in">parseFloat</span>(getComputedStyle(ball).height);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (animationId === <span class="number">0</span>) &#123;</span><br><span class="line">    animationId = requestAnimationFrame(balljump);</span><br><span class="line">  &#125;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  cancelAnimationFrame(animationId);</span><br><span class="line">  animationId = <span class="number">0</span>;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å‡ºç°äº†æ‰“å¼€å³ä¸¤ä¸ªæŒ‰é’®éƒ½å¯ç”¨çš„çŠ¶æ€ã€‚åŸå› æœªçŸ¥ã€‚<br>(ä¼¼ä¹æ–‡ä»¶å‡ºäº†é—®é¢˜ã€‚æ³¨é‡Šæ‰æ‰€æœ‰çš„jsä»£ç ä¾ç„¶ä¸¤ä¸ªæŒ‰é’®éƒ½å¯ç”¨ï¼Œé‡å¼€æ–‡ä»¶åè§£å†³)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> balljump = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> weizhi = <span class="built_in">parseFloat</span>(getComputedStyle(ball).top);</span><br><span class="line">  <span class="keyword">if</span> (weizhi + ballheight &gt;= <span class="number">300</span> || weizhi &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    movement = -movement;</span><br><span class="line">  &#125;</span><br><span class="line">  ball.style.top = weizhi + movement + <span class="string">'px'</span>;</span><br><span class="line">  <span class="keyword">if</span> (tostart != <span class="number">0</span> || tostop != <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (tostart === <span class="number">1</span>) &#123;</span><br><span class="line">      tostart = <span class="number">0</span>;</span><br><span class="line">      animationId = requestAnimationFrame(balljump);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tostop === <span class="number">1</span>) &#123;</span><br><span class="line">      tostop = <span class="number">0</span>;</span><br><span class="line">      cancelAnimationFrame(balljump);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    requestAnimationFrame(balljump);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> tostart = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> tostop = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> animationId = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> movement = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ball = <span class="built_in">document</span>.getElementById(<span class="string">'ball'</span>);</span><br><span class="line"><span class="keyword">const</span> ballheight = <span class="built_in">parseFloat</span>(getComputedStyle(ball).height);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  tostart = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (animationId === <span class="number">0</span>) &#123;</span><br><span class="line">    animationId = requestAnimationFrame(balljump);</span><br><span class="line">  &#125;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  tostop = <span class="number">1</span>;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å°è¯•æ”¹å†™ï¼Œæ·»åŠ   <code>tostop</code>ã€<code>tostart</code>  å˜é‡æ¥åˆ¤æ–­ï¼Œå°†ç»§ç»­åŠ¨ç”»ä¸åœæ­¢åŠ¨ç”»åˆ¤æ–­æ”¾åœ¨äº† <code>balljump()</code> å‡½æ•°ä¸­ã€‚<br>ç»“æœï¼šå¯ä»¥åœæ­¢åŠ¨ç”»ï¼Œä½†æ— æ³•äºŒæ¬¡å¯åŠ¨åŠ¨ç”»ã€‚åŸå› æœªçŸ¥ã€‚<br>åœ¨ <code>cancelAnimationFrame()</code> å‡½æ•°ä¹‹åé‡ç½® <code>animationId</code> ä¸º <code>0</code> å³å¯è§£å†³ã€‚</p>
<p>æœ€ç»ˆä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> balljump = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> weizhi = <span class="built_in">parseFloat</span>(getComputedStyle(ball).top);</span><br><span class="line">  <span class="keyword">if</span> (weizhi + ballheight &gt;= <span class="number">300</span> || weizhi &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    movement = -movement;</span><br><span class="line">  &#125;</span><br><span class="line">  ball.style.top = weizhi + movement + <span class="string">'px'</span>;</span><br><span class="line">  <span class="keyword">if</span> (tostart != <span class="number">0</span> || tostop != <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (tostart === <span class="number">1</span>) &#123;</span><br><span class="line">      tostart = <span class="number">0</span>;</span><br><span class="line">      animationId = requestAnimationFrame(balljump);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tostop === <span class="number">1</span>) &#123;</span><br><span class="line">      tostop = <span class="number">0</span>;</span><br><span class="line">      cancelAnimationFrame(balljump);</span><br><span class="line">      animationId = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    requestAnimationFrame(balljump);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> tostart = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> tostop = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> animationId = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> movement = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ball = <span class="built_in">document</span>.getElementById(<span class="string">'ball'</span>);</span><br><span class="line"><span class="keyword">const</span> ballheight = <span class="built_in">parseFloat</span>(getComputedStyle(ball).height);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  tostart = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (animationId === <span class="number">0</span>) &#123;</span><br><span class="line">    animationId = requestAnimationFrame(balljump);</span><br><span class="line">  &#125;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'stop'</span>).addEventListener(<span class="string">'click'</span>, e =&gt; &#123;</span><br><span class="line">  tostop = <span class="number">1</span>;</span><br><span class="line">  e.target.disabled = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'start'</span>).disabled = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœåŸºæœ¬å®ç°ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>click blur æ‰§è¡Œé¡ºåºé—®é¢˜</title>
    <url>/2018/12/15/click-blur-%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>2018.12.15 15:27 <strong>ES6å­¦ä¹ ä¸­</strong></p>
<blockquote>
<p>Thejsway/chapter17 Coding time <code>&lt;Autocomplete&gt;</code></p>
</blockquote>
<p>åŸé¢˜ï¼š</p>
<h1 id="Autocomplete"><a href="#Autocomplete" class="headerlink" title="Autocomplete"></a>Autocomplete</h1><p>In this exercise, youâ€™ll have to assist the user in selecting a country. As he enters the country name in an input box, the page shows a list of corresponding countries. Clicking on a suggested country replaces the value in the input box.</p>
<blockquote>
<p>To keep things simple, only countries starting with a â€œAâ€ letter are taken into account.</p>
</blockquote>
<p>Here is the HTML code that creates the input box.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"country"</span>&gt;</span>Enter a country name<span class="tag">&lt;/<span class="name">label</span>&gt;</span>:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"country"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"suggestions"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The following CSS code improves the page presentation.</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Add spacing between each country suggestion */</span></span><br><span class="line"><span class="selector-class">.suggestion</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Change suggestion color when hovering it with the mouse */</span></span><br><span class="line"><span class="selector-class">.suggestion</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#adf</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Position the suggestion list just below the input box */</span></span><br><span class="line"><span class="selector-id">#suggestions</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">180px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">145px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Complete this code to implement country autocompletion.</p>
<p><a href="https://github.com/bpesquet/thejsway/blob/master/manuscript/images/chapter17-12.png" target="_blank" rel="noopener"><img src="/2018/12/15/click-blur-%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E9%97%AE%E9%A2%98/wps2.jpg" alt="img"></a></p>
<p>æˆ‘çš„jsä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> countryList = [</span><br><span class="line">  <span class="string">"Afghanistan"</span>,</span><br><span class="line">  <span class="string">"Albania"</span>,</span><br><span class="line">  <span class="string">"Algeria"</span>,</span><br><span class="line">  <span class="string">"Andorra"</span>,</span><br><span class="line">  <span class="string">"Angola"</span>,</span><br><span class="line">  <span class="string">"Anguilla"</span>,</span><br><span class="line">  <span class="string">"Antarctica"</span>,</span><br><span class="line">  <span class="string">"Antigua-and-Barbuda"</span>,</span><br><span class="line">  <span class="string">"Argentina"</span>,</span><br><span class="line">  <span class="string">"Armenia"</span>,</span><br><span class="line">  <span class="string">"Aruba"</span>,</span><br><span class="line">  <span class="string">"Australia"</span>,</span><br><span class="line">  <span class="string">"Autria"</span>,</span><br><span class="line">  <span class="string">"AzerbaÃ¯jan"</span></span><br><span class="line">];</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).style.display = <span class="string">"none"</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">const</span> some <span class="keyword">of</span> countryList)&#123;</span><br><span class="line">    <span class="keyword">const</span> newli = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    newli.textContent = some;</span><br><span class="line">    newli.style.listStyle = <span class="string">"none"</span>;</span><br><span class="line">    newli.style.display = <span class="string">"none"</span>;</span><br><span class="line">    newli.className = <span class="string">"suggestion"</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).appendChild(newli);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).addEventListener(<span class="string">"click"</span>, e =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> neirong = e.target.textContent;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"country"</span>).value = neirong;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).style.display = <span class="string">"none"</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"country"</span>).addEventListener(<span class="string">"input"</span>, e =&gt; &#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).style.display = <span class="string">"block"</span>;</span><br><span class="line">  <span class="keyword">const</span> input = e.target.value;</span><br><span class="line">  <span class="keyword">const</span> lists = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"li"</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">const</span> one <span class="keyword">of</span> lists)&#123;</span><br><span class="line">    <span class="keyword">if</span>(one.textContent.startsWith(input))&#123;</span><br><span class="line">      one.style.display = <span class="string">"block"</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      one.style.display = <span class="string">"none"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"country"</span>).addEventListener(<span class="string">"blur"</span>, e =&gt; &#123;</span><br><span class="line">  setTimeout(nonefun, <span class="string">"100"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nonefun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"suggestions"</span>).style.display = <span class="string">"none"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœåŸºæœ¬å®ç°ï¼Œå‘ç°click ä¸blurå­˜åœ¨é¡ºåºé—®é¢˜ï¼Œè‹¥ä¸è®¾ç½®å»¶æ—¶ï¼Œåˆ™clickæ•ˆæœæ— æ³•å®ç°ã€‚<br>Clickåæ‰§è¡Œè€Œæ— æ³•å®ç°æ•ˆæœçš„åŸå› æš‚æ—¶ä¸çŸ¥ã€‚<br>çœ‹åˆ°ä¸€ç¯‡ç›¸å…³æ–‡ç« : <a href="https://www.jb51.net/article/112086.htm" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<h2 id="2020å¹´çš„å›é¡¾"><a href="#2020å¹´çš„å›é¡¾" class="headerlink" title="2020å¹´çš„å›é¡¾"></a>2020å¹´çš„å›é¡¾</h2><p>ä»£ç å¥½åƒå·²ç»æ‰¾ä¸åˆ°äº†ï¼Œå°è¯•ç›´æ¥å¤ç°ä¸€ä¸‹ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ¼äº†ä»€ä¹ˆï¼Œç¬”è®°ä¸­çš„ä»£ç æ— æ³•å®ç°éœ€è¦çš„æ•ˆæœã€‚</p>
<p>ä»”ç»†çœ‹äº†çœ‹ï¼Œæ˜¯æˆ‘è¾“é”™äº†å…³é”®è¯â€¦â€¦</p>
<p>çœ‹äº†ä¸€ä¸‹å½“æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œå…¶å®æœ€è¿‘ä¹Ÿé‡åˆ°äº†ä¸€æ¬¡ã€‚</p>
<p>å½“æ—¶çš„æƒ…å†µæ˜¯ <code>A</code>  å…ƒç´ ç»‘å®šäº†ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦å¯¹ç‚¹å‡»åšå‡ºå“åº”ï¼Œè€Œ <code>B</code> å…ƒç´ (å¾€å¾€æ˜¯ä¸è¯¥å…ƒç´ ç›¸å…³è”çš„å…ƒç´ )åˆä¼šå“åº” <code>blur</code> äº‹ä»¶ï¼Œåœ¨å“åº” <code>blur</code> çš„æ—¶å€™ä¼šéšè— <code>A</code> å…ƒç´ ã€‚</p>
<p>è€Œç‚¹å‡» <code>A</code>å…ƒç´ å°±æ˜¯ <code>B</code> å…ƒç´ çš„ <code>blur</code> äº‹ä»¶ï¼Œäºæ˜¯åœ¨ <code>A</code> å…ƒç´ å“åº”ç‚¹å‡»ä¹‹å‰ï¼Œå°±å·²ç»è¢«éšè—äº†ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨è§¦å‘ <code>blur</code> çš„åœ°æ–¹å»¶è¿Ÿéšè—ï¼Œè®©å®ƒå¯ä»¥å…ˆå“åº” <code>click</code> äº‹ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>notes</tag>
      </tags>
  </entry>
</search>
